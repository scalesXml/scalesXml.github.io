<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\xml\equals\StreamAndDocComparisons.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scales.xml.equals

<span class="keyword">import</span> scales.xml.<span class="delimiter">{</span>QName, Elem, Attribs, Attributes, Attribute, XmlItem, Text, PI, CData, Comment, PullType, EndElem, Misc, Miscs, DocLike, impl<span class="delimiter">}</span>

<span class="keyword">import</span> impl.EqualsHelpers

<span class="keyword">import</span> <a href="XmlEquals.scala.html#11397" title="object scales.xml.equals.XmlEquals">XmlEquals</a>._

<span class="keyword">import</span> scalaz._
<span class="keyword">import</span> <span title="object scalaz.Scalaz">Scalaz</span>._

<span class="keyword">import</span> <a href="XmlDifference.scala.html#11298" title="object scales.xml.equals.SomeDifference">SomeDifference</a>.noCalculation

<span class="comment">/**
 * This interface allows for non xml matching, for example a forward Iterator from a Text child.  This would be impossible to model as an xml document, but could be useful for comparison.
 *
 * This trait boxes a given conversion, stopping accidental serialize calls on the resulting streams.
 */</span> 
<span class="keyword">class</span> <a title="class StreamComparable[T] extends java.lang.Object with ScalaObject" id="11300">StreamComparable</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="14500">T</a> &lt;% Iterator<span class="delimiter">[</span>PullType<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span> <span class="keyword">val</span> <a title="T" id="97895">t</a> : <a href="#14500" title="T">T</a> <span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; Iterator[scales.xml.package.PullType]" id="46926">underlyingIterator</a> : <span title="Iterator[scales.xml.package.PullType]">Iterator</span><span class="delimiter">[</span>PullType<span class="delimiter">]</span> = <a href="#46924" title="(v1: T)Iterator[scales.xml.package.PullType]">t</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * Compares based on streams.  Requires comparisons for XmlItem, Elem and a QName Equal instance for testing EndElems.
 */</span> 
<span class="keyword">class</span> <a title="class StreamComparison extends java.lang.Object with scales.xml.equals.XmlComparison[scales.xml.equals.StreamComparable[_]] with ScalaObject" id="11349">StreamComparison</a><a href="#11349" title="ScalaObject" class="delimiter">(</a> <a title="Iterator[scales.xml.package.PullType] =&gt; Iterator[scales.xml.package.PullType]" id="97955">filter</a> : Iterator<span class="delimiter">[</span>PullType<span class="delimiter">]</span> =&gt; Iterator<span class="delimiter">[</span>PullType<span class="delimiter">]</span> = <a href="#97961" title="(x: Iterator[scales.xml.package.PullType])Iterator[scales.xml.package.PullType]">identity</a><span class="delimiter">)</span><span class="delimiter">(</span> <span class="keyword">implicit</span> <a title="scales.xml.equals.XmlComparison[scales.xml.XmlItem]" id="97950">ic</a> : <a href="XmlComparisons.scala.html#11366" title="scales.xml.equals.XmlComparison[scales.xml.XmlItem]">XmlComparison</a><span class="delimiter">[</span>XmlItem<span class="delimiter">]</span>, <a title="scales.xml.equals.XmlComparison[scales.xml.Elem]" id="97951">ec</a> : <a href="XmlComparisons.scala.html#11366" title="scales.xml.equals.XmlComparison[scales.xml.Elem]">XmlComparison</a><span class="delimiter">[</span>Elem<span class="delimiter">]</span>, <a title="scalaz.Equal[scales.xml.QName]" id="97952">endElemQNameEqual</a> : <span title="scalaz.Equal[scales.xml.QName]">Equal</span><span class="delimiter">[</span>QName<span class="delimiter">]</span>, <a title="Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean]" id="97953">qnameTokenComparison</a> : <span title="Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>ComparisonContext, String, String<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="XmlComparisons.scala.html#11366" title="scales.xml.equals.XmlComparison[scales.xml.equals.StreamComparable[_]]">XmlComparison</a><span class="delimiter">[</span>StreamComparable<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(calculate: Boolean, ocontext: scales.xml.equals.ComparisonContext, lefti: scales.xml.equals.StreamComparable[_], righti: scales.xml.equals.StreamComparable[_])Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]" id="97939">compare</a><span class="delimiter">(</span> <a title="Boolean" id="97963">calculate</a> : <span title="Boolean">Boolean</span>, <a title="scales.xml.equals.ComparisonContext" id="97964">ocontext</a> : <a href="ComparisonContext.scala.html#11018" title="scales.xml.equals.ComparisonContext">ComparisonContext</a> , <a title="scales.xml.equals.StreamComparable[_]" id="97965">lefti</a> : <a href="#11300" title="scales.xml.equals.StreamComparable[_]">StreamComparable</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="scales.xml.equals.StreamComparable[_]" id="97966">righti</a> : <a href="#11300" title="scales.xml.equals.StreamComparable[_]">StreamComparable</a><span class="delimiter">[</span>_<span class="delimiter">]</span> <span class="delimiter">)</span> : <span title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>XmlDifference<span class="delimiter">[</span>_<span class="delimiter">]</span>, ComparisonContext<span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>

    <span class="keyword">var</span> <a title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]" id="97982">res</a> : <span title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>XmlDifference<span class="delimiter">[</span>_<span class="delimiter">]</span>, ComparisonContext<span class="delimiter">)</span><span class="delimiter">]</span> = <span title="object None">None</span>
    <span class="keyword">val</span> <a title="zip extends java.lang.Object with Iterator[(scales.xml.package.PullType, scales.xml.package.PullType)]" id="97983">joined</a> = <a href="#97955" title="(v1: Iterator[scales.xml.package.PullType])Iterator[scales.xml.package.PullType]">filter</a><span class="delimiter">(</span><a href="#97965" title="scales.xml.equals.StreamComparable[_]">lefti</a>.<a href="#46926" title="=&gt; Iterator[scales.xml.package.PullType]">underlyingIterator</a><span class="delimiter">)</span>.<span title="(that: Iterator[scales.xml.package.PullType])java.lang.Object with Iterator[(scales.xml.package.PullType, scales.xml.package.PullType)]">zip</span><span class="delimiter">(</span><a href="#97955" title="(v1: Iterator[scales.xml.package.PullType])Iterator[scales.xml.package.PullType]">filter</a><span class="delimiter">(</span><a href="#97966" title="scales.xml.equals.StreamComparable[_]">righti</a>.<a href="#46926" title="=&gt; Iterator[scales.xml.package.PullType]">underlyingIterator</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">var</span> <a title="scales.xml.equals.ComparisonContext" id="97984">context</a> = <a href="#97964" title="scales.xml.equals.ComparisonContext">ocontext</a>
    <span class="keyword">var</span> <a title="Int" id="97985">streamPosition</a> = <span title="Int(0)" class="int">0</span>

    <span title="Unit" class="keyword">while</span><span class="delimiter">(</span> <a href="#97982" title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">res</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#97983" title="zip extends java.lang.Object with Iterator[(scales.xml.package.PullType, scales.xml.package.PullType)]">joined</a>.<span title="=&gt; Boolean">hasNext</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#97985" title="Int">streamPosition</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>

      <a href="#97983" title="zip extends java.lang.Object with Iterator[(scales.xml.package.PullType, scales.xml.package.PullType)]">joined</a>.<span title="()(scales.xml.package.PullType, scales.xml.package.PullType)">next</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
	<span class="keyword">case</span> <span title="Unit" class="delimiter">(</span>Left<span class="delimiter">(</span><a title="scales.xml.Elem" id="98238">x</a> : <a href="../XmlTypes.scala.html#9537" title="scales.xml.Elem">Elem</a><span class="delimiter">)</span>, Left<span class="delimiter">(</span><a title="scales.xml.Elem" id="98240">y</a> : <a href="../XmlTypes.scala.html#9537" title="scales.xml.Elem">Elem</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
	  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#97963" title="Boolean">calculate</a> <span title="(x: Boolean)Boolean">||</span> <a href="#97953" title="Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean]">qnameTokenComparison</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// also needed for qname handling</span>
	    <a href="#97984" title="scales.xml.equals.ComparisonContext">context</a> = <a href="#97984" title="scales.xml.equals.ComparisonContext">context</a>.<a href="ComparisonContext.scala.html#96301" title="(leftElem: scales.xml.Elem, rightElem: scales.xml.Elem)scales.xml.equals.ComparisonContext">startElems</a><span class="delimiter">(</span><a href="#98238" title="scales.xml.Elem">x</a>, <a href="#98240" title="scales.xml.Elem">y</a><span class="delimiter">)</span>
	  <span class="delimiter">}</span>
	  <a href="#97982" title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">res</a> = <a href="#97951" title="scales.xml.equals.XmlComparison[scales.xml.Elem]">ec</a>.<a href="XmlComparisons.scala.html#46196" title="(calculate: Boolean, context: scales.xml.equals.ComparisonContext, left: scales.xml.Elem, right: scales.xml.Elem)Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">compare</a><span class="delimiter">(</span><a href="#97963" title="Boolean">calculate</a>, <a href="#97984" title="scales.xml.equals.ComparisonContext">context</a>, <a href="#98238" title="scales.xml.Elem">x</a>, <a href="#98240" title="scales.xml.Elem">y</a><span class="delimiter">)</span>
	<span class="keyword">case</span> <span title="Unit" class="delimiter">(</span>Left<span class="delimiter">(</span><a title="scales.xml.XmlItem" id="98250">x</a> : <a href="../XmlTypes.scala.html#9699" title="scales.xml.XmlItem">XmlItem</a><span class="delimiter">)</span>, Left<span class="delimiter">(</span><a title="scales.xml.XmlItem" id="98252">y</a> : <a href="../XmlTypes.scala.html#9699" title="scales.xml.XmlItem">XmlItem</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
	  <a href="#97982" title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">res</a> = <a href="#97950" title="scales.xml.equals.XmlComparison[scales.xml.XmlItem]">ic</a>.<a href="XmlComparisons.scala.html#46196" title="(calculate: Boolean, context: scales.xml.equals.ComparisonContext, left: scales.xml.XmlItem, right: scales.xml.XmlItem)Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">compare</a><span class="delimiter">(</span><a href="#97963" title="Boolean">calculate</a>, <a href="#97984" title="scales.xml.equals.ComparisonContext">context</a>, <a href="#98250" title="scales.xml.XmlItem">x</a>, <a href="#98252" title="scales.xml.XmlItem">y</a><span class="delimiter">)</span>
	<span class="keyword">case</span> <span title="Unit" class="delimiter">(</span>Right<span class="delimiter">(</span><a title="scales.xml.EndElem" id="98262">x</a> : <a href="../XmlTypes.scala.html#9555" title="scales.xml.EndElem">EndElem</a><span class="delimiter">)</span>, Right<span class="delimiter">(</span><a title="scales.xml.EndElem" id="98264">y</a>  : <a href="../XmlTypes.scala.html#9555" title="scales.xml.EndElem">EndElem</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
	  <a href="#97982" title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">res</a> = 
	    <span title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#97952" title="scalaz.Equal[scales.xml.QName]">endElemQNameEqual</a>.<span title="(a1: scales.xml.QName, a2: scales.xml.QName)Boolean">equal</span><span class="delimiter">(</span><a href="#98262" title="scales.xml.EndElem">x</a>.<a href="../XmlTypes.scala.html#36374" title="=&gt; scales.xml.QName">name</a>, <a href="#98264" title="scales.xml.EndElem">y</a>.<a href="../XmlTypes.scala.html#36374" title="=&gt; scales.xml.QName">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
	      <span title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#97963" title="Boolean">calculate</a><span class="delimiter">)</span>
		<span title="(x: (scales.xml.equals.EndElemNameDifference, scales.xml.equals.ComparisonContext))Some[(scales.xml.equals.EndElemNameDifference, scales.xml.equals.ComparisonContext)]">Some</span><span class="delimiter">(</span><span title="(_1: scales.xml.equals.EndElemNameDifference, _2: scales.xml.equals.ComparisonContext)(scales.xml.equals.EndElemNameDifference, scales.xml.equals.ComparisonContext)" class="delimiter">(</span><a href="XmlDifference.scala.html#98275" title="(left: scales.xml.EndElem, right: scales.xml.EndElem)scales.xml.equals.EndElemNameDifference">EndElemNameDifference</a><span class="delimiter">(</span><a href="#98262" title="scales.xml.EndElem">x</a>, <a href="#98264" title="scales.xml.EndElem">y</a><span class="delimiter">)</span>, <a href="#97984" title="scales.xml.equals.ComparisonContext">context</a><span class="delimiter">)</span><span class="delimiter">)</span>
	      <span class="keyword">else</span> 
		<a href="XmlDifference.scala.html#97460" title="=&gt; Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">noCalculation</a>
	    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="object None">None</span>
	  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#97963" title="Boolean">calculate</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// also needed for qname handling</span>
	    <a href="#97984" title="scales.xml.equals.ComparisonContext">context</a> = <a href="#97984" title="scales.xml.equals.ComparisonContext">context</a>.<a href="ComparisonContext.scala.html#96303" title="=&gt; scales.xml.equals.ComparisonContext">endElem</a>
	  <span class="delimiter">}</span>
	<span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="scales.xml.package.PullType" id="98304">left</a>, <a title="scales.xml.package.PullType" id="98305">right</a><span class="delimiter">)</span> =&gt; 
	  <a href="#97982" title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">res</a> = 
	    <span title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#97963" title="Boolean">calculate</a> <span title="(x: Boolean)Boolean">||</span> <a href="#97953" title="Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean]">qnameTokenComparison</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span>
	      <span title="(x: (scales.xml.equals.DifferentTypes, scales.xml.equals.ComparisonContext))Some[(scales.xml.equals.DifferentTypes, scales.xml.equals.ComparisonContext)]">Some</span><span class="delimiter">(</span><span title="(_1: scales.xml.equals.DifferentTypes, _2: scales.xml.equals.ComparisonContext)(scales.xml.equals.DifferentTypes, scales.xml.equals.ComparisonContext)" class="delimiter">(</span><a href="XmlDifference.scala.html#98314" title="(left: scales.xml.package.PullType, right: scales.xml.package.PullType)scales.xml.equals.DifferentTypes">DifferentTypes</a><span class="delimiter">(</span><a href="#98304" title="scales.xml.package.PullType">left</a>, <a href="#98305" title="scales.xml.package.PullType">right</a><span class="delimiter">)</span>, <a href="#97984" title="scales.xml.equals.ComparisonContext">context</a><span class="delimiter">)</span><span class="delimiter">)</span> 
	    <span class="keyword">else</span>
	      <a href="XmlDifference.scala.html#97460" title="=&gt; Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">noCalculation</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#97963" title="Boolean">calculate</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#97982" title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">res</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">// unpack, repack</span>
      <span class="keyword">val</span> Some<a href="#98342" title="(scales.xml.equals.XmlDifference[_0], scales.xml.equals.ComparisonContext)" class="delimiter">(</a><span class="delimiter">(</span><a href="#98341" title="scales.xml.equals.XmlDifference[_]" id="98342">diff</a>, <a href="#98341" title="scales.xml.equals.ComparisonContext" id="98343">rcontext</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#97982" title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">res</a>
      <a href="#97984" title="scales.xml.equals.ComparisonContext">context</a> = <a href="#98343" title="scales.xml.equals.ComparisonContext">rcontext</a>.<a href="ComparisonContext.scala.html#96294" title="(newStreamPosition: Int)scales.xml.equals.ComparisonContext">withPosition</a><span class="delimiter">(</span><a href="#97985" title="Int">streamPosition</a><span class="delimiter">)</span>
      <a href="#97982" title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">res</a> = <span title="(x: (scales.xml.equals.XmlDifference[_0], scales.xml.equals.ComparisonContext))Some[(scales.xml.equals.XmlDifference[_0], scales.xml.equals.ComparisonContext)]">Some</span><span class="delimiter">(</span><span title="(_1: scales.xml.equals.XmlDifference[_0], _2: scales.xml.equals.ComparisonContext)(scales.xml.equals.XmlDifference[_0], scales.xml.equals.ComparisonContext)" class="delimiter">(</span><a href="#98342" title="scales.xml.equals.XmlDifference[_]">diff</a>, <a href="#97984" title="scales.xml.equals.ComparisonContext">context</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="#97982" title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">res</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Wraps a given T with a conversion from T to an xml stream
 */</span> 
<span class="keyword">class</span> <a title="class StreamComparisonWrapper[T] extends java.lang.Object with scales.xml.equals.XmlComparison[T] with ScalaObject" id="11351">StreamComparisonWrapper</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="14501">T</a> &lt;% StreamComparable<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span> <span class="keyword">val</span> <a title="scales.xml.equals.StreamComparison" id="98396">str</a> : <a href="#11349" title="scales.xml.equals.StreamComparison">StreamComparison</a> <span class="delimiter">)</span> <span class="keyword">extends</span> <a href="XmlComparisons.scala.html#11366" title="scales.xml.equals.XmlComparison[T]">XmlComparison</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(calculate: Boolean, context: scales.xml.equals.ComparisonContext, lt: T, rt: T)Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]" id="98392">compare</a><span class="delimiter">(</span> <a title="Boolean" id="98398">calculate</a> : <span title="Boolean">Boolean</span>, <a title="scales.xml.equals.ComparisonContext" id="98399">context</a> : <a href="ComparisonContext.scala.html#11018" title="scales.xml.equals.ComparisonContext">ComparisonContext</a>, <a title="T" id="98400">lt</a> : <a href="#14501" title="T">T</a>, <a title="T" id="98401">rt</a> : <a href="#14501" title="T">T</a><span class="delimiter">)</span> : <span title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>XmlDifference<span class="delimiter">[</span>_<span class="delimiter">]</span>, ComparisonContext<span class="delimiter">)</span><span class="delimiter">]</span> = 
    <a href="#98396" title="=&gt; scales.xml.equals.StreamComparison">str</a>.<a href="#97939" title="(calculate: Boolean, ocontext: scales.xml.equals.ComparisonContext, lefti: scales.xml.equals.StreamComparable[_], righti: scales.xml.equals.StreamComparable[_])Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">compare</a><span class="delimiter">(</span><a href="#98398" title="Boolean">calculate</a>, <a href="#98399" title="scales.xml.equals.ComparisonContext">context</a>, <a href="#98390" title="(v1: T)scales.xml.equals.StreamComparable[T]">lt</a>, <a href="#98390" title="(v1: T)scales.xml.equals.StreamComparable[T]">rt</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait StreamEquals extends java.lang.Object" id="11354">StreamEquals</a> <span title="java.lang.Object" class="delimiter">{</span>
  
  <span class="comment">/**
   * Conversions
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[T](implicit tv: T =&gt; scales.xml.equals.StreamComparable[T], implicit ic: scales.xml.equals.XmlComparison[scales.xml.XmlItem], implicit ec: scales.xml.equals.XmlComparison[scales.xml.Elem], implicit qe: scalaz.Equal[scales.xml.QName], implicit qnameTokenComparison: Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean])scales.xml.equals.XmlComparison[T]" id="43034">toDefaultStreamComparison</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="43036">T</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="T =&gt; scales.xml.equals.StreamComparable[T]" id="46190">tv</a> : T =&gt; StreamComparable<span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="scales.xml.equals.XmlComparison[scales.xml.XmlItem]" id="46191">ic</a> : <a href="XmlComparisons.scala.html#11366" title="scales.xml.equals.XmlComparison[scales.xml.XmlItem]">XmlComparison</a><span class="delimiter">[</span>XmlItem<span class="delimiter">]</span>, <a title="scales.xml.equals.XmlComparison[scales.xml.Elem]" id="46192">ec</a> : <a href="XmlComparisons.scala.html#11366" title="scales.xml.equals.XmlComparison[scales.xml.Elem]">XmlComparison</a><span class="delimiter">[</span>Elem<span class="delimiter">]</span>, <a title="scalaz.Equal[scales.xml.QName]" id="46193">qe</a> : <span title="scalaz.Equal[scales.xml.QName]">Equal</span><span class="delimiter">[</span>QName<span class="delimiter">]</span>, <a title="Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean]" id="46194">qnameTokenComparison</a> : <span title="Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>ComparisonContext, String, String<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="XmlComparisons.scala.html#11366" title="scales.xml.equals.XmlComparison[T]">XmlComparison</a><span class="delimiter">[</span>T<span class="delimiter">]</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait ExactStreamEquals extends java.lang.Object with scales.xml.equals.StreamEquals with ScalaObject" id="11207">ExactStreamEquals</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11354" title="scales.xml.equals.StreamEquals">StreamEquals</a> <span class="delimiter">{</span>
  <span class="comment">/**
   * Conversions
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[T](implicit tv: T =&gt; scales.xml.equals.StreamComparable[T], implicit ic: scales.xml.equals.XmlComparison[scales.xml.XmlItem], implicit ec: scales.xml.equals.XmlComparison[scales.xml.Elem], implicit qe: scalaz.Equal[scales.xml.QName], implicit qnameTokenComparison: Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean])scales.xml.equals.XmlComparison[T]" id="98786">toDefaultStreamComparison</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="98788">T</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="T =&gt; scales.xml.equals.StreamComparable[T]" id="98791">tv</a> : T =&gt; StreamComparable<span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="scales.xml.equals.XmlComparison[scales.xml.XmlItem]" id="98792">ic</a> : <a href="XmlComparisons.scala.html#11366" title="scales.xml.equals.XmlComparison[scales.xml.XmlItem]">XmlComparison</a><span class="delimiter">[</span>XmlItem<span class="delimiter">]</span>, <a title="scales.xml.equals.XmlComparison[scales.xml.Elem]" id="98793">ec</a> : <a href="XmlComparisons.scala.html#11366" title="scales.xml.equals.XmlComparison[scales.xml.Elem]">XmlComparison</a><span class="delimiter">[</span>Elem<span class="delimiter">]</span>, <a title="scalaz.Equal[scales.xml.QName]" id="98794">qe</a> : <span title="scalaz.Equal[scales.xml.QName]">Equal</span><span class="delimiter">[</span>QName<span class="delimiter">]</span>, <a title="Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean]" id="98795">qnameTokenComparison</a> : <span title="Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>ComparisonContext, String, String<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="XmlComparisons.scala.html#11366" title="scales.xml.equals.XmlComparison[T]">XmlComparison</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#98791" title="scales.xml.equals.StreamComparisonWrapper[T]" class="keyword">new</a> <a href="#11351" title="scales.xml.equals.StreamComparisonWrapper[T]">StreamComparisonWrapper</a><span class="delimiter">(</span><a href="#97955" title="scales.xml.equals.StreamComparison" class="keyword">new</a> <a href="#11349" title="scales.xml.equals.StreamComparison">StreamComparison</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">(</span> <a href="#98792" title="scales.xml.equals.XmlComparison[scales.xml.XmlItem]">ic</a>, <a href="#98793" title="scales.xml.equals.XmlComparison[scales.xml.Elem]">ec</a>, <a href="#98794" title="scalaz.Equal[scales.xml.QName]">qe</a>, <a href="#98795" title="Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean]">qnameTokenComparison</a><span class="delimiter">)</span><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object scales.xml.equals.ExactStreamEquals" id="11208">ExactStreamEquals</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11207" title="scales.xml.equals.ExactStreamEquals">ExactStreamEquals</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="XmlComparisons.scala.html#11292" title="object scales.xml.equals.QNameEquals">QNameEquals</a>._
  <span class="keyword">import</span> <a href="XmlComparisons.scala.html#10962" title="object scales.xml.equals.AttributeEquals">AttributeEquals</a>._
  <span class="keyword">import</span> <a href="XmlComparisons.scala.html#10992" title="object scales.xml.equals.AttributesEquals">AttributesEquals</a>._

  <span class="keyword">def</span> <a title="(implicit qnameTokenComparison: Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean])scales.xml.equals.XmlComparison[scales.xml.equals.StreamComparable[_]]" id="98856">defaultStreamComparison</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean]" id="98861">qnameTokenComparison</a> : <span title="Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>ComparisonContext, String, String<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="XmlComparisons.scala.html#11366" title="scales.xml.equals.XmlComparison[scales.xml.equals.StreamComparable[_]]">XmlComparison</a><span class="delimiter">[</span>StreamComparable<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#97955" title="scales.xml.equals.StreamComparison" class="keyword">new</a> <a href="#11349" title="scales.xml.equals.StreamComparison">StreamComparison</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">(</span> <a href="XmlComparisons.scala.html#11232" title="object scales.xml.equals.ItemEquals">ItemEquals</a>.<a href="XmlComparisons.scala.html#43027" title="implicit scales.xml.equals.DefaultItemEquals.defaultXmlItemComparison : (implicit qnameTokenComparison: Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean])scales.xml.equals.XmlComparison[scales.xml.XmlItem]">defaultXmlItemComparison</a>, <a href="ElemComparison.scala.html#11175" title="object scales.xml.equals.ElemEquals">ElemEquals</a>.<a href="ElemComparison.scala.html#43033" title="implicit scales.xml.equals.DefaultElemEquals.defaultElemComparison : (implicit ae: scales.xml.equals.XmlComparison[scales.xml.package.Attributes], implicit qe: scalaz.Equal[scales.xml.QName])scales.xml.equals.XmlComparison[scales.xml.Elem]">defaultElemComparison</a><span class="delimiter">(</span><a href="XmlComparisons.scala.html#10992" title="object scales.xml.equals.AttributesEquals">AttributesEquals</a>.<a href="XmlComparisons.scala.html#43031" title="implicit scales.xml.equals.DefaultAttributesEquals.defaultAttributesComparison : (implicit ac: scales.xml.equals.XmlComparison[scales.xml.Attribute])scales.xml.equals.XmlComparison[scales.xml.package.Attributes]">defaultAttributesComparison</a><span class="delimiter">(</span><a href="XmlComparisons.scala.html#10962" title="object scales.xml.equals.AttributeEquals">AttributeEquals</a>.<a href="XmlComparisons.scala.html#43029" title="implicit scales.xml.equals.DefaultAttributeEquals.defaultAttributeComparison : (implicit qe: scalaz.Equal[scales.xml.QName], implicit qnameTokenComparison: Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean])scales.xml.equals.XmlComparison[scales.xml.Attribute]">defaultAttributeComparison</a><span class="delimiter">(</span><a href="../impl/EqualsHelpers.scala.html#9978" title="object scales.xml.impl.EqualsHelpers">EqualsHelpers</a>.<a href="XmlComparisons.scala.html#42859" title="=&gt; scalaz.Equal[scales.xml.QName]">qnameEqual</a>, <a href="#98861" title="Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean]">qnameTokenComparison</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../impl/EqualsHelpers.scala.html#9978" title="object scales.xml.impl.EqualsHelpers">EqualsHelpers</a>.<a href="XmlComparisons.scala.html#42859" title="=&gt; scalaz.Equal[scales.xml.QName]">qnameEqual</a><span class="delimiter">)</span>, <a href="../impl/EqualsHelpers.scala.html#9978" title="object scales.xml.impl.EqualsHelpers">EqualsHelpers</a>.<a href="XmlComparisons.scala.html#42859" title="=&gt; scalaz.Equal[scales.xml.QName]">qnameEqual</a>, <a href="#98861" title="Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean]">qnameTokenComparison</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * Streams compared after transforming via joinTextAndCData
 */</span> 
<span class="keyword">trait</span> <a title="trait DefaultStreamEquals extends java.lang.Object with scales.xml.equals.StreamEquals with ScalaObject" id="11072">DefaultStreamEquals</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11354" title="scales.xml.equals.StreamEquals">StreamEquals</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="LogicalComparisons.scala.html#11247" title="object scales.xml.equals.LogicalFilters">LogicalFilters</a>.joinTextAndCData

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[T](implicit tv: T =&gt; scales.xml.equals.StreamComparable[T], implicit ic: scales.xml.equals.XmlComparison[scales.xml.XmlItem], implicit ec: scales.xml.equals.XmlComparison[scales.xml.Elem], implicit qe: scalaz.Equal[scales.xml.QName], implicit qnameTokenComparison: Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean])scales.xml.equals.XmlComparison[T]" id="43039">toDefaultStreamComparison</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="43041">T</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="T =&gt; scales.xml.equals.StreamComparable[T]" id="46405">tv</a> : T =&gt; StreamComparable<span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="scales.xml.equals.XmlComparison[scales.xml.XmlItem]" id="46406">ic</a> : <a href="XmlComparisons.scala.html#11366" title="scales.xml.equals.XmlComparison[scales.xml.XmlItem]">XmlComparison</a><span class="delimiter">[</span>XmlItem<span class="delimiter">]</span>, <a title="scales.xml.equals.XmlComparison[scales.xml.Elem]" id="46407">ec</a> : <a href="XmlComparisons.scala.html#11366" title="scales.xml.equals.XmlComparison[scales.xml.Elem]">XmlComparison</a><span class="delimiter">[</span>Elem<span class="delimiter">]</span>, <a title="scalaz.Equal[scales.xml.QName]" id="46408">qe</a> : <span title="scalaz.Equal[scales.xml.QName]">Equal</span><span class="delimiter">[</span>QName<span class="delimiter">]</span>, <a title="Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean]" id="46409">qnameTokenComparison</a> : <span title="Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>ComparisonContext, String, String<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="XmlComparisons.scala.html#11366" title="scales.xml.equals.XmlComparison[T]">XmlComparison</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#46405" title="scales.xml.equals.StreamComparisonWrapper[T]" class="keyword">new</a> <a href="#11351" title="scales.xml.equals.StreamComparisonWrapper[T]">StreamComparisonWrapper</a><span class="delimiter">(</span> <span title="scales.xml.equals.StreamComparison" class="keyword">new</span> <a href="#11349" title="scales.xml.equals.StreamComparison">StreamComparison</a><span class="delimiter">(</span><a href="LogicalComparisons.scala.html#96355" title="(it: Iterator[scales.xml.package.PullType])Iterator[scales.xml.package.PullType]">joinTextAndCData</a> _<span class="delimiter">)</span><span class="delimiter">(</span> <a href="#46406" title="scales.xml.equals.XmlComparison[scales.xml.XmlItem]">ic</a>, <a href="#46407" title="scales.xml.equals.XmlComparison[scales.xml.Elem]">ec</a>, <a href="#46408" title="scalaz.Equal[scales.xml.QName]">qe</a>, <a href="#46409" title="Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean]">qnameTokenComparison</a><span class="delimiter">)</span> <span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object scales.xml.equals.DefaultStreamEquals" id="11073">DefaultStreamEquals</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11072" title="scales.xml.equals.DefaultStreamEquals">DefaultStreamEquals</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="LogicalComparisons.scala.html#11247" title="object scales.xml.equals.LogicalFilters">LogicalFilters</a>.joinTextAndCData
  <span class="keyword">import</span> <a href="XmlComparisons.scala.html#11292" title="object scales.xml.equals.QNameEquals">QNameEquals</a>._
  <span class="keyword">import</span> <a href="XmlComparisons.scala.html#10962" title="object scales.xml.equals.AttributeEquals">AttributeEquals</a>._
  <span class="keyword">import</span> <a href="XmlComparisons.scala.html#10992" title="object scales.xml.equals.AttributesEquals">AttributesEquals</a>._

  <span class="keyword">def</span> <a title="(implicit qnameTokenComparison: Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean])scales.xml.equals.XmlComparison[scales.xml.equals.StreamComparable[_]]" id="98925">defaultStreamComparison</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean]" id="98927">qnameTokenComparison</a> : <span title="Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>ComparisonContext, String, String<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="XmlComparisons.scala.html#11366" title="scales.xml.equals.XmlComparison[scales.xml.equals.StreamComparable[_]]">XmlComparison</a><span class="delimiter">[</span>StreamComparable<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="scales.xml.equals.StreamComparison" class="keyword">new</span> <a href="#11349" title="scales.xml.equals.StreamComparison">StreamComparison</a><span class="delimiter">(</span><a href="LogicalComparisons.scala.html#96355" title="(it: Iterator[scales.xml.package.PullType])Iterator[scales.xml.package.PullType]">joinTextAndCData</a> _<span class="delimiter">)</span><span class="delimiter">(</span> <a href="XmlComparisons.scala.html#11232" title="object scales.xml.equals.ItemEquals">ItemEquals</a>.<a href="XmlComparisons.scala.html#43027" title="implicit scales.xml.equals.DefaultItemEquals.defaultXmlItemComparison : (implicit qnameTokenComparison: Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean])scales.xml.equals.XmlComparison[scales.xml.XmlItem]">defaultXmlItemComparison</a>, <a href="ElemComparison.scala.html#11175" title="object scales.xml.equals.ElemEquals">ElemEquals</a>.<a href="ElemComparison.scala.html#43033" title="implicit scales.xml.equals.DefaultElemEquals.defaultElemComparison : (implicit ae: scales.xml.equals.XmlComparison[scales.xml.package.Attributes], implicit qe: scalaz.Equal[scales.xml.QName])scales.xml.equals.XmlComparison[scales.xml.Elem]">defaultElemComparison</a><span class="delimiter">(</span><a href="XmlComparisons.scala.html#10992" title="object scales.xml.equals.AttributesEquals">AttributesEquals</a>.<a href="XmlComparisons.scala.html#43031" title="implicit scales.xml.equals.DefaultAttributesEquals.defaultAttributesComparison : (implicit ac: scales.xml.equals.XmlComparison[scales.xml.Attribute])scales.xml.equals.XmlComparison[scales.xml.package.Attributes]">defaultAttributesComparison</a><span class="delimiter">(</span><a href="XmlComparisons.scala.html#10962" title="object scales.xml.equals.AttributeEquals">AttributeEquals</a>.<a href="XmlComparisons.scala.html#43029" title="implicit scales.xml.equals.DefaultAttributeEquals.defaultAttributeComparison : (implicit qe: scalaz.Equal[scales.xml.QName], implicit qnameTokenComparison: Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean])scales.xml.equals.XmlComparison[scales.xml.Attribute]">defaultAttributeComparison</a><span class="delimiter">(</span><a href="../impl/EqualsHelpers.scala.html#9978" title="object scales.xml.impl.EqualsHelpers">EqualsHelpers</a>.<a href="XmlComparisons.scala.html#42859" title="=&gt; scalaz.Equal[scales.xml.QName]">qnameEqual</a>, <a href="#98927" title="Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean]">qnameTokenComparison</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../impl/EqualsHelpers.scala.html#9978" title="object scales.xml.impl.EqualsHelpers">EqualsHelpers</a>.<a href="XmlComparisons.scala.html#42859" title="=&gt; scalaz.Equal[scales.xml.QName]">qnameEqual</a><span class="delimiter">)</span>, <a href="../impl/EqualsHelpers.scala.html#9978" title="object scales.xml.impl.EqualsHelpers">EqualsHelpers</a>.<a href="XmlComparisons.scala.html#42859" title="=&gt; scalaz.Equal[scales.xml.QName]">qnameEqual</a>, <a href="#98927" title="Option[(scales.xml.equals.ComparisonContext, String, String) =&gt; Boolean]">qnameTokenComparison</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Wrap the creation of doclike things
 */</span> 
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class DocLikeWrapper[T] extends java.lang.Object with ScalaObject" id="11132">DocLikeWrapper</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="14502">T</a><span class="delimiter">]</span><a href="#11132" title="ScalaObject" class="delimiter">(</a> <span class="keyword">val</span> <a title="T =&gt; scales.xml.DocLike" id="98947">tToDoc</a> : T =&gt; DocLike <span class="delimiter">)</span><span class="delimiter">{</span>
  
  <span class="comment">/**
   * Compare the bodies, this hiding of the comparison is a bit more verbose at the definition site, but helps implicit lookup immensely
   */</span> 
  <span class="keyword">def</span> <a title="(calculate: Boolean, context: scales.xml.equals.ComparisonContext, leftBody: T, rightBody: T)Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]" id="46875">compare</a><span class="delimiter">(</span> <a title="Boolean" id="98948">calculate</a> : <span title="Boolean">Boolean</span>, <a title="scales.xml.equals.ComparisonContext" id="98949">context</a> : <a href="ComparisonContext.scala.html#11018" title="scales.xml.equals.ComparisonContext">ComparisonContext</a>, <a title="T" id="98950">leftBody</a> : <a href="#14502" title="T">T</a>, <a title="T" id="98951">rightBody</a> : <a href="#14502" title="T">T</a> <span class="delimiter">)</span> : <span title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>XmlDifference<span class="delimiter">[</span>_<span class="delimiter">]</span>, ComparisonContext<span class="delimiter">)</span><span class="delimiter">]</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Base wrapper for most usecases, extra type is here to keep lookup working
 */</span> 
<span class="keyword">class</span> <a title="class DocLikeWrapperBase[T, B] extends scales.xml.equals.DocLikeWrapper[T] with ScalaObject" id="11135">DocLikeWrapperBase</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="14503">T</a>, <a title="&gt;: Nothing &lt;: Any" id="14504">B</a><span class="delimiter">]</span><a href="#11135" title="ScalaObject" class="delimiter">(</a> <a title="T =&gt; scales.xml.DocLike" id="98969">tToDoc</a> : T =&gt; DocLike, <a title="T =&gt; B" id="98970">tToBody</a> : T =&gt; B, <a title="scales.xml.equals.XmlComparison[B]" id="98971">bodyComp</a> : <a href="XmlComparisons.scala.html#11366" title="scales.xml.equals.XmlComparison[B]">XmlComparison</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11132" title="scales.xml.equals.DocLikeWrapper[T]">DocLikeWrapper</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#98969" title="T =&gt; scales.xml.DocLike">tToDoc</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(calculate: Boolean, context: scales.xml.equals.ComparisonContext, leftBody: T, rightBody: T)Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]" id="98964">compare</a><span class="delimiter">(</span> <a title="Boolean" id="98973">calculate</a> : <span title="Boolean">Boolean</span>, <a title="scales.xml.equals.ComparisonContext" id="98974">context</a> : <a href="ComparisonContext.scala.html#11018" title="scales.xml.equals.ComparisonContext">ComparisonContext</a>, <a title="T" id="98975">leftBody</a> : <a href="#14503" title="T">T</a>, <a title="T" id="98976">rightBody</a> : <a href="#14503" title="T">T</a> <span class="delimiter">)</span> : <span title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>XmlDifference<span class="delimiter">[</span>_<span class="delimiter">]</span>, ComparisonContext<span class="delimiter">)</span><span class="delimiter">]</span> =
    <a href="#98971" title="scales.xml.equals.XmlComparison[B]">bodyComp</a>.<a href="XmlComparisons.scala.html#46196" title="(calculate: Boolean, context: scales.xml.equals.ComparisonContext, left: B, right: B)Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">compare</a><span class="delimiter">(</span><a href="#98973" title="Boolean">calculate</a>, <a href="#98974" title="scales.xml.equals.ComparisonContext">context</a>, <a href="#98970" title="(v1: T)B">tToBody</a><span class="delimiter">(</span><a href="#98975" title="T">leftBody</a><span class="delimiter">)</span>, <a href="#98970" title="(v1: T)B">tToBody</a><span class="delimiter">(</span><a href="#98976" title="T">rightBody</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Compares neither of the version, DTD nor encoding of a document, but prolog and end misc.
 * Requires a @T that can be converted to a DocLike and a body @B.  B must have an XmlComparison available and there must exist conversions from T to DocLike and T to B.
 */</span> 
<span class="keyword">class</span> <a title="class DocLikeComparison[T, B] extends java.lang.Object with scales.xml.equals.XmlComparison[T] with ScalaObject" id="11129">DocLikeComparison</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="14505">T</a>, <a title="&gt;: Nothing &lt;: Any" id="14506">B</a><span class="delimiter">]</span><a href="#11129" title="ScalaObject" class="delimiter">(</a><span class="keyword">implicit</span> <a title="scales.xml.equals.XmlComparison[scales.xml.XmlItem]" id="99004">ic</a> : <a href="XmlComparisons.scala.html#11366" title="scales.xml.equals.XmlComparison[scales.xml.XmlItem]">XmlComparison</a><span class="delimiter">[</span>XmlItem<span class="delimiter">]</span>, <a title="scales.xml.equals.DocLikeWrapper[T]" id="99005">docWrapper</a> : <a href="#11132" title="scales.xml.equals.DocLikeWrapper[T]">DocLikeWrapper</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="XmlComparisons.scala.html#11366" title="scales.xml.equals.XmlComparison[T]">XmlComparison</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="T =&gt; scales.xml.DocLike" id="98998">tToDoc</a> = <a href="#99005" title="scales.xml.equals.DocLikeWrapper[T]">docWrapper</a>.<a href="#98947" title="=&gt; T =&gt; scales.xml.DocLike">tToDoc</a>

  <span class="keyword">def</span> <a title="(calculate: Boolean, context: scales.xml.equals.ComparisonContext, left: T, right: T)Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]" id="99000">compare</a><span class="delimiter">(</span> <a title="Boolean" id="99006">calculate</a> : <span title="Boolean">Boolean</span>, <a title="scales.xml.equals.ComparisonContext" id="99007">context</a> : <a href="ComparisonContext.scala.html#11018" title="scales.xml.equals.ComparisonContext">ComparisonContext</a> , <a title="T" id="99008">left</a> : <a href="#14505" title="T">T</a>, <a title="T" id="99009">right</a> : <a href="#14505" title="T">T</a> <span class="delimiter">)</span> : <span title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>XmlDifference<span class="delimiter">[</span>_<span class="delimiter">]</span>, ComparisonContext<span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
<span class="comment">// should we split out XmlComparison[Misc]?, its only used by DocLike right now..</span>
    <span class="keyword">def</span> <a title="(lmiscs: scales.xml.package.Miscs, rmiscs: scales.xml.package.Miscs, prolog: Boolean)Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]" id="99019">compareMiscs</a><span class="delimiter">(</span> <a title="scales.xml.package.Miscs" id="99020">lmiscs</a> : <span title="scales.xml.package.Miscs">Miscs</span>, <a title="scales.xml.package.Miscs" id="99021">rmiscs</a> : <span title="scales.xml.package.Miscs">Miscs</span> , <a title="Boolean" id="99022">prolog</a> : <span title="Boolean">Boolean</span><span class="delimiter">)</span> = 
      <span title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#99020" title="scales.xml.package.Miscs">lmiscs</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">!=</span> <a href="#99021" title="scales.xml.package.Miscs">rmiscs</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
	<span title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#99006" title="Boolean">calculate</a><span class="delimiter">)</span> 
	  <span title="(x: (scales.xml.equals.DifferentNumberOfMiscs, scales.xml.equals.ComparisonContext))Some[(scales.xml.equals.DifferentNumberOfMiscs, scales.xml.equals.ComparisonContext)]">Some</span><span class="delimiter">(</span><span title="(_1: scales.xml.equals.DifferentNumberOfMiscs, _2: scales.xml.equals.ComparisonContext)(scales.xml.equals.DifferentNumberOfMiscs, scales.xml.equals.ComparisonContext)" class="delimiter">(</span><a href="XmlDifference.scala.html#99036" title="(left: scales.xml.package.Miscs, right: scales.xml.package.Miscs, isProlog: Boolean)scales.xml.equals.DifferentNumberOfMiscs">DifferentNumberOfMiscs</a><span class="delimiter">(</span><a href="#99020" title="scales.xml.package.Miscs">lmiscs</a>, <a href="#99021" title="scales.xml.package.Miscs">rmiscs</a>, <a href="#99022" title="Boolean">prolog</a><span class="delimiter">)</span>, <a href="#99007" title="scales.xml.equals.ComparisonContext">context</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="keyword">else</span>
	  <a href="XmlDifference.scala.html#97460" title="=&gt; Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">noCalculation</a>
      <span class="keyword">else</span> 
	<a href="../../utils/package.scala.html#12574" title="object scales.utils.package">scales</a>.utils.<a href="../../utils/collection/IterableUtils.scala.html#15153" title="(in: Iterable[(scales.xml.package.Misc, scales.xml.package.Misc)])(f: ((scales.xml.package.Misc, scales.xml.package.Misc)) =&gt; Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)])Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">collectFirst</a><span class="delimiter">(</span><a href="#99020" title="scales.xml.package.Miscs">lmiscs</a>.<span title="(that: scala.collection.GenIterable[scales.xml.package.Misc])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[scales.xml.package.Misc],(scales.xml.package.Misc, scales.xml.package.Misc),Seq[(scales.xml.package.Misc, scales.xml.package.Misc)]])Seq[(scales.xml.package.Misc, scales.xml.package.Misc)]">zip</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,(scales.xml.package.Misc, scales.xml.package.Misc),Seq[(scales.xml.package.Misc, scales.xml.package.Misc)]]" class="delimiter">(</span><a href="#99021" title="scales.xml.package.Miscs">rmiscs</a><span class="delimiter">)</span><span class="delimiter">)</span><a href="#99148" title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]" class="delimiter">{</a>
	  <span class="keyword">case</span> <span title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]" class="delimiter">(</span><a title="scales.xml.package.Misc" id="99151">a</a>, <a title="scales.xml.package.Misc" id="99152">b</a><span class="delimiter">)</span> =&gt; 
	    <span class="keyword">val</span> <a title="scales.xml.XmlItem" id="99153">l</a> : <a href="../XmlTypes.scala.html#9699" title="scales.xml.XmlItem">XmlItem</a> = <a href="#99151" title="scales.xml.package.Misc">a</a>.<span title="(fa: scales.xml.Comment =&gt; scales.xml.XmlItem, fb: scales.xml.PI =&gt; scales.xml.XmlItem)scales.xml.XmlItem">fold</span><span class="delimiter">(</span> <a title="scales.xml.Comment" id="99162">x</a> =&gt; <a href="#99162" title="scales.xml.Comment">x</a>, <a title="scales.xml.PI" id="99164">y</a> =&gt; <a href="#99164" title="scales.xml.PI">y</a><span class="delimiter">)</span>
	    <span class="keyword">val</span> <a title="scales.xml.XmlItem" id="99154">r</a> : <a href="../XmlTypes.scala.html#9699" title="scales.xml.XmlItem">XmlItem</a> = <a href="#99152" title="scales.xml.package.Misc">b</a>.<span title="(fa: scales.xml.Comment =&gt; scales.xml.XmlItem, fb: scales.xml.PI =&gt; scales.xml.XmlItem)scales.xml.XmlItem">fold</span><span class="delimiter">(</span> <a title="scales.xml.Comment" id="99197">x</a> =&gt; <a href="#99197" title="scales.xml.Comment">x</a>, <a title="scales.xml.PI" id="99199">y</a> =&gt; <a href="#99199" title="scales.xml.PI">y</a><span class="delimiter">)</span>
	    <span class="keyword">val</span> <a title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]" id="99155">res</a> = <a href="#99004" title="scales.xml.equals.XmlComparison[scales.xml.XmlItem]">ic</a>.<a href="XmlComparisons.scala.html#46196" title="(calculate: Boolean, context: scales.xml.equals.ComparisonContext, left: scales.xml.XmlItem, right: scales.xml.XmlItem)Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">compare</a><span class="delimiter">(</span><a href="#99006" title="Boolean">calculate</a>, <a href="#99007" title="scales.xml.equals.ComparisonContext">context</a>, <a href="#99153" title="scales.xml.XmlItem">l</a>, <a href="#99154" title="scales.xml.XmlItem">r</a><span class="delimiter">)</span>
	    <span title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#99006" title="Boolean">calculate</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#99155" title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">res</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span>
	      <span class="comment">// give back either the diff or wrap the difference</span>
	      <a href="#99155" title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">res</a>.<span title="(f: ((scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)) =&gt; (scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext))Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">map</span><a href="#99234" title="(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)" class="delimiter">{</a> 
		<span class="keyword">case</span> <span title="(scales.xml.equals.MiscDifference, scales.xml.equals.ComparisonContext)" class="delimiter">(</span>ItemDifference<span class="delimiter">(</span><a title="scales.xml.XmlItem" id="99275">x</a>, <a title="scales.xml.XmlItem" id="99276">y</a><span class="delimiter">)</span>, <a title="scales.xml.equals.ComparisonContext" id="99278">cont</a><span class="delimiter">)</span> =&gt; 
		  <span title="(_1: scales.xml.equals.MiscDifference, _2: scales.xml.equals.ComparisonContext)(scales.xml.equals.MiscDifference, scales.xml.equals.ComparisonContext)" class="delimiter">(</span><a href="XmlDifference.scala.html#99285" title="(left: scales.xml.package.Misc, right: scales.xml.package.Misc, isProlog: Boolean)scales.xml.equals.MiscDifference">MiscDifference</a><span class="delimiter">(</span><a href="#99151" title="scales.xml.package.Misc">a</a>, <a href="#99152" title="scales.xml.package.Misc">b</a>, <a href="#99022" title="Boolean">prolog</a><span class="delimiter">)</span>, <a href="#99278" title="scales.xml.equals.ComparisonContext">cont</a><span class="delimiter">)</span>
		<span class="keyword">case</span> <span title="(scales.xml.equals.MiscDifferentTypes, scales.xml.equals.ComparisonContext)" class="delimiter">(</span>DifferentTypes<span class="delimiter">(</span><a title="scales.xml.package.PullType" id="99338">x</a>, <a title="scales.xml.package.PullType" id="99339">y</a><span class="delimiter">)</span>, <a title="scales.xml.equals.ComparisonContext" id="99341">cont</a><span class="delimiter">)</span> =&gt;
		  <span title="(_1: scales.xml.equals.MiscDifferentTypes, _2: scales.xml.equals.ComparisonContext)(scales.xml.equals.MiscDifferentTypes, scales.xml.equals.ComparisonContext)" class="delimiter">(</span><a href="XmlDifference.scala.html#99348" title="(left: scales.xml.package.Misc, right: scales.xml.package.Misc, isProlog: Boolean)scales.xml.equals.MiscDifferentTypes">MiscDifferentTypes</a><span class="delimiter">(</span><a href="#99151" title="scales.xml.package.Misc">a</a>, <a href="#99152" title="scales.xml.package.Misc">b</a>, <a href="#99022" title="Boolean">prolog</a><span class="delimiter">)</span>, <a href="#99341" title="scales.xml.equals.ComparisonContext">cont</a><span class="delimiter">)</span>
		<span class="keyword">case</span> <a title="(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)" id="99373">t</a> =&gt; <a href="#99373" title="(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)">t</a>
	      <span class="delimiter">}</span> 
	    <span class="keyword">else</span>
	      <a href="#99155" title="Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">res</a>
	<span class="delimiter">}</span>
      
    <a href="#99019" title="(lmiscs: scales.xml.package.Miscs, rmiscs: scales.xml.package.Miscs, prolog: Boolean)Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">compareMiscs</a><span class="delimiter">(</span><a href="#98998" title="(v1: T)scales.xml.DocLike">left</a>.<a href="../XmlTypes.scala.html#29044" title="=&gt; scales.xml.Prolog">prolog</a>.<a href="../XmlTypes.scala.html#33172" title="=&gt; scales.xml.package.Miscs">misc</a>, <a href="#98998" title="(v1: T)scales.xml.DocLike">right</a>.<a href="../XmlTypes.scala.html#29044" title="=&gt; scales.xml.Prolog">prolog</a>.<a href="../XmlTypes.scala.html#33172" title="=&gt; scales.xml.package.Miscs">misc</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>.
      <span title="(alternative: =&gt; Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)])Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">orElse</span><span class="delimiter">(</span><a href="#99005" title="scales.xml.equals.DocLikeWrapper[T]">docWrapper</a>.<a href="#46875" title="(calculate: Boolean, context: scales.xml.equals.ComparisonContext, leftBody: T, rightBody: T)Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">compare</a><span class="delimiter">(</span><a href="#99006" title="Boolean">calculate</a>, <a href="#99007" title="scales.xml.equals.ComparisonContext">context</a>, <a href="#99008" title="T">left</a>, <a href="#99009" title="T">right</a><span class="delimiter">)</span><span class="delimiter">)</span>.
      <span title="(alternative: =&gt; Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)])Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">orElse</span><span class="delimiter">(</span><a href="#99019" title="(lmiscs: scales.xml.package.Miscs, rmiscs: scales.xml.package.Miscs, prolog: Boolean)Option[(scales.xml.equals.XmlDifference[_], scales.xml.equals.ComparisonContext)]">compareMiscs</a><span class="delimiter">(</span><a href="#98998" title="(v1: T)scales.xml.DocLike">left</a>.<a href="../XmlTypes.scala.html#29045" title="=&gt; scales.xml.EndMisc">end</a>.<a href="../XmlTypes.scala.html#45901" title="=&gt; scales.xml.package.Miscs">misc</a>, <a href="#98998" title="(v1: T)scales.xml.DocLike">right</a>.<a href="../XmlTypes.scala.html#29045" title="=&gt; scales.xml.EndMisc">end</a>.<a href="../XmlTypes.scala.html#45901" title="=&gt; scales.xml.package.Miscs">misc</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait DefaultDocLikeEquals extends java.lang.Object with ScalaObject" id="11042">DefaultDocLikeEquals</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="comment">/**
   * Provides the comparison for prolog, body and end miscs
   */</span> 
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[T](implicit ic: scales.xml.equals.XmlComparison[scales.xml.XmlItem], implicit docWrapper: scales.xml.equals.DocLikeWrapper[T])scales.xml.equals.XmlComparison[T]" id="43048">defaultDocLikeComparison</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="43050">T</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.equals.XmlComparison[scales.xml.XmlItem]" id="47002">ic</a> : <a href="XmlComparisons.scala.html#11366" title="scales.xml.equals.XmlComparison[scales.xml.XmlItem]">XmlComparison</a><span class="delimiter">[</span>XmlItem<span class="delimiter">]</span>, <a title="scales.xml.equals.DocLikeWrapper[T]" id="47003">docWrapper</a> : <a href="#11132" title="scales.xml.equals.DocLikeWrapper[T]">DocLikeWrapper</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="XmlComparisons.scala.html#11366" title="scales.xml.equals.XmlComparison[T]">XmlComparison</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span title="scales.xml.equals.DocLikeComparison[T,Nothing]" class="keyword">new</span> <a href="#11129" title="scales.xml.equals.DocLikeComparison[T,Nothing]">DocLikeComparison</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#47002" title="scales.xml.equals.XmlComparison[scales.xml.XmlItem]">ic</a>, <a href="#47003" title="scales.xml.equals.DocLikeWrapper[T]">docWrapper</a><span class="delimiter">)</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>