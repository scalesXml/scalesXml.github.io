<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\xml\serializers\SerializingIter.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scales.xml.serializers

<span class="keyword">import</span> scales.utils._

<span class="keyword">import</span> resources._

<span class="keyword">import</span> scales.xml._

<span class="keyword">import</span> java.io.Writer

<span class="keyword">import</span> scalaz._
<span class="keyword">import</span> <span title="object scalaz.Scalaz">Scalaz</span>._
<span class="keyword">import</span> scalaz.<span title="object scalaz.IterV">IterV</span>._

<span class="comment">/**
 * Provide push based serializing Iteratee
 */</span> 
<span class="keyword">trait</span> <a title="trait SerializingIter extends java.lang.Object with ScalaObject" id="10826">SerializingIter</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="keyword">type</span> <a title="scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]" id="15700">SerialIterT</a> = <span title="scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]">IterV</span><span class="delimiter">[</span>PullType, <span class="delimiter">(</span>XmlOutput, Option<span class="delimiter">[</span>Throwable<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> 

  <span class="keyword">import</span> java.nio.charset.Charset

  <span class="comment">/**
   * The serializer will be returned automatically to the pool by calling closer
   * 
   * doc functions are only evaluated upon the first elem / last elem
   */</span>
  <span class="keyword">def</span> <a title="(output: scales.xml.serializers.XmlOutput, serializer: scales.xml.serializers.Serializer, closer: () =&gt; Unit, doc: scales.xml.DocLike)SerializingIter.this.SerialIterT" id="15702">serializeIter</a><span class="delimiter">(</span> <a title="scales.xml.serializers.XmlOutput" id="113557">output</a> : <a href="XmlPrinterTypes.scala.html#10883" title="scales.xml.serializers.XmlOutput">XmlOutput</a>, <a title="scales.xml.serializers.Serializer" id="113558">serializer</a> : <a href="Serializers.scala.html#10697" title="scales.xml.serializers.Serializer">Serializer</a>, <a title="() =&gt; Unit" id="113559">closer</a> : <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Unit, <a title="scales.xml.DocLike" id="113562">doc</a> : <a href="../XmlTypes.scala.html#9492" title="scales.xml.DocLike">DocLike</a> = <a href="../XmlTypes.scala.html#33099" title="(prolog: scales.xml.Prolog, end: scales.xml.EndMisc)scales.xml.EmptyDoc">EmptyDoc</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> : <span title="SerializingIter.this.SerialIterT">SerialIterT</span> = <span class="delimiter">{</span>

    <span class="keyword">var</span> <a title="Int" id="113567">empties</a> = <span title="Int(0)" class="int">0</span>

    <span class="keyword">def</span> <a title="(status: scales.xml.serializers.StreamStatus)SerializingIter.this.SerialIterT" id="113568">done</a><span class="delimiter">(</span> <a title="scales.xml.serializers.StreamStatus" id="113571">status</a> : <a href="SerializeableXmls.scala.html#10865" title="scales.xml.serializers.StreamStatus">StreamStatus</a> <span class="delimiter">)</span> : <span title="SerializingIter.this.SerialIterT">SerialIterT</span> = <span class="delimiter">{</span>
      <span class="comment">// give it back</span>
      <a href="#113559" title="()Unit">closer</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="comment">//println(&quot;empties was &quot;+empties)</span>
      <span title="(a: =&gt; (scales.xml.serializers.XmlOutput, Option[Throwable]), i: =&gt; scalaz.Input[scales.xml.package.PullType])scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]">Done</span><span class="delimiter">(</span><span title="(_1: scales.xml.serializers.XmlOutput, _2: Option[Throwable])(scales.xml.serializers.XmlOutput, Option[Throwable])" class="delimiter">(</span><a href="#113571" title="scales.xml.serializers.StreamStatus">status</a>.<a href="SerializeableXmls.scala.html#112755" title="=&gt; scales.xml.serializers.XmlOutput">output</a>, <a href="#113571" title="scales.xml.serializers.StreamStatus">status</a>.<a href="SerializeableXmls.scala.html#112757" title="=&gt; Option[Throwable]">thrown</a><span class="delimiter">)</span>, <span title="[E]=&gt; scalaz.Input[E]">EOF</span><span title="scalaz.Input[scales.xml.package.PullType]" class="delimiter">[</span><span title="scales.xml.package.PullType">PullType</span><span class="delimiter">]</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(status: scales.xml.serializers.StreamStatus, prev: scales.xml.package.PullType, serializer: scales.xml.serializers.Serializer)(s: scalaz.Input[scales.xml.package.PullType])SerializingIter.this.SerialIterT" id="113569">rest</a><span class="delimiter">(</span> <a title="scales.xml.serializers.StreamStatus" id="113584">status</a> : <a href="SerializeableXmls.scala.html#10865" title="scales.xml.serializers.StreamStatus">StreamStatus</a>, <a title="scales.xml.package.PullType" id="113585">prev</a> : <span title="scales.xml.package.PullType">PullType</span>, <a title="scales.xml.serializers.Serializer" id="113586">serializer</a> : <a href="Serializers.scala.html#10697" title="scales.xml.serializers.Serializer">Serializer</a> <span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.Input[scales.xml.package.PullType]" id="113587">s</a> : <span title="scalaz.Input[scales.xml.package.PullType]">Input</span><span class="delimiter">[</span>PullType<span class="delimiter">]</span><span class="delimiter">)</span> : <span title="SerializingIter.this.SerialIterT">SerialIterT</span> = <span class="delimiter">{</span>
      <a href="#113587" title="(empty: =&gt; SerializingIter.this.SerialIterT, el: =&gt; scales.xml.package.PullType =&gt; SerializingIter.this.SerialIterT, eof: =&gt; SerializingIter.this.SerialIterT)SerializingIter.this.SerialIterT">s</a><span class="delimiter">(</span>el = <a title="=&gt; scales.xml.package.PullType" id="113839">e</a> =&gt; <span class="delimiter">{</span>
	<span title="SerializingIter.this.SerialIterT" class="keyword">if</span> <span class="delimiter">(</span><a href="#113584" title="scales.xml.serializers.StreamStatus">status</a>.<a href="SerializeableXmls.scala.html#112757" title="=&gt; Option[Throwable]">thrown</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#113568" title="(status: scales.xml.serializers.StreamStatus)SerializingIter.this.SerialIterT">done</a><span class="delimiter">(</span><a href="#113584" title="scales.xml.serializers.StreamStatus">status</a><span class="delimiter">)</span>
	<span class="keyword">else</span> <span class="delimiter">{</span>
	  <span class="keyword">val</span> <a title="scales.xml.serializers.StreamStatus" id="113840">r</a> = <a href="SerializeableXmls.scala.html#10860" title="object scales.xml.serializers.StreamSerializer">StreamSerializer</a>.<a href="SerializeableXmls.scala.html#112866" title="(event: (scales.xml.package.PullType, scales.xml.package.PullType), status: scales.xml.serializers.StreamStatus, serializer: scales.xml.serializers.Serializer)scales.xml.serializers.StreamStatus">pump</a><span class="delimiter">(</span><span title="(_1: scales.xml.package.PullType, _2: scales.xml.package.PullType)(scales.xml.package.PullType, scales.xml.package.PullType)" class="delimiter">(</span><a href="#113585" title="scales.xml.package.PullType">prev</a>, <a href="#113839" title="=&gt; scales.xml.package.PullType">e</a><span class="delimiter">)</span>, <a href="#113584" title="scales.xml.serializers.StreamStatus">status</a>, <a href="#113586" title="scales.xml.serializers.Serializer">serializer</a><span class="delimiter">)</span>
	  <span title="SerializingIter.this.SerialIterT" class="keyword">if</span> <span class="delimiter">(</span><a href="#113840" title="scales.xml.serializers.StreamStatus">r</a>.<a href="SerializeableXmls.scala.html#112757" title="=&gt; Option[Throwable]">thrown</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#113568" title="(status: scales.xml.serializers.StreamStatus)SerializingIter.this.SerialIterT">done</a><span class="delimiter">(</span><a href="#113840" title="scales.xml.serializers.StreamStatus">r</a><span class="delimiter">)</span>
	  <span class="keyword">else</span> <span title="(f: scalaz.Input[scales.xml.package.PullType] =&gt; scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])])scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]">Cont</span><span class="delimiter">(</span><a href="#113569" title="(status: scales.xml.serializers.StreamStatus, prev: scales.xml.package.PullType, serializer: scales.xml.serializers.Serializer)(s: scalaz.Input[scales.xml.package.PullType])SerializingIter.this.SerialIterT">rest</a><a href="#113851" title="scalaz.Input[scales.xml.package.PullType]" class="delimiter">(</a><a href="#113840" title="scales.xml.serializers.StreamStatus">r</a>, <a href="#113839" title="=&gt; scales.xml.package.PullType">e</a>, <a href="#113586" title="scales.xml.serializers.Serializer">serializer</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="delimiter">}</span>,
        empty = <a title="() =&gt; scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]" id="113921" class="delimiter">{</a>
	  <a href="#113567" title="Int">empties</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
	  <span class="comment">//println(&quot;outitr empty&quot;)</span>
	  <span title="(f: scalaz.Input[scales.xml.package.PullType] =&gt; scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])])scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]">Cont</span><span class="delimiter">(</span><a href="#113569" title="(status: scales.xml.serializers.StreamStatus, prev: scales.xml.package.PullType, serializer: scales.xml.serializers.Serializer)(s: scalaz.Input[scales.xml.package.PullType])SerializingIter.this.SerialIterT">rest</a><a href="#113926" title="scalaz.Input[scales.xml.package.PullType]" class="delimiter">(</a><a href="#113584" title="scales.xml.serializers.StreamStatus">status</a>, <a href="#113585" title="scales.xml.package.PullType">prev</a>, <a href="#113586" title="scales.xml.serializers.Serializer">serializer</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>,
        eof =  <span class="delimiter">{</span>
	<a title="() =&gt; SerializingIter.this.SerialIterT" id="113922" class="keyword">if</a> <span class="delimiter">(</span><a href="#113584" title="scales.xml.serializers.StreamStatus">status</a>.<a href="SerializeableXmls.scala.html#112757" title="=&gt; Option[Throwable]">thrown</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#113568" title="(status: scales.xml.serializers.StreamStatus)SerializingIter.this.SerialIterT">done</a><span class="delimiter">(</span><a href="#113584" title="scales.xml.serializers.StreamStatus">status</a><span class="delimiter">)</span>
	<span class="keyword">else</span> <span class="delimiter">{</span>
	  <span class="keyword">val</span> <a title="scales.xml.serializers.StreamStatus" id="113928">r</a> = <a href="SerializeableXmls.scala.html#10860" title="object scales.xml.serializers.StreamSerializer">StreamSerializer</a>.<a href="SerializeableXmls.scala.html#112866" title="(event: (scales.xml.package.PullType, scales.xml.package.PullType), status: scales.xml.serializers.StreamStatus, serializer: scales.xml.serializers.Serializer)scales.xml.serializers.StreamStatus">pump</a><span class="delimiter">(</span><span title="(_1: scales.xml.package.PullType, _2: Left[scales.xml.Elem,Nothing])(scales.xml.package.PullType, Left[scales.xml.Elem,Nothing])" class="delimiter">(</span><a href="#113585" title="scales.xml.package.PullType">prev</a>, <a href="SerializeableXmls.scala.html#10860" title="object scales.xml.serializers.StreamSerializer">StreamSerializer</a>.<a href="SerializeableXmls.scala.html#112862" title="=&gt; Left[scales.xml.Elem,Nothing]">dummy</a><span class="delimiter">)</span>, <a href="#113584" title="scales.xml.serializers.StreamStatus">status</a>, <a href="#113586" title="scales.xml.serializers.Serializer">serializer</a><span class="delimiter">)</span>
	  <span class="keyword">val</span> <a title="Option[Throwable]" id="113929">opt</a> = <a href="XmlPrinter.scala.html#15680" title="(pout: scales.xml.serializers.XmlOutput, misc: Iterable[scales.xml.package.Misc], serializer: scales.xml.serializers.Serializer)(scales.xml.serializers.XmlOutput, Option[Throwable])">serializeMisc</a><span class="delimiter">(</span><a href="#113928" title="scales.xml.serializers.StreamStatus">r</a>.<a href="SerializeableXmls.scala.html#112755" title="=&gt; scales.xml.serializers.XmlOutput">output</a>, <a href="#113562" title="scales.xml.DocLike">doc</a>.<a href="../XmlTypes.scala.html#29045" title="=&gt; scales.xml.EndMisc">end</a>.<a href="../XmlTypes.scala.html#45901" title="=&gt; scales.xml.package.Miscs">misc</a>, <a href="#113586" title="scales.xml.serializers.Serializer">serializer</a><span class="delimiter">)</span>.<span title="=&gt; Option[Throwable]">_2</span>
	    
	  <span class="keyword">val</span> <a title="scales.xml.serializers.StreamStatus" id="113930">lastStatus</a> = <a href="#113928" title="scales.xml.serializers.StreamStatus">r</a>.<a href="SerializeableXmls.scala.html#112795" title="scales.xml.serializers.XmlOutput" id="113935">copy</a><span class="delimiter">(</span>thrown = <a href="#113929" title="Option[Throwable]" id="113933">opt</a><span class="delimiter">)</span>
	  
	  <a href="#113568" title="(status: scales.xml.serializers.StreamStatus)SerializingIter.this.SerialIterT">done</a><span class="delimiter">(</span><a href="#113930" title="scales.xml.serializers.StreamStatus">lastStatus</a><span class="delimiter">)</span>
	<span class="delimiter">}</span><span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    
    <span class="keyword">def</span> <a title="(status: scales.xml.serializers.StreamStatus, serializer: scales.xml.serializers.Serializer)(s: scalaz.Input[scales.xml.package.PullType])SerializingIter.this.SerialIterT" id="113570">first</a><span class="delimiter">(</span> <a title="scales.xml.serializers.StreamStatus" id="113936">status</a> : <a href="SerializeableXmls.scala.html#10865" title="scales.xml.serializers.StreamStatus">StreamStatus</a>, <a title="scales.xml.serializers.Serializer" id="113937">serializer</a> : <a href="Serializers.scala.html#10697" title="scales.xml.serializers.Serializer">Serializer</a> <span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.Input[scales.xml.package.PullType]" id="113938">s</a> : <span title="scalaz.Input[scales.xml.package.PullType]">Input</span><span class="delimiter">[</span>PullType<span class="delimiter">]</span><span class="delimiter">)</span> : <span title="SerializingIter.this.SerialIterT">SerialIterT</span> =
      <a href="#113938" title="(empty: =&gt; scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])], el: =&gt; scales.xml.package.PullType =&gt; scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])], eof: =&gt; scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])])scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]">s</a><span class="delimiter">(</span>el = <a title="=&gt; scales.xml.package.PullType" id="114187">e</a> =&gt; <span class="delimiter">{</span>
	<span class="comment">// decl and prolog misc, which should have been collected by now</span>
	<span class="keyword">val</span> <a title="Option[Throwable]" id="114188">opt</a> = <a href="#113937" title="scales.xml.serializers.Serializer">serializer</a>.<a href="Serializers.scala.html#111200" title="(encoding: java.nio.charset.Charset, version: scales.xml.XmlVersion)Option[Throwable]">xmlDeclaration</a><span class="delimiter">(</span><a href="#113936" title="scales.xml.serializers.StreamStatus">status</a>.<a href="SerializeableXmls.scala.html#112755" title="=&gt; scales.xml.serializers.XmlOutput">output</a>.<a href="XmlPrinterTypes.scala.html#112771" title="=&gt; scales.xml.serializers.SerializerData">data</a>.<a href="Serializers.scala.html#111240" title="=&gt; java.nio.charset.Charset">encoding</a>, 
				  <a href="#113936" title="scales.xml.serializers.StreamStatus">status</a>.<a href="SerializeableXmls.scala.html#112755" title="=&gt; scales.xml.serializers.XmlOutput">output</a>.<a href="XmlPrinterTypes.scala.html#112771" title="=&gt; scales.xml.serializers.SerializerData">data</a>.<a href="Serializers.scala.html#111238" title="=&gt; scales.xml.XmlVersion">version</a><span class="delimiter">)</span>.<span title="(alternative: =&gt; Option[Throwable])Option[Throwable]">orElse</span><span class="delimiter">{</span>
	    <a href="XmlPrinter.scala.html#15680" title="(pout: scales.xml.serializers.XmlOutput, misc: Iterable[scales.xml.package.Misc], serializer: scales.xml.serializers.Serializer)(scales.xml.serializers.XmlOutput, Option[Throwable])">serializeMisc</a><span class="delimiter">(</span><a href="#113936" title="scales.xml.serializers.StreamStatus">status</a>.<a href="SerializeableXmls.scala.html#112755" title="=&gt; scales.xml.serializers.XmlOutput">output</a>, <a href="#113562" title="scales.xml.DocLike">doc</a>.<a href="../XmlTypes.scala.html#29044" title="=&gt; scales.xml.Prolog">prolog</a>.<a href="../XmlTypes.scala.html#33172" title="=&gt; scales.xml.package.Miscs">misc</a>, <a href="#113937" title="scales.xml.serializers.Serializer">serializer</a><span class="delimiter">)</span>.<span title="=&gt; Option[Throwable]">_2</span>
	  <span class="delimiter">}</span>
	<span class="keyword">val</span> <a title="scales.xml.serializers.StreamStatus" id="114189">nstatus</a> = <a href="#113936" title="scales.xml.serializers.StreamStatus">status</a>.<a href="SerializeableXmls.scala.html#112795" title="scales.xml.serializers.XmlOutput" id="114203">copy</a><span class="delimiter">(</span>thrown = <a href="#114188" title="Option[Throwable]" id="114201">opt</a><span class="delimiter">)</span>
	  
	<span title="(f: scalaz.Input[scales.xml.package.PullType] =&gt; scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])])scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]">Cont</span><span class="delimiter">(</span><a href="#113569" title="(status: scales.xml.serializers.StreamStatus, prev: scales.xml.package.PullType, serializer: scales.xml.serializers.Serializer)(s: scalaz.Input[scales.xml.package.PullType])SerializingIter.this.SerialIterT">rest</a><a href="#114208" title="scalaz.Input[scales.xml.package.PullType]" class="delimiter">(</a><a href="#114189" title="scales.xml.serializers.StreamStatus">nstatus</a>, <a href="#114187" title="=&gt; scales.xml.package.PullType">e</a>, <a href="#113937" title="scales.xml.serializers.Serializer">serializer</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>,
        empty = <a title="() =&gt; scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]" id="114229" class="delimiter">{</a>
	  <a href="#113567" title="Int">empties</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
	  <span title="(f: scalaz.Input[scales.xml.package.PullType] =&gt; scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])])scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]">Cont</span><span class="delimiter">(</span><a href="#113570" title="(status: scales.xml.serializers.StreamStatus, serializer: scales.xml.serializers.Serializer)(s: scalaz.Input[scales.xml.package.PullType])SerializingIter.this.SerialIterT">first</a><a href="#114234" title="scalaz.Input[scales.xml.package.PullType]" class="delimiter">(</a><a href="#113936" title="scales.xml.serializers.StreamStatus">status</a>, <a href="#113937" title="scales.xml.serializers.Serializer">serializer</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>,
        eof = <span title="(a: =&gt; (scales.xml.serializers.XmlOutput, Option[Throwable]), i: =&gt; scalaz.Input[scales.xml.package.PullType])scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]">Done</span><a title="() =&gt; scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]" id="114230" class="delimiter">(</a><span title="(_1: scales.xml.serializers.XmlOutput, _2: Some[scales.xml.serializers.NoDataInStream])(scales.xml.serializers.XmlOutput, Some[scales.xml.serializers.NoDataInStream])" class="delimiter">(</span><a href="#113936" title="scales.xml.serializers.StreamStatus">status</a>.<a href="SerializeableXmls.scala.html#112755" title="=&gt; scales.xml.serializers.XmlOutput">output</a>, <span title="(x: scales.xml.serializers.NoDataInStream)Some[scales.xml.serializers.NoDataInStream]">Some</span><span class="delimiter">(</span><a href="Exceptions.scala.html#111120" title="()scales.xml.serializers.NoDataInStream">NoDataInStream</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <span title="[E]=&gt; scalaz.Input[E]">EOF</span><span title="scalaz.Input[scales.xml.package.PullType]" class="delimiter">[</span><span title="scales.xml.package.PullType">PullType</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span title="(f: scalaz.Input[scales.xml.package.PullType] =&gt; scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])])scalaz.IterV[scales.xml.package.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]">Cont</span><span class="delimiter">(</span><a href="#113570" title="(status: scales.xml.serializers.StreamStatus, serializer: scales.xml.serializers.Serializer)(s: scalaz.Input[scales.xml.package.PullType])SerializingIter.this.SerialIterT">first</a><a href="#114249" title="scalaz.Input[scales.xml.package.PullType]" class="delimiter">(</a><a href="SerializeableXmls.scala.html#112787" title="(output: scales.xml.serializers.XmlOutput, thrown: Option[Throwable], isEmpty: Boolean)scales.xml.serializers.StreamStatus">StreamStatus</a><a href="#114247" title="scales.xml.serializers.StreamStatus" class="delimiter">(</a><a href="#113557" title="scales.xml.serializers.XmlOutput">output</a><span class="delimiter">)</span>, <a href="#113558" title="scales.xml.serializers.Serializer">serializer</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns an Iteratee that can serialize PullTypes to out.  The serializer factory management is automatically handled upon calling with eof.  This can be triggered earlier by calling closeResource on the returned CloseOnNeed.
   */</span> 
  <span class="keyword">def</span> <a title="(out: java.io.Writer, doc: scales.xml.DocLike, version: Option[scales.xml.XmlVersion], encoding: Option[java.nio.charset.Charset])(implicit serializerFI: scales.xml.serializers.SerializerFactory)(scales.utils.resources.CloseOnNeed, SerializingIter.this.SerialIterT)" id="15703">pushXmlIter</a><span class="delimiter">(</span> <a title="java.io.Writer" id="114251">out</a>: java.io.<span title="java.io.Writer">Writer</span>, <a title="scales.xml.DocLike" id="114257">doc</a> : <a href="../XmlTypes.scala.html#9492" title="scales.xml.DocLike">DocLike</a> = <a href="../XmlTypes.scala.html#33099" title="(prolog: scales.xml.Prolog, end: scales.xml.EndMisc)scales.xml.EmptyDoc">EmptyDoc</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="Option[scales.xml.XmlVersion]" id="114258">version</a>: <span title="Option[scales.xml.XmlVersion]">Option</span><span class="delimiter">[</span>XmlVersion<span class="delimiter">]</span> = <span title="object None">None</span>, <a title="Option[java.nio.charset.Charset]" id="114259">encoding</a>: <span title="Option[java.nio.charset.Charset]">Option</span><span class="delimiter">[</span>Charset<span class="delimiter">]</span> = <span title="object None">None</span> <span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.serializers.SerializerFactory" id="114255">serializerFI</a>: <a href="Serializers.scala.html#10706" title="scales.xml.serializers.SerializerFactory">SerializerFactory</a><span class="delimiter">)</span> : <span title="(scales.utils.resources.CloseOnNeed, SerializingIter.this.SerialIterT)" class="delimiter">(</span>CloseOnNeed, SerialIterT<span class="delimiter">)</span> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="scales.xml.Declaration" id="114264">decl</a> = <a href="#114257" title="scales.xml.DocLike">doc</a>.<a href="../XmlTypes.scala.html#29044" title="=&gt; scales.xml.Prolog">prolog</a>.<a href="../XmlTypes.scala.html#33170" title="=&gt; scales.xml.Declaration">decl</a>
    <span class="keyword">val</span> <a title="scales.xml.serializers.SerializerData" id="114265">sd</a> = <a href="Serializers.scala.html#113437" title="(out: java.io.Writer, version: scales.xml.XmlVersion, encoding: java.nio.charset.Charset)scales.xml.serializers.SerializerData">SerializerData</a><span class="delimiter">(</span><a href="#114251" title="java.io.Writer">out</a>, 
      <a href="#114258" title="Option[scales.xml.XmlVersion]">version</a>.<span title="(default: =&gt; scales.xml.XmlVersion)scales.xml.XmlVersion">getOrElse</span><span class="delimiter">(</span><a href="#114264" title="scales.xml.Declaration">decl</a>.<a href="../XmlTypes.scala.html#47413" title="=&gt; scales.xml.XmlVersion">version</a><span class="delimiter">)</span>, 
      <a href="#114259" title="Option[java.nio.charset.Charset]">encoding</a>.<span title="(default: =&gt; java.nio.charset.Charset)java.nio.charset.Charset">getOrElse</span><span class="delimiter">(</span><a href="#114264" title="scales.xml.Declaration">decl</a>.<a href="../XmlTypes.scala.html#47415" title="=&gt; java.nio.charset.Charset">encoding</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="scales.xml.serializers.XmlOutput" id="114266">xo</a> = <a href="XmlPrinterTypes.scala.html#112964" title="(data: scales.xml.serializers.SerializerData, currentMappings: scala.collection.immutable.Stack[scala.collection.immutable.Map[String,String]], path: List[scales.xml.QName])(implicit serializerFI: scales.xml.serializers.SerializerFactory)scales.xml.serializers.XmlOutput">XmlOutput</a><span class="delimiter">(</span><a href="#114265" title="scales.xml.serializers.SerializerData">sd</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#114255" title="scales.xml.serializers.SerializerFactory">serializerFI</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="serializerFI.ExactSerializer" id="114267">ser</a> = <a href="#114255" title="scales.xml.serializers.SerializerFactory">serializerFI</a>.<a href="Serializers.scala.html#47425" title="(data: scales.xml.serializers.SerializerData)serializerFI.ExactSerializer">borrow</a><span class="delimiter">(</span> <a href="#114265" title="scales.xml.serializers.SerializerData">sd</a> <span class="delimiter">)</span> 

    <span class="keyword">val</span> <a title="scales.utils.resources.CloseOnNeed" id="114268">closer</a> : <a href="../../utils/resource/Resources.scala.html#14380" title="scales.utils.resources.CloseOnNeed">CloseOnNeed</a> = <a href="#114294" title="java.lang.Object with scales.utils.resources.CloseOnNeed" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scales.utils.resources.CloseOnNeed" id="114294">CloseOnNeed</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="()Unit" id="114298">doClose</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
	<a href="#114255" title="scales.xml.serializers.SerializerFactory">serializerFI</a>.<a href="Serializers.scala.html#47426" title="(serializer: serializerFI.ExactSerializer)Unit">giveBack</a><span class="delimiter">(</span><a href="#114267" title="serializerFI.ExactSerializer">ser</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="SerializingIter.this.SerialIterT" id="114269">iter</a> = <a href="#15702" title="(output: scales.xml.serializers.XmlOutput, serializer: scales.xml.serializers.Serializer, closer: () =&gt; Unit, doc: scales.xml.DocLike)SerializingIter.this.SerialIterT">serializeIter</a><span class="delimiter">(</span> <a href="#114266" title="scales.xml.serializers.XmlOutput">xo</a>, <a href="#114267" title="serializerFI.ExactSerializer">ser</a>, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#114268" title="scales.utils.resources.CloseOnNeed">closer</a>.<a href="../../utils/resource/Resources.scala.html#29009" title="=&gt; Unit">closeResource</a>, <a href="#114257" title="scales.xml.DocLike">doc</a><span class="delimiter">)</span>

    <span title="(_1: scales.utils.resources.CloseOnNeed, _2: SerializingIter.this.SerialIterT)(scales.utils.resources.CloseOnNeed, SerializingIter.this.SerialIterT)" class="delimiter">(</span><a href="#114268" title="scales.utils.resources.CloseOnNeed">closer</a>, <a href="#114269" title="SerializingIter.this.SerialIterT">iter</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>