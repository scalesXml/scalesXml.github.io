<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\xml\dsl\DslBuilder.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scales.xml.dsl

<span class="keyword">import</span> scales.xml.<span class="delimiter">{</span>
  XmlTree, Elem, 
  XCC, XmlItem, 
  QName, ScalesXml,
  Attribute, emptyChildren,
  ItemOrElem, XPath,
  XmlPath, Text, raw
  <span class="delimiter">}</span>

<span class="keyword">import</span> scales.utils.collection.path._
<span class="keyword">import</span> scales.utils.<span class="delimiter">{</span>AsBoolean, subtree, foldPositions, booleanMatcher, booleanAndTMatcher, top, item<span class="delimiter">}</span>

<span class="keyword">import</span> <a href="../ScalesXml.scala.html#scales.xml.ScalesXml" title="scales.xml.ScalesXml.type">ScalesXml</a>.xmlCBF

<span class="keyword">import</span> <a href="../ScalesXml.scala.html#scales.xml.ScalesXml" title="scales.xml.ScalesXml.type">ScalesXml</a>.fromParserDefault <span class="comment">// note cannot be in parser here</span>

<span class="comment">/**
 * Entry point to creating DslBuilders, can be used without the implicit helpers
 */</span> 
<span class="keyword">object</span> <a title="scales.xml.dsl.DslBuilder.type" id="scales.xml.dsl.DslBuilder">DslBuilder</a> <a href="#scales.xml.dsl.DslBuilder" title="scales.xml.dsl.DslBuilder.type" class="delimiter">{</a>
  
  <span class="comment">/**
   * Creates a tree with @elem as the root
   */</span> 
  <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)scales.xml.XmlTree" id="scales.xml.dsl.DslBuilder.elem2tree">elem2tree</a><span class="delimiter">(</span> <a title="scales.xml.Elem" id="scales.xml.dsl.DslBuilder.elem2tree.elem">elem</a> : <a href="../XmlTypes.scala.html#scales.xml;Elem" title="scales.xml.Elem">Elem</a> <span class="delimiter">)</span> : <a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree" title="scales.xml.XmlTree">XmlTree</a> = <a href="../../utils/package.scala.html#scales.utils.package.subtree" title="[Item &lt;: scales.utils.LeftLike[Item,scales.utils.collection.Tree[Item,Section,CC]], Section, CC[A] &lt;: scala.collection.IndexedSeqLike[A,CC[A]]](section: Section, children: CC[scales.utils.ItemOrTree[Item,Section,CC]])(implicit cbf: scales.utils.TreeCBF[Item,Section,CC])scales.utils.ItemOrTree[Item,Section,CC]">subtree</a><span title="(section: scales.xml.Elem, children: scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]])(implicit cbf: scales.utils.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC])scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]" class="delimiter">[</span><a href="../XmlTypes.scala.html#scales.xml;XmlItem" title="scales.xml.XmlItem">XmlItem</a>, <a href="../XmlTypes.scala.html#scales.xml;Elem" title="scales.xml.Elem">Elem</a>, <a href="../../utils/collection/ImmutableArray.scala.html#scales.utils.collection;ImmutableArrayProxy" title="scales.xml.XCC">XCC</a><span class="delimiter">]</span><a href="../impl/XmlTypesImplicits.scala.html#scales.xml.impl;XmlTypesImplicits.xmlCBF" title="=&gt; scales.xml.XmlCBF" class="delimiter">(</a><a href="#scales.xml.dsl.DslBuilder.elem2tree.elem" title="scales.xml.Elem">elem</a>,<a href="../impl/XmlTypesDefaults.scala.html#scales.xml.impl;XmlTypes.emptyChildren" title="=&gt; scales.xml.XmlChildren">emptyChildren</a><span class="delimiter">)</span>.<a href="../../utils/EitherLike.scala.html#scales.utils;EitherLike.right" title="=&gt; scales.utils.impl.RightLikeProjection[scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]">right</a>.<a href="../../utils/impl/EitherLikeImpl.scala.html#scales.utils.impl;RightLikeProjection.get" title="=&gt; scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">get</a>
  <span class="comment">/**
   * Creates a tree with @qname for the root Elem
   */</span> 
  <span class="keyword">def</span> <a title="(qname: scales.xml.QName)scales.xml.XmlTree" id="scales.xml.dsl.DslBuilder.q2tree">q2tree</a><span class="delimiter">(</span> <a title="scales.xml.QName" id="scales.xml.dsl.DslBuilder.q2tree.qname">qname</a> : <a href="../QName.scala.html#scales.xml;QName" title="scales.xml.QName">QName</a> <span class="delimiter">)</span> = <a href="#scales.xml.dsl.DslBuilder.elem2tree" title="(elem: scales.xml.Elem)scales.xml.XmlTree">elem2tree</a><span class="delimiter">(</span><a href="../XmlTypes.scala.html#scales.xml.Elem.apply(298a8ae74b)" title="(namei: scales.xml.QName, attributesi: scales.xml.Attributes, namespacesi: scala.collection.immutable.Map[String,String])(implicit fromParser: scales.xml.impl.FromParser)scales.xml.Elem">Elem</a><a href="../impl/XmlTypesImplicits.scala.html#scales.xml.impl;XmlTypesImplicits.fromParserDefault" title="=&gt; scales.xml.impl.FromParser" class="delimiter">(</a><a href="#scales.xml.dsl.DslBuilder.q2tree.qname" title="scales.xml.QName">qname</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Creates a new tree for the DslBuilder with this @qname for the root elem
   */</span> 
  <span class="keyword">def</span> <a title="(qname: scales.xml.QName)scales.xml.dsl.DslBuilder" id="scales.xml.dsl.DslBuilder.apply(1d9edcbb34)">apply</a><span class="delimiter">(</span> <a title="scales.xml.QName" id="scales.xml.dsl.DslBuilder.apply(1d9edcbb34).qname">qname</a> : <a href="../QName.scala.html#scales.xml;QName" title="scales.xml.QName">QName</a> <span class="delimiter">)</span> = <span title="scales.xml.dsl.DslBuilder" class="keyword">new</span> <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#scales.xml.dsl.DslBuilder.elem2tree" title="(elem: scales.xml.Elem)scales.xml.XmlTree">elem2tree</a><span class="delimiter">(</span><a href="../XmlTypes.scala.html#scales.xml.Elem.apply(298a8ae74b)" title="(namei: scales.xml.QName, attributesi: scales.xml.Attributes, namespacesi: scala.collection.immutable.Map[String,String])(implicit fromParser: scales.xml.impl.FromParser)scales.xml.Elem">Elem</a><a href="../impl/XmlTypesImplicits.scala.html#scales.xml.impl;XmlTypesImplicits.fromParserDefault" title="=&gt; scales.xml.impl.FromParser" class="delimiter">(</a><a href="#scales.xml.dsl.DslBuilder.apply(1d9edcbb34).qname" title="scales.xml.QName">qname</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> 
  <span class="comment">/**
   * Creates a new tree for the DslBuilder with @elem as the root
   */</span>
  <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)scales.xml.dsl.DslBuilder" id="scales.xml.dsl.DslBuilder.apply(d56352f7fa)">apply</a><span class="delimiter">(</span> <a title="scales.xml.Elem" id="scales.xml.dsl.DslBuilder.apply(d56352f7fa).elem">elem</a> : <a href="../XmlTypes.scala.html#scales.xml;Elem" title="scales.xml.Elem">Elem</a> <span class="delimiter">)</span> = <span title="scales.xml.dsl.DslBuilder" class="keyword">new</span> <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#scales.xml.dsl.DslBuilder.elem2tree" title="(elem: scales.xml.Elem)scales.xml.XmlTree">elem2tree</a><span class="delimiter">(</span><a href="#scales.xml.dsl.DslBuilder.apply(d56352f7fa).elem" title="scales.xml.Elem">elem</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="comment">/**
   * Uses @tree to directly create the DslBuilder
   */</span>
  <span class="keyword">def</span> <a title="(tree: scales.xml.XmlTree)scales.xml.dsl.DslBuilder" id="scales.xml.dsl.DslBuilder.apply(9bef5230ab)">apply</a><span class="delimiter">(</span> <a title="scales.xml.XmlTree" id="scales.xml.dsl.DslBuilder.apply(9bef5230ab).tree">tree</a> : <a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree" title="scales.xml.XmlTree">XmlTree</a> <span class="delimiter">)</span> = <span title="scales.xml.dsl.DslBuilder" class="keyword">new</span> <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#scales.xml.dsl.DslBuilder.apply(9bef5230ab).tree" title="scales.xml.XmlTree">tree</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Simple runtime Wrapper around folds
 */</span> 
<span title="AnyRef" class="keyword">case class</span> <a title="class FoldErrorException extends RuntimeException with Product with Serializable" id="scales.xml.dsl.FoldErrorException.readResolve">FoldErrorException</a><a href="#scales.xml.dsl.FoldErrorException.readResolve" title="Product" class="delimiter">(</a><a title="scales.utils.collection.path.FoldError" id="scales.xml.dsl;FoldErrorException.error">error</a> : <a href="../../utils/collection/path/PathFolds.scala.html#scales.utils.collection.path;FoldError" title="scales.utils.collection.path.FoldError">FoldError</a><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="RuntimeException">RuntimeException</span>


<span class="comment">/*
 * Must have a starting element, modelled as tree as we need to keep the data around and trees must always have an elem
 */</span>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class DslBuilder extends AnyRef" id="scales.xml.dsl;DslBuilder">DslBuilder</a> <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder" class="keyword">private</a><span class="delimiter">(</span><span class="keyword">val</span> <a title="scales.xml.XmlTree" id="scales.xml.dsl;DslBuilder.tree">tree</a>: <a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree" title="scales.xml.XmlTree">XmlTree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="../ScalesXml.scala.html#scales.xml.ScalesXml" title="scales.xml.ScalesXml.type">ScalesXml</a>._

  <span class="comment">/**
   * Add attributes
   */</span> 
  <span class="keyword">def</span> <a title="(attribs: scales.xml.Attribute*)scales.xml.dsl.DslBuilder" id="scales.xml.dsl;DslBuilder./@(ae0a82797b)">/@</a><span class="delimiter">(</span><a title="scales.xml.Attribute*" id="scales.xml.dsl;DslBuilder./@(ae0a82797b).attribs">attribs</a> : <span title="scales.xml.Attribute*">Attribute</span>*<span class="delimiter">)</span> = <span title="scales.xml.dsl.DslBuilder" class="keyword">new</span> <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.copy" title="(section: scales.xml.Elem, children: scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]])scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">copy</a><span class="delimiter">(</span>section = <a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.section" title="scales.xml.Elem" id="scales.xml.dsl;DslBuilder./@(ae0a82797b).qual$1">section</a>.<a href="../XmlTypes.scala.html#scales.xml;Elem.copy$default$1" title="scales.xml.QName" id="scales.xml.dsl;DslBuilder./@(ae0a82797b).x$6">copy</a> <a href="../impl/XmlTypesImplicits.scala.html#scales.xml.impl;XmlTypesImplicits.fromParserDefault" title="=&gt; scales.xml.impl.FromParser" class="delimiter">(</a>attributes = <a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.section" title="=&gt; scales.xml.Elem">section</a>.<a href="../XmlTypes.scala.html#scales.xml;Elem.attributes" title="=&gt; scales.xml.Attributes">attributes</a> <a href="../../utils/collection/ArraySet.scala.html#scales.utils.collection;ArraySet.++(2ac3a7aebb)" title="scales.utils.collection.ArraySet[scales.xml.Attribute]" id="scales.xml.dsl;DslBuilder./@(ae0a82797b).x$4">++</a> <a href="#scales.xml.dsl;DslBuilder./@(ae0a82797b).attribs" title="scales.xml.Attribute*">attribs</a><span class="delimiter">)</span> <span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Add attributes
   */</span> 
  <span class="keyword">def</span> <a title="(attribs: =&gt; Iterable[scales.xml.Attribute])scales.xml.dsl.DslBuilder" id="scales.xml.dsl;DslBuilder./@(6aab4719d6)">/@</a><span class="delimiter">(</span><a title="=&gt; Iterable[scales.xml.Attribute]" id="scales.xml.dsl;DslBuilder./@(6aab4719d6).attribs">attribs</a> : =&gt; Iterable<span class="delimiter">[</span>Attribute<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a> = <span title="scales.xml.dsl.DslBuilder" class="keyword">new</span> <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.copy" title="(section: scales.xml.Elem, children: scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]])scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">copy</a><span class="delimiter">(</span>section = <a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.section" title="scales.xml.Elem" id="scales.xml.dsl;DslBuilder./@(6aab4719d6).qual$2">section</a>.<a href="../XmlTypes.scala.html#scales.xml;Elem.copy$default$1" title="scales.xml.QName" id="scales.xml.dsl;DslBuilder./@(6aab4719d6).x$9">copy</a> <a href="../impl/XmlTypesImplicits.scala.html#scales.xml.impl;XmlTypesImplicits.fromParserDefault" title="=&gt; scales.xml.impl.FromParser" class="delimiter">(</a>attributes = <a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.section" title="=&gt; scales.xml.Elem">section</a>.<a href="../XmlTypes.scala.html#scales.xml;Elem.attributes" title="=&gt; scales.xml.Attributes">attributes</a> <a href="../../utils/collection/ArraySet.scala.html#scales.utils.collection;ArraySet.++(2ac3a7aebb)" title="scales.utils.collection.ArraySet[scales.xml.Attribute]" id="scales.xml.dsl;DslBuilder./@(6aab4719d6).x$7">++</a> <a href="#scales.xml.dsl;DslBuilder./@(6aab4719d6).attribs" title="=&gt; Iterable[scales.xml.Attribute]">attribs</a><span class="delimiter">)</span> <span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Optionally add a single attribute, when None no attribute will be added
   */</span>
  <span class="keyword">def</span> <a title="(attrib: Option[scales.xml.Attribute])scales.xml.dsl.DslBuilder" id="scales.xml.dsl;DslBuilder./@(50e7e7d79c)">/@</a><span class="delimiter">(</span><a title="Option[scales.xml.Attribute]" id="scales.xml.dsl;DslBuilder./@(50e7e7d79c).attrib">attrib</a> : <span title="Option[scales.xml.Attribute]">Option</span><span class="delimiter">[</span>Attribute<span class="delimiter">]</span><span class="delimiter">)</span> = 
    <a href="#scales.xml.dsl;DslBuilder./@(50e7e7d79c).attrib" title="Option[scales.xml.Attribute]">attrib</a>.<span title="(f: scales.xml.Attribute =&gt; scales.xml.dsl.DslBuilder)Option[scales.xml.dsl.DslBuilder]">map</span><span class="delimiter">{</span> <a title="scales.xml.Attribute" id="scales.xml.dsl;DslBuilder./@(50e7e7d79c).$anonfun.a">a</a> =&gt; 
      <span title="scales.xml.dsl.DslBuilder" class="keyword">new</span> <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.copy" title="(section: scales.xml.Elem, children: scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]])scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">copy</a><span class="delimiter">(</span>section = <a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.section" title="scales.xml.Elem" id="scales.xml.dsl;DslBuilder./@(50e7e7d79c).$anonfun.qual$3">section</a>.<a href="../XmlTypes.scala.html#scales.xml;Elem.copy$default$1" title="scales.xml.QName" id="scales.xml.dsl;DslBuilder./@(50e7e7d79c).$anonfun.x$12">copy</a> <a href="../impl/XmlTypesImplicits.scala.html#scales.xml.impl;XmlTypesImplicits.fromParserDefault" title="=&gt; scales.xml.impl.FromParser" class="delimiter">(</a>attributes = <a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.section" title="=&gt; scales.xml.Elem">section</a>.<a href="../XmlTypes.scala.html#scales.xml;Elem.attributes" title="=&gt; scales.xml.Attributes">attributes</a> <a href="../../utils/collection/ArraySet.scala.html#scales.utils.collection;ArraySet.+" title="scales.utils.collection.ArraySet[scales.xml.Attribute]" id="scales.xml.dsl;DslBuilder./@(50e7e7d79c).$anonfun.x$10">+</a> <a href="#scales.xml.dsl;DslBuilder./@(50e7e7d79c).$anonfun.a" title="scales.xml.Attribute">a</a><span class="delimiter">)</span> <span class="delimiter">)</span><span class="delimiter">)</span>
	     <span class="delimiter">}</span>.<span title="(default: =&gt; scales.xml.dsl.DslBuilder)scales.xml.dsl.DslBuilder">getOrElse</span><span class="delimiter">{</span><a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder" class="keyword">this</a><span class="delimiter">}</span>

  <span class="comment">/**
   * Remove attributes
   */</span>
  <span class="keyword">def</span> <a title="(attribs: scales.xml.QName*)scales.xml.dsl.DslBuilder" id="scales.xml.dsl;DslBuilder.-/@">-/@</a><span class="delimiter">(</span><a title="scales.xml.QName*" id="scales.xml.dsl;DslBuilder.-/@.attribs">attribs</a> : <span title="scales.xml.QName*">QName</span>*<span class="delimiter">)</span> = <span title="scales.xml.dsl.DslBuilder" class="keyword">new</span> <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.copy" title="(section: scales.xml.Elem, children: scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]])scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">copy</a><span class="delimiter">(</span>section = <a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.section" title="scales.xml.Elem" id="scales.xml.dsl;DslBuilder.-/@.qual$4">section</a>.<a href="../XmlTypes.scala.html#scales.xml;Elem.copy$default$1" title="scales.xml.QName" id="scales.xml.dsl;DslBuilder.-/@.x$15">copy</a> <a href="../impl/XmlTypesImplicits.scala.html#scales.xml.impl;XmlTypesImplicits.fromParserDefault" title="=&gt; scales.xml.impl.FromParser" class="delimiter">(</a>attributes = <a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.section" title="=&gt; scales.xml.Elem">section</a>.<a href="../XmlTypes.scala.html#scales.xml;Elem.attributes" title="=&gt; scales.xml.Attributes">attributes</a> <a href="../../utils/collection/ArraySet.scala.html#scales.utils.collection;ArraySet.--(63da4503f9)" title="scales.utils.collection.ArraySet[scales.xml.Attribute]" id="scales.xml.dsl;DslBuilder.-/@.x$13">--</a> <a href="#scales.xml.dsl;DslBuilder.-/@.attribs" title="scales.xml.QName*">attribs</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  
  <span class="keyword">def</span> <a title="(itemOrElems: scales.xml.ItemOrElem*)scales.xml.dsl.DslBuilder" id="scales.xml.dsl;DslBuilder.add">add</a><span class="delimiter">(</span> <a title="scales.xml.ItemOrElem*" id="scales.xml.dsl;DslBuilder.add.itemOrElems">itemOrElems</a> : <span title="scales.xml.ItemOrElem*">ItemOrElem</span> * <span class="delimiter">)</span> = <a href="#scales.xml.dsl;DslBuilder./(c8cfcd125e)" title="(itemOrElems: scales.xml.ItemOrElem*)scales.xml.dsl.DslBuilder">/</a><span class="delimiter">(</span> <a href="#scales.xml.dsl;DslBuilder.add.itemOrElems" title="scales.xml.ItemOrElem*">itemOrElems</a> :_* <span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(itemOrElems: =&gt; Iterable[scales.xml.ItemOrElem])scales.xml.dsl.DslBuilder" id="scales.xml.dsl;DslBuilder./(86bcf09c58)">/</a><span class="delimiter">(</span> <a title="=&gt; Iterable[scales.xml.ItemOrElem]" id="scales.xml.dsl;DslBuilder./(86bcf09c58).itemOrElems">itemOrElems</a> : =&gt; Iterable<span class="delimiter">[</span>ItemOrElem<span class="delimiter">]</span> <span class="delimiter">)</span> : <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a> =
    <span title="scales.xml.dsl.DslBuilder" class="keyword">new</span> <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.copy$default$1" title="scales.xml.Elem" id="scales.xml.dsl;DslBuilder./(86bcf09c58).x$21">copy</a><span class="delimiter">(</span> children = <span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.children" title="=&gt; scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]">children</a> <a href="../impl/XmlTypesImplicits.scala.html#scales.xml.impl;XmlTypesImplicits.xmlCBF" title="scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]" id="scales.xml.dsl;DslBuilder./(86bcf09c58).x$20">++</a> <a href="#scales.xml.dsl;DslBuilder./(86bcf09c58).itemOrElems" title="=&gt; Iterable[scales.xml.ItemOrElem]">itemOrElems</a>  <span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Add a number of ItemOrElems wrapped in Option, those which are Some will be added.
   */</span> 
  <span class="keyword">def</span> <a title="(itemOrElems: Option[scales.xml.ItemOrElem]*)scales.xml.dsl.DslBuilder" id="scales.xml.dsl;DslBuilder.addOptionals(7ca204e8d0)">addOptionals</a><span class="delimiter">(</span> <a title="Option[scales.xml.ItemOrElem]*" id="scales.xml.dsl;DslBuilder.addOptionals(7ca204e8d0).itemOrElems">itemOrElems</a> : <span title="Option[scales.xml.ItemOrElem]*">Option</span><span class="delimiter">[</span>ItemOrElem<span class="delimiter">]</span> * <span class="delimiter">)</span> : <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a> = <a href="#scales.xml.dsl;DslBuilder./(86bcf09c58)" title="(itemOrElems: =&gt; Iterable[scales.xml.ItemOrElem])scales.xml.dsl.DslBuilder">/</a><span class="delimiter">(</span> <a href="#scales.xml.dsl;DslBuilder.addOptionals(7ca204e8d0).itemOrElems" title="Option[scales.xml.ItemOrElem]*">itemOrElems</a>.<a href="#scales.xml.dsl;DslBuilder.addOptionals(7ca204e8d0).$anonfun.xo" title="(implicit asTraversable: Option[scales.xml.ItemOrElem] =&gt; scala.collection.GenTraversableOnce[scales.xml.ItemOrElem])Seq[scales.xml.ItemOrElem]">flatten</a> <span class="delimiter">)</span>

  <span class="comment">/**
   * Add an Iterable of ItemOrElems wrapped in Option, those which are Some will be added.
   */</span> 
  <span class="keyword">def</span> <a title="(itemOrElems: =&gt; Iterable[Option[scales.xml.ItemOrElem]])scales.xml.dsl.DslBuilder" id="scales.xml.dsl;DslBuilder.addOptionals(72b0e860ee)">addOptionals</a><span class="delimiter">(</span> <a title="=&gt; Iterable[Option[scales.xml.ItemOrElem]]" id="scales.xml.dsl;DslBuilder.addOptionals(72b0e860ee).itemOrElems">itemOrElems</a> : =&gt; Iterable<span class="delimiter">[</span>Option<span class="delimiter">[</span>ItemOrElem<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">)</span> : <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a> =
    <a href="#scales.xml.dsl;DslBuilder./(86bcf09c58)" title="(itemOrElems: =&gt; Iterable[scales.xml.ItemOrElem])scales.xml.dsl.DslBuilder">/</a><span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.addOptionals(72b0e860ee).itemOrElems" title="=&gt; Iterable[Option[scales.xml.ItemOrElem]]">itemOrElems</a>.<a href="#scales.xml.dsl;DslBuilder.addOptionals(72b0e860ee).$anonfun.xo" title="(implicit asTraversable: Option[scales.xml.ItemOrElem] =&gt; scala.collection.GenTraversableOnce[scales.xml.ItemOrElem])Iterable[scales.xml.ItemOrElem]">flatten</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Optionally add a child, when None no child we be added
   */</span>
  <span class="keyword">def</span> <a title="(itemOrElem: Option[scales.xml.ItemOrElem])scales.xml.dsl.DslBuilder" id="scales.xml.dsl;DslBuilder./(1a5dc05f9a)">/</a><span class="delimiter">(</span> <a title="Option[scales.xml.ItemOrElem]" id="scales.xml.dsl;DslBuilder./(1a5dc05f9a).itemOrElem">itemOrElem</a> : <span title="Option[scales.xml.ItemOrElem]">Option</span><span class="delimiter">[</span>ItemOrElem<span class="delimiter">]</span> <span class="delimiter">)</span> = 
    <a href="#scales.xml.dsl;DslBuilder./(1a5dc05f9a).itemOrElem" title="Option[scales.xml.ItemOrElem]">itemOrElem</a>.<span title="(f: scales.xml.ItemOrElem =&gt; scales.xml.dsl.DslBuilder)Option[scales.xml.dsl.DslBuilder]">map</span><span class="delimiter">{</span> <a title="scales.xml.ItemOrElem" id="scales.xml.dsl;DslBuilder./(1a5dc05f9a).$anonfun.i">i</a> =&gt; 
      <span title="scales.xml.dsl.DslBuilder" class="keyword">new</span> <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.copy$default$1" title="scales.xml.Elem" id="scales.xml.dsl;DslBuilder./(1a5dc05f9a).$anonfun.x$19">copy</a><span class="delimiter">(</span> children = <span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.children" title="=&gt; scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]">children</a> <a href="../impl/XmlTypesImplicits.scala.html#scales.xml.impl;XmlTypesImplicits.xmlCBF" title="scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]" id="scales.xml.dsl;DslBuilder./(1a5dc05f9a).$anonfun.x$18">:+</a> <a href="#scales.xml.dsl;DslBuilder./(1a5dc05f9a).$anonfun.i" title="scales.xml.ItemOrElem">i</a>  <span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
		 <span class="delimiter">}</span>.<span title="(default: =&gt; scales.xml.dsl.DslBuilder)scales.xml.dsl.DslBuilder">getOrElse</span><span class="delimiter">{</span><a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder" class="keyword">this</a><span class="delimiter">}</span>

  <span class="comment">/**
   * Fold over the current tree, allows folding deep within a builder.  Either the fold works or `this` is returned with the FoldError.
   */</span> 
  <span class="keyword">def</span> <a title="[T &lt;: Iterable[scales.xml.XmlPath]](xpath: scales.xml.XmlPath =&gt; scales.xml.XPath[T])(folder: scales.xml.XmlPath =&gt; scales.utils.collection.path.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC])Either[scales.xml.dsl.DslBuilder,(scales.xml.dsl.DslBuilder, scales.utils.collection.path.FoldError)]" id="scales.xml.dsl;DslBuilder.fold">fold</a><span class="delimiter">[</span><a title=" &lt;: Iterable[scales.xml.XmlPath]" id="scales.xml.dsl;DslBuilder.fold;T">T</a> &lt;: Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span> <a title="scales.xml.XmlPath =&gt; scales.xml.XPath[T]" id="scales.xml.dsl;DslBuilder.fold.xpath">xpath</a> : XmlPath =&gt; XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span> <a title="scales.xml.XmlPath =&gt; scales.utils.collection.path.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]" id="scales.xml.dsl;DslBuilder.fold.folder">folder</a>: <span class="delimiter">(</span>XmlPath<span class="delimiter">)</span> =&gt; FoldOperation<span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span> <span class="delimiter">)</span> : <span title="Either[scales.xml.dsl.DslBuilder,(scales.xml.dsl.DslBuilder, scales.utils.collection.path.FoldError)]">Either</span><span class="delimiter">[</span>DslBuilder, <span class="delimiter">(</span>DslBuilder, FoldError<span class="delimiter">)</span><span class="delimiter">]</span> = 
    <span class="delimiter">(</span><a href="../../utils/collection/path/PathFunctions.scala.html#scales.utils.collection.path;Paths.foldPositions(59a5d52af9)" title="(locations: Iterable[scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]])(folder: scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC] =&gt; scales.utils.collection.path.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC])(implicit cbf: scales.utils.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC], implicit cm: ClassManifest[(scales.utils.collection.path.Position[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC], scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC])])Paths.this.FoldR[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">foldPositions</a><span class="delimiter">(</span> <a href="../xpath/XmlPaths.scala.html#scales.xml.xpath;XmlPaths.raw" title="(xpath: scales.xml.xpath.XPath[T])Iterable[scales.xml.XmlPath]">raw</a><span class="delimiter">(</span> <a href="#scales.xml.dsl;DslBuilder.fold.xpath" title="(v1: scales.xml.XmlPath)scales.xml.XPath[T]">xpath</a><span class="delimiter">(</span> <a href="../../utils/collection/path/PathFunctions.scala.html#scales.utils.collection.path;Paths.top" title="(tree: scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC])(implicit cbf: scales.utils.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC])scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">top</a><a href="../impl/XmlTypesImplicits.scala.html#scales.xml.impl;XmlTypesImplicits.xmlCBF" title="=&gt; scales.xml.XmlCBF" class="delimiter">(</a><a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a><span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">)</span><a href="../impl/XmlTypesImplicits.scala.html#scales.xml.impl;XmlTypesImplicits.xmlCBF" title="=&gt; scales.xml.XmlCBF" class="delimiter">(</a><a href="#scales.xml.dsl;DslBuilder.fold.folder" title="scales.xml.XmlPath =&gt; scales.utils.collection.path.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">folder</a><span class="delimiter">)</span><span class="delimiter">)</span>.
      <span title="(fa: scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC] =&gt; Product with Serializable with scala.util.Either[scales.xml.dsl.DslBuilder,(scales.xml.dsl.DslBuilder, scales.utils.collection.path.FoldError)], fb: scales.utils.collection.path.FoldError =&gt; Product with Serializable with scala.util.Either[scales.xml.dsl.DslBuilder,(scales.xml.dsl.DslBuilder, scales.utils.collection.path.FoldError)])Product with Serializable with scala.util.Either[scales.xml.dsl.DslBuilder,(scales.xml.dsl.DslBuilder, scales.utils.collection.path.FoldError)]">fold</span><span class="delimiter">(</span> <a title="scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]" id="scales.xml.dsl;DslBuilder.fold.$anonfun.x">x</a> =&gt; <span title="(a: scales.xml.dsl.DslBuilder)scala.util.Left[scales.xml.dsl.DslBuilder,Nothing]">Left</span><span class="delimiter">(</span><span title="scales.xml.dsl.DslBuilder" class="keyword">new</span> <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#scales.xml.dsl;DslBuilder.fold.$anonfun.x" title="scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">x</a>.<a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path.tree" title="()scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">tree</a> <span class="delimiter">)</span><span class="delimiter">)</span>, <a title="scales.utils.collection.path.FoldError" id="scales.xml.dsl;DslBuilder.fold.$anonfun.y">y</a> =&gt; <span title="(b: (scales.xml.dsl.DslBuilder, scales.utils.collection.path.FoldError))scala.util.Right[Nothing,(scales.xml.dsl.DslBuilder, scales.utils.collection.path.FoldError)]">Right</span><span class="delimiter">(</span><span title="(_1: scales.xml.dsl.DslBuilder, _2: scales.utils.collection.path.FoldError)(scales.xml.dsl.DslBuilder, scales.utils.collection.path.FoldError)" class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder" class="keyword">this</a>,<a href="#scales.xml.dsl;DslBuilder.fold.$anonfun.y" title="scales.utils.collection.path.FoldError">y</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span>

  <span class="comment">/**
   * fold_! calls fold but throws the error when its returning a root
   */</span>
  <span class="keyword">def</span> <a title="[T &lt;: Iterable[scales.xml.XmlPath]](xpath: scales.xml.XmlPath =&gt; scales.xml.XPath[T])(folder: scales.xml.XmlPath =&gt; scales.utils.collection.path.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC])scales.xml.dsl.DslBuilder" id="scales.xml.dsl;DslBuilder.fold_!">fold_!</a><span class="delimiter">[</span><a title=" &lt;: Iterable[scales.xml.XmlPath]" id="scales.xml.dsl;DslBuilder.fold_!;T">T</a> &lt;: Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span> <a title="scales.xml.XmlPath =&gt; scales.xml.XPath[T]" id="scales.xml.dsl;DslBuilder.fold_!.xpath">xpath</a> : XmlPath =&gt; XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span> <a title="scales.xml.XmlPath =&gt; scales.utils.collection.path.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]" id="scales.xml.dsl;DslBuilder.fold_!.folder">folder</a>: <span class="delimiter">(</span>XmlPath<span class="delimiter">)</span> =&gt; FoldOperation<span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span> <span class="delimiter">)</span> : <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a> =
    <span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.fold" title="(xpath: scales.xml.XmlPath =&gt; scales.xml.XPath[T])(folder: scales.xml.XmlPath =&gt; scales.utils.collection.path.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC])Either[scales.xml.dsl.DslBuilder,(scales.xml.dsl.DslBuilder, scales.utils.collection.path.FoldError)]">fold</a><span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.fold_!.xpath" title="scales.xml.XmlPath =&gt; scales.xml.XPath[T]">xpath</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.fold_!.folder" title="scales.xml.XmlPath =&gt; scales.utils.collection.path.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">folder</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(fa: scales.xml.dsl.DslBuilder =&gt; scales.xml.dsl.DslBuilder, fb: ((scales.xml.dsl.DslBuilder, scales.utils.collection.path.FoldError)) =&gt; scales.xml.dsl.DslBuilder)scales.xml.dsl.DslBuilder">fold</span><span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.fold_!.$anonfun.x" title="(x: scales.xml.dsl.DslBuilder)scales.xml.dsl.DslBuilder">identity</a>, <a title="(scales.xml.dsl.DslBuilder, scales.utils.collection.path.FoldError)" id="scales.xml.dsl;DslBuilder.fold_!.$anonfun.x">x</a> =&gt; <span title="Nothing" class="keyword">throw</span> <span title="scales.xml.dsl.FoldErrorException" class="keyword">new</span> <a href="#scales.xml.dsl.FoldErrorException.readResolve" title="scales.xml.dsl.FoldErrorException">FoldErrorException</a><span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.fold_!.$anonfun.x" title="(scales.xml.dsl.DslBuilder, scales.utils.collection.path.FoldError)">x</a>.<span title="=&gt; scales.utils.collection.path.FoldError">_2</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Does not throw when NoPaths is returned, simply returning this
   */</span> 
  <span class="keyword">def</span> <a title="[T &lt;: Iterable[scales.xml.XmlPath]](xpath: scales.xml.XmlPath =&gt; scales.xml.XPath[T])(folder: scales.xml.XmlPath =&gt; scales.utils.collection.path.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC])scales.xml.dsl.DslBuilder" id="scales.xml.dsl;DslBuilder.fold_?">fold_?</a><span class="delimiter">[</span><a title=" &lt;: Iterable[scales.xml.XmlPath]" id="scales.xml.dsl;DslBuilder.fold_?;T">T</a> &lt;: Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span> <a title="scales.xml.XmlPath =&gt; scales.xml.XPath[T]" id="scales.xml.dsl;DslBuilder.fold_?.xpath">xpath</a> : XmlPath =&gt; XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span> <a title="scales.xml.XmlPath =&gt; scales.utils.collection.path.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]" id="scales.xml.dsl;DslBuilder.fold_?.folder">folder</a>: <span class="delimiter">(</span>XmlPath<span class="delimiter">)</span> =&gt; FoldOperation<span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span> <span class="delimiter">)</span> : <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a> =
    <span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.fold" title="(xpath: scales.xml.XmlPath =&gt; scales.xml.XPath[T])(folder: scales.xml.XmlPath =&gt; scales.utils.collection.path.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC])Either[scales.xml.dsl.DslBuilder,(scales.xml.dsl.DslBuilder, scales.utils.collection.path.FoldError)]">fold</a><span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.fold_?.xpath" title="scales.xml.XmlPath =&gt; scales.xml.XPath[T]">xpath</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.fold_?.folder" title="scales.xml.XmlPath =&gt; scales.utils.collection.path.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">folder</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(fa: scales.xml.dsl.DslBuilder =&gt; scales.xml.dsl.DslBuilder, fb: ((scales.xml.dsl.DslBuilder, scales.utils.collection.path.FoldError)) =&gt; scales.xml.dsl.DslBuilder)scales.xml.dsl.DslBuilder">fold</span><span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.fold_?.$anonfun.x" title="(x: scales.xml.dsl.DslBuilder)scales.xml.dsl.DslBuilder">identity</a>, <a title="(scales.xml.dsl.DslBuilder, scales.utils.collection.path.FoldError)" id="scales.xml.dsl;DslBuilder.fold_?.$anonfun.x">x</a> =&gt; 
      <span title="scales.xml.dsl.DslBuilder" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.fold_?.$anonfun.x" title="(scales.xml.dsl.DslBuilder, scales.utils.collection.path.FoldError)">x</a>.<span title="=&gt; scales.utils.collection.path.FoldError">_2</span> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../utils/collection/path/PathFolds.scala.html#scales.utils.collection.path.NoPaths" title="scales.utils.collection.path.NoPaths.type">NoPaths</a><span class="delimiter">)</span> 
	<a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder" class="keyword">this</a>
      <span class="keyword">else</span> <span title="Nothing" class="keyword">throw</span> <span title="scales.xml.dsl.FoldErrorException" class="keyword">new</span> <a href="#scales.xml.dsl.FoldErrorException.readResolve" title="scales.xml.dsl.FoldErrorException">FoldErrorException</a><span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.fold_?.$anonfun.x" title="(scales.xml.dsl.DslBuilder, scales.utils.collection.path.FoldError)">x</a>.<span title="=&gt; scales.utils.collection.path.FoldError">_2</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Removes all child trees with a given qname
   */</span> <span class="comment">// any qname will do given its elems</span>
  <span class="keyword">def</span> <a title="(qname: scales.xml.QName)scales.xml.dsl.DslBuilder" id="scales.xml.dsl;DslBuilder.-/">-/</a><span class="delimiter">(</span> <a title="scales.xml.QName" id="scales.xml.dsl;DslBuilder.-/.qname">qname</a> : <a href="../QName.scala.html#scales.xml;QName" title="scales.xml.QName">QName</a> <span class="delimiter">)</span> = <span title="scales.xml.dsl.DslBuilder" class="keyword">new</span> <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.copy$default$1" title="scales.xml.Elem" id="scales.xml.dsl;DslBuilder.-/.x$23">copy</a><span class="delimiter">(</span>children = <a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.children" title="=&gt; scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]">children</a>.<span title="(p: scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC] =&gt; Boolean)scales.utils.collection.ImmutableArrayProxy[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]">filterNot</span><a title="scales.utils.collection.ImmutableArrayProxy[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]" id="scales.xml.dsl;DslBuilder.-/.x$22" class="delimiter">{</a>
    <a title="scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]" id="scales.xml.dsl;DslBuilder.-/.x$22.$anonfun.either">either</a> =&gt;
      <a href="#scales.xml.dsl;DslBuilder.-/.x$22.$anonfun.either" title="scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">either</a>.<a href="../../utils/EitherLike.scala.html#scales.utils;EitherLike.fold" title="(fl: scales.xml.XmlItem =&gt; Boolean, fr: scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC] =&gt; Boolean)Boolean">fold</a><span class="delimiter">(</span> <a title="scales.xml.XmlItem" id="scales.xml.dsl;DslBuilder.-/.x$22.$anonfun.$anonfun.item">item</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>, <a title="scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]" id="scales.xml.dsl;DslBuilder.-/.x$22.$anonfun.$anonfun.tree">tree</a> =&gt; <a href="#scales.xml.dsl;DslBuilder.-/.x$22.$anonfun.$anonfun.tree" title="scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.section" title="=&gt; scales.xml.Elem">section</a>.<a href="../XmlTypes.scala.html#scales.xml;Elem.name" title="=&gt; scales.xml.QName">name</a> <a href="../QName.scala.html#scales.xml;QName.=:=" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#scales.xml.dsl;DslBuilder.-/.qname" title="scales.xml.QName">qname</a><span class="delimiter">)</span>
  <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Add a number of trees, xmlItems, text, cdata, comments etc
   */</span>
  <span class="keyword">def</span> <a title="(itemOrElems: scales.xml.ItemOrElem*)scales.xml.dsl.DslBuilder" id="scales.xml.dsl;DslBuilder./(c8cfcd125e)">/</a><span class="delimiter">(</span> <a title="scales.xml.ItemOrElem*" id="scales.xml.dsl;DslBuilder./(c8cfcd125e).itemOrElems">itemOrElems</a> : <span title="scales.xml.ItemOrElem*">ItemOrElem</span> * <span class="delimiter">)</span> = 
    <span title="scales.xml.dsl.DslBuilder" class="keyword">new</span> <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.copy$default$1" title="scales.xml.Elem" id="scales.xml.dsl;DslBuilder./(c8cfcd125e).x$17">copy</a><span class="delimiter">(</span> children = <span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.children" title="=&gt; scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]">children</a> <a href="../impl/XmlTypesImplicits.scala.html#scales.xml.impl;XmlTypesImplicits.xmlCBF" title="scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]" id="scales.xml.dsl;DslBuilder./(c8cfcd125e).x$16">++</a> <a href="#scales.xml.dsl;DslBuilder./(c8cfcd125e).itemOrElems" title="scales.xml.ItemOrElem*">itemOrElems</a> <span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * sets the tree to a single Text node child, replacing all others
   */</span>
  <span class="keyword">def</span> <a title="(value: String)scales.xml.dsl.DslBuilder" id="scales.xml.dsl;DslBuilder.~>(7e43fda7c0)">~&gt;</a><span class="delimiter">(</span> <a title="String" id="scales.xml.dsl;DslBuilder.~>(7e43fda7c0).value">value</a> : <span title="String">String</span> <span class="delimiter">)</span> : <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a> = <span class="comment">// note ~&gt; is used not -&gt; as it will then get in the way of the tupler</span>
    <span title="scales.xml.dsl.DslBuilder" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.~>(7e43fda7c0).value" title="String">value</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
      <span title="scales.xml.dsl.DslBuilder" class="keyword">new</span> <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.copy$default$1" title="scales.xml.Elem" id="scales.xml.dsl;DslBuilder.~>(7e43fda7c0).x$25">copy</a><span class="delimiter">(</span>children = <a href="../impl/XmlTypesDefaults.scala.html#scales.xml.impl;XmlTypes.emptyChildren" title="=&gt; scales.xml.XmlChildren">emptyChildren</a> <a href="../impl/XmlTypesImplicits.scala.html#scales.xml.impl;XmlTypesImplicits.xmlCBF" title="scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]" id="scales.xml.dsl;DslBuilder.~>(7e43fda7c0).x$24">:+</a> <a href="../../utils/package.scala.html#scales.utils.package.item" title="[Item &lt;: scales.utils.LeftLike[Item,scales.utils.collection.Tree[Item,Section,CC]], Section, CC[X] &lt;: scala.collection.IndexedSeqLike[X,CC[X]]](item: Item)scales.utils.ItemOrTree[Item,Section,CC]">item</a><span title="(item: scales.xml.XmlItem)scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]" class="delimiter">[</span><a href="../XmlTypes.scala.html#scales.xml;XmlItem" title="scales.xml.XmlItem">XmlItem</a>, <a href="../XmlTypes.scala.html#scales.xml;Elem" title="scales.xml.Elem">Elem</a>, <a href="../../utils/collection/ImmutableArray.scala.html#scales.utils.collection;ImmutableArrayProxy" title="scales.xml.XCC">XCC</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="../XmlTypes.scala.html#scales.xml;Text" title="(value: String)scales.xml.Text">Text</a><span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.~>(7e43fda7c0).value" title="String">value</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder" class="keyword">this</a>
    
  <span class="comment">/**
   * see ~&gt;
   */</span> 
  <span class="keyword">def</span> <a title="(value: String)scales.xml.dsl.DslBuilder" id="scales.xml.dsl;DslBuilder.setValue(7e43fda7c0)">setValue</a><span class="delimiter">(</span> <a title="String" id="scales.xml.dsl;DslBuilder.setValue(7e43fda7c0).value">value</a> : <span title="String">String</span> <span class="delimiter">)</span> = <a href="#scales.xml.dsl;DslBuilder.~>(7e43fda7c0)" title="(value: String)scales.xml.dsl.DslBuilder">~&gt;</a><span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.setValue(7e43fda7c0).value" title="String">value</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Optionally sets the tree to a single Text node child, replacing all others, None will not change the current node.
   * 
   * {{{
   *    &lt;(Elem(&quot;root&quot;l)) ~&gt; None
   * }}}
   *
   * would leave an empty &lt;root/&gt;
   */</span>
  <span class="keyword">def</span> <a title="(value: Option[String])scales.xml.dsl.DslBuilder" id="scales.xml.dsl;DslBuilder.~>(cc32f9917f)">~&gt;</a><span class="delimiter">(</span> <a title="Option[String]" id="scales.xml.dsl;DslBuilder.~>(cc32f9917f).value">value</a> : <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> <span class="delimiter">)</span> : <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a> = 
    <a href="#scales.xml.dsl;DslBuilder.~>(cc32f9917f).value" title="Option[String]">value</a>.<span title="(f: String =&gt; scales.xml.dsl.DslBuilder)Option[scales.xml.dsl.DslBuilder]">map</span><span class="delimiter">{</span> <a title="String" id="scales.xml.dsl;DslBuilder.~>(cc32f9917f).$anonfun.v">v</a> =&gt;
      <span title="scales.xml.dsl.DslBuilder" class="keyword">new</span> <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.copy$default$1" title="scales.xml.Elem" id="scales.xml.dsl;DslBuilder.~>(cc32f9917f).$anonfun.x$27">copy</a><span class="delimiter">(</span>children = <a href="../impl/XmlTypesDefaults.scala.html#scales.xml.impl;XmlTypes.emptyChildren" title="=&gt; scales.xml.XmlChildren">emptyChildren</a> <a href="../impl/XmlTypesImplicits.scala.html#scales.xml.impl;XmlTypesImplicits.xmlCBF" title="scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]" id="scales.xml.dsl;DslBuilder.~>(cc32f9917f).$anonfun.x$26">:+</a> <a href="../../utils/package.scala.html#scales.utils.package.item" title="[Item &lt;: scales.utils.LeftLike[Item,scales.utils.collection.Tree[Item,Section,CC]], Section, CC[X] &lt;: scala.collection.IndexedSeqLike[X,CC[X]]](item: Item)scales.utils.ItemOrTree[Item,Section,CC]">item</a><span title="(item: scales.xml.XmlItem)scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]" class="delimiter">[</span><a href="../XmlTypes.scala.html#scales.xml;XmlItem" title="scales.xml.XmlItem">XmlItem</a>, <a href="../XmlTypes.scala.html#scales.xml;Elem" title="scales.xml.Elem">Elem</a>, <a href="../../utils/collection/ImmutableArray.scala.html#scales.utils.collection;ImmutableArrayProxy" title="scales.xml.XCC">XCC</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="../XmlTypes.scala.html#scales.xml;Text" title="(value: String)scales.xml.Text">Text</a><span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.~>(cc32f9917f).$anonfun.v" title="String">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
	    <span class="delimiter">}</span>.<span title="(default: =&gt; scales.xml.dsl.DslBuilder)scales.xml.dsl.DslBuilder">getOrElse</span><span class="delimiter">{</span><a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder" class="keyword">this</a><span class="delimiter">}</span>

  <span class="comment">/**
   * see ~&gt; Option[String]
   */</span>
  <span class="keyword">def</span> <a title="(value: Option[String])scales.xml.dsl.DslBuilder" id="scales.xml.dsl;DslBuilder.setValue(cc32f9917f)">setValue</a><span class="delimiter">(</span> <a title="Option[String]" id="scales.xml.dsl;DslBuilder.setValue(cc32f9917f).value">value</a> : <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> <span class="delimiter">)</span> = <a href="#scales.xml.dsl;DslBuilder.~>(cc32f9917f)" title="(value: Option[String])scales.xml.dsl.DslBuilder">~&gt;</a><span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.setValue(cc32f9917f).value" title="Option[String]">value</a><span class="delimiter">)</span>
  
  <span class="comment">/**
   * Cleans out any child text nodes (comments, cdata etc) and just leaves child elements
   */</span>
  <span class="keyword">def</span> <a title="=&gt; scales.xml.dsl.DslBuilder" id="scales.xml.dsl;DslBuilder.elementsOnly">elementsOnly</a> = <span title="scales.xml.dsl.DslBuilder" class="keyword">new</span> <a href="#scales.xml.dsl;DslBuilder" title="scales.xml.dsl.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.copy$default$1" title="scales.xml.Elem" id="scales.xml.dsl;DslBuilder.elementsOnly.x$29">copy</a><span class="delimiter">(</span>children = <a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.children" title="=&gt; scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]">children</a>.<span title="(p: scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC] =&gt; Boolean)scales.utils.collection.ImmutableArrayProxy[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]">filter</span><a title="scales.utils.collection.ImmutableArrayProxy[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]" id="scales.xml.dsl;DslBuilder.elementsOnly.x$28" class="delimiter">(</a> <a href="#scales.xml.dsl;DslBuilder.elementsOnly.x$28.$anonfun.x$1" title="scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">_</a>.<a href="../../utils/EitherLike.scala.html#scales.utils;EitherLike.fold" title="(fl: scales.xml.XmlItem =&gt; Boolean, fr: scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC] =&gt; Boolean)Boolean">fold</a><span class="delimiter">(</span> <a title="scales.xml.XmlItem" id="scales.xml.dsl;DslBuilder.elementsOnly.x$28.$anonfun.$anonfun.x$2">_</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>, <a title="scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]" id="scales.xml.dsl;DslBuilder.elementsOnly.x$28.$anonfun.$anonfun.x$3">_</a> =&gt; <span title="Boolean(true)" class="keyword">true</span> <span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; scales.xml.XmlTree" id="scales.xml.dsl;DslBuilder.toTree">toTree</a> = <a href="#scales.xml.dsl;DslBuilder.tree" title="=&gt; scales.xml.XmlTree">tree</a>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>
