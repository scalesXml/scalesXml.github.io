<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\xml\impl\XmlTypesDefaults.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scales.xml.impl

<span class="keyword">import</span> scala.collection.immutable.Map

<span class="keyword">import</span> scala.collection.generic.CanBuildFrom

<span class="comment">//import scales.utils.collection.path.{Path, Node, Position}</span>
<span class="keyword">import</span> scales.utils.<span class="delimiter">{</span>TreeCBF, subtree, item, top, 
		     ItemOrTree, noPath =&gt; fno, 
		     EitherLike, LeftLike<span class="delimiter">}</span>

<span class="keyword">import</span> scales.utils.collection.<span class="delimiter">{</span>ListSet, Tree, 
				ImmutableArrayProxy, ImmutableArrayProxyBuilder <span class="delimiter">}</span>
<span class="keyword">import</span> scales.utils.collection.path.<span class="delimiter">{</span> Path, Position, Node <span class="delimiter">}</span>

<span class="keyword">import</span> scales.xml.<span class="delimiter">{</span>XmlItem, Elem, Comment, 
		   PI, QName, PrefixedQName, 
		   NoNamespaceQName, Attribute,
		   ScalesXml<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait XmlTypes extends AnyRef" id="scales.xml.impl;XmlTypes">XmlTypes</a> <span title="Unit" class="delimiter">{</span>

  <span class="keyword">import</span> <a href="EqualsHelpers.scala.html#scales.xml.impl.EqualsHelpers" title="scales.xml.impl.EqualsHelpers.type">EqualsHelpers</a>._

  <span class="comment">/**
   * Alias for the XmlTree CanBuildFrom
   */</span> 
  <span class="keyword">type</span> <a title="scales.utils.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="scales.xml.impl;XmlTypes;XmlCBF">XmlCBF</a> = <span title="scales.utils.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">TreeCBF</span><span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span>

  <span class="comment">/**
   * An AttributeQName is either a PrefixedQName or a NoNamespaceQName
   */</span> 
  <span class="keyword">type</span> <a title="scales.utils.EitherLike[scales.xml.PrefixedQName,scales.xml.NoNamespaceQName]" id="scales.xml.impl;XmlTypes;AttributeQName">AttributeQName</a> = <a href="../../utils/EitherLike.scala.html#scales.utils;EitherLike" title="scales.utils.EitherLike[scales.xml.PrefixedQName,scales.xml.NoNamespaceQName]">EitherLike</a><span class="delimiter">[</span>PrefixedQName, NoNamespaceQName<span class="delimiter">]</span>

  <span class="comment">/**
   * Alias for a mutable builder of XmlChildren
   */</span> 
  <span class="keyword">type</span> <a title="scala.collection.mutable.Builder[XmlTypes.this.ItemOrElem,XmlTypes.this.XmlChildren]" id="scales.xml.impl;XmlTypes;XmlBuilder">XmlBuilder</a> = collection.mutable.<span title="scala.collection.mutable.Builder[XmlTypes.this.ItemOrElem,XmlTypes.this.XmlChildren]">Builder</span><span class="delimiter">[</span> ItemOrElem, XmlChildren <span class="delimiter">]</span>
  <span class="comment">/**
   * Default implementation for constructing an instance of XmlBuilder (ImmutableArrayProxyBuilder)
   */</span> 
  <span class="keyword">def</span> <a title="()XmlTypes.this.XmlBuilder" id="scales.xml.impl;XmlTypes.XmlBuilder">XmlBuilder</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="XmlTypes.this.XmlBuilder">XmlBuilder</span> = <a href="../../utils/collection/ImmutableArray.scala.html#scales.utils.collection;ImmutableArrayProxyBuilder" title="[A]()scales.utils.collection.ImmutableArrayProxyBuilder[A]">ImmutableArrayProxyBuilder</a><span title="()scales.utils.collection.ImmutableArrayProxyBuilder[XmlTypes.this.ItemOrElem]" class="delimiter">[</span><a href="../../utils/EitherLike.scala.html#scales.utils;EitherLike" title="XmlTypes.this.ItemOrElem">ItemOrElem</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Alias for Trees of Elem and XmlItem
   */</span> 
  <span class="keyword">type</span> <a title="scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="scales.xml.impl;XmlTypes;XmlTree">XmlTree</a> = <a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree" title="scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Tree</a><span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span>

  <span class="comment">/**
   * Alias for An XML ItemOrTree
   */</span> 
  <span class="keyword">type</span> <a title="scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="scales.xml.impl;XmlTypes;ItemOrElem">ItemOrElem</a> = <a href="../../utils/EitherLike.scala.html#scales.utils;EitherLike" title="scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">ItemOrTree</a><span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span>

  <span class="comment">/**
   * An Alias for a collection of ItemOrElem, the children of a given tree node
   */</span> 
  <span class="keyword">type</span> <a title="XmlTypes.this.XCC[XmlTypes.this.ItemOrElem]" id="scales.xml.impl;XmlTypes;XmlChildren">XmlChildren</a> = <a href="../../utils/collection/ImmutableArray.scala.html#scales.utils.collection;ImmutableArrayProxy" title="XmlTypes.this.XCC[XmlTypes.this.ItemOrElem]">XCC</a><span class="delimiter">[</span>ItemOrElem<span class="delimiter">]</span>

  <span class="comment">/**
   * XML Collection - an alias for ImmutableArrayProxy 
   */</span> 
  <span class="keyword">type</span> <a title="[T]scales.utils.collection.ImmutableArrayProxy[T]" id="scales.xml.impl;XmlTypes;XCC">XCC</a><span class="delimiter">[</span><a title="" id="scales.xml.impl;XmlTypes;XCC;T">T</a><span class="delimiter">]</span> = <a href="../../utils/collection/ImmutableArray.scala.html#scales.utils.collection;ImmutableArrayProxy" title="scales.utils.collection.ImmutableArrayProxy[T]">ImmutableArrayProxy</a><span class="delimiter">[</span>T<span class="delimiter">]</span>

  <span class="comment">/**
   * Misc is either a Comment or PI, and is used for the Prolog and trailing Misc items in a Doc.
   */</span> 
  <span class="keyword">type</span> <a title="Either[scales.xml.Comment,scales.xml.PI]" id="scales.xml.impl;XmlTypes;Misc">Misc</a> = <span title="Either[scales.xml.Comment,scales.xml.PI]">Either</span><span class="delimiter">[</span>Comment, PI<span class="delimiter">]</span>
  <span class="comment">/** A collection of Misc */</span>
  <span class="keyword">type</span> <a title="Seq[XmlTypes.this.Misc]" id="scales.xml.impl;XmlTypes;Miscs">Miscs</a> = <span title="Seq[XmlTypes.this.Misc]">Seq</span><span class="delimiter">[</span>Misc<span class="delimiter">]</span>

  <span class="comment">/**
   * An alias for am immutable ListSet of Attribute 
   */</span> 
  <span class="comment">//type Attributes = ListSet[Attribute]</span>
  <span class="keyword">type</span> <a title="scales.utils.collection.ArraySet[scales.xml.Attribute]" id="scales.xml.impl;XmlTypes;Attributes">Attributes</a> = scales.utils.collection.<a href="../../utils/collection/ArraySet.scala.html#scales.utils.collection;ArraySet" title="scales.utils.collection.ArraySet[scales.xml.Attribute]">ArraySet</a><span class="delimiter">[</span>Attribute<span class="delimiter">]</span>

  <span class="comment">/** An empty collection of Misc */</span> 
  <span class="keyword">val</span> <a title="XmlTypes.this.Miscs" id="scales.xml.impl;XmlTypes.emptyMiscs">emptyMiscs</a>: <span title="XmlTypes.this.Miscs">Miscs</span> = List<span class="delimiter">[</span>Misc<span class="delimiter">]</span><span title="scala.collection.immutable.Nil.type" class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/** An empty collection of Attribute */</span>
<span class="comment">//  val emptyAttributes: Attributes = ListSet.empty[Attribute]</span>
  <span class="keyword">val</span> <a title="XmlTypes.this.Attributes" id="scales.xml.impl;XmlTypes.emptyAttributes">emptyAttributes</a>: <a href="../../utils/collection/ArraySet.scala.html#scales.utils.collection;ArraySet" title="XmlTypes.this.Attributes">Attributes</a> = <a href="AttributeSetImpl.scala.html#scales.xml.impl.AttributeSet" title="scales.xml.impl.AttributeSet.type">AttributeSet</a>.<a href="AttributeSetImpl.scala.html#scales.xml.impl.AttributeSet.empty" title="=&gt; scales.utils.collection.ArraySet[scales.xml.Attribute]">empty</a><span class="comment">//ListSet.empty[Attribute]</span>
  <span class="comment">/** An empty Map of String -&gt; String representing prefix -&gt; namespace */</span> 
  <span class="keyword">val</span> <a title="scala.collection.immutable.Map[String,String]" id="scales.xml.impl;XmlTypes.emptyNamespaces">emptyNamespaces</a>: <span title="scala.collection.immutable.Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (String, String)*)scala.collection.immutable.Map[String,String]" class="delimiter">[</span><span title="String">String</span>, <span title="String">String</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/** An empty collection of ItemOrElem */</span> 
  <span class="keyword">val</span> <a title="XmlTypes.this.XmlChildren" id="scales.xml.impl;XmlTypes.emptyChildren">emptyChildren</a>: <a href="../../utils/collection/ImmutableArray.scala.html#scales.utils.collection;ImmutableArrayProxy" title="XmlTypes.this.XmlChildren">XmlChildren</a> = <a href="../../utils/collection/ImmutableArray.scala.html#scales.utils.collection.ImmutableArrayProxy" title="[A](elems: A*)scales.utils.collection.ImmutableArrayProxy[A]">ImmutableArrayProxy</a><span title="(elems: XmlTypes.this.ItemOrElem*)scales.utils.collection.ImmutableArrayProxy[XmlTypes.this.ItemOrElem]" class="delimiter">[</span><a href="../../utils/EitherLike.scala.html#scales.utils;EitherLike" title="XmlTypes.this.ItemOrElem">ItemOrElem</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Use to signify a &quot;null object&quot;, tree/path shouldn't work like this its a smell
   */</span>
  <span class="keyword">val</span> <a title="XmlTypes.this.XmlPath" id="scales.xml.impl;XmlTypes.noXmlPath">noXmlPath</a>: <a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path" title="XmlTypes.this.XmlPath">XmlPath</a> = <a href="../../utils/collection/path/PathFunctions.scala.html#scales.utils.collection.path;Paths.noPath" title="[Item &lt;: scales.utils.LeftLike[Item,scales.utils.collection.Tree[Item,Section,CC]], Section, CC[X] &lt;: scala.collection.IndexedSeqLike[X,CC[X]]](implicit cbf: scales.utils.TreeCBF[Item,Section,CC])scales.utils.collection.path.Path[Item,Section,CC]">fno</a><a href="../../utils/collection/ImmutableArray.scala.html#scales.utils.collection.ImmutableArrayProxy.canBuildFrom" title="(implicit cbf: scales.utils.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" class="delimiter">[</a><a href="../XmlTypes.scala.html#scales.xml;XmlItem" title="scales.xml.XmlItem">XmlItem</a>, <a href="../XmlTypes.scala.html#scales.xml;Elem" title="scales.xml.Elem">Elem</a>, <a href="../../utils/collection/ImmutableArray.scala.html#scales.utils.collection;ImmutableArrayProxy" title="XmlTypes.this.XCC">XCC</a><span class="delimiter">]</span>

  <span class="comment">/**
   * An alias for a Path over XmlTree
   */</span> 
  <span class="keyword">type</span> <a title="scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="scales.xml.impl;XmlTypes;XmlPath">XmlPath</a> = <a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path" title="scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Path</a><span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span>

  <span class="comment">/**
   * Will match if the QNames are the same =:= and if the attributes are present (not requiring that these are the only attributes).
   * What is returned is either a Seq of attribute values or a simple boolean
   */</span>
  <span class="keyword">def</span> <a title="(name: scales.xml.QName, attributes: XmlTypes.this.AttributeQName*)AnyRef{def matchAttribs(elem: scales.xml.Elem): Seq[scales.xml.Attribute]; def unapply(elem: scales.xml.Elem): Option[(scales.xml.Elem, List[scales.xml.Attribute])]}" id="scales.xml.impl;XmlTypes.ElemMatcher">ElemMatcher</a><span class="delimiter">(</span><a title="scales.xml.QName" id="scales.xml.impl;XmlTypes.ElemMatcher.name">name</a>: <a href="../QName.scala.html#scales.xml;QName" title="scales.xml.QName">QName</a>, <a title="XmlTypes.this.AttributeQName*" id="scales.xml.impl;XmlTypes.ElemMatcher.attributes">attributes</a>: <span title="XmlTypes.this.AttributeQName*">AttributeQName</span>*<span class="delimiter">)</span> = <a href="#scales.xml.impl;XmlTypes.ElemMatcher;$anon" title="AnyRef{def matchAttribs(elem: scales.xml.Elem): Seq[scales.xml.Attribute]; def unapply(elem: scales.xml.Elem): Option[(scales.xml.Elem, List[scales.xml.Attribute])]}" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef" id="scales.xml.impl;XmlTypes.ElemMatcher;$anon" class="delimiter">{</a>
    <span class="keyword">import</span> <a href="ExtendedTypes.scala.html#scales.xml.impl.ExtraTypesImplicits" title="scales.xml.impl.ExtraTypesImplicits.type">ExtraTypesImplicits</a>._

    <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)Seq[scales.xml.Attribute]" id="scales.xml.impl;XmlTypes.ElemMatcher;$anon.matchAttribs">matchAttribs</a><span class="delimiter">(</span><a title="scales.xml.Elem" id="scales.xml.impl;XmlTypes.ElemMatcher;$anon.matchAttribs.elem">elem</a>: <a href="../XmlTypes.scala.html#scales.xml;Elem" title="scales.xml.Elem">Elem</a><span class="delimiter">)</span> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="XmlTypes.this.AttributeQName" id="scales.xml.impl;XmlTypes.ElemMatcher;$anon.matchAttribs.$anonfun.attribute">attribute</a> &lt;- <a href="#scales.xml.impl;XmlTypes.ElemMatcher.attributes" title="(f: XmlTypes.this.AttributeQName =&gt; scala.collection.GenTraversableOnce[scales.xml.Attribute])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[XmlTypes.this.AttributeQName],scales.xml.Attribute,Seq[scales.xml.Attribute]])Seq[scales.xml.Attribute]">attributes</a>; <a title="scales.xml.Attribute" id="scales.xml.impl;XmlTypes.ElemMatcher;$anon.matchAttribs.$anonfun.$anonfun.matches">matches</a> &lt;- <a href="#scales.xml.impl;XmlTypes.ElemMatcher;$anon.matchAttribs.elem" title="scales.xml.Elem">elem</a>.<a href="../../utils/collection/ArraySet.scala.html#scales.utils.collection;ArraySet.apply" title="(b: XmlTypes.this.AttributeQName)(implicit equiv: scales.utils.Equiv[scales.xml.QName], implicit viewA: scales.xml.Attribute =&gt; scales.xml.QName, implicit viewB: XmlTypes.this.AttributeQName =&gt; scales.xml.QName)Option[scales.xml.Attribute]">attributes</a><a href="EqualsHelpers.scala.html#scales.xml.impl.EqualsHelpers.qnameEquiv" title="(f: scales.xml.Attribute =&gt; scales.xml.Attribute)Option[scales.xml.Attribute]" class="delimiter">(</a><a href="#scales.xml.impl;XmlTypes.ElemMatcher;$anon.matchAttribs.$anonfun.attribute" title="XmlTypes.this.AttributeQName">attribute</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#scales.xml.impl;XmlTypes.ElemMatcher;$anon.matchAttribs.$anonfun.$anonfun.matches" title="scales.xml.Attribute">matches</a>

    <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)Option[(scales.xml.Elem, List[scales.xml.Attribute])]" id="scales.xml.impl;XmlTypes.ElemMatcher;$anon.unapply">unapply</a><span class="delimiter">(</span><a title="scales.xml.Elem" id="scales.xml.impl;XmlTypes.ElemMatcher;$anon.unapply.elem">elem</a>: <a href="../XmlTypes.scala.html#scales.xml;Elem" title="scales.xml.Elem">Elem</a><span class="delimiter">)</span>: <span title="Option[(scales.xml.Elem, List[scales.xml.Attribute])]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>Elem, List<span class="delimiter">[</span>Attribute<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Seq[scales.xml.Attribute]" id="scales.xml.impl;XmlTypes.ElemMatcher;$anon.unapply.matched">matched</a> = <a href="#scales.xml.impl;XmlTypes.ElemMatcher;$anon.matchAttribs" title="(elem: scales.xml.Elem)Seq[scales.xml.Attribute]">matchAttribs</a><span class="delimiter">(</span><a href="#scales.xml.impl;XmlTypes.ElemMatcher;$anon.unapply.elem" title="scales.xml.Elem">elem</a><span class="delimiter">)</span>
      <span title="Option[(scales.xml.Elem, List[scales.xml.Attribute])]" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.impl;XmlTypes.ElemMatcher;$anon.unapply.elem" title="scales.xml.Elem">elem</a>.<a href="../XmlTypes.scala.html#scales.xml;Elem.name" title="=&gt; scales.xml.QName">name</a> <a href="../QName.scala.html#scales.xml;QName.=:=" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#scales.xml.impl;XmlTypes.ElemMatcher.name" title="scales.xml.QName">name</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#scales.xml.impl;XmlTypes.ElemMatcher;$anon.unapply.matched" title="Seq[scales.xml.Attribute]">matched</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#scales.xml.impl;XmlTypes.ElemMatcher.attributes" title="XmlTypes.this.AttributeQName*">attributes</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
        <span title="(x: (scales.xml.Elem, List[scales.xml.Attribute]))Some[(scales.xml.Elem, List[scales.xml.Attribute])]">Some</span><span class="delimiter">(</span><span title="(_1: scales.xml.Elem, _2: List[scales.xml.Attribute])(scales.xml.Elem, List[scales.xml.Attribute])" class="delimiter">(</span><a href="#scales.xml.impl;XmlTypes.ElemMatcher;$anon.unapply.elem" title="scales.xml.Elem">elem</a>, <a href="#scales.xml.impl;XmlTypes.ElemMatcher;$anon.unapply.matched" title="Seq[scales.xml.Attribute]">matched</a>.<span title="=&gt; List[scales.xml.Attribute]">toList</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <span title="None.type">None</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Adds a subtree to this given path and returns a path focussed on the new subtree.
   * 
   * The Tree is constructed from the elem and optional children.
   */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(path: XmlTypes.this.XmlPath, elem: scales.xml.Elem, dchildren: XmlTypes.this.XmlChildren)scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="scales.xml.impl;XmlTypes.addAndFocus">addAndFocus</a><span class="delimiter">(</span><a title="XmlTypes.this.XmlPath" id="scales.xml.impl;XmlTypes.addAndFocus.path">path</a>: <a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path" title="XmlTypes.this.XmlPath">XmlPath</a>, <a title="scales.xml.Elem" id="scales.xml.impl;XmlTypes.addAndFocus.elem">elem</a>: <a href="../XmlTypes.scala.html#scales.xml;Elem" title="scales.xml.Elem">Elem</a>, <a title="XmlTypes.this.XmlChildren" id="scales.xml.impl;XmlTypes.addAndFocus$default$3">dchildren</a> : <a href="../../utils/collection/ImmutableArray.scala.html#scales.utils.collection;ImmutableArrayProxy" title="XmlTypes.this.XmlChildren">XmlChildren</a> = <a href="#scales.xml.impl;XmlTypes.emptyChildren" title="=&gt; XmlTypes.this.XmlChildren">emptyChildren</a><span class="delimiter">)</span> =
    <span class="comment">// start it off</span>
    <span title="scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.impl;XmlTypes.addAndFocus.path" title="XmlTypes.this.XmlPath">path</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#scales.xml.impl;XmlTypes.noXmlPath" title="=&gt; XmlTypes.this.XmlPath">noXmlPath</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../utils/collection/path/PathFunctions.scala.html#scales.utils.collection.path;Paths.top" title="(tree: scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])(implicit cbf: scales.utils.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">top</a><a href="../../utils/collection/ImmutableArray.scala.html#scales.utils.collection.ImmutableArrayProxy.canBuildFrom" title="(implicit ma: ClassManifest[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]])scala.collection.generic.CanBuildFrom[scales.utils.collection.ImmutableArrayProxy[_],scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.utils.collection.ImmutableArrayProxy[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]]" class="delimiter">(</a><a href="../../utils/collection/Trees.scala.html#scales.utils.collection.Tree.apply" title="(isection: scales.xml.Elem, ichildren: XmlTypes.this.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]])scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Tree</a><span class="delimiter">(</span>
        <a href="#scales.xml.impl;XmlTypes.addAndFocus.elem" title="scales.xml.Elem">elem</a>, <a href="#scales.xml.impl;XmlTypes.addAndFocus$default$3" title="XmlTypes.this.XmlChildren">dchildren</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">import</span> <a href="../ScalesXml.scala.html#scales.xml.ScalesXml" title="scales.xml.ScalesXml.type">ScalesXml</a>.xmlCBF

      <span class="comment">// using a Function1 causes 2% of the cost for init alone</span>
      
      <span class="comment">// cache it here as we are going to fudge the path</span>
      <span class="keyword">val</span> <a title="XmlTypes.this.ItemOrElem" id="scales.xml.impl;XmlTypes.addAndFocus.n">n</a> : <a href="../../utils/EitherLike.scala.html#scales.utils;EitherLike" title="XmlTypes.this.ItemOrElem">ItemOrElem</a> = <a href="../../utils/package.scala.html#scales.utils.package.subtree" title="(section: scales.xml.Elem, children: XmlTypes.this.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]])(implicit cbf: scales.utils.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">subtree</a><a href="XmlTypesImplicits.scala.html#scales.xml.impl;XmlTypesImplicits.xmlCBF" title="=&gt; scales.xml.XmlCBF" class="delimiter">(</a><a href="#scales.xml.impl;XmlTypes.addAndFocus.elem" title="scales.xml.Elem">elem</a>, <a href="#scales.xml.impl;XmlTypes.addAndFocus$default$3" title="XmlTypes.this.XmlChildren">dchildren</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="scales.xml.impl;XmlTypes.addAndFocus.size">size</a> = <span title="Int(0)" class="int">0</span>

      <span class="keyword">import</span> <a href="#scales.xml.impl;XmlTypes.addAndFocus.path" title="XmlTypes.this.XmlPath">path</a>.<a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path.node" title="=&gt; scales.utils.collection.path.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">node</a>.focus
      <span class="keyword">val</span> <a title="scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="scales.xml.impl;XmlTypes.addAndFocus.parent">parent</a> = <a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Node.focus" title="=&gt; scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">focus</a>.<a href="../../utils/EitherLike.scala.html#scales.utils;EitherLike.getRight" title="=&gt; scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">getRight</a>
      <span class="keyword">val</span> <a title="XmlTypes.this.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]" id="scales.xml.impl;XmlTypes.addAndFocus.c">c</a> = <a href="#scales.xml.impl;XmlTypes.addAndFocus.parent" title="scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">parent</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.children" title="=&gt; XmlTypes.this.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]">children</a>
      <a href="#scales.xml.impl;XmlTypes.addAndFocus.size" title="Int">size</a> = <a href="#scales.xml.impl;XmlTypes.addAndFocus.c" title="XmlTypes.this.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]">c</a>.<span title="=&gt; Int">length</span>
      
      <span class="comment">// add a child, focus on it</span>
      <span class="keyword">val</span> <a title="scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]" id="scales.xml.impl;XmlTypes.addAndFocus.tpath">tpath</a> = <a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path" title="(top: scales.utils.EitherLike[scales.utils.collection.path.Top[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC],scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]], node: scales.utils.collection.path.Node[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC])(implicit cbf: scala.collection.generic.CanBuildFrom[scales.xml.XCC[_],scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC],scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]])scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">Path</a><a href="XmlTypesImplicits.scala.html#scales.xml.impl;XmlTypesImplicits.xmlCBF" title="=&gt; scales.xml.XmlCBF" class="delimiter">(</a> <a href="#scales.xml.impl;XmlTypes.addAndFocus.path" title="XmlTypes.this.XmlPath">path</a>.<a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path.top" title="=&gt; scales.utils.EitherLike[scales.utils.collection.path.Top[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]">top</a>, 
		       <a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Node" title="(index: Int, focus: scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC])scales.utils.collection.path.Node[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">Node</a><span class="delimiter">(</span> <a href="#scales.xml.impl;XmlTypes.addAndFocus.path" title="XmlTypes.this.XmlPath">path</a>.<a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path.node" title="=&gt; scales.utils.collection.path.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">node</a>.<a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Node.index" title="=&gt; Int">index</a>, 
			    <a href="../../utils/collection/Trees.scala.html#scales.utils.collection.Tree.apply" title="(isection: scales.xml.Elem, ichildren: scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]])scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">Tree</a><span class="delimiter">(</span><a href="#scales.xml.impl;XmlTypes.addAndFocus.parent" title="scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">parent</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.section" title="=&gt; scales.xml.Elem">section</a>,
				       <a href="#scales.xml.impl;XmlTypes.addAndFocus.c" title="XmlTypes.this.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]">c</a> <a href="XmlTypesImplicits.scala.html#scales.xml.impl;XmlTypesImplicits.xmlCBF" title="(elem: scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.collection.ImmutableArrayProxy[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]],scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]])scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]">:+</a> <a href="#scales.xml.impl;XmlTypes.addAndFocus.n" title="XmlTypes.this.ItemOrElem">n</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span>

      <span class="comment">// drill down to last child</span>
      <a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path" title="(top: scales.utils.EitherLike[scales.utils.collection.path.Top[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]], node: scales.utils.collection.path.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])(implicit cbf: scala.collection.generic.CanBuildFrom[XmlTypes.this.XCC[_],scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],XmlTypes.this.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]])scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Path</a><a href="XmlTypesImplicits.scala.html#scales.xml.impl;XmlTypesImplicits.xmlCBF" title="=&gt; scales.xml.XmlCBF" class="delimiter">(</a><a href="#scales.xml.impl;XmlTypes.addAndFocus.tpath" title="scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">tpath</a>, <a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Node" title="(index: Int, focus: scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])scales.utils.collection.path.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Node</a><span class="delimiter">(</span><a href="#scales.xml.impl;XmlTypes.addAndFocus.size" title="Int">size</a>, <a href="#scales.xml.impl;XmlTypes.addAndFocus.n" title="XmlTypes.this.ItemOrElem">n</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Adds a child to the given subpath, however focus remains on the newly modified path
   */</span> 
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(path: XmlTypes.this.XmlPath, child: scales.xml.XmlItem)scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]" id="scales.xml.impl;XmlTypes.addChild">addChild</a><span class="delimiter">(</span><a title="XmlTypes.this.XmlPath" id="scales.xml.impl;XmlTypes.addChild.path">path</a>: <a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path" title="XmlTypes.this.XmlPath">XmlPath</a>, <a title="scales.xml.XmlItem" id="scales.xml.impl;XmlTypes.addChild.child">child</a>: <a href="../XmlTypes.scala.html#scales.xml;XmlItem" title="scales.xml.XmlItem">XmlItem</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="../ScalesXml.scala.html#scales.xml.ScalesXml" title="scales.xml.ScalesXml.type">ScalesXml</a>.xmlCBF
    <span class="keyword">import</span> <a href="#scales.xml.impl;XmlTypes.addChild.path" title="XmlTypes.this.XmlPath">path</a>.<a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path.node" title="=&gt; scales.utils.collection.path.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">node</a>.focus

    <span class="keyword">val</span> <a title="scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="scales.xml.impl;XmlTypes.addChild.parent">parent</a> = <a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Node.focus" title="=&gt; scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">focus</a>.<a href="../../utils/EitherLike.scala.html#scales.utils;EitherLike.getRight" title="=&gt; scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">getRight</a>
    <a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path" title="(top: scales.utils.EitherLike[scales.utils.collection.path.Top[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC],scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]], node: scales.utils.collection.path.Node[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC])(implicit cbf: scala.collection.generic.CanBuildFrom[scales.xml.XCC[_],scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC],scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]])scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">Path</a><a href="XmlTypesImplicits.scala.html#scales.xml.impl;XmlTypesImplicits.xmlCBF" title="=&gt; scales.xml.XmlCBF" class="delimiter">(</a> <a href="#scales.xml.impl;XmlTypes.addChild.path" title="XmlTypes.this.XmlPath">path</a>.<a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path.top" title="=&gt; scales.utils.EitherLike[scales.utils.collection.path.Top[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]">top</a>, 
	       <a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Node" title="(index: Int, focus: scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC])scales.utils.collection.path.Node[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">Node</a><span class="delimiter">(</span> <a href="#scales.xml.impl;XmlTypes.addChild.path" title="XmlTypes.this.XmlPath">path</a>.<a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path.node" title="=&gt; scales.utils.collection.path.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">node</a>.<a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Node.index" title="=&gt; Int">index</a>,
		     <a href="../../utils/collection/Trees.scala.html#scales.utils.collection.Tree.apply" title="(isection: scales.xml.Elem, ichildren: scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]])scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">Tree</a><span class="delimiter">(</span><a href="#scales.xml.impl;XmlTypes.addChild.parent" title="scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">parent</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.section" title="=&gt; scales.xml.Elem">section</a>,
        <a href="#scales.xml.impl;XmlTypes.addChild.parent" title="scales.utils.collection.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">parent</a>.<a href="../../utils/collection/Trees.scala.html#scales.utils.collection;Tree.children" title="=&gt; XmlTypes.this.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]">children</a> <a href="XmlTypesImplicits.scala.html#scales.xml.impl;XmlTypesImplicits.xmlCBF" title="(elem: scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.collection.ImmutableArrayProxy[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]],scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]])scales.xml.XCC[scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]">:+</a> <a href="../../utils/package.scala.html#scales.utils.package.item" title="[Item &lt;: scales.utils.LeftLike[Item,scales.utils.collection.Tree[Item,Section,CC]], Section, CC[X] &lt;: scala.collection.IndexedSeqLike[X,CC[X]]](item: Item)scales.utils.ItemOrTree[Item,Section,CC]">item</a><span title="(item: scales.xml.XmlItem)scales.utils.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" class="delimiter">[</span><a href="../XmlTypes.scala.html#scales.xml;XmlItem" title="scales.xml.XmlItem">XmlItem</a>, <a href="../XmlTypes.scala.html#scales.xml;Elem" title="scales.xml.Elem">Elem</a>, <a href="../../utils/collection/ImmutableArray.scala.html#scales.utils.collection;ImmutableArrayProxy" title="XmlTypes.this.XCC">XCC</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scales.xml.impl;XmlTypes.addChild.child" title="scales.xml.XmlItem">child</a><span class="delimiter">)</span><span class="delimiter">)</span>
			       <span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>


        </pre>
    </body>
</html>
