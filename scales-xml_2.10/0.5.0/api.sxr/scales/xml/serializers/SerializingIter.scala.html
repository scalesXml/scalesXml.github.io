<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\xml\serializers\SerializingIter.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scales.xml.serializers

<span class="keyword">import</span> scales.utils._

<span class="keyword">import</span> resources._

<span class="keyword">import</span> scales.xml._

<span class="keyword">import</span> java.io.Writer

<span class="keyword">import</span> scalaz.<span class="delimiter">{</span>IterV, Enumerator, Input, EphemeralStream<span class="delimiter">}</span>
<span class="keyword">import</span> scalaz.<span title="scalaz.IterV.type">IterV</span>._

<span class="comment">/**
 * Provide push based serializing Iteratee
 */</span> 
<span class="keyword">trait</span> <a title="trait SerializingIter extends AnyRef" id="scales.xml.serializers;SerializingIter">SerializingIter</a> <span title="Unit" class="delimiter">{</span>

  <span class="keyword">type</span> <a title="scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]" id="scales.xml.serializers;SerializingIter;SerialIterT">SerialIterT</a> = <span title="scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]">IterV</span><span class="delimiter">[</span>PullType, <span class="delimiter">(</span>XmlOutput, Option<span class="delimiter">[</span>Throwable<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> 

  <span class="keyword">import</span> java.nio.charset.Charset

  <span class="comment">/**
   * The serializer will be returned automatically to the pool by calling closer
   * 
   * doc functions are only evaluated upon the first elem / last elem
   */</span>
  <span class="keyword">def</span> <a title="(output: scales.xml.serializers.XmlOutput, serializer: scales.xml.serializers.Serializer, closer: () =&gt; Unit, doc: scales.xml.DocLike)SerializingIter.this.SerialIterT" id="scales.xml.serializers;SerializingIter.serializeIter">serializeIter</a><span class="delimiter">(</span> <a title="scales.xml.serializers.XmlOutput" id="scales.xml.serializers;SerializingIter.serializeIter.output">output</a> : <a href="XmlPrinterTypes.scala.html#scales.xml.serializers;XmlOutput" title="scales.xml.serializers.XmlOutput">XmlOutput</a>, <a title="scales.xml.serializers.Serializer" id="scales.xml.serializers;SerializingIter.serializeIter.serializer">serializer</a> : <a href="Serializers.scala.html#scales.xml.serializers;Serializer" title="scales.xml.serializers.Serializer">Serializer</a>, <a title="() =&gt; Unit" id="scales.xml.serializers;SerializingIter.serializeIter.closer">closer</a> : <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Unit, <a title="scales.xml.DocLike" id="scales.xml.serializers;SerializingIter.serializeIter$default$4">doc</a> : <a href="../XmlTypes.scala.html#scales.xml;DocLike" title="scales.xml.DocLike">DocLike</a> = <a href="../XmlTypes.scala.html#scales.xml;EmptyDoc" title="(prolog: scales.xml.Prolog, end: scales.xml.EndMisc)scales.xml.EmptyDoc">EmptyDoc</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> : <span title="SerializingIter.this.SerialIterT">SerialIterT</span> = <span class="delimiter">{</span>

    <span class="keyword">var</span> <a title="Int" id="scales.xml.serializers;SerializingIter.serializeIter.empties">empties</a> = <span title="Int(0)" class="int">0</span>

    <span class="keyword">def</span> <a title="(status: scales.xml.serializers.StreamStatus)SerializingIter.this.SerialIterT" id="scales.xml.serializers;SerializingIter.serializeIter.done">done</a><span class="delimiter">(</span> <a title="scales.xml.serializers.StreamStatus" id="scales.xml.serializers;SerializingIter.serializeIter.done.status">status</a> : <a href="SerializeableXmls.scala.html#scales.xml.serializers;StreamStatus" title="scales.xml.serializers.StreamStatus">StreamStatus</a> <span class="delimiter">)</span> : <span title="SerializingIter.this.SerialIterT">SerialIterT</span> = <span class="delimiter">{</span>
      <span class="comment">// give it back</span>
      <a href="#scales.xml.serializers;SerializingIter.serializeIter.closer" title="()Unit">closer</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="comment">//println(&quot;empties was &quot;+empties)</span>
      <span title="(a: =&gt; (scales.xml.serializers.XmlOutput, Option[Throwable]), i: =&gt; scalaz.Input[scales.xml.PullType])scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]">Done</span><span class="delimiter">(</span><span title="(_1: scales.xml.serializers.XmlOutput, _2: Option[Throwable])(scales.xml.serializers.XmlOutput, Option[Throwable])" class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.serializeIter.done.status" title="scales.xml.serializers.StreamStatus">status</a>.<a href="SerializeableXmls.scala.html#scales.xml.serializers;StreamStatus.output" title="=&gt; scales.xml.serializers.XmlOutput">output</a>, <a href="#scales.xml.serializers;SerializingIter.serializeIter.done.status" title="scales.xml.serializers.StreamStatus">status</a>.<a href="SerializeableXmls.scala.html#scales.xml.serializers;StreamStatus.thrown" title="=&gt; Option[Throwable]">thrown</a><span class="delimiter">)</span>, <span title="[E]=&gt; scalaz.Input[E]">EOF</span><span title="scalaz.Input[scales.xml.PullType]" class="delimiter">[</span><span title="scales.xml.PullType">PullType</span><span class="delimiter">]</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(status: scales.xml.serializers.StreamStatus, prev: scales.xml.PullType, serializer: scales.xml.serializers.Serializer)(s: scalaz.Input[scales.xml.PullType])SerializingIter.this.SerialIterT" id="scales.xml.serializers;SerializingIter.serializeIter.rest">rest</a><span class="delimiter">(</span> <a title="scales.xml.serializers.StreamStatus" id="scales.xml.serializers;SerializingIter.serializeIter.rest.status">status</a> : <a href="SerializeableXmls.scala.html#scales.xml.serializers;StreamStatus" title="scales.xml.serializers.StreamStatus">StreamStatus</a>, <a title="scales.xml.PullType" id="scales.xml.serializers;SerializingIter.serializeIter.rest.prev">prev</a> : <span title="scales.xml.PullType">PullType</span>, <a title="scales.xml.serializers.Serializer" id="scales.xml.serializers;SerializingIter.serializeIter.rest.serializer">serializer</a> : <a href="Serializers.scala.html#scales.xml.serializers;Serializer" title="scales.xml.serializers.Serializer">Serializer</a> <span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.Input[scales.xml.PullType]" id="scales.xml.serializers;SerializingIter.serializeIter.rest.s">s</a> : <span title="scalaz.Input[scales.xml.PullType]">Input</span><span class="delimiter">[</span>PullType<span class="delimiter">]</span><span class="delimiter">)</span> : <span title="SerializingIter.this.SerialIterT">SerialIterT</span> = <span class="delimiter">{</span>
      <a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.s" title="(empty: =&gt; SerializingIter.this.SerialIterT, el: (=&gt; scales.xml.PullType) =&gt; SerializingIter.this.SerialIterT, eof: =&gt; SerializingIter.this.SerialIterT)SerializingIter.this.SerialIterT">s</a><span class="delimiter">(</span>el = <a title="=&gt; scales.xml.PullType" id="scales.xml.serializers;SerializingIter.serializeIter.rest.x$4.$anonfun.e">e</a> =&gt; <span class="delimiter">{</span>
	<span title="SerializingIter.this.SerialIterT" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.status" title="scales.xml.serializers.StreamStatus">status</a>.<a href="SerializeableXmls.scala.html#scales.xml.serializers;StreamStatus.thrown" title="=&gt; Option[Throwable]">thrown</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#scales.xml.serializers;SerializingIter.serializeIter.done" title="(status: scales.xml.serializers.StreamStatus)SerializingIter.this.SerialIterT">done</a><span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.status" title="scales.xml.serializers.StreamStatus">status</a><span class="delimiter">)</span>
	<span class="keyword">else</span> <span class="delimiter">{</span>
	  <span class="keyword">val</span> <a title="scales.xml.serializers.StreamStatus" id="scales.xml.serializers;SerializingIter.serializeIter.rest.x$4.$anonfun.r">r</a> = <a href="SerializeableXmls.scala.html#scales.xml.serializers.StreamSerializer" title="scales.xml.serializers.StreamSerializer.type">StreamSerializer</a>.<a href="SerializeableXmls.scala.html#scales.xml.serializers.StreamSerializer.pump" title="(event: (scales.xml.PullType, scales.xml.PullType), status: scales.xml.serializers.StreamStatus, serializer: scales.xml.serializers.Serializer)scales.xml.serializers.StreamStatus">pump</a><span class="delimiter">(</span><span title="(_1: scales.xml.PullType, _2: scales.xml.PullType)(scales.xml.PullType, scales.xml.PullType)" class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.prev" title="scales.xml.PullType">prev</a>, <a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.x$4.$anonfun.e" title="=&gt; scales.xml.PullType">e</a><span class="delimiter">)</span>, <a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.status" title="scales.xml.serializers.StreamStatus">status</a>, <a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.serializer" title="scales.xml.serializers.Serializer">serializer</a><span class="delimiter">)</span>
	  <span title="SerializingIter.this.SerialIterT" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.x$4.$anonfun.r" title="scales.xml.serializers.StreamStatus">r</a>.<a href="SerializeableXmls.scala.html#scales.xml.serializers;StreamStatus.thrown" title="=&gt; Option[Throwable]">thrown</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#scales.xml.serializers;SerializingIter.serializeIter.done" title="(status: scales.xml.serializers.StreamStatus)SerializingIter.this.SerialIterT">done</a><span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.x$4.$anonfun.r" title="scales.xml.serializers.StreamStatus">r</a><span class="delimiter">)</span>
	  <span class="keyword">else</span> <span title="(f: scalaz.Input[scales.xml.PullType] =&gt; scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])])scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]">Cont</span><span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.serializeIter.rest" title="(status: scales.xml.serializers.StreamStatus, prev: scales.xml.PullType, serializer: scales.xml.serializers.Serializer)(s: scalaz.Input[scales.xml.PullType])SerializingIter.this.SerialIterT">rest</a><a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.x$4.$anonfun.$anonfun.s" title="scalaz.Input[scales.xml.PullType]" class="delimiter">(</a><a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.x$4.$anonfun.r" title="scales.xml.serializers.StreamStatus">r</a>, <a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.x$4.$anonfun.e" title="=&gt; scales.xml.PullType">e</a>, <a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.serializer" title="scales.xml.serializers.Serializer">serializer</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="delimiter">}</span>,
        empty = <a title="() =&gt; scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]" id="scales.xml.serializers;SerializingIter.serializeIter.rest.x$5" class="delimiter">{</a>
	  <a href="#scales.xml.serializers;SerializingIter.serializeIter.empties" title="Int">empties</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
	  <span class="comment">//println(&quot;outitr empty&quot;)</span>
	  <span title="(f: scalaz.Input[scales.xml.PullType] =&gt; scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])])scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]">Cont</span><span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.serializeIter.rest" title="(status: scales.xml.serializers.StreamStatus, prev: scales.xml.PullType, serializer: scales.xml.serializers.Serializer)(s: scalaz.Input[scales.xml.PullType])SerializingIter.this.SerialIterT">rest</a><a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.$anonfun.$anonfun.s" title="scalaz.Input[scales.xml.PullType]" class="delimiter">(</a><a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.status" title="scales.xml.serializers.StreamStatus">status</a>, <a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.prev" title="scales.xml.PullType">prev</a>, <a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.serializer" title="scales.xml.serializers.Serializer">serializer</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>,
        eof =  <span class="delimiter">{</span>
	<a title="() =&gt; SerializingIter.this.SerialIterT" id="scales.xml.serializers;SerializingIter.serializeIter.rest.x$6" class="keyword">if</a> <span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.status" title="scales.xml.serializers.StreamStatus">status</a>.<a href="SerializeableXmls.scala.html#scales.xml.serializers;StreamStatus.thrown" title="=&gt; Option[Throwable]">thrown</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#scales.xml.serializers;SerializingIter.serializeIter.done" title="(status: scales.xml.serializers.StreamStatus)SerializingIter.this.SerialIterT">done</a><span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.status" title="scales.xml.serializers.StreamStatus">status</a><span class="delimiter">)</span>
	<span class="keyword">else</span> <span class="delimiter">{</span>
	  <span class="keyword">val</span> <a title="scales.xml.serializers.StreamStatus" id="scales.xml.serializers;SerializingIter.serializeIter.rest.$anonfun.r">r</a> = <a href="SerializeableXmls.scala.html#scales.xml.serializers.StreamSerializer" title="scales.xml.serializers.StreamSerializer.type">StreamSerializer</a>.<a href="SerializeableXmls.scala.html#scales.xml.serializers.StreamSerializer.pump" title="(event: (scales.xml.PullType, scales.xml.PullType), status: scales.xml.serializers.StreamStatus, serializer: scales.xml.serializers.Serializer)scales.xml.serializers.StreamStatus">pump</a><span class="delimiter">(</span><span title="(_1: scales.xml.PullType, _2: scala.util.Left[scales.xml.Elem,Nothing])(scales.xml.PullType, scala.util.Left[scales.xml.Elem,Nothing])" class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.prev" title="scales.xml.PullType">prev</a>, <a href="SerializeableXmls.scala.html#scales.xml.serializers.StreamSerializer" title="scales.xml.serializers.StreamSerializer.type">StreamSerializer</a>.<a href="SerializeableXmls.scala.html#scales.xml.serializers.StreamSerializer.dummy" title="=&gt; scala.util.Left[scales.xml.Elem,Nothing]">dummy</a><span class="delimiter">)</span>, <a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.status" title="scales.xml.serializers.StreamStatus">status</a>, <a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.serializer" title="scales.xml.serializers.Serializer">serializer</a><span class="delimiter">)</span>
	  <span class="keyword">val</span> <a title="Option[Throwable]" id="scales.xml.serializers;SerializingIter.serializeIter.rest.$anonfun.opt">opt</a> = <a href="XmlPrinter.scala.html#scales.xml.serializers;XmlPrinter.serializeMisc" title="(pout: scales.xml.serializers.XmlOutput, misc: Iterable[scales.xml.Misc], serializer: scales.xml.serializers.Serializer)(scales.xml.serializers.XmlOutput, Option[Throwable])">serializeMisc</a><span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.$anonfun.r" title="scales.xml.serializers.StreamStatus">r</a>.<a href="SerializeableXmls.scala.html#scales.xml.serializers;StreamStatus.output" title="=&gt; scales.xml.serializers.XmlOutput">output</a>, <a href="#scales.xml.serializers;SerializingIter.serializeIter$default$4" title="scales.xml.DocLike">doc</a>.<a href="../XmlTypes.scala.html#scales.xml;DocLike.end" title="=&gt; scales.xml.EndMisc">end</a>.<a href="../XmlTypes.scala.html#scales.xml;EndMisc.misc" title="=&gt; scales.xml.Miscs">misc</a>, <a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.serializer" title="scales.xml.serializers.Serializer">serializer</a><span class="delimiter">)</span>.<span title="=&gt; Option[Throwable]">_2</span>
	    
	  <span class="keyword">val</span> <a title="scales.xml.serializers.StreamStatus" id="scales.xml.serializers;SerializingIter.serializeIter.rest.$anonfun.lastStatus">lastStatus</a> = <a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.$anonfun.r" title="scales.xml.serializers.StreamStatus">r</a>.<a href="SerializeableXmls.scala.html#scales.xml.serializers;StreamStatus.copy$default$1" title="scales.xml.serializers.XmlOutput" id="scales.xml.serializers;SerializingIter.serializeIter.rest.$anonfun.lastStatus.x$3">copy</a><span class="delimiter">(</span>thrown = <a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.$anonfun.opt" title="Option[Throwable]" id="scales.xml.serializers;SerializingIter.serializeIter.rest.$anonfun.lastStatus.x$1">opt</a><span class="delimiter">)</span>
	  
	  <a href="#scales.xml.serializers;SerializingIter.serializeIter.done" title="(status: scales.xml.serializers.StreamStatus)SerializingIter.this.SerialIterT">done</a><span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.serializeIter.rest.$anonfun.lastStatus" title="scales.xml.serializers.StreamStatus">lastStatus</a><span class="delimiter">)</span>
	<span class="delimiter">}</span><span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    
    <span class="keyword">def</span> <a title="(status: scales.xml.serializers.StreamStatus, serializer: scales.xml.serializers.Serializer)(s: scalaz.Input[scales.xml.PullType])SerializingIter.this.SerialIterT" id="scales.xml.serializers;SerializingIter.serializeIter.first">first</a><span class="delimiter">(</span> <a title="scales.xml.serializers.StreamStatus" id="scales.xml.serializers;SerializingIter.serializeIter.first.status">status</a> : <a href="SerializeableXmls.scala.html#scales.xml.serializers;StreamStatus" title="scales.xml.serializers.StreamStatus">StreamStatus</a>, <a title="scales.xml.serializers.Serializer" id="scales.xml.serializers;SerializingIter.serializeIter.first.serializer">serializer</a> : <a href="Serializers.scala.html#scales.xml.serializers;Serializer" title="scales.xml.serializers.Serializer">Serializer</a> <span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.Input[scales.xml.PullType]" id="scales.xml.serializers;SerializingIter.serializeIter.first.s">s</a> : <span title="scalaz.Input[scales.xml.PullType]">Input</span><span class="delimiter">[</span>PullType<span class="delimiter">]</span><span class="delimiter">)</span> : <span title="SerializingIter.this.SerialIterT">SerialIterT</span> =
      <a href="#scales.xml.serializers;SerializingIter.serializeIter.first.s" title="(empty: =&gt; scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])], el: (=&gt; scales.xml.PullType) =&gt; scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])], eof: =&gt; scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])])scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]">s</a><span class="delimiter">(</span>el = <a title="=&gt; scales.xml.PullType" id="scales.xml.serializers;SerializingIter.serializeIter.first.x$10.$anonfun.e">e</a> =&gt; <span class="delimiter">{</span>
	<span class="comment">// decl and prolog misc, which should have been collected by now</span>
	<span class="keyword">val</span> <a title="Option[Throwable]" id="scales.xml.serializers;SerializingIter.serializeIter.first.x$10.$anonfun.opt">opt</a> = <a href="#scales.xml.serializers;SerializingIter.serializeIter.first.serializer" title="scales.xml.serializers.Serializer">serializer</a>.<a href="Serializers.scala.html#scales.xml.serializers;Serializer.xmlDeclaration" title="(encoding: java.nio.charset.Charset, version: scales.xml.XmlVersion)Option[Throwable]">xmlDeclaration</a><span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.serializeIter.first.status" title="scales.xml.serializers.StreamStatus">status</a>.<a href="SerializeableXmls.scala.html#scales.xml.serializers;StreamStatus.output" title="=&gt; scales.xml.serializers.XmlOutput">output</a>.<a href="XmlPrinterTypes.scala.html#scales.xml.serializers;XmlOutput.data" title="=&gt; scales.xml.serializers.SerializerData">data</a>.<a href="Serializers.scala.html#scales.xml.serializers;SerializerData.encoding" title="=&gt; java.nio.charset.Charset">encoding</a>, 
				  <a href="#scales.xml.serializers;SerializingIter.serializeIter.first.status" title="scales.xml.serializers.StreamStatus">status</a>.<a href="SerializeableXmls.scala.html#scales.xml.serializers;StreamStatus.output" title="=&gt; scales.xml.serializers.XmlOutput">output</a>.<a href="XmlPrinterTypes.scala.html#scales.xml.serializers;XmlOutput.data" title="=&gt; scales.xml.serializers.SerializerData">data</a>.<a href="Serializers.scala.html#scales.xml.serializers;SerializerData.version" title="=&gt; scales.xml.XmlVersion">version</a><span class="delimiter">)</span>.<span title="(alternative: =&gt; Option[Throwable])Option[Throwable]">orElse</span><span class="delimiter">{</span>
	    <a href="XmlPrinter.scala.html#scales.xml.serializers;XmlPrinter.serializeMisc" title="(pout: scales.xml.serializers.XmlOutput, misc: Iterable[scales.xml.Misc], serializer: scales.xml.serializers.Serializer)(scales.xml.serializers.XmlOutput, Option[Throwable])">serializeMisc</a><span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.serializeIter.first.status" title="scales.xml.serializers.StreamStatus">status</a>.<a href="SerializeableXmls.scala.html#scales.xml.serializers;StreamStatus.output" title="=&gt; scales.xml.serializers.XmlOutput">output</a>, <a href="#scales.xml.serializers;SerializingIter.serializeIter$default$4" title="scales.xml.DocLike">doc</a>.<a href="../XmlTypes.scala.html#scales.xml;DocLike.prolog" title="=&gt; scales.xml.Prolog">prolog</a>.<a href="../XmlTypes.scala.html#scales.xml;Prolog.misc" title="=&gt; scales.xml.Miscs">misc</a>, <a href="#scales.xml.serializers;SerializingIter.serializeIter.first.serializer" title="scales.xml.serializers.Serializer">serializer</a><span class="delimiter">)</span>.<span title="=&gt; Option[Throwable]">_2</span>
	  <span class="delimiter">}</span>
	<span class="keyword">val</span> <a title="scales.xml.serializers.StreamStatus" id="scales.xml.serializers;SerializingIter.serializeIter.first.x$10.$anonfun.nstatus">nstatus</a> = <a href="#scales.xml.serializers;SerializingIter.serializeIter.first.status" title="scales.xml.serializers.StreamStatus">status</a>.<a href="SerializeableXmls.scala.html#scales.xml.serializers;StreamStatus.copy$default$1" title="scales.xml.serializers.XmlOutput" id="scales.xml.serializers;SerializingIter.serializeIter.first.x$10.$anonfun.nstatus.x$9">copy</a><span class="delimiter">(</span>thrown = <a href="#scales.xml.serializers;SerializingIter.serializeIter.first.x$10.$anonfun.opt" title="Option[Throwable]" id="scales.xml.serializers;SerializingIter.serializeIter.first.x$10.$anonfun.nstatus.x$7">opt</a><span class="delimiter">)</span>
	  
	<span title="(f: scalaz.Input[scales.xml.PullType] =&gt; scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])])scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]">Cont</span><span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.serializeIter.rest" title="(status: scales.xml.serializers.StreamStatus, prev: scales.xml.PullType, serializer: scales.xml.serializers.Serializer)(s: scalaz.Input[scales.xml.PullType])SerializingIter.this.SerialIterT">rest</a><a href="#scales.xml.serializers;SerializingIter.serializeIter.first.x$10.$anonfun.$anonfun.s" title="scalaz.Input[scales.xml.PullType]" class="delimiter">(</a><a href="#scales.xml.serializers;SerializingIter.serializeIter.first.x$10.$anonfun.nstatus" title="scales.xml.serializers.StreamStatus">nstatus</a>, <a href="#scales.xml.serializers;SerializingIter.serializeIter.first.x$10.$anonfun.e" title="=&gt; scales.xml.PullType">e</a>, <a href="#scales.xml.serializers;SerializingIter.serializeIter.first.serializer" title="scales.xml.serializers.Serializer">serializer</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>,
        empty = <a title="() =&gt; scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]" id="scales.xml.serializers;SerializingIter.serializeIter.first.x$11" class="delimiter">{</a>
	  <a href="#scales.xml.serializers;SerializingIter.serializeIter.empties" title="Int">empties</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
	  <span title="(f: scalaz.Input[scales.xml.PullType] =&gt; scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])])scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]">Cont</span><span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.serializeIter.first" title="(status: scales.xml.serializers.StreamStatus, serializer: scales.xml.serializers.Serializer)(s: scalaz.Input[scales.xml.PullType])SerializingIter.this.SerialIterT">first</a><a href="#scales.xml.serializers;SerializingIter.serializeIter.first.$anonfun.$anonfun.s" title="scalaz.Input[scales.xml.PullType]" class="delimiter">(</a><a href="#scales.xml.serializers;SerializingIter.serializeIter.first.status" title="scales.xml.serializers.StreamStatus">status</a>, <a href="#scales.xml.serializers;SerializingIter.serializeIter.first.serializer" title="scales.xml.serializers.Serializer">serializer</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>,
        eof = <span title="(a: =&gt; (scales.xml.serializers.XmlOutput, Option[Throwable]), i: =&gt; scalaz.Input[scales.xml.PullType])scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]">Done</span><a title="() =&gt; scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]" id="scales.xml.serializers;SerializingIter.serializeIter.first.x$12" class="delimiter">(</a><span title="(_1: scales.xml.serializers.XmlOutput, _2: Some[scales.xml.serializers.NoDataInStream])(scales.xml.serializers.XmlOutput, Some[scales.xml.serializers.NoDataInStream])" class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.serializeIter.first.status" title="scales.xml.serializers.StreamStatus">status</a>.<a href="SerializeableXmls.scala.html#scales.xml.serializers;StreamStatus.output" title="=&gt; scales.xml.serializers.XmlOutput">output</a>, <span title="(x: scales.xml.serializers.NoDataInStream)Some[scales.xml.serializers.NoDataInStream]">Some</span><span class="delimiter">(</span><a href="Exceptions.scala.html#scales.xml.serializers;NoDataInStream" title="()scales.xml.serializers.NoDataInStream">NoDataInStream</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <span title="[E]=&gt; scalaz.Input[E]">EOF</span><span title="scalaz.Input[scales.xml.PullType]" class="delimiter">[</span><span title="scales.xml.PullType">PullType</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span title="(f: scalaz.Input[scales.xml.PullType] =&gt; scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])])scalaz.IterV[scales.xml.PullType,(scales.xml.serializers.XmlOutput, Option[Throwable])]">Cont</span><span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.serializeIter.first" title="(status: scales.xml.serializers.StreamStatus, serializer: scales.xml.serializers.Serializer)(s: scalaz.Input[scales.xml.PullType])SerializingIter.this.SerialIterT">first</a><a href="#scales.xml.serializers;SerializingIter.serializeIter.$anonfun.s" title="scalaz.Input[scales.xml.PullType]" class="delimiter">(</a><a href="SerializeableXmls.scala.html#scales.xml.serializers;StreamStatus" title="(output: scales.xml.serializers.XmlOutput, thrown: Option[Throwable], isEmpty: Boolean)scales.xml.serializers.StreamStatus">StreamStatus</a><a href="#scales.xml.serializers;SerializingIter.serializeIter.eta$0$1" title="scales.xml.serializers.StreamStatus" class="delimiter">(</a><a href="#scales.xml.serializers;SerializingIter.serializeIter.output" title="scales.xml.serializers.XmlOutput">output</a><span class="delimiter">)</span>, <a href="#scales.xml.serializers;SerializingIter.serializeIter.serializer" title="scales.xml.serializers.Serializer">serializer</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns an Iteratee that can serialize PullTypes to out.  The serializer factory management is automatically handled upon calling with eof.  This can be triggered earlier by calling closeResource on the returned CloseOnNeed.
   */</span> 
  <span class="keyword">def</span> <a title="(out: java.io.Writer, doc: scales.xml.DocLike, version: Option[scales.xml.XmlVersion], encoding: Option[java.nio.charset.Charset])(implicit serializerFI: scales.xml.serializers.SerializerFactory)(scales.utils.resources.CloseOnNeed, SerializingIter.this.SerialIterT)" id="scales.xml.serializers;SerializingIter.pushXmlIter">pushXmlIter</a><span class="delimiter">(</span> <a title="java.io.Writer" id="scales.xml.serializers;SerializingIter.pushXmlIter.out">out</a>: java.io.<span title="java.io.Writer">Writer</span>, <a title="scales.xml.DocLike" id="scales.xml.serializers;SerializingIter.pushXmlIter$default$2">doc</a> : <a href="../XmlTypes.scala.html#scales.xml;DocLike" title="scales.xml.DocLike">DocLike</a> = <a href="../XmlTypes.scala.html#scales.xml;EmptyDoc" title="(prolog: scales.xml.Prolog, end: scales.xml.EndMisc)scales.xml.EmptyDoc">EmptyDoc</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="Option[scales.xml.XmlVersion]" id="scales.xml.serializers;SerializingIter.pushXmlIter$default$3">version</a>: <span title="Option[scales.xml.XmlVersion]">Option</span><span class="delimiter">[</span>XmlVersion<span class="delimiter">]</span> = <span title="None.type">None</span>, <a title="Option[java.nio.charset.Charset]" id="scales.xml.serializers;SerializingIter.pushXmlIter$default$4">encoding</a>: <span title="Option[java.nio.charset.Charset]">Option</span><span class="delimiter">[</span>Charset<span class="delimiter">]</span> = <span title="None.type">None</span> <span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.serializers.SerializerFactory" id="scales.xml.serializers;SerializingIter.pushXmlIter.serializerFI">serializerFI</a>: <a href="Serializers.scala.html#scales.xml.serializers;SerializerFactory" title="scales.xml.serializers.SerializerFactory">SerializerFactory</a><span class="delimiter">)</span> : <span title="(scales.utils.resources.CloseOnNeed, SerializingIter.this.SerialIterT)" class="delimiter">(</span>CloseOnNeed, SerialIterT<span class="delimiter">)</span> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="scales.xml.Declaration" id="scales.xml.serializers;SerializingIter.pushXmlIter.decl">decl</a> = <a href="#scales.xml.serializers;SerializingIter.pushXmlIter$default$2" title="scales.xml.DocLike">doc</a>.<a href="../XmlTypes.scala.html#scales.xml;DocLike.prolog" title="=&gt; scales.xml.Prolog">prolog</a>.<a href="../XmlTypes.scala.html#scales.xml;Prolog.decl" title="=&gt; scales.xml.Declaration">decl</a>
    <span class="keyword">val</span> <a title="scales.xml.serializers.SerializerData" id="scales.xml.serializers;SerializingIter.pushXmlIter.sd">sd</a> = <a href="Serializers.scala.html#scales.xml.serializers;SerializerData" title="(out: java.io.Writer, version: scales.xml.XmlVersion, encoding: java.nio.charset.Charset)scales.xml.serializers.SerializerData">SerializerData</a><span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.pushXmlIter.out" title="java.io.Writer">out</a>, 
      <a href="#scales.xml.serializers;SerializingIter.pushXmlIter$default$3" title="Option[scales.xml.XmlVersion]">version</a>.<span title="(default: =&gt; scales.xml.XmlVersion)scales.xml.XmlVersion">getOrElse</span><span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.pushXmlIter.decl" title="scales.xml.Declaration">decl</a>.<a href="../XmlTypes.scala.html#scales.xml;Declaration.version" title="=&gt; scales.xml.XmlVersion">version</a><span class="delimiter">)</span>, 
      <a href="#scales.xml.serializers;SerializingIter.pushXmlIter$default$4" title="Option[java.nio.charset.Charset]">encoding</a>.<span title="(default: =&gt; java.nio.charset.Charset)java.nio.charset.Charset">getOrElse</span><span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.pushXmlIter.decl" title="scales.xml.Declaration">decl</a>.<a href="../XmlTypes.scala.html#scales.xml;Declaration.encoding" title="=&gt; java.nio.charset.Charset">encoding</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="scales.xml.serializers.XmlOutput" id="scales.xml.serializers;SerializingIter.pushXmlIter.xo">xo</a> = <a href="XmlPrinterTypes.scala.html#scales.xml.serializers;XmlOutput" title="(data: scales.xml.serializers.SerializerData, currentMappings: scala.collection.immutable.Stack[scala.collection.immutable.Map[String,String]], path: List[scales.xml.QName])(implicit serializerFI: scales.xml.serializers.SerializerFactory)scales.xml.serializers.XmlOutput">XmlOutput</a><span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.pushXmlIter.sd" title="scales.xml.serializers.SerializerData">sd</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.pushXmlIter.serializerFI" title="scales.xml.serializers.SerializerFactory">serializerFI</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="serializerFI.ExactSerializer" id="scales.xml.serializers;SerializingIter.pushXmlIter.ser">ser</a> = <a href="#scales.xml.serializers;SerializingIter.pushXmlIter.serializerFI" title="scales.xml.serializers.SerializerFactory">serializerFI</a>.<a href="Serializers.scala.html#scales.xml.serializers;SerializerFactory.borrow" title="(data: scales.xml.serializers.SerializerData)serializerFI.ExactSerializer">borrow</a><span class="delimiter">(</span> <a href="#scales.xml.serializers;SerializingIter.pushXmlIter.sd" title="scales.xml.serializers.SerializerData">sd</a> <span class="delimiter">)</span> 

    <span class="keyword">val</span> <a title="scales.utils.resources.CloseOnNeed" id="scales.xml.serializers;SerializingIter.pushXmlIter.closer">closer</a> : <a href="../../utils/resources/Resources.scala.html#scales.utils.resources;CloseOnNeed" title="scales.utils.resources.CloseOnNeed">CloseOnNeed</a> = <a href="#scales.xml.serializers;SerializingIter.pushXmlIter.closer;$anon" title="scales.utils.resources.CloseOnNeed" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with scales.utils.resources.CloseOnNeed" id="scales.xml.serializers;SerializingIter.pushXmlIter.closer;$anon">CloseOnNeed</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="()Unit" id="scales.xml.serializers;SerializingIter.pushXmlIter.closer;$anon.doClose">doClose</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
	<a href="#scales.xml.serializers;SerializingIter.pushXmlIter.serializerFI" title="scales.xml.serializers.SerializerFactory">serializerFI</a>.<a href="Serializers.scala.html#scales.xml.serializers;SerializerFactory.giveBack" title="(serializer: serializerFI.ExactSerializer)Unit">giveBack</a><span class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.pushXmlIter.ser" title="serializerFI.ExactSerializer">ser</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="SerializingIter.this.SerialIterT" id="scales.xml.serializers;SerializingIter.pushXmlIter.iter">iter</a> = <a href="#scales.xml.serializers;SerializingIter.serializeIter" title="(output: scales.xml.serializers.XmlOutput, serializer: scales.xml.serializers.Serializer, closer: () =&gt; Unit, doc: scales.xml.DocLike)SerializingIter.this.SerialIterT">serializeIter</a><span class="delimiter">(</span> <a href="#scales.xml.serializers;SerializingIter.pushXmlIter.xo" title="scales.xml.serializers.XmlOutput">xo</a>, <a href="#scales.xml.serializers;SerializingIter.pushXmlIter.ser" title="serializerFI.ExactSerializer">ser</a>, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#scales.xml.serializers;SerializingIter.pushXmlIter.closer" title="scales.utils.resources.CloseOnNeed">closer</a>.<a href="../../utils/resources/Resources.scala.html#scales.utils.resources;CloseOnNeed.closeResource" title="=&gt; Unit">closeResource</a>, <a href="#scales.xml.serializers;SerializingIter.pushXmlIter$default$2" title="scales.xml.DocLike">doc</a><span class="delimiter">)</span>

    <span title="(_1: scales.utils.resources.CloseOnNeed, _2: SerializingIter.this.SerialIterT)(scales.utils.resources.CloseOnNeed, SerializingIter.this.SerialIterT)" class="delimiter">(</span><a href="#scales.xml.serializers;SerializingIter.pushXmlIter.closer" title="scales.utils.resources.CloseOnNeed">closer</a>, <a href="#scales.xml.serializers;SerializingIter.pushXmlIter.iter" title="SerializingIter.this.SerialIterT">iter</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>
