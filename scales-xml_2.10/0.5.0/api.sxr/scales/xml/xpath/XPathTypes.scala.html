<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\xml\xpath\XPathTypes.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scales.xml.xpath

<span class="keyword">import</span> scales.utils._
<span class="keyword">import</span> scala.collection.generic.CanBuildFrom
<span class="keyword">import</span> scales.utils.one

<span class="keyword">import</span> scales.xml.<span class="delimiter">{</span>Elem, Attributes, Attribute, XCC, XmlItem, XmlPath, AttributeQName, ScalesXml, text, UnprefixedQName<span class="delimiter">}</span>

<span class="keyword">import</span> scales.xml.impl.EqualsHelpers

<span class="comment">/** Simple container for keeping relationship between the parent and attribute */</span>
<span class="keyword">case class</span> <a title="class AttributePath extends AnyRef with Product with Serializable" id="scales.xml.xpath.AttributePath.readResolve">AttributePath</a><a href="#scales.xml.xpath.AttributePath.readResolve" title="Product" class="delimiter">(</a><a title="scales.xml.Attribute" id="scales.xml.xpath;AttributePath.attribute">attribute</a>: <a href="../XmlTypes.scala.html#scales.xml;Attribute" title="scales.xml.Attribute">Attribute</a>, <a title="scales.xml.XmlPath" id="scales.xml.xpath;AttributePath.parent">parent</a>: <a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path" title="scales.xml.XmlPath">XmlPath</a><span class="delimiter">)</span>

<span class="keyword">case class</span> <a title="class XmlPathComparisoms extends AnyRef with Product with Serializable" id="scales.xml.xpath.XmlPathComparisoms.readResolve">XmlPathComparisoms</a><a href="#scales.xml.xpath.XmlPathComparisoms.readResolve" title="Product" class="delimiter">(</a><a title="scales.xml.XmlPath" id="scales.xml.xpath;XmlPathComparisoms.path">path</a>: <a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path" title="scales.xml.XmlPath">XmlPath</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="../ScalesXml.scala.html#scales.xml.ScalesXml" title="scales.xml.ScalesXml.type">ScalesXml</a>.xmlpathText
  <span class="keyword">def</span> <a title="(other: String)Boolean" id="scales.xml.xpath;XmlPathComparisoms.===">===</a><span class="delimiter">(</span><a title="String" id="scales.xml.xpath;XmlPathComparisoms.===.other">other</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="Functions.scala.html#scales.xml.xpath;TextFunctions.text(7617338754)" title="(t: scales.xml.XmlPath)(implicit value: scales.xml.xpath.TextValue[scales.xml.XmlPath])String">text</a><a href="Functions.scala.html#scales.xml.xpath;TextImplicits.xmlpathText" title="=&gt; scales.xml.xpath.XmlPathText.type" class="delimiter">(</a><a href="#scales.xml.xpath;XmlPathComparisoms.path" title="=&gt; scales.xml.XmlPath">path</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#scales.xml.xpath;XmlPathComparisoms.===.other" title="String">other</a>
<span class="delimiter">}</span>

<span class="keyword">case class</span> <a title="class AttributePathComparisoms extends AnyRef with Product with Serializable" id="scales.xml.xpath.AttributePathComparisoms.readResolve">AttributePathComparisoms</a><a href="#scales.xml.xpath.AttributePathComparisoms.readResolve" title="Product" class="delimiter">(</a><a title="scales.xml.xpath.AttributePath" id="scales.xml.xpath;AttributePathComparisoms.path">path</a>: <a href="#scales.xml.xpath.AttributePath.readResolve" title="scales.xml.xpath.AttributePath">AttributePath</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="../ScalesXml.scala.html#scales.xml.ScalesXml" title="scales.xml.ScalesXml.type">ScalesXml</a>.attribPathText
  <span class="keyword">def</span> <a title="(other: String)Boolean" id="scales.xml.xpath;AttributePathComparisoms.===">===</a><span class="delimiter">(</span><a title="String" id="scales.xml.xpath;AttributePathComparisoms.===.other">other</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="Functions.scala.html#scales.xml.xpath;TextFunctions.text(7617338754)" title="(t: scales.xml.xpath.AttributePath)(implicit value: scales.xml.xpath.TextValue[scales.xml.xpath.AttributePath])String">text</a><a href="Functions.scala.html#scales.xml.xpath;TextImplicits.attribPathText" title="=&gt; scales.xml.xpath.AttributePathText.type" class="delimiter">(</a><a href="#scales.xml.xpath;AttributePathComparisoms.path" title="=&gt; scales.xml.xpath.AttributePath">path</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#scales.xml.xpath;AttributePathComparisoms.===.other" title="String">other</a>
<span class="delimiter">}</span>

<span class="comment">/** Attributes that have been selected */</span>
<span class="keyword">case class</span> <a href="#scales.xml.xpath;AttributePaths.productElement.x$1" title="class AttributePaths[PT &lt;: Iterable[scales.xml.XmlPath]] extends AnyRef with Product with Serializable" id="scales.xml.xpath.AttributePaths.readResolve">AttributePaths</a><span class="delimiter">[</span><a title=" &lt;: Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;AttributePaths;PT">PT</a> &lt;: Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><a href="#scales.xml.xpath.AttributePaths.readResolve" title="Product" class="delimiter">(</a><a title="Iterable[scales.xml.xpath.AttributePath]" id="scales.xml.xpath;AttributePaths.attributes">attributes</a>: <span title="Iterable[scales.xml.xpath.AttributePath]">Iterable</span><span class="delimiter">[</span>AttributePath<span class="delimiter">]</span>, <a title="scales.xml.xpath.XPathInfo" id="scales.xml.xpath;AttributePaths.path">path</a>: <a href="#scales.xml.xpath.XPathInfo.readResolve" title="scales.xml.xpath.XPathInfo">XPathInfo</a>, <a title="scala.collection.generic.CanBuildFrom[PT,scales.xml.XmlPath,PT]" id="scales.xml.xpath;AttributePaths.cbf">cbf</a>: <span title="scala.collection.generic.CanBuildFrom[PT,scales.xml.XmlPath,PT]">CanBuildFrom</span><span class="delimiter">[</span>PT, XmlPath, PT<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">import</span> scales.xml.impl.<a href="../impl/EqualsHelpers.scala.html#scales.xml.impl.EqualsHelpers" title="scales.xml.impl.EqualsHelpers.type">EqualsHelpers</a>.toQName
  <span class="comment">/** Parents of the attributepaths */</span>
  <span class="keyword">def</span> <a title="()scales.xml.xpath.XPath[PT]" id="scales.xml.xpath;AttributePaths.\^">\^</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[PT]">XPath</a><span class="delimiter">[</span>PT<span class="delimiter">]</span> = <span title="scales.xml.xpath.XPath[PT]" class="keyword">new</span> <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[PT]">XPath</a><span class="delimiter">[</span>PT<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scales.xml.xpath;AttributePaths.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a>.<a href="#scales.xml.xpath.XPathInfo.readResolve" title="(nodes: Iterable[Iterable[scales.xml.XmlPath]], mustBeSorted: Boolean, filterDuplicates: Boolean, initialNode: Boolean, eager: Boolean, direct: Boolean)scales.xml.xpath.XPathInfo">copy</a><span class="delimiter">(</span>nodes = <span title="(xs: Iterable[scales.xml.XmlPath]*)List[Iterable[scales.xml.XmlPath]]">List</span><span class="delimiter">(</span><a href="#scales.xml.xpath;AttributePaths.attributes" title="=&gt; Iterable[scales.xml.xpath.AttributePath]">attributes</a>.<span title="(f: scales.xml.xpath.AttributePath =&gt; scales.xml.XmlPath)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.xpath.AttributePath],scales.xml.XmlPath,Iterable[scales.xml.XmlPath]])Iterable[scales.xml.XmlPath]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.XmlPath,Iterable[scales.xml.XmlPath]]" class="delimiter">(</span><a href="#scales.xml.xpath;AttributePaths.\^.$anonfun.x$1" title="scales.xml.xpath.AttributePath">_</a>.<a href="#scales.xml.xpath;AttributePath.parent" title="=&gt; scales.xml.XmlPath">parent</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#scales.xml.xpath;AttributePaths.cbf" title="=&gt; scala.collection.generic.CanBuildFrom[PT,scales.xml.XmlPath,PT]">cbf</a><span class="delimiter">)</span>

  <span class="comment">// the following are to provide similar chained predicates as expected by me and the spec</span>

  <span class="keyword">def</span> <a title="(pred: scales.xml.xpath.AttributePath =&gt; Boolean)scales.xml.xpath.AttributePaths[PT]" id="scales.xml.xpath;AttributePaths.*@(2503c273bd)">*@</a><span class="delimiter">(</span><a title="scales.xml.xpath.AttributePath =&gt; Boolean" id="scales.xml.xpath;AttributePaths.*@(2503c273bd).pred">pred</a> : AttributePath =&gt; Boolean<span class="delimiter">)</span> : <a href="#scales.xml.xpath.AttributePaths.readResolve" title="scales.xml.xpath.AttributePaths[PT]">AttributePaths</a><span class="delimiter">[</span>PT<span class="delimiter">]</span> =
    <a href="#scales.xml.xpath.AttributePaths.readResolve" title="(attributes: Iterable[scales.xml.xpath.AttributePath], path: scales.xml.xpath.XPathInfo, cbf: scala.collection.generic.CanBuildFrom[PT,scales.xml.XmlPath,PT])scales.xml.xpath.AttributePaths[PT]">AttributePaths</a><span class="delimiter">(</span><a href="#scales.xml.xpath;AttributePaths.attributes" title="=&gt; Iterable[scales.xml.xpath.AttributePath]">attributes</a>.<span title="(p: scales.xml.xpath.AttributePath =&gt; Boolean)Iterable[scales.xml.xpath.AttributePath]">filter</span> <span class="delimiter">{</span> <a href="#scales.xml.xpath;AttributePaths.*@(2503c273bd).pred" title="(v1: scales.xml.xpath.AttributePath)Boolean">pred</a><span class="delimiter">(</span><a href="#scales.xml.xpath;AttributePaths.*@(2503c273bd).$anonfun.x$2" title="scales.xml.xpath.AttributePath">_</a><span class="delimiter">)</span> <span class="delimiter">}</span>, <a href="#scales.xml.xpath;AttributePaths.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a>, <a href="#scales.xml.xpath;AttributePaths.cbf" title="=&gt; scala.collection.generic.CanBuildFrom[PT,scales.xml.XmlPath,PT]">cbf</a><span class="delimiter">)</span>

  <span class="comment">/** Special case for AttributeQNames, only local and namespace match */</span>
  <span class="keyword">def</span> <a title="(attrQName: scales.xml.AttributeQName)scales.xml.xpath.AttributePaths[PT]" id="scales.xml.xpath;AttributePaths.*@(421dcfe405)">*@</a><span class="delimiter">(</span><a title="scales.xml.AttributeQName" id="scales.xml.xpath;AttributePaths.*@(421dcfe405).attrQName">attrQName</a> : <a href="../../utils/EitherLike.scala.html#scales.utils;EitherLike" title="scales.xml.AttributeQName">AttributeQName</a><span class="delimiter">)</span> : <a href="#scales.xml.xpath.AttributePaths.readResolve" title="scales.xml.xpath.AttributePaths[PT]">AttributePaths</a><span class="delimiter">[</span>PT<span class="delimiter">]</span> =
    <a href="#scales.xml.xpath;AttributePaths.*@(2503c273bd)" title="(pred: scales.xml.xpath.AttributePath =&gt; Boolean)scales.xml.xpath.AttributePaths[PT]">*@</a><span class="delimiter">(</span><span class="delimiter">{</span> attributePath : <a href="#scales.xml.xpath.AttributePath.readResolve" title="scales.xml.xpath.AttributePath">AttributePath</a> =&gt; <a href="../impl/EqualsHelpers.scala.html#scales.xml.impl.EqualsHelpers.toQName" title="implicit scales.xml.impl.EqualsHelpers.toQName : (attribQName: scales.xml.AttributeQName)scales.xml.QName">toQName</a><span class="delimiter">(</span><a href="#scales.xml.xpath;AttributePaths.*@(421dcfe405).$anonfun.attributePath" title="scales.xml.xpath.AttributePath">attributePath</a>.<a href="#scales.xml.xpath;AttributePath.attribute" title="=&gt; scales.xml.Attribute">attribute</a>.<a href="../XmlTypes.scala.html#scales.xml;Attribute.name" title="=&gt; scales.xml.AttributeQName">name</a><span class="delimiter">)</span> <a href="../QName.scala.html#scales.xml;QName.=:=" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="../impl/EqualsHelpers.scala.html#scales.xml.impl.EqualsHelpers.toQName" title="implicit scales.xml.impl.EqualsHelpers.toQName : (attribQName: scales.xml.AttributeQName)scales.xml.QName">toQName</a><span class="delimiter">(</span><a href="#scales.xml.xpath;AttributePaths.*@(421dcfe405).attrQName" title="scales.xml.AttributeQName">attrQName</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/** Loose match for UnprefixedQNames only, only matches local and namespace */</span>
  <span class="keyword">def</span> <a title="(qname: scales.xml.UnprefixedQName)scales.xml.xpath.AttributePaths[PT]" id="scales.xml.xpath;AttributePaths.*@(8eff400687)">*@</a><span class="delimiter">(</span><a title="scales.xml.UnprefixedQName" id="scales.xml.xpath;AttributePaths.*@(8eff400687).qname">qname</a> : <a href="../QName.scala.html#scales.xml;UnprefixedQName" title="scales.xml.UnprefixedQName">UnprefixedQName</a><span class="delimiter">)</span> : <a href="#scales.xml.xpath.AttributePaths.readResolve" title="scales.xml.xpath.AttributePaths[PT]">AttributePaths</a><span class="delimiter">[</span>PT<span class="delimiter">]</span> =
    <a href="#scales.xml.xpath;AttributePaths.*@(2503c273bd)" title="(pred: scales.xml.xpath.AttributePath =&gt; Boolean)scales.xml.xpath.AttributePaths[PT]">*@</a><span class="delimiter">(</span><span class="delimiter">{</span> attributePath : <a href="#scales.xml.xpath.AttributePath.readResolve" title="scales.xml.xpath.AttributePath">AttributePath</a> =&gt; <a href="../impl/EqualsHelpers.scala.html#scales.xml.impl.EqualsHelpers.toQName" title="implicit scales.xml.impl.EqualsHelpers.toQName : (attribQName: scales.xml.AttributeQName)scales.xml.QName">toQName</a><span class="delimiter">(</span><a href="#scales.xml.xpath;AttributePaths.*@(8eff400687).$anonfun.attributePath" title="scales.xml.xpath.AttributePath">attributePath</a>.<a href="#scales.xml.xpath;AttributePath.attribute" title="=&gt; scales.xml.Attribute">attribute</a>.<a href="../XmlTypes.scala.html#scales.xml;Attribute.name" title="=&gt; scales.xml.AttributeQName">name</a><span class="delimiter">)</span> <a href="../QName.scala.html#scales.xml;QName.=:=" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#scales.xml.xpath;AttributePaths.*@(8eff400687).qname" title="scales.xml.UnprefixedQName">qname</a> <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Some if there is one, else none
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Iterable[scales.xml.xpath.AttributePath]" id="scales.xml.xpath;AttributePaths.one">one</a>: <span title="Iterable[scales.xml.xpath.AttributePath]">Iterable</span><span class="delimiter">[</span>AttributePath<span class="delimiter">]</span> = <span title="Iterable[scales.xml.xpath.AttributePath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.xpath;AttributePaths.attributes" title="=&gt; Iterable[scales.xml.xpath.AttributePath]">attributes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="scala.collection.immutable.Nil.type">Nil</span> <span class="keyword">else</span> scales.utils.<a href="../../utils/package.scala.html#scales.utils.package.one" title="(i: scales.xml.xpath.AttributePath)List[scales.xml.xpath.AttributePath]">one</a><span class="delimiter">(</span><a href="#scales.xml.xpath;AttributePaths.attributes" title="=&gt; Iterable[scales.xml.xpath.AttributePath]">attributes</a>.<span title="=&gt; scales.xml.xpath.AttributePath">head</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Some if there is one, else calls handler (allows decisions based on more than one etc.
   */</span>
  <span class="keyword">def</span> <a title="(handler: Iterable[scales.xml.xpath.AttributePath] =&gt; Iterable[scales.xml.xpath.AttributePath])Iterable[scales.xml.xpath.AttributePath]" id="scales.xml.xpath;AttributePaths.oneOr">oneOr</a><span class="delimiter">(</span><a title="Iterable[scales.xml.xpath.AttributePath] =&gt; Iterable[scales.xml.xpath.AttributePath]" id="scales.xml.xpath;AttributePaths.oneOr.handler">handler</a>: Iterable<span class="delimiter">[</span>AttributePath<span class="delimiter">]</span> =&gt; Iterable<span class="delimiter">[</span>AttributePath<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="Iterable[scales.xml.xpath.AttributePath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.xpath;AttributePaths.attributes" title="=&gt; Iterable[scales.xml.xpath.AttributePath]">attributes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> scales.utils.<a href="../../utils/package.scala.html#scales.utils.package.one" title="(i: scales.xml.xpath.AttributePath)List[scales.xml.xpath.AttributePath]">one</a><span class="delimiter">(</span><a href="#scales.xml.xpath;AttributePaths.attributes" title="=&gt; Iterable[scales.xml.xpath.AttributePath]">attributes</a>.<span title="=&gt; scales.xml.xpath.AttributePath">head</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#scales.xml.xpath;AttributePaths.oneOr.handler" title="(v1: Iterable[scales.xml.xpath.AttributePath])Iterable[scales.xml.xpath.AttributePath]">handler</a><span class="delimiter">(</span><a href="#scales.xml.xpath;AttributePaths.attributes" title="=&gt; Iterable[scales.xml.xpath.AttributePath]">attributes</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(textValue: =&gt; String)scales.xml.xpath.AttributePaths[PT]" id="scales.xml.xpath;AttributePaths.===">===</a><span class="delimiter">(</span> <a title="=&gt; String" id="scales.xml.xpath;AttributePaths.===.textValue">textValue</a> : =&gt; String <span class="delimiter">)</span> = 
    <a href="#scales.xml.xpath;AttributePaths.*@(2503c273bd)" title="(pred: scales.xml.xpath.AttributePath =&gt; Boolean)scales.xml.xpath.AttributePaths[PT]">*@</a><span class="delimiter">(</span> <a title="scales.xml.xpath.AttributePath" id="scales.xml.xpath;AttributePaths.===.$anonfun.a">a</a> =&gt; <a href="#scales.xml.xpath;AttributePaths.===.$anonfun.a" title="scales.xml.xpath.AttributePath">a</a>.<a href="#scales.xml.xpath;AttributePath.attribute" title="=&gt; scales.xml.Attribute">attribute</a>.<a href="../XmlTypes.scala.html#scales.xml;Attribute.value" title="=&gt; String">value</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#scales.xml.xpath;AttributePaths.===.textValue" title="=&gt; String">textValue</a> <span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * XPaths need sorting upon unions etc, and duplicate filtering on \^ parents
 */</span>
<span class="keyword">case class</span> <a title="class XPathInfo extends AnyRef with Product with Serializable" id="scales.xml.xpath.XPathInfo.readResolve">XPathInfo</a><a href="#scales.xml.xpath.XPathInfo.readResolve" title="Product" class="delimiter">(</a><a title="Iterable[Iterable[scales.xml.XmlPath]]" id="scales.xml.xpath;XPathInfo.nodes">nodes</a>: <span title="Iterable[Iterable[scales.xml.XmlPath]]">Iterable</span><span class="delimiter">[</span>Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Boolean" id="scales.xml.xpath.XPathInfo.apply$default$2">mustBeSorted</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="scales.xml.xpath.XPathInfo.apply$default$3">filterDuplicates</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="scales.xml.xpath.XPathInfo.apply$default$4">initialNode</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="scales.xml.xpath.XPathInfo.apply$default$5">eager</a> : <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="scales.xml.xpath.XPathInfo.apply$default$6">direct</a> : <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

<span class="comment">/**
 * In contrast to the specs reverse axis are not supported.  This puts
 * an extra effort on the user for translating, but I don't agree with
 * the design anyway.  It adds both ambiguity for an embedded dsl:
 *
 * //a:ShouldRedeclare/../text()[5]/preceding-sibling::text()[1]
 *
 * is in reverse order (above is previousSibling in Path), whereas
 *
 * (//a:ShouldRedeclare/../text()[5]/preceding-sibling::text())[1]
 *
 * is in doc order (the first text child of the parent).  Such an arbritary decision does nothing but irritate.  A simpler design as found in this implementation is that the user can simply use full scala data functions to reverse as needed.
 *
 * (Temptation is to provide the base type as SeqLike instead of Iterable as it should be in a sequence with a defined order, also then providing .reverse and friends)
 */</span>
<span class="keyword">class</span> <a title="class XPath[PT &lt;: Iterable[scales.xml.XmlPath]] extends AnyRef with scales.xml.xpath.ElementStep with scales.xml.xpath.OtherNodeTypes with scales.xml.xpath.AttributeAxis with scales.xml.xpath.SiblingsAxis with scales.xml.xpath.DocumentSplitters" id="scales.xml.xpath;XPath">XPath</a><span class="delimiter">[</span><a title=" &lt;: Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;XPath;PT">PT</a> &lt;: Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[PT]" class="delimiter">(</a><span class="keyword">val</span> <a title="scales.xml.xpath.XPathInfo" id="scales.xml.xpath;XPath.path">path</a>: <a href="#scales.xml.xpath.XPathInfo.readResolve" title="scales.xml.xpath.XPathInfo">XPathInfo</a>, <span class="keyword">val</span> <a title="scala.collection.generic.CanBuildFrom[PT,scales.xml.XmlPath,PT]" id="scales.xml.xpath;XPath.cbf">cbf</a>: <span title="scala.collection.generic.CanBuildFrom[PT,scales.xml.XmlPath,PT]">CanBuildFrom</span><span class="delimiter">[</span>PT, XmlPath, PT<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="Axe.scala.html#scales.xml.xpath;ElementStep" title="scales.xml.xpath.ElementStep">ElementStep</a> <span class="keyword">with</span> <a href="Axe.scala.html#scales.xml.xpath;OtherNodeTypes" title="scales.xml.xpath.OtherNodeTypes">OtherNodeTypes</a> <span class="keyword">with</span> <a href="Axe.scala.html#scales.xml.xpath;AttributeAxis" title="scales.xml.xpath.AttributeAxis">AttributeAxis</a> <span class="keyword">with</span> <a href="Axe.scala.html#scales.xml.xpath;SiblingsAxis" title="scales.xml.xpath.SiblingsAxis">SiblingsAxis</a> <span class="keyword">with</span> <a href="Axe.scala.html#scales.xml.xpath;DocumentSplitters" title="scales.xml.xpath.DocumentSplitters">DocumentSplitters</a> <span class="delimiter">{</span>

  <span class="keyword">type</span> <a title="PT" id="scales.xml.xpath;XPath;T">T</a> = <a href="#scales.xml.xpath;XPath;PT" title="PT">PT</a>

  <span class="keyword">def</span> <a title="(xpathInfo: scales.xml.xpath.XPathInfo)scales.xml.xpath.XPath[XPath.this.T]" id="scales.xml.xpath;XPath.newThis">newThis</a><span class="delimiter">(</span><a title="scales.xml.xpath.XPathInfo" id="scales.xml.xpath;XPath.newThis.xpathInfo">xpathInfo</a>: <a href="#scales.xml.xpath.XPathInfo.readResolve" title="scales.xml.xpath.XPathInfo">XPathInfo</a><span class="delimiter">)</span>: <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[XPath.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
    <span title="scales.xml.xpath.XPath[XPath.this.T]" class="keyword">new</span> <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[XPath.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scales.xml.xpath;XPath.newThis.xpathInfo" title="scales.xml.xpath.XPathInfo">xpathInfo</a>, <a href="#scales.xml.xpath;XPath.cbf" title="=&gt; scala.collection.generic.CanBuildFrom[PT,scales.xml.XmlPath,PT]">cbf</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;XPath.empty">empty</a>: <span title="Iterable[scales.xml.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> = <a href="#scales.xml.xpath;XPath.cbf" title="()scala.collection.mutable.Builder[scales.xml.XmlPath,PT]">cbf</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()PT">result</span>
  <span class="keyword">def</span> <a title="(only: scales.xml.XmlPath)Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;XPath.just">just</a><span class="delimiter">(</span><a title="scales.xml.XmlPath" id="scales.xml.xpath;XPath.just.only">only</a>: <a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path" title="scales.xml.XmlPath">XmlPath</a><span class="delimiter">)</span>: <span title="Iterable[scales.xml.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> = <span class="delimiter">(</span><a href="#scales.xml.xpath;XPath.cbf" title="()scala.collection.mutable.Builder[scales.xml.XmlPath,PT]">cbf</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(elem: scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.collection.ImmutableArrayProxy[T]])scala.collection.mutable.Builder[scales.xml.XmlPath,PT]">+=</span> <a href="#scales.xml.xpath;XPath.just.only" title="scales.xml.XmlPath">only</a><span class="delimiter">)</span>.<span title="()PT">result</span>

  <span class="comment">/**
   * Allow working within the XPath, easily extend and test
   */</span>
  <span class="keyword">def</span> <a title="(f: scales.xml.xpath.XPath[XPath.this.T] =&gt; scales.xml.xpath.XPath[XPath.this.T])scales.xml.xpath.XPath[XPath.this.T]" id="scales.xml.xpath;XPath.in">in</a><span class="delimiter">(</span><a title="scales.xml.xpath.XPath[XPath.this.T] =&gt; scales.xml.xpath.XPath[XPath.this.T]" id="scales.xml.xpath;XPath.in.f">f</a>: <span class="delimiter">(</span>XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[XPath.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
    <a href="#scales.xml.xpath;XPath.in.f" title="(v1: scales.xml.xpath.XPath[XPath.this.T])scales.xml.xpath.XPath[XPath.this.T]">f</a><span class="delimiter">(</span><a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[PT]" class="keyword">this</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Allow working within the XPath, easily extend and test
   */</span>
  <span class="keyword">def</span> <a title="(f: scales.xml.xpath.XPath[XPath.this.T] =&gt; scales.xml.xpath.XPath[XPath.this.T])scales.xml.xpath.XPath[XPath.this.T]" id="scales.xml.xpath;XPath.|>">|&gt;</a><span class="delimiter">(</span><a title="scales.xml.xpath.XPath[XPath.this.T] =&gt; scales.xml.xpath.XPath[XPath.this.T]" id="scales.xml.xpath;XPath.|>.f">f</a>: <span class="delimiter">(</span>XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#scales.xml.xpath;XPath.in" title="(f: scales.xml.xpath.XPath[XPath.this.T] =&gt; scales.xml.xpath.XPath[XPath.this.T])scales.xml.xpath.XPath[XPath.this.T]">in</a><span class="delimiter">(</span><a href="#scales.xml.xpath;XPath.|>.f" title="scales.xml.xpath.XPath[XPath.this.T] =&gt; scales.xml.xpath.XPath[XPath.this.T]">f</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Some when its only one in the result set
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;XPath.one">one</a>: <span title="Iterable[scales.xml.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;XPath.one.nodes">nodes</a> = <a href="../ScalesXml.scala.html#scales.xml.ScalesXml" title="scales.xml.ScalesXml.type">ScalesXml</a>.<a href="XmlPaths.scala.html#scales.xml.xpath;XmlPathImplicits.fromXPathToIterable" title="implicit scales.xml.xpath.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.xpath.XPath[_])Iterable[scales.xml.XmlPath]">fromXPathToIterable</a><span class="delimiter">(</span><a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[PT]" class="keyword">this</a><span class="delimiter">)</span>
    <span title="Iterable[scales.xml.XmlPath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.xpath;XPath.one.nodes" title="Iterable[scales.xml.XmlPath]">nodes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="scala.collection.immutable.Nil.type">Nil</span>
    <span class="keyword">else</span> scales.utils.<a href="../../utils/package.scala.html#scales.utils.package.one" title="(i: scales.xml.XmlPath)List[scales.xml.XmlPath]">one</a><span class="delimiter">(</span><a href="#scales.xml.xpath;XPath.one.nodes" title="Iterable[scales.xml.XmlPath]">nodes</a>.<span title="=&gt; scales.xml.XmlPath">head</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(handler: scales.xml.xpath.XPath[XPath.this.T] =&gt; Iterable[scales.xml.XmlPath])Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;XPath.oneOr">oneOr</a><span class="delimiter">(</span><a title="scales.xml.xpath.XPath[XPath.this.T] =&gt; Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;XPath.oneOr.handler">handler</a>: XPath<span class="delimiter">[</span>T<span class="delimiter">]</span> =&gt; Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;XPath.oneOr.nodes">nodes</a> = <a href="../ScalesXml.scala.html#scales.xml.ScalesXml" title="scales.xml.ScalesXml.type">ScalesXml</a>.<a href="XmlPaths.scala.html#scales.xml.xpath;XmlPathImplicits.fromXPathToIterable" title="implicit scales.xml.xpath.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.xpath.XPath[_])Iterable[scales.xml.XmlPath]">fromXPathToIterable</a><span class="delimiter">(</span><a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[PT]" class="keyword">this</a><span class="delimiter">)</span>
    <span title="Iterable[scales.xml.XmlPath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.xpath;XPath.oneOr.nodes" title="Iterable[scales.xml.XmlPath]">nodes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> scales.utils.<a href="../../utils/package.scala.html#scales.utils.package.one" title="(i: scales.xml.XmlPath)List[scales.xml.XmlPath]">one</a><span class="delimiter">(</span><a href="#scales.xml.xpath;XPath.oneOr.nodes" title="Iterable[scales.xml.XmlPath]">nodes</a>.<span title="=&gt; scales.xml.XmlPath">head</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#scales.xml.xpath;XPath.oneOr.handler" title="(v1: scales.xml.xpath.XPath[XPath.this.T])Iterable[scales.xml.XmlPath]">handler</a><span class="delimiter">(</span><a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[PT]" class="keyword">this</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Union of the two paths, they must use the same type however
   *
   * x | x === x but only when apply fromXPathToIterable (default behaviour anyway)
   *
   * For attribute paths only ++ on an iterable is supported.
   */</span>
  <span class="keyword">def</span> <a title="(other: scales.xml.xpath.XPath[XPath.this.T])scales.xml.xpath.XPath[XPath.this.T]" id="scales.xml.xpath;XPath.|">|</a><span class="delimiter">(</span> <a title="scales.xml.xpath.XPath[XPath.this.T]" id="scales.xml.xpath;XPath.|.other">other</a> : <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[XPath.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">)</span> : <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[XPath.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = 
    <span title="scales.xml.xpath.XPath[PT]" class="keyword">new</span> <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[PT]">XPath</a><span class="delimiter">(</span><a href="#scales.xml.xpath.XPathInfo.readResolve" title="(nodes: Iterable[Iterable[scales.xml.XmlPath]], mustBeSorted: Boolean, filterDuplicates: Boolean, initialNode: Boolean, eager: Boolean, direct: Boolean)scales.xml.xpath.XPathInfo">XPathInfo</a><span class="delimiter">(</span> 
      nodes = <a href="#scales.xml.xpath;XPath.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a>.<a href="#scales.xml.xpath;XPathInfo.nodes" title="=&gt; Iterable[Iterable[scales.xml.XmlPath]]">nodes</a> <span title="(that: scala.collection.GenTraversableOnce[Iterable[scales.xml.XmlPath]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.XmlPath]],Iterable[scales.xml.XmlPath],Iterable[Iterable[scales.xml.XmlPath]]])Iterable[Iterable[scales.xml.XmlPath]]">++</span> <a href="#scales.xml.xpath;XPath.|.other" title="scales.xml.xpath.XPath[XPath.this.T]">other</a>.<a href="#scales.xml.xpath;XPath.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a>.<a href="#scales.xml.xpath;XPathInfo.nodes" title="=&gt; Iterable[Iterable[scales.xml.XmlPath]]">nodes</a>, 
      mustBeSorted = <span title="Boolean(true)" class="keyword">true</span>, filterDuplicates = <span title="Boolean(true)" class="keyword">true</span>, initialNode = <span title="Boolean(false)" class="keyword">false</span>, eager = <a href="#scales.xml.xpath;XPath.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a>.<a href="#scales.xml.xpath.XPathInfo.apply$default$5" title="=&gt; Boolean">eager</a> <span title="(x: Boolean)Boolean">|</span> <a href="#scales.xml.xpath;XPath.|.other" title="scales.xml.xpath.XPath[XPath.this.T]">other</a>.<a href="#scales.xml.xpath;XPath.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a>.<a href="#scales.xml.xpath.XPathInfo.apply$default$5" title="=&gt; Boolean">eager</a><span class="delimiter">)</span>, <a href="#scales.xml.xpath;XPath.cbf" title="=&gt; scala.collection.generic.CanBuildFrom[PT,scales.xml.XmlPath,PT]">cbf</a><span class="delimiter">)</span>
  
  <span class="comment">// TODO figure out unions of other paths (namespaces / attributes)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Pos and filter for a direct access does not flatmap.  The next / breaks the chain
 */</span>
<span class="keyword">class</span> <a title="class DirectXPath[PT &lt;: Iterable[scales.xml.XmlPath]] extends scales.xml.xpath.XPath[PT]" id="scales.xml.xpath;DirectXPath">DirectXPath</a><span class="delimiter">[</span><a title=" &lt;: Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;DirectXPath;PT">PT</a> &lt;: Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><a href="#scales.xml.xpath;DirectXPath" title="scales.xml.xpath.DirectXPath[PT]" class="delimiter">(</a><span class="keyword">override</span> <span class="keyword">val</span> <a title="scales.xml.xpath.XPathInfo" id="scales.xml.xpath;DirectXPath.path">path</a>: <a href="#scales.xml.xpath.XPathInfo.readResolve" title="scales.xml.xpath.XPathInfo">XPathInfo</a>, <span class="keyword">override</span> <span class="keyword">val</span> <a title="scala.collection.generic.CanBuildFrom[PT,scales.xml.XmlPath,PT]" id="scales.xml.xpath;DirectXPath.cbf">cbf</a>: <span title="scala.collection.generic.CanBuildFrom[PT,scales.xml.XmlPath,PT]">CanBuildFrom</span><span class="delimiter">[</span>PT, XmlPath, PT<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[PT]">XPath</a><span class="delimiter">[</span>PT<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scales.xml.xpath;DirectXPath.path" title="scales.xml.xpath.XPathInfo">path</a>, <a href="#scales.xml.xpath;DirectXPath.cbf" title="scala.collection.generic.CanBuildFrom[PT,scales.xml.XmlPath,PT]">cbf</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(newNodes: Iterable[Iterable[scales.xml.XmlPath]], info: scales.xml.xpath.XPathInfo)scales.xml.xpath.XPath[DirectXPath.this.T]" id="scales.xml.xpath;DirectXPath.process">process</a><span class="delimiter">(</span><a title="Iterable[Iterable[scales.xml.XmlPath]]" id="scales.xml.xpath;DirectXPath.process.newNodes">newNodes</a>: <span title="Iterable[Iterable[scales.xml.XmlPath]]">Iterable</span><span class="delimiter">[</span>Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span>,  <a title="scales.xml.xpath.XPathInfo" id="scales.xml.xpath;DirectXPath.process$default$2">info</a> : <a href="#scales.xml.xpath.XPathInfo.readResolve" title="scales.xml.xpath.XPathInfo">XPathInfo</a> = <a href="#scales.xml.xpath;DirectXPath.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#scales.xml.xpath;XPath.newThis" title="(xpathInfo: scales.xml.xpath.XPathInfo)scales.xml.xpath.XPath[DirectXPath.this.T]">newThis</a><span class="delimiter">(</span><a href="#scales.xml.xpath;DirectXPath.process$default$2" title="scales.xml.xpath.XPathInfo">info</a>.<a href="#scales.xml.xpath.XPathInfo.readResolve" title="(nodes: Iterable[Iterable[scales.xml.XmlPath]], mustBeSorted: Boolean, filterDuplicates: Boolean, initialNode: Boolean, eager: Boolean, direct: Boolean)scales.xml.xpath.XPathInfo">copy</a><span class="delimiter">(</span> nodes = <a href="#scales.xml.xpath;DirectXPath.process.newNodes" title="Iterable[Iterable[scales.xml.XmlPath]]">newNodes</a> <span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="scales.xml.xpath.Axis.type" id="scales.xml.xpath.Axis">Axis</a> <a href="#scales.xml.xpath.Axis" title="scales.xml.xpath.Axis.type" class="delimiter">{</a>

  <span class="comment">/**
   * eager recursive unpack, better performance when its eager
   */</span> 
  <span class="keyword">def</span> <a title="(xmlPath: Iterable[scales.xml.XmlPath])List[scales.xml.XmlPath]" id="scales.xml.xpath.Axis.eager_recUnpack">eager_recUnpack</a><span class="delimiter">(</span><a title="Iterable[scales.xml.XmlPath]" id="scales.xml.xpath.Axis.eager_recUnpack.xmlPath">xmlPath</a>: <span title="Iterable[scales.xml.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[scales.xml.XmlPath]">List</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="List[scales.xml.XmlPath]" id="scales.xml.xpath.Axis.eager_recUnpack.res">res</a> : <span title="List[scales.xml.XmlPath]">List</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> = <span title="scala.collection.immutable.Nil.type">Nil</span>

    <span class="keyword">val</span> <a title="Iterator[scales.xml.XmlPath]" id="scales.xml.xpath.Axis.eager_recUnpack.i">i</a> = <a href="#scales.xml.xpath.Axis.eager_recUnpack.xmlPath" title="Iterable[scales.xml.XmlPath]">xmlPath</a>.<span title="=&gt; Iterator[scales.xml.XmlPath]">iterator</span>
    <span title="Unit" class="keyword">while</span><span class="delimiter">(</span><a href="#scales.xml.xpath.Axis.eager_recUnpack.i" title="Iterator[scales.xml.XmlPath]">i</a>.<span title="=&gt; Boolean">hasNext</span><span class="delimiter">)</span> <a href="#scales.xml.xpath.Axis.eager_recUnpack.while$1" title="()Unit" class="delimiter">{</a>
      <span class="keyword">val</span> <a title="scales.xml.XmlPath" id="scales.xml.xpath.Axis.eager_recUnpack.child">child</a> = <a href="#scales.xml.xpath.Axis.eager_recUnpack.i" title="Iterator[scales.xml.XmlPath]">i</a>.<span title="()scales.xml.XmlPath">next</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.xpath.Axis.eager_recUnpack.child" title="scales.xml.XmlPath">child</a>.<a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path.isItem" title="=&gt; Boolean">isItem</a><span class="delimiter">)</span> 
	<a href="#scales.xml.xpath.Axis.eager_recUnpack.res" title="List[scales.xml.XmlPath]">res</a> = <a href="#scales.xml.xpath.Axis.eager_recUnpack.child" title="scales.xml.XmlPath">child</a> <a href="#scales.xml.xpath.Axis.eager_recUnpack.x$3" title="(x: scales.xml.XmlPath)List[scales.xml.XmlPath]">::</a> <a href="#scales.xml.xpath.Axis.eager_recUnpack.res" title="List[scales.xml.XmlPath]">res</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
	<span class="comment">// child first then its kids</span>
	<a href="#scales.xml.xpath.Axis.eager_recUnpack.res" title="List[scales.xml.XmlPath]">res</a> = <span class="delimiter">(</span><a href="#scales.xml.xpath.Axis.eager_recUnpack.child" title="scales.xml.XmlPath">child</a> <a href="#scales.xml.xpath.Axis.eager_recUnpack.x$4" title="(x: scales.xml.XmlPath)List[scales.xml.XmlPath]">::</a> <a href="#scales.xml.xpath.Axis.eager_recUnpack.res" title="List[scales.xml.XmlPath]">res</a> <span class="delimiter">)</span>.<span title="(prefix: List[scales.xml.XmlPath])List[scales.xml.XmlPath]">reverse_:::</span> <span class="delimiter">(</span>
	  <a href="#scales.xml.xpath.Axis.eager_recUnpack" title="(xmlPath: Iterable[scales.xml.XmlPath])List[scales.xml.XmlPath]">eager_recUnpack</a><span class="delimiter">(</span><a href="#scales.xml.xpath.Axis.eager_recUnpack.child" title="scales.xml.XmlPath">child</a>: <span title="Iterable[scales.xml.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#scales.xml.xpath.Axis.eager_recUnpack.res" title="List[scales.xml.XmlPath]">res</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Possibly lazy recursive unpack, used by l_\\ and descendant
   */</span> 
  <span class="keyword">def</span> <a title="(axis: scales.xml.xpath.Axis)(xmlPath: Iterable[scales.xml.XmlPath])Iterable[scales.xml.XmlPath]" id="scales.xml.xpath.Axis.lazy_recUnpack">lazy_recUnpack</a><span class="delimiter">(</span><a title="scales.xml.xpath.Axis" id="scales.xml.xpath.Axis.lazy_recUnpack.axis">axis</a> : <a href="#scales.xml.xpath;Axis" title="scales.xml.xpath.Axis">Axis</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Iterable[scales.xml.XmlPath]" id="scales.xml.xpath.Axis.lazy_recUnpack.xmlPath">xmlPath</a>: <span title="Iterable[scales.xml.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Iterable[scales.xml.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> =
    <a href="#scales.xml.xpath.Axis.lazy_recUnpack.xmlPath" title="Iterable[scales.xml.XmlPath]">xmlPath</a>.<span title="(f: scales.xml.XmlPath =&gt; scala.collection.GenTraversableOnce[scales.xml.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.XmlPath],scales.xml.XmlPath,Iterable[scales.xml.XmlPath]])Iterable[scales.xml.XmlPath]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.XmlPath,Iterable[scales.xml.XmlPath]]" class="delimiter">{</span> <a title="scales.xml.XmlPath" id="scales.xml.xpath.Axis.lazy_recUnpack.$anonfun.child">child</a> =&gt;
      <span title="Iterable[scales.xml.XmlPath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.xpath.Axis.lazy_recUnpack.$anonfun.child" title="scales.xml.XmlPath">child</a>.<a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path.isItem" title="=&gt; Boolean">isItem</a><span class="delimiter">)</span> <a href="#scales.xml.xpath.Axis.lazy_recUnpack.axis" title="scales.xml.xpath.Axis">axis</a>.<a href="#scales.xml.xpath;Axis.just" title="(only: scales.xml.XmlPath)Iterable[scales.xml.XmlPath]">just</a><span class="delimiter">(</span><a href="#scales.xml.xpath.Axis.lazy_recUnpack.$anonfun.child" title="scales.xml.XmlPath">child</a><span class="delimiter">)</span> 
      <span class="keyword">else</span> <span class="delimiter">{</span>
	<span class="comment">// child first then its kids</span>
	<a href="#scales.xml.xpath.Axis.lazy_recUnpack.axis" title="scales.xml.xpath.Axis">axis</a>.<a href="#scales.xml.xpath;Axis.just" title="(only: scales.xml.XmlPath)Iterable[scales.xml.XmlPath]">just</a><span class="delimiter">(</span><a href="#scales.xml.xpath.Axis.lazy_recUnpack.$anonfun.child" title="scales.xml.XmlPath">child</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[scales.xml.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.XmlPath],scales.xml.XmlPath,Iterable[scales.xml.XmlPath]])Iterable[scales.xml.XmlPath]">++</span>
	<a href="#scales.xml.xpath.Axis.lazy_recUnpack" title="(axis: scales.xml.xpath.Axis)(xmlPath: Iterable[scales.xml.XmlPath])Iterable[scales.xml.XmlPath]">lazy_recUnpack</a><span class="delimiter">(</span><a href="#scales.xml.xpath.Axis.lazy_recUnpack.axis" title="scales.xml.xpath.Axis">axis</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scales.xml.xpath.Axis.lazy_recUnpack.$anonfun.child" title="scales.xml.XmlPath">child</a>: <span title="Iterable[scales.xml.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>		       
    <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * Base trait for XPath Axis, also provides common functionality
 */</span> 
  <span class="keyword">trait</span> <a title="trait Axis extends AnyRef" id="scales.xml.xpath;Axis">Axis</a> <span title="Unit" class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#scales.xml.xpath.Axis" title="scales.xml.xpath.Axis.type">Axis</a>._

    <span class="keyword">type</span> <a title=" &lt;: Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;Axis;T">T</a> &lt;: Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="=&gt; scala.collection.generic.CanBuildFrom[Axis.this.T,scales.xml.XmlPath,Axis.this.T]" id="scales.xml.xpath;Axis.cbf">cbf</a>: <span title="scala.collection.generic.CanBuildFrom[Axis.this.T,scales.xml.XmlPath,Axis.this.T]">CanBuildFrom</span><span class="delimiter">[</span>T, XmlPath, T<span class="delimiter">]</span>

    <span class="keyword">val</span> <a title="=&gt; scales.xml.xpath.XPathInfo" id="scales.xml.xpath;Axis.path">path</a>: <a href="#scales.xml.xpath.XPathInfo.readResolve" title="scales.xml.xpath.XPathInfo">XPathInfo</a>

    <span class="keyword">def</span> <a title="(xpathInfo: scales.xml.xpath.XPathInfo)scales.xml.xpath.XPath[Axis.this.T]" id="scales.xml.xpath;Axis.newThis">newThis</a><span class="delimiter">(</span><a title="scales.xml.xpath.XPathInfo" id="scales.xml.xpath;Axis.newThis.xpathInfo">xpathInfo</a>: <a href="#scales.xml.xpath.XPathInfo.readResolve" title="scales.xml.xpath.XPathInfo">XPathInfo</a><span class="delimiter">)</span>: <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span>

    <span class="keyword">def</span> <a title="(newNodes: Iterable[Iterable[scales.xml.XmlPath]], info: scales.xml.xpath.XPathInfo)scales.xml.xpath.XPath[Axis.this.T]" id="scales.xml.xpath;Axis.process">process</a><span class="delimiter">(</span><a title="Iterable[Iterable[scales.xml.XmlPath]]" id="scales.xml.xpath;Axis.process.newNodes">newNodes</a>: <span title="Iterable[Iterable[scales.xml.XmlPath]]">Iterable</span><span class="delimiter">[</span>Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="scales.xml.xpath.XPathInfo" id="scales.xml.xpath;Axis.process$default$2">info</a> : <a href="#scales.xml.xpath.XPathInfo.readResolve" title="scales.xml.xpath.XPathInfo">XPathInfo</a> = <a href="#scales.xml.xpath;Axis.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Iterable[Iterable[scales.xml.XmlPath]]" id="scales.xml.xpath;Axis.process.nn">nn</a> =
	<span title="Iterable[Iterable[scales.xml.XmlPath]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a>.<a href="#scales.xml.xpath.XPathInfo.apply$default$5" title="=&gt; Boolean">eager</a><span class="delimiter">)</span> <span class="delimiter">{</span>
	  <span title="Iterable[Iterable[scales.xml.XmlPath]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.process.newNodes" title="Iterable[Iterable[scales.xml.XmlPath]]">newNodes</a>.<span title="(p: Iterable[scales.xml.XmlPath] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.process.nn.$anonfun.x$5" title="Iterable[scales.xml.XmlPath]">_</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// look first</span>
	    <a href="#scales.xml.xpath;Axis.process.newNodes" title="Iterable[Iterable[scales.xml.XmlPath]]">newNodes</a>.<span title="(p: Iterable[scales.xml.XmlPath] =&gt; Boolean)Iterable[Iterable[scales.xml.XmlPath]]">filter</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#scales.xml.xpath;Axis.process.nn.$anonfun.x$6" title="Iterable[scales.xml.XmlPath]">_</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> 
	  <span class="keyword">else</span>
	    <a href="#scales.xml.xpath;Axis.process.newNodes" title="Iterable[Iterable[scales.xml.XmlPath]]">newNodes</a>
	<span class="delimiter">}</span> <span class="keyword">else</span> <a href="#scales.xml.xpath;Axis.process.newNodes" title="Iterable[Iterable[scales.xml.XmlPath]]">newNodes</a>.<span title="(p: Iterable[scales.xml.XmlPath] =&gt; Boolean)Iterable[Iterable[scales.xml.XmlPath]]">filter</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#scales.xml.xpath;Axis.process.nn.$anonfun.x$7" title="Iterable[scales.xml.XmlPath]">_</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="comment">// do it anyway</span>

      <a href="#scales.xml.xpath;Axis.newThis" title="(xpathInfo: scales.xml.xpath.XPathInfo)scales.xml.xpath.XPath[Axis.this.T]">newThis</a><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.process$default$2" title="scales.xml.xpath.XPathInfo">info</a>.<a href="#scales.xml.xpath.XPathInfo.readResolve" title="(nodes: Iterable[Iterable[scales.xml.XmlPath]], mustBeSorted: Boolean, filterDuplicates: Boolean, initialNode: Boolean, eager: Boolean, direct: Boolean)scales.xml.xpath.XPathInfo">copy</a><span class="delimiter">(</span> nodes = <a href="#scales.xml.xpath;Axis.process.nn" title="Iterable[Iterable[scales.xml.XmlPath]]">nn</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;Axis.empty">empty</a>: <span title="Iterable[scales.xml.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="(only: scales.xml.XmlPath)Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;Axis.just">just</a><span class="delimiter">(</span><a title="scales.xml.XmlPath" id="scales.xml.xpath;Axis.just.only">only</a>: <a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path" title="scales.xml.XmlPath">XmlPath</a><span class="delimiter">)</span>: <span title="Iterable[scales.xml.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span>

    <span class="comment">/**
     * x prefixed to avoid disturbing the use of an xpath as an iterable
     */</span> 
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(f: Iterable[scales.xml.XmlPath] =&gt; Iterable[Iterable[scales.xml.XmlPath]])scales.xml.xpath.XPath[Axis.this.T]" id="scales.xml.xpath;Axis.xflatMap">xflatMap</a><span class="delimiter">(</span><a title="Iterable[scales.xml.XmlPath] =&gt; Iterable[Iterable[scales.xml.XmlPath]]" id="scales.xml.xpath;Axis.xflatMap.f">f</a> : Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> =&gt; Iterable<span class="delimiter">[</span>Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">)</span> =
      <a href="#scales.xml.xpath;Axis.process" title="(newNodes: Iterable[Iterable[scales.xml.XmlPath]], info: scales.xml.xpath.XPathInfo)scales.xml.xpath.XPath[Axis.this.T]">process</a><span class="delimiter">(</span> <a href="#scales.xml.xpath;Axis.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a>.<a href="#scales.xml.xpath;XPathInfo.nodes" title="=&gt; Iterable[Iterable[scales.xml.XmlPath]]">nodes</a>.<span title="(f: Iterable[scales.xml.XmlPath] =&gt; scala.collection.GenTraversableOnce[Iterable[scales.xml.XmlPath]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.XmlPath]],Iterable[scales.xml.XmlPath],Iterable[Iterable[scales.xml.XmlPath]]])Iterable[Iterable[scales.xml.XmlPath]]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Iterable[scales.xml.XmlPath],Iterable[Iterable[scales.xml.XmlPath]]]" class="delimiter">(</span> <a href="#scales.xml.xpath;Axis.xflatMap.f" title="Iterable[scales.xml.XmlPath] =&gt; Iterable[Iterable[scales.xml.XmlPath]]">f</a> <span class="delimiter">)</span> <span class="delimiter">)</span>

    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(f: Iterable[scales.xml.XmlPath] =&gt; Boolean)scales.xml.xpath.XPath[Axis.this.T]" id="scales.xml.xpath;Axis.xfilter">xfilter</a><span class="delimiter">(</span> <a title="Iterable[scales.xml.XmlPath] =&gt; Boolean" id="scales.xml.xpath;Axis.xfilter.f">f</a> : Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> =&gt; Boolean <span class="delimiter">)</span> = 
      <a href="#scales.xml.xpath;Axis.process" title="(newNodes: Iterable[Iterable[scales.xml.XmlPath]], info: scales.xml.xpath.XPathInfo)scales.xml.xpath.XPath[Axis.this.T]">process</a><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a>.<a href="#scales.xml.xpath;XPathInfo.nodes" title="=&gt; Iterable[Iterable[scales.xml.XmlPath]]">nodes</a>.<span title="(p: Iterable[scales.xml.XmlPath] =&gt; Boolean)Iterable[Iterable[scales.xml.XmlPath]]">filter</span><span class="delimiter">(</span> <a href="#scales.xml.xpath;Axis.xfilter.f" title="Iterable[scales.xml.XmlPath] =&gt; Boolean">f</a> <span class="delimiter">)</span> <span class="delimiter">)</span>

    <span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(onN: Int =&gt; Boolean)scales.xml.xpath.XPath[Axis.this.T]" id="scales.xml.xpath;Axis.xlast">xlast</a><span class="delimiter">(</span> <a title="Int =&gt; Boolean" id="scales.xml.xpath;Axis.xlast.onN">onN</a> : Int =&gt; Boolean <span class="delimiter">)</span> : <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
      <a href="#scales.xml.xpath;Axis.xfilter" title="(f: Iterable[scales.xml.XmlPath] =&gt; Boolean)scales.xml.xpath.XPath[Axis.this.T]">xfilter</a><span class="delimiter">{</span> <a title="Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;Axis.xlast.$anonfun.x">x</a> =&gt; <a href="#scales.xml.xpath;Axis.xlast.onN" title="(v1: Int)Boolean">onN</a><span class="delimiter">(</span> <a href="#scales.xml.xpath;Axis.xlast.$anonfun.x" title="Iterable[scales.xml.XmlPath]">x</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span> <span class="delimiter">}</span>

    <span class="comment">/**
     * Equivalent to [last() &gt; n]
     */</span> 
    <span class="keyword">def</span> <a title="(n: =&gt; Int)scales.xml.xpath.XPath[Axis.this.T]" id="scales.xml.xpath;Axis.last_>">last_&gt;</a><span class="delimiter">(</span><a title="=&gt; Int" id="scales.xml.xpath;Axis.last_>.n">n</a> : =&gt; Int<span class="delimiter">)</span>: <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
      <a href="#scales.xml.xpath;Axis.xlast" title="(onN: Int =&gt; Boolean)scales.xml.xpath.XPath[Axis.this.T]">xlast</a><span class="delimiter">(</span> <a href="#scales.xml.xpath;Axis.last_>.$anonfun.x$8" title="Int">_</a> <span title="(x: Int)Boolean">&gt;</span> <a href="#scales.xml.xpath;Axis.last_>.n" title="=&gt; Int">n</a> <span class="delimiter">)</span>

    <span class="comment">/**
     * Equivalent to [last() &lt; n]
     */</span> 
    <span class="keyword">def</span> <a title="(n: =&gt; Int)scales.xml.xpath.XPath[Axis.this.T]" id="scales.xml.xpath;Axis.last_<">last_&lt;</a><span class="delimiter">(</span><a title="=&gt; Int" id="scales.xml.xpath;Axis.last_<.n">n</a> : =&gt; Int<span class="delimiter">)</span>: <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
      <a href="#scales.xml.xpath;Axis.xlast" title="(onN: Int =&gt; Boolean)scales.xml.xpath.XPath[Axis.this.T]">xlast</a><span class="delimiter">(</span> <a href="#scales.xml.xpath;Axis.last_<.$anonfun.x$9" title="Int">_</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#scales.xml.xpath;Axis.last_<.n" title="=&gt; Int">n</a> <span class="delimiter">)</span>

    <span class="comment">/**
     * Equivalent to [last() = n]
     */</span> 
    <span class="keyword">def</span> <a title="(n: =&gt; Int)scales.xml.xpath.XPath[Axis.this.T]" id="scales.xml.xpath;Axis.last_==">last_==</a><span class="delimiter">(</span><a title="=&gt; Int" id="scales.xml.xpath;Axis.last_==.n">n</a> : =&gt; Int<span class="delimiter">)</span>: <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
      <a href="#scales.xml.xpath;Axis.xlast" title="(onN: Int =&gt; Boolean)scales.xml.xpath.XPath[Axis.this.T]">xlast</a><span class="delimiter">(</span> <a href="#scales.xml.xpath;Axis.last_==.$anonfun.x$10" title="Int">_</a> <span title="(x: Int)Boolean">==</span> <a href="#scales.xml.xpath;Axis.last_==.n" title="=&gt; Int">n</a> <span class="delimiter">)</span>

    <span class="comment">/**
     * Equivalent to position() = last()
     */</span> 
    <span class="keyword">def</span> <a title="=&gt; scales.xml.xpath.XPath[Axis.this.T]" id="scales.xml.xpath;Axis.pos_eq_last">pos_eq_last</a> : <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
      <a href="#scales.xml.xpath;Axis.xmap" title="(f: Iterable[scales.xml.XmlPath] =&gt; Iterable[scales.xml.XmlPath])scales.xml.xpath.XPath[Axis.this.T]">xmap</a> <span class="delimiter">{</span> <a href="#scales.xml.xpath;Axis.pos_eq_last.$anonfun.x$11" title="Iterable[scales.xml.XmlPath]">_</a>.<span title="(xo: Option[scales.xml.XmlPath])Iterable[scales.xml.XmlPath]">lastOption</span> <span class="delimiter">}</span>

    <span class="comment">/**
     * Equivalent to [position() &gt; pos]
     */</span> 
    <span class="keyword">def</span> <a title="(pos: =&gt; Int)scales.xml.xpath.XPath[Axis.this.T]" id="scales.xml.xpath;Axis.pos_>">pos_&gt;</a><span class="delimiter">(</span><a title="=&gt; Int" id="scales.xml.xpath;Axis.pos_>.pos">pos</a> : =&gt; Int<span class="delimiter">)</span>: <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
      <a href="#scales.xml.xpath;Axis.xflatMap" title="(f: Iterable[scales.xml.XmlPath] =&gt; Iterable[Iterable[scales.xml.XmlPath]])scales.xml.xpath.XPath[Axis.this.T]">xflatMap</a> <span class="delimiter">{</span> <a title="Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;Axis.pos_>.$anonfun.path">path</a> =&gt;
	<span class="keyword">val</span> <a title="Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;Axis.pos_>.$anonfun.n">n</a> = <a href="#scales.xml.xpath;Axis.pos_>.$anonfun.path" title="Iterable[scales.xml.XmlPath]">path</a>.<span title="(n: Int)Iterable[scales.xml.XmlPath]">drop</span><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.pos_>.pos" title="=&gt; Int">pos</a><span class="delimiter">)</span>
	<span title="Iterable[Iterable[scales.xml.XmlPath]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.pos_>.$anonfun.n" title="Iterable[scales.xml.XmlPath]">n</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
	  <a href="#scales.xml.xpath;Axis.empty" title="=&gt; Iterable[scales.xml.XmlPath]">empty</a>
	<span class="keyword">else</span>
	  <a href="../../utils/package.scala.html#scales.utils.package.one" title="(i: Iterable[scales.xml.XmlPath])List[Iterable[scales.xml.XmlPath]]">one</a><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.pos_>.$anonfun.n" title="Iterable[scales.xml.XmlPath]">n</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="comment">/**
     * Equivalent to [position() &lt; pos]
     */</span> 
    <span class="keyword">def</span> <a title="(pos: =&gt; Int)scales.xml.xpath.XPath[Axis.this.T]" id="scales.xml.xpath;Axis.pos_<">pos_&lt;</a><span class="delimiter">(</span><a title="=&gt; Int" id="scales.xml.xpath;Axis.pos_<.pos">pos</a> : =&gt; Int<span class="delimiter">)</span>: <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
      <a href="#scales.xml.xpath;Axis.xflatMap" title="(f: Iterable[scales.xml.XmlPath] =&gt; Iterable[Iterable[scales.xml.XmlPath]])scales.xml.xpath.XPath[Axis.this.T]">xflatMap</a> <span class="delimiter">{</span> <a title="Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;Axis.pos_<.$anonfun.path">path</a> =&gt;
	<span class="keyword">val</span> <a title="Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;Axis.pos_<.$anonfun.n">n</a> = <a href="#scales.xml.xpath;Axis.pos_<.$anonfun.path" title="Iterable[scales.xml.XmlPath]">path</a>.<span title="(n: Int)Iterable[scales.xml.XmlPath]">take</span><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.pos_<.pos" title="=&gt; Int">pos</a><span title="(x: Int)Int">-</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span title="Iterable[Iterable[scales.xml.XmlPath]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.pos_<.$anonfun.n" title="Iterable[scales.xml.XmlPath]">n</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
	  <a href="#scales.xml.xpath;Axis.empty" title="=&gt; Iterable[scales.xml.XmlPath]">empty</a>
	<span class="keyword">else</span>
	  <a href="../../utils/package.scala.html#scales.utils.package.one" title="(i: Iterable[scales.xml.XmlPath])List[Iterable[scales.xml.XmlPath]]">one</a><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.pos_<.$anonfun.n" title="Iterable[scales.xml.XmlPath]">n</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    
    <span class="keyword">def</span> <a title="(p: =&gt; Int)scales.xml.xpath.XPath[Axis.this.T]" id="scales.xml.xpath;Axis.pos_==">pos_==</a><span class="delimiter">(</span><a title="=&gt; Int" id="scales.xml.xpath;Axis.pos_==.p">p</a>: =&gt; Int<span class="delimiter">)</span> = <a href="#scales.xml.xpath;Axis.pos" title="(pos: =&gt; Int)scales.xml.xpath.XPath[Axis.this.T]">pos</a><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.pos_==.p" title="=&gt; Int">p</a><span class="delimiter">)</span>

    <span class="comment">/**
     * 1 index based, per spec, but unsure if it should be
     */</span>
    <span class="keyword">def</span> <a title="(pos: =&gt; Int)scales.xml.xpath.XPath[Axis.this.T]" id="scales.xml.xpath;Axis.pos">pos</a><span class="delimiter">(</span><a title="=&gt; Int" id="scales.xml.xpath;Axis.pos.pos">pos</a>: =&gt; Int<span class="delimiter">)</span>: <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = 
      <a href="#scales.xml.xpath;Axis.xflatMap" title="(f: Iterable[scales.xml.XmlPath] =&gt; Iterable[Iterable[scales.xml.XmlPath]])scales.xml.xpath.XPath[Axis.this.T]">xflatMap</a> <span class="delimiter">{</span> <a title="Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;Axis.pos.$anonfun.path">path</a> =&gt;
	<span class="keyword">val</span> <a title="Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;Axis.pos.$anonfun.n">n</a> = <a href="#scales.xml.xpath;Axis.pos.$anonfun.path" title="Iterable[scales.xml.XmlPath]">path</a>.<span title="(n: Int)Iterable[scales.xml.XmlPath]">take</span><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.pos.pos" title="=&gt; Int">pos</a><span class="delimiter">)</span>
		 
	<span title="Iterable[Iterable[scales.xml.XmlPath]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.pos.$anonfun.n" title="Iterable[scales.xml.XmlPath]">n</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">!=</span> <a href="#scales.xml.xpath;Axis.pos.pos" title="=&gt; Int">pos</a><span class="delimiter">)</span> 
	  <a href="#scales.xml.xpath;Axis.empty" title="=&gt; Iterable[scales.xml.XmlPath]">empty</a>
	<span class="keyword">else</span> 
	  <a href="../../utils/package.scala.html#scales.utils.package.one" title="(i: Iterable[scales.xml.XmlPath])List[Iterable[scales.xml.XmlPath]]">one</a><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.just" title="(only: scales.xml.XmlPath)Iterable[scales.xml.XmlPath]">just</a><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.pos.$anonfun.n" title="Iterable[scales.xml.XmlPath]">n</a>.<span title="=&gt; scales.xml.XmlPath">last</span><span class="delimiter">)</span><span class="delimiter">)</span>               
      <span class="delimiter">}</span>

    <span class="comment">/** Parents of these paths */</span>
    <span class="keyword">def</span> <a title="=&gt; scales.xml.xpath.XPath[Axis.this.T]" id="scales.xml.xpath;Axis.\^">\^</a> : <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
      <span class="comment">/* must process dups
       * flatten, only each elem should get through anyway
       */</span>
      <a href="#scales.xml.xpath;Axis.process" title="(newNodes: Iterable[Iterable[scales.xml.XmlPath]], info: scales.xml.xpath.XPathInfo)scales.xml.xpath.XPath[Axis.this.T]">process</a><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a>.<a href="#scales.xml.xpath;XPathInfo.nodes" title="=&gt; Iterable[Iterable[scales.xml.XmlPath]]">nodes</a>.<span title="(f: Iterable[scales.xml.XmlPath] =&gt; scala.collection.GenTraversableOnce[Iterable[scales.xml.XmlPath]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.XmlPath]],Iterable[scales.xml.XmlPath],Iterable[Iterable[scales.xml.XmlPath]]])Iterable[Iterable[scales.xml.XmlPath]]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Iterable[scales.xml.XmlPath],Iterable[Iterable[scales.xml.XmlPath]]]" class="delimiter">{</span> <a title="Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;Axis.\^.$anonfun.path">path</a> =&gt;
	<a href="#scales.xml.xpath;Axis.\^.$anonfun.path" title="Iterable[scales.xml.XmlPath]">path</a>.<span title="(f: scales.xml.XmlPath =&gt; scala.collection.GenTraversableOnce[Iterable[scales.xml.XmlPath]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.XmlPath],Iterable[scales.xml.XmlPath],Iterable[Iterable[scales.xml.XmlPath]]])Iterable[Iterable[scales.xml.XmlPath]]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Iterable[scales.xml.XmlPath],Iterable[Iterable[scales.xml.XmlPath]]]" class="delimiter">{</span> <a title="scales.xml.XmlPath" id="scales.xml.xpath;Axis.\^.$anonfun.$anonfun.x">x</a> =&gt;
          <span title="Iterable[Iterable[scales.xml.XmlPath]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.\^.$anonfun.$anonfun.x" title="scales.xml.XmlPath">x</a>.<a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path.top" title="=&gt; scales.utils.EitherLike[scales.utils.collection.path.Top[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC],scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]">top</a>.<a href="../../utils/EitherLike.scala.html#scales.utils;EitherLike.isLeft" title="=&gt; Boolean">isLeft</a><span class="delimiter">)</span> <a href="#scales.xml.xpath;Axis.empty" title="=&gt; Iterable[scales.xml.XmlPath]">empty</a>
          <span class="keyword">else</span> <a href="../../utils/package.scala.html#scales.utils.package.one" title="(i: Iterable[scales.xml.XmlPath])List[Iterable[scales.xml.XmlPath]]">one</a><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.just" title="(only: scales.xml.XmlPath)Iterable[scales.xml.XmlPath]">just</a><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.\^.$anonfun.$anonfun.x" title="scales.xml.XmlPath">x</a>.<a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path.top" title="=&gt; scales.utils.EitherLike[scales.utils.collection.path.Top[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC],scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]">top</a>.<a href="../../utils/EitherLike.scala.html#scales.utils;EitherLike.right" title="=&gt; scales.utils.impl.RightLikeProjection[scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]]">right</a>.<a href="../../utils/impl/EitherLikeImpl.scala.html#scales.utils.impl;RightLikeProjection.get" title="=&gt; scales.utils.collection.path.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.XCC]">get</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>, <a href="#scales.xml.xpath;Axis.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a>.<a href="#scales.xml.xpath;XPathInfo.nodes" title="Iterable[Iterable[scales.xml.XmlPath]]" id="scales.xml.xpath;Axis.\^.x$19">copy</a><span class="delimiter">(</span>initialNode = <a title="Boolean" id="scales.xml.xpath;Axis.\^.x$14" class="keyword">false</a>, direct = <a title="Boolean" id="scales.xml.xpath;Axis.\^.x$15" class="keyword">false</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** simply forwards the current context, element\item specific versions exist that step downwards in document order */</span>
    <span class="keyword">def</span> <a title="=&gt; scales.xml.xpath.XPath[Axis.this.T]" id="scales.xml.xpath;Axis.\">\</a> : <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
      <a href="#scales.xml.xpath;Axis.newThis" title="(xpathInfo: scales.xml.xpath.XPathInfo)scales.xml.xpath.XPath[Axis.this.T]">newThis</a><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a>.<a href="#scales.xml.xpath;XPathInfo.nodes" title="Iterable[Iterable[scales.xml.XmlPath]]" id="scales.xml.xpath;Axis.\.x$25">copy</a><span class="delimiter">(</span>initialNode = <a title="Boolean" id="scales.xml.xpath;Axis.\.x$20" class="keyword">false</a>, direct = <a title="Boolean" id="scales.xml.xpath;Axis.\.x$21" class="keyword">false</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/**
     * all children unpacked, normal xpath requires the context in E1/E2, which hugely complicates things, so \ is this, \+ is \ in the case where unpacking is needed
     * which just leaves \* varieties for elements.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; scales.xml.xpath.XPath[Axis.this.T]" id="scales.xml.xpath;Axis.\+">\+</a> : <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
      <a href="#scales.xml.xpath;Axis.process" title="(newNodes: Iterable[Iterable[scales.xml.XmlPath]], info: scales.xml.xpath.XPathInfo)scales.xml.xpath.XPath[Axis.this.T]">process</a><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a>.<a href="#scales.xml.xpath;XPathInfo.nodes" title="=&gt; Iterable[Iterable[scales.xml.XmlPath]]">nodes</a>.<span title="(f: Iterable[scales.xml.XmlPath] =&gt; scala.collection.GenTraversableOnce[scales.xml.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.XmlPath]],scales.xml.XmlPath,Iterable[Iterable[scales.xml.XmlPath]]])Iterable[Iterable[scales.xml.XmlPath]]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.XmlPath,Iterable[scales.xml.XmlPath]]" class="delimiter">{</span>
        <a href="#scales.xml.xpath;Axis.\+.$anonfun.x$12" title="Iterable[scales.xml.XmlPath]">_</a>.<span title="(f: scales.xml.XmlPath =&gt; scala.collection.GenTraversableOnce[scales.xml.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.XmlPath],scales.xml.XmlPath,Iterable[scales.xml.XmlPath]])Iterable[scales.xml.XmlPath]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.XmlPath,Iterable[scales.xml.XmlPath]]" class="delimiter">{</span> <a title="scales.xml.XmlPath" id="scales.xml.xpath;Axis.\+.$anonfun.$anonfun.child">child</a> =&gt;
          <span title="Iterable[scales.xml.XmlPath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.\+.$anonfun.$anonfun.child" title="scales.xml.XmlPath">child</a>.<a href="../../utils/collection/path/Paths.scala.html#scales.utils.collection.path;Path.isItem" title="=&gt; Boolean">isItem</a><span class="delimiter">)</span> <a href="#scales.xml.xpath;Axis.just" title="(only: scales.xml.XmlPath)Iterable[scales.xml.XmlPath]">just</a><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.\+.$anonfun.$anonfun.child" title="scales.xml.XmlPath">child</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="../../utils/package.scala.html#scales.utils.package.one" title="(i: scales.xml.XmlPath)List[scales.xml.XmlPath]">one</a><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.\+.$anonfun.$anonfun.child" title="scales.xml.XmlPath">child</a><span class="delimiter">)</span> <span class="comment">//: Iterable[XmlPath] </span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>, <a href="#scales.xml.xpath;Axis.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a>.<a href="#scales.xml.xpath;XPathInfo.nodes" title="Iterable[Iterable[scales.xml.XmlPath]]" id="scales.xml.xpath;Axis.\+.x$31">copy</a><span class="delimiter">(</span>initialNode = <a title="Boolean" id="scales.xml.xpath;Axis.\+.x$26" class="keyword">false</a>, direct = <a title="Boolean" id="scales.xml.xpath;Axis.\+.x$27" class="keyword">false</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/**
     * All descendants, uses XPathInfo eager to choose an implementation
     */</span> 
    <span class="keyword">def</span> <a title="=&gt; scales.xml.xpath.XPath[Axis.this.T]" id="scales.xml.xpath;Axis.\\">\\</a> : <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Iterable[scales.xml.XmlPath] =&gt; Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;Axis.\\.f">f</a> = 
	<span title="Iterable[scales.xml.XmlPath] =&gt; Iterable[scales.xml.XmlPath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a>.<a href="#scales.xml.xpath.XPathInfo.apply$default$5" title="=&gt; Boolean">eager</a><span class="delimiter">)</span> <a href="#scales.xml.xpath.Axis.eager_recUnpack" title="(xmlPath: Iterable[scales.xml.XmlPath])List[scales.xml.XmlPath]">eager_recUnpack</a> _
	<span class="keyword">else</span> <a href="#scales.xml.xpath.Axis.lazy_recUnpack" title="(axis: scales.xml.xpath.Axis)(xmlPath: Iterable[scales.xml.XmlPath])Iterable[scales.xml.XmlPath]">lazy_recUnpack</a><a href="#scales.xml.xpath;Axis.\\.f.$anonfun.xmlPath" title="Iterable[scales.xml.XmlPath]" class="delimiter">(</a><a href="#scales.xml.xpath;Axis" title="scales.xml.xpath.Axis" class="keyword">this</a><span class="delimiter">)</span> _

      <a href="#scales.xml.xpath;Axis.process" title="(newNodes: Iterable[Iterable[scales.xml.XmlPath]], info: scales.xml.xpath.XPathInfo)scales.xml.xpath.XPath[Axis.this.T]">process</a><span class="delimiter">(</span>
        <span class="delimiter">(</span><span title="Iterable[Iterable[scales.xml.XmlPath]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a>.<a href="#scales.xml.xpath.XPathInfo.apply$default$4" title="=&gt; Boolean">initialNode</a><span class="delimiter">)</span> <a href="#scales.xml.xpath;Axis.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a>.<a href="#scales.xml.xpath;XPathInfo.nodes" title="=&gt; Iterable[Iterable[scales.xml.XmlPath]]">nodes</a> <span class="comment">// crazy initial expression thing 3.2 in http://www.w3.org/TR/xpath20/#id-path-expressions</span>
        <span class="keyword">else</span> List<span title="scala.collection.immutable.Nil.type" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="(that: scala.collection.GenTraversableOnce[Iterable[scales.xml.XmlPath]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.XmlPath]],Iterable[scales.xml.XmlPath],Iterable[Iterable[scales.xml.XmlPath]]])Iterable[Iterable[scales.xml.XmlPath]]">++</span> <a href="#scales.xml.xpath;Axis.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a>.<a href="#scales.xml.xpath;XPathInfo.nodes" title="=&gt; Iterable[Iterable[scales.xml.XmlPath]]">nodes</a>.<span title="(f: Iterable[scales.xml.XmlPath] =&gt; scala.collection.GenTraversableOnce[scales.xml.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.XmlPath]],scales.xml.XmlPath,Iterable[scales.xml.XmlPath]])Iterable[scales.xml.XmlPath]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.XmlPath,Iterable[scales.xml.XmlPath]]" class="delimiter">{</span> <a href="#scales.xml.xpath;Axis.\\.f" title="Iterable[scales.xml.XmlPath] =&gt; Iterable[scales.xml.XmlPath]">f</a> <span class="delimiter">}</span>,
	 <a href="#scales.xml.xpath;Axis.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a>.<a href="#scales.xml.xpath;XPathInfo.nodes" title="Iterable[Iterable[scales.xml.XmlPath]]" id="scales.xml.xpath;Axis.\\.x$37">copy</a><span class="delimiter">(</span>initialNode = <a title="Boolean" id="scales.xml.xpath;Axis.\\.x$32" class="keyword">false</a>, direct = <a title="Boolean" id="scales.xml.xpath;Axis.\\.x$33" class="keyword">false</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(f: Iterable[scales.xml.XmlPath] =&gt; Iterable[scales.xml.XmlPath])scales.xml.xpath.XPath[Axis.this.T]" id="scales.xml.xpath;Axis.xmap">xmap</a><span class="delimiter">(</span> <a title="Iterable[scales.xml.XmlPath] =&gt; Iterable[scales.xml.XmlPath]" id="scales.xml.xpath;Axis.xmap.f">f</a> : Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> =&gt; Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> <span class="delimiter">)</span> =
      <a href="#scales.xml.xpath;Axis.process" title="(newNodes: Iterable[Iterable[scales.xml.XmlPath]], info: scales.xml.xpath.XPathInfo)scales.xml.xpath.XPath[Axis.this.T]">process</a><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.path" title="=&gt; scales.xml.xpath.XPathInfo">path</a>.<a href="#scales.xml.xpath;XPathInfo.nodes" title="=&gt; Iterable[Iterable[scales.xml.XmlPath]]">nodes</a>.<span title="(f: Iterable[scales.xml.XmlPath] =&gt; Iterable[scales.xml.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.XmlPath]],Iterable[scales.xml.XmlPath],Iterable[Iterable[scales.xml.XmlPath]]])Iterable[Iterable[scales.xml.XmlPath]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Iterable[scales.xml.XmlPath],Iterable[Iterable[scales.xml.XmlPath]]]" class="delimiter">{</span> <a href="#scales.xml.xpath;Axis.xmap.f" title="Iterable[scales.xml.XmlPath] =&gt; Iterable[scales.xml.XmlPath]">f</a> <span class="delimiter">}</span><span class="delimiter">)</span>

    <span class="comment">/** filter through the current matches */</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(pred: scales.xml.XmlPath =&gt; Boolean)scales.xml.xpath.XPath[Axis.this.T]" id="scales.xml.xpath;Axis.filter">filter</a><span class="delimiter">(</span><a title="scales.xml.XmlPath =&gt; Boolean" id="scales.xml.xpath;Axis.filter.pred">pred</a>: XmlPath =&gt; Boolean<span class="delimiter">)</span>: <a href="#scales.xml.xpath;XPath" title="scales.xml.xpath.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
      <a href="#scales.xml.xpath;Axis.xmap" title="(f: Iterable[scales.xml.XmlPath] =&gt; Iterable[scales.xml.XmlPath])scales.xml.xpath.XPath[Axis.this.T]">xmap</a><span class="delimiter">{</span> <a href="#scales.xml.xpath;Axis.filter.$anonfun.x$13" title="Iterable[scales.xml.XmlPath]">_</a>.<span title="(p: scales.xml.XmlPath =&gt; Boolean)Iterable[scales.xml.XmlPath]">filter</span><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.filter.pred" title="scales.xml.XmlPath =&gt; Boolean">pred</a><span class="delimiter">)</span> <span class="delimiter">}</span>

    <span class="comment">/**
     * simple test for string equality
     */</span> 
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(textValue: =&gt; String)scales.xml.xpath.XPath[Axis.this.T]" id="scales.xml.xpath;Axis.===">===</a><span class="delimiter">(</span> <a title="=&gt; String" id="scales.xml.xpath;Axis.===.textValue">textValue</a> : =&gt; String <span class="delimiter">)</span> = 
      <a href="#scales.xml.xpath;Axis.filter" title="(pred: scales.xml.XmlPath =&gt; Boolean)scales.xml.xpath.XPath[Axis.this.T]">filter</a><span class="delimiter">(</span><a title="scales.xml.XmlPath" id="scales.xml.xpath;Axis.===.$anonfun.x">x</a> =&gt; <a href="Functions.scala.html#scales.xml.xpath.XmlPathText" title="scales.xml.xpath.XmlPathText.type">XmlPathText</a>.<a href="Functions.scala.html#scales.xml.xpath.XmlPathText.text" title="(implicit t: scales.xml.XmlPath)String">text</a><span class="delimiter">(</span><a href="#scales.xml.xpath;Axis.===.$anonfun.x" title="scales.xml.XmlPath">x</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#scales.xml.xpath;Axis.===.textValue" title="=&gt; String">textValue</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

        </pre>
    </body>
</html>
