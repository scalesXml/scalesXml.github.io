<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\xml\TraxSupport.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    
<style id="linesStyle">
.lineHighlight {
  background-color: #a5a5a5;
}
</style>
<script type="text/javascript">
function selectedLine() {
    var loca = /^.*#l(.*)/.exec(location.href);
    return loca ? loca[1] : '0';
}

function highlightLine(ln){
  $('#l'+ln).toggleClass('lineHighlight');
}

function gotoLine(ln){
  $('#l'+ln).focus();
}

$(function(){
  var line = selectedLine();
  if (line != '0') highlightLine(line)
});
</script></head>
    <body>
        <pre>
<!-- SXR_LINES --><a href="l1"></a><span id="l1"><span class="keyword">package</span> scales.xml</span>
<a href="l2"></a><span id="l2"></span>
<a href="l3"></a><span id="l3"><span class="keyword">import</span> javax.xml.stream._</span>
<a href="l4"></a><span id="l4"><span class="keyword">import</span> scales.utils._</span>
<a href="l5"></a><span id="l5"><span class="keyword">import</span> <a href="ScalesXml.scala.html#10381" title="object scales.xml.ScalesXml">ScalesXml</a>._</span>
<a href="l6"></a><span id="l6"></span>
<a href="l7"></a><span id="l7"><span class="keyword">import</span> javax.xml.namespace.<span class="delimiter">{</span>QName =&gt; JQName, NamespaceContext<span class="delimiter">}</span></span>
<a href="l8"></a><span id="l8"></span>
<a href="l9"></a><span id="l9"><span class="keyword">import</span> javax.xml.transform.Source</span>
<a href="l10"></a><span id="l10"><span class="keyword">import</span> javax.xml.transform.stax._</span>
<a href="l11"></a><span id="l11"><span class="keyword">import</span> javax.xml.transform.sax._</span>
<a href="l12"></a><span id="l12"><span class="keyword">import</span> javax.xml.transform.stream._</span>
<a href="l13"></a><span id="l13"></span>
<a href="l14"></a><span id="l14"><span class="keyword">object</span> <a title="object scales.xml.EmptyStreamLocation" id="10394">EmptyStreamLocation</a> <span title="ScalaObject" class="keyword">extends</span> <span title="javax.xml.stream.Location">Location</span> <span class="delimiter">{</span></span>
<a href="l15"></a><span id="l15">  <span class="keyword">val</span> <a title="Int" id="92715">getCharacterOffset</a> : <span title="Int">Int</span> = -<span title="Int(-1)" class="int">1</span></span>
<a href="l16"></a><span id="l16">  <span class="keyword">val</span> <a title="Int" id="92717">getColumnNumber</a> : <span title="Int">Int</span> = -<span title="Int(-1)" class="int">1</span></span>
<a href="l17"></a><span id="l17">  <span class="keyword">val</span> <a title="Int" id="92719">getLineNumber</a> : <span title="Int">Int</span> = -<span title="Int(-1)" class="int">1</span></span>
<a href="l18"></a><span id="l18">  <span class="keyword">val</span> <a title="String" id="92721">getPublicId</a> : <span title="String">String</span> = <span title="Null(null)" class="keyword">null</span> : <span title="String">String</span> </span>
<a href="l19"></a><span id="l19">  <span class="keyword">val</span> <a title="String" id="92723">getSystemId</a> : <span title="String">String</span> = <span title="Null(null)" class="keyword">null</span> : <span title="String">String</span> </span>
<a href="l20"></a><span id="l20"><span class="delimiter">}</span></span>
<a href="l21"></a><span id="l21"></span>
<a href="l22"></a><span id="l22"><span class="keyword">trait</span> <a title="trait TNC extends java.lang.Object with javax.xml.namespace.NamespaceContext" id="10396">TNC</a> <span class="keyword">extends</span> <span title="javax.xml.namespace.NamespaceContext">NamespaceContext</span> <span class="delimiter">{</span></span>
<a href="l23"></a><span id="l23">  <span class="keyword">val</span> <a title="=&gt; scales.xml.TNC" id="92734">parent</a> : <a href="#10396" title="scales.xml.TNC">TNC</a></span>
<a href="l24"></a><span id="l24"></span>
<a href="l25"></a><span id="l25">  <span class="keyword">val</span> <a title="=&gt; Array[(String, String)]" id="92735">ns</a> : <span title="Array[(String, String)]">Array</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span></span>
<a href="l26"></a><span id="l26"><span class="delimiter">}</span></span>
<a href="l27"></a><span id="l27"></span>
<a href="l28"></a><span id="l28"><span class="keyword">object</span> <a title="object scales.xml.EmptyNamespaceContext" id="10397">EmptyNamespaceContext</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10396" title="scales.xml.TNC">TNC</a> <span class="delimiter">{</span></span>
<a href="l29"></a><span id="l29"> <span class="keyword">import</span> scala.collection.<span title="object scala.collection.JavaConversions">JavaConversions</span>._</span>
<a href="l30"></a><span id="l30"></span>
<a href="l31"></a><span id="l31"> <span class="keyword">val</span> <a title="scales.xml.EmptyNamespaceContext.type" id="92739">parent</a> = <span class="keyword">this</span></span>
<a href="l32"></a><span id="l32">   </span>
<a href="l33"></a><span id="l33"> <span class="keyword">val</span> <a title="Array[(String, String)]" id="92741">ns</a> = <span title="[T](xs: T*)(implicit evidence$2: scala.reflect.ClassManifest[T])Array[T]">Array</span><span title="(xs: (String, String)*)(implicit evidence$2: scala.reflect.ClassManifest[(String, String)])Array[(String, String)]" class="delimiter">[</span><span title="(String, String)" class="delimiter">(</span>String,String<span class="delimiter">)</span><span class="delimiter">]</span><span title="(clazz: java.lang.Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[(String, String)]" class="delimiter">(</span><span class="delimiter">)</span> </span>
<a href="l34"></a><span id="l34"></span>
<a href="l35"></a><span id="l35"> <span class="keyword">def</span> <a title="(prefix: String)String" id="92743">getNamespaceURI</a><span class="delimiter">(</span> <a title="String" id="93856">prefix</a> : <span title="String">String</span><span class="delimiter">)</span> : <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span></span>
<a href="l36"></a><span id="l36"> <span class="keyword">def</span> <a title="(namespaceURI: String)String" id="92744">getPrefix</a><span class="delimiter">(</span> <a title="String" id="93858">namespaceURI</a> : <span title="String">String</span><span class="delimiter">)</span> : <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span></span>
<a href="l37"></a><span id="l37"> <span class="keyword">def</span> <a title="(namespaceURI: String)java.util.Iterator[String]" id="92745">getPrefixes</a><span class="delimiter">(</span><a title="String" id="93860">namespaceURI</a> : <span title="String">String</span><span class="delimiter">)</span> : java.util.<span title="java.util.Iterator[String]">Iterator</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>.<span title="(i: Iterator[String])java.util.Iterator[String]">iterator</span> </span>
<a href="l38"></a><span id="l38"> </span>
<a href="l39"></a><span id="l39"><span class="delimiter">}</span></span>
<a href="l40"></a><span id="l40"></span>
<a href="l41"></a><span id="l41"><span class="comment">/**</span>
<a href="l42"></a><span id="l42"> * Provides a namespace context, needs pushing / popping etc</span>
<a href="l43"></a><span id="l43"> */</span> </span>
<a href="l44"></a><span id="l44"><span class="keyword">object</span> <a title="object scales.xml.NamespaceContextFunctions" id="10399">NamespaceContextFunctions</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l45"></a><span id="l45"><span class="comment">//  def case class ElNamespaceContext( elem : Elem ) </span></span>
<a href="l46"></a><span id="l46">  </span>
<a href="l47"></a><span id="l47">  <span class="keyword">def</span> <a title="(prev: scales.xml.TNC, elem: scales.xml.Elem)java.lang.Object with scales.xml.TNC{lazy val preToNS: scala.collection.immutable.Map[String,String]; val nsToPre: scala.collection.immutable.Map[String,List[String]]; def getPrefixes(namespaceURI: String): java.util.Iterator[String]}" id="94433">newContext</a><span class="delimiter">(</span> <a title="scales.xml.TNC" id="94436">prev</a> : <a href="#10396" title="scales.xml.TNC">TNC</a>, <a title="scales.xml.Elem" id="94437">elem</a> : <a href="XmlTypes.scala.html#10558" title="scales.xml.Elem">Elem</a> <span class="delimiter">)</span> =  <a href="#94440" title="java.lang.Object with scales.xml.TNC{lazy val preToNS: scala.collection.immutable.Map[String,String]; val nsToPre: scala.collection.immutable.Map[String,List[String]]}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scales.xml.TNC" id="94440">TNC</a> <span class="delimiter">{</span></span>
<a href="l48"></a><span id="l48">    <span class="keyword">import</span> scala.collection.<span title="object scala.collection.JavaConversions">JavaConversions</span>._</span>
<a href="l49"></a><span id="l49"></span>
<a href="l50"></a><span id="l50">    <span class="keyword">val</span> <a title="scales.xml.TNC" id="94443">parent</a> = <a href="#94436" title="scales.xml.TNC">prev</a></span>
<a href="l51"></a><span id="l51"></span>
<a href="l52"></a><span id="l52">    <span class="keyword">val</span> <a title="Array[(String, String)]" id="94445">ns</a> = <a href="#94447" title="=&gt; scala.collection.immutable.Map[String,String]">preToNS</a>.<span title="(implicit evidence$1: ClassManifest[(String, String)])Array[(String, String)]">toArray</span></span>
<a href="l53"></a><span id="l53"></span>
<a href="l54"></a><span id="l54">    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Map[String,String]" id="94448">preToNS</a> = <a href="#94437" title="scales.xml.Elem">elem</a>.<a href="XmlTypes.scala.html#88524" title="=&gt; scales.xml.package.Attributes">attributes</a>.<span title="(f: (scales.xml.Attribute) =&gt; scala.collection.GenTraversableOnce[(String, String)])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.Attribute],(String, String),Iterable[(String, String)]])Iterable[(String, String)]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,(String, String),Iterable[(String, String)]]" class="delimiter">(</span> <a title="scales.xml.Attribute" id="94470">a</a> =&gt; <a href="#94470" title="scales.xml.Attribute">a</a>.<a href="XmlTypes.scala.html#87895" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a>.<a href="QName.scala.html#88018" title="=&gt; Option[String]">prefix</a>.<span title="(f: (String) =&gt; Option[(String, String)])Option[Option[(String, String)]]">map</span><span class="delimiter">(</span> <a title="String" id="94590">p</a> =&gt; <span title="(x: (String, String))Option[(String, String)]">Option</span><span class="delimiter">(</span><span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><a href="#94590" title="String">p</a>, <a href="#94470" title="scales.xml.Attribute">a</a>.<a href="XmlTypes.scala.html#87895" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a>.<a href="QName.scala.html#88017" title="=&gt; scales.xml.Namespace">namespace</a>.<a href="QName.scala.html#88384" title="=&gt; String">uri</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span>.<span title="(default: =&gt; Option[(String, String)])Option[(String, String)]">getOrElse</span><span title="(xo: Option[(String, String)])Iterable[(String, String)]" class="delimiter">(</span><span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">)</span>.<span title="(implicit ev: &lt;:&lt;[(String, String),(String, String)])scala.collection.immutable.Map[String,String]">toMap</span> <span title="(xs: scala.collection.GenTraversableOnce[(String, String)])scala.collection.immutable.Map[String,String]">++</span> <a href="#94437" title="scales.xml.Elem">elem</a>.<a href="XmlTypes.scala.html#88525" title="=&gt; scala.collection.immutable.Map[String,String]">namespaces</a></span>
<a href="l55"></a><span id="l55"></span>
<a href="l56"></a><span id="l56">    <span class="keyword">val</span> <a title="scala.collection.immutable.Map[String,List[String]]" id="94449">nsToPre</a> = <a href="#94447" title="=&gt; scala.collection.immutable.Map[String,String]">preToNS</a>.<span title="(z: scala.collection.immutable.Map[String,List[String]])(op: (scala.collection.immutable.Map[String,List[String]], (String, String)) =&gt; scala.collection.immutable.Map[String,List[String]])scala.collection.immutable.Map[String,List[String]]">foldLeft</span><span class="delimiter">(</span><span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (String, List[String])*)scala.collection.immutable.Map[String,List[String]]" class="delimiter">[</span><span title="String">String</span>, <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">{</span> </span>
<a href="l57"></a><span id="l57">      <span class="delimiter">(</span><a title="scala.collection.immutable.Map[String,List[String]]" id="94962">x</a>, <a title="(String, String)" id="94963">y</a><span class="delimiter">)</span> =&gt;</span>
<a href="l58"></a><span id="l58">      <a href="#94962" title="scala.collection.immutable.Map[String,List[String]]">x</a>.<span title="(key: String, value: List[String])scala.collection.immutable.Map[String,List[String]]">updated</span><span class="delimiter">(</span><a href="#94963" title="(String, String)">y</a>.<span title="=&gt; String">_2</span>, <a href="#94962" title="scala.collection.immutable.Map[String,List[String]]">x</a>.<span title="(key: String)Option[List[String]]">get</span><span class="delimiter">(</span><a href="#94963" title="(String, String)">y</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span>.<span title="(f: (List[String]) =&gt; List[String])Option[List[String]]">map</span><span class="delimiter">(</span><a href="#94963" title="(String, String)">y</a>.<span title="=&gt; String">_1</span> <a href="#95010" title="(x: String)List[String]">::</a> <a href="#95009" title="List[String]">_</a> <span class="delimiter">)</span>.</span>
<a href="l59"></a><span id="l59">	       <span title="(default: =&gt; List[String])List[String]">getOrElse</span><span class="delimiter">(</span> <span title="(xs: String*)List[String]">List</span><span class="delimiter">(</span><a href="#94963" title="(String, String)">y</a>.<span title="=&gt; String">_1</span><span class="delimiter">)</span> <span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l60"></a><span id="l60">    <span class="delimiter">}</span></span>
<a href="l61"></a><span id="l61">    </span>
<a href="l62"></a><span id="l62">    <span class="keyword">def</span> <a title="(prefix: String)String" id="94451">getNamespaceURI</a><span class="delimiter">(</span> <a title="String" id="95039">prefix</a> : <span title="String">String</span><span class="delimiter">)</span> : <span title="String">String</span> = <a href="#94447" title="=&gt; scala.collection.immutable.Map[String,String]">preToNS</a>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="#95039" title="String">prefix</a><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><a href="#94436" title="scales.xml.TNC">prev</a>.<span title="(x$1: java.lang.String)java.lang.String">getNamespaceURI</span><span class="delimiter">(</span><a href="#95039" title="String">prefix</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l63"></a><span id="l63">    <span class="keyword">def</span> <a title="(namespaceURI: String)String" id="94452">getPrefix</a><span class="delimiter">(</span> <a title="String" id="95041">namespaceURI</a> : <span title="String">String</span><span class="delimiter">)</span> : <span title="String">String</span> = <a href="#94449" title="=&gt; scala.collection.immutable.Map[String,List[String]]">nsToPre</a>.<span title="(key: String)Option[List[String]]">get</span><span class="delimiter">(</span><a href="#95041" title="String">namespaceURI</a><span class="delimiter">)</span>.<span title="(f: (List[String]) =&gt; String)Option[String]">map</span><span class="delimiter">(</span><a href="#95064" title="List[String]">_</a>.<span title="=&gt; String">head</span><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><a href="#94436" title="scales.xml.TNC">prev</a>.<span title="(x$1: java.lang.String)java.lang.String">getPrefix</span><span class="delimiter">(</span><a href="#95041" title="String">namespaceURI</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l64"></a><span id="l64">    <span class="keyword">def</span> <a title="(namespaceURI: String)java.util.Iterator[String]" id="94453">getPrefixes</a><span class="delimiter">(</span><a title="String" id="95043">namespaceURI</a> : <span title="String">String</span><span class="delimiter">)</span> : java.util.<span title="java.util.Iterator[String]">Iterator</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = </span>
<a href="l65"></a><span id="l65">      <a href="#94449" title="=&gt; scala.collection.immutable.Map[String,List[String]]">nsToPre</a>.<span title="(key: String)Option[List[String]]">get</span><span class="delimiter">(</span><a href="#95043" title="String">namespaceURI</a><span class="delimiter">)</span>.<span title="(default: =&gt; List[String])List[String]">getOrElse</span><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(i: Iterator[String])java.util.Iterator[String]">iterator</span></span>
<a href="l66"></a><span id="l66">  <span class="delimiter">}</span></span>
<a href="l67"></a><span id="l67"></span>
<a href="l68"></a><span id="l68"><span class="delimiter">}</span></span>
<a href="l69"></a><span id="l69"></span>
<a href="l70"></a><span id="l70"><span class="comment">/**</span>
<a href="l71"></a><span id="l71"> * A TrAX Result</span>
<a href="l72"></a><span id="l72"> */</span> </span>
<a href="l73"></a><span id="l73">case <span class="keyword">class</span> <a title="class ScalesResult[Token &lt;: scales.xml.OptimisationToken] extends javax.xml.transform.sax.SAXResult with ScalaObject with Product with Serializable" id="98572">ScalesResult</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: scales.xml.OptimisationToken" id="98565">Token</a> &lt;: OptimisationToken<span class="delimiter">]</span><a href="#98572" title="ScalaObject" class="delimiter">(</a><a title="scales.xml.PathOptimisationStrategy[Token]" id="98563">strategy</a> : <a href="OptimisingStrategies.scala.html#9245" title="scales.xml.PathOptimisationStrategy[Token]">PathOptimisationStrategy</a><span class="delimiter">[</span>Token<span class="delimiter">]</span> = <a href="package.scala.html#10961" title="=&gt; scales.xml.PathOptimisationStrategy[scales.xml.ElemToken]">defaultPathOptimisation</a><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="javax.xml.transform.sax.SAXResult">SAXResult</span><span class="delimiter">(</span><a href="QName.scala.html#87950" title="scales.xml.package.Handler[Token]" class="keyword">new</a> scales.xml.<a href="XmlParser.scala.html#10976" title="scales.xml.package.Handler[Token]">Handler</a><span class="delimiter">[</span>Token<span class="delimiter">]</span><span class="delimiter">(</span><a href="#98563" title="scales.xml.PathOptimisationStrategy[Token]">strategy</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l74"></a><span id="l74">  <span class="keyword">def</span> <a title="=&gt; scales.xml.Doc" id="95175">doc</a> = <span class="delimiter">{</span></span>
<a href="l75"></a><span id="l75">    <span class="keyword">val</span> <a title="scales.xml.package.Handler[Token]" id="95475">handler</a> = <a href="#98572" title="()org.xml.sax.ContentHandler">getHandler</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scales.xml.package.Handler[Token]" class="delimiter">[</span>scales.xml.<a href="XmlParser.scala.html#10976" title="scales.xml.package.Handler[Token]">Handler</a><span class="delimiter">[</span>Token<span class="delimiter">]</span><span class="delimiter">]</span></span>
<a href="l76"></a><span id="l76">    <span class="keyword">val</span> <a title="scales.xml.TreeProxy" id="95476">tp</a> = <a href="#95475" title="scales.xml.package.Handler[Token]">handler</a>.<a href="XmlParser.scala.html#95331" title="=&gt; scales.xml.TreeProxies">buf</a>.<a href="XmlParser.scala.html#88992" title="(idx: Int)scales.xml.TreeProxy">proxies</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span></span>
<a href="l77"></a><span id="l77"></span>
<a href="l78"></a><span id="l78">    <a href="XmlTypes.scala.html#90249" title="(rootElem: scales.xml.package.XmlTree, prolog: scales.xml.Prolog, end: scales.xml.EndMisc)scales.xml.Doc">Doc</a><span class="delimiter">(</span><a href="../utils/Trees.scala.html#79610" title="(section: scales.xml.Elem, children: scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]])scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">Tree</a><span class="delimiter">(</span><a href="#95476" title="scales.xml.TreeProxy">tp</a>.<a href="XmlParser.scala.html#91249" title="=&gt; scales.xml.Elem">elem</a>, <a href="#95476" title="scales.xml.TreeProxy">tp</a>.<a href="XmlParser.scala.html#91252" title="=&gt; scales.xml.package.XmlChildren">children</a><span class="delimiter">)</span><span class="comment">//path.tree()</span></span>
<a href="l79"></a><span id="l79">	, <a href="#95475" title="scales.xml.package.Handler[Token]">handler</a>.<a href="XmlParser.scala.html#95339" title="=&gt; scales.xml.Prolog">prolog</a>, <a href="#95475" title="scales.xml.package.Handler[Token]">handler</a>.<a href="XmlParser.scala.html#95342" title="=&gt; scales.xml.EndMisc">end</a><span class="delimiter">)</span></span>
<a href="l80"></a><span id="l80">  <span class="delimiter">}</span></span>
<a href="l81"></a><span id="l81"><span class="delimiter">}</span></span>
<a href="l82"></a><span id="l82"></span>
<a href="l83"></a><span id="l83"><span class="comment">/**</span>
<a href="l84"></a><span id="l84"> * Use as a basis for TrAX or javax.xml.validation and some other services.  Unfortunately XPath isn't one of them, fortunately ScalesXml comes with similar...</span>
<a href="l85"></a><span id="l85"> *</span>
<a href="l86"></a><span id="l86"> * To add to the joy, at time of writing Xalan (2.7.1) uses SAXSource.toInputSource to convert this into a stream, problem is the JVM version (1.6.0_24) doesn't support StAXSource transformation, which is nice.  So until this is fixed users should serialize themselves into a stream and then use for trax if they are using Xalan directly.</span>
<a href="l87"></a><span id="l87"> * </span>
<a href="l88"></a><span id="l88"> * Only the prolog and endMisc are taken from the document, the rest comes from the stream</span>
<a href="l89"></a><span id="l89"> */</span> </span>
<a href="l90"></a><span id="l90">case <span class="keyword">class</span> <a title="class ScalesSource extends javax.xml.transform.stax.StAXSource with ScalaObject with Product with Serializable" id="98553">ScalesSource</a><a href="#98553" title="ScalaObject" class="delimiter">(</a><a title="Iterator[scales.xml.package.PullType]" id="96896">stream</a> : <span title="Iterator[scales.xml.package.PullType]">Iterator</span><span class="delimiter">[</span>PullType<span class="delimiter">]</span>, <a title="scales.xml.DocLike" id="96897">documentLike</a> : <a href="XmlTypes.scala.html#10587" title="scales.xml.DocLike">DocLike</a> = <a href="XmlTypes.scala.html#95663" title="(prolog: scales.xml.Prolog, end: scales.xml.EndMisc)scales.xml.EmptyDoc">EmptyDoc</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="javax.xml.transform.stax.StAXSource">StAXSource</span> <span class="delimiter">(</span></span>
<a href="l91"></a><span id="l91">  <a href="#95821" title="java.lang.Object with scales.xml.ScalesStreamReader{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scales.xml.ScalesStreamReader" id="95821">ScalesStreamReader</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l92"></a><span id="l92">    <span class="keyword">val</span> <a title="Iterator[scales.xml.package.PullType]" id="95897">itr</a> = <a href="#96896" title="Iterator[scales.xml.package.PullType]">stream</a></span>
<a href="l93"></a><span id="l93">    <span class="keyword">val</span> <a title="scales.xml.DocLike" id="95899">docLike</a> = <a href="#96897" title="scales.xml.DocLike">documentLike</a></span>
<a href="l94"></a><span id="l94">  <span class="delimiter">}</span></span>
<a href="l95"></a><span id="l95"><span class="delimiter">)</span></span>
<a href="l96"></a><span id="l96"></span>
<a href="l97"></a><span id="l97"><span class="keyword">trait</span> <a title="trait TraxSourceConversions extends java.lang.Object with ScalaObject" id="10408">TraxSourceConversions</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l98"></a><span id="l98"></span>
<a href="l99"></a><span id="l99">  <span class="keyword">def</span> <a title="(tree: scales.xml.package.XmlTree)Iterator[scales.xml.package.PullType]" id="11070">convertToStream</a><span class="delimiter">(</span> <a title="scales.xml.package.XmlTree" id="90122">tree</a> : <a href="../utils/Trees.scala.html#9220" title="scales.xml.package.XmlTree">XmlTree</a> <span class="delimiter">)</span> : <span title="Iterator[scales.xml.package.PullType]">Iterator</span><span class="delimiter">[</span>PullType<span class="delimiter">]</span> = <a href="#95981" title="java.lang.Object with Iterator[scales.xml.package.PullType]{sealed abstract trait State extends java.lang.Object with ScalaObject{def $init$(): Unit; def hasNext: Boolean; def next: (this.State, scales.xml.package.PullType)}}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with Iterator[scales.xml.package.PullType]" id="95981">Iterator</a><span class="delimiter">[</span>PullType<span class="delimiter">]</span><span class="delimiter">{</span></span>
<a href="l100"></a><span id="l100">    </span>
<a href="l101"></a><span id="l101">    <span class="keyword">var</span> <a title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="96153">path</a> = <a href="../utils/Paths.scala.html#10847" title="(tree: scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])(implicit cbf: scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">top</a><a href="XmlTypes.scala.html#87898" title="=&gt; scales.xml.package.XmlCBF" class="delimiter">(</a><a href="#90122" title="scales.xml.package.XmlTree">tree</a><span class="delimiter">)</span></span>
<a href="l102"></a><span id="l102"></span>
<a href="l103"></a><span id="l103">    <span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait State extends java.lang.Object with ScalaObject" id="96155">State</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l104"></a><span id="l104">      <span class="keyword">def</span> <a title="=&gt; Boolean" id="96176">hasNext</a> : <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span></span>
<a href="l105"></a><span id="l105">      <span class="keyword">def</span> <a title="=&gt; (this.State, scales.xml.package.PullType)" id="96177">next</a> : <span title="(this.State, scales.xml.package.PullType)" class="delimiter">(</span>State, PullType<span class="delimiter">)</span></span>
<a href="l106"></a><span id="l106">    <span class="delimiter">}</span></span>
<a href="l107"></a><span id="l107">    </span>
<a href="l108"></a><span id="l108">    case <span class="keyword">object</span> <a href="#96275" title="object this.StartElem" id="96280">StartElem</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#96155" title="this.State">State</a> <span class="delimiter">{</span></span>
<a href="l109"></a><span id="l109">      <span class="comment">// always has the start</span></span>
<a href="l110"></a><span id="l110">      <span class="keyword">def</span> <a title="=&gt; (this.State, scales.xml.package.PullType)" id="96235">next</a> = <span class="delimiter">{</span></span>
<a href="l111"></a><span id="l111">	<span class="keyword">val</span> <a title="scales.xml.package.PullType" id="96241">ev</a> = <a href="#96166" title="=&gt; scales.xml.package.PullType">event</a></span>
<a href="l112"></a><span id="l112">	<span class="comment">// turn to firstChild map getOrElse  </span></span>
<a href="l113"></a><span id="l113">	<span title="(this.State, scales.xml.package.PullType)" class="keyword">if</span> <span class="delimiter">(</span><a href="#96153" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">path</a>.<a href="../utils/Paths.scala.html#38047" title="=&gt; Boolean">hasChildren</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l114"></a><span id="l114">	  <a href="#96153" title="(x$1: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])Unit">path</a> = <a href="#96153" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">path</a>.<a href="../utils/Paths.scala.html#38056" title="()Option[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">firstChild</a>.<span title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">get</span></span>
<a href="l115"></a><span id="l115">	  <span title="(this.State, scales.xml.package.PullType)" class="keyword">if</span> <span class="delimiter">(</span><a href="#96153" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">path</a>.<a href="../utils/Paths.scala.html#38046" title="=&gt; Boolean">isItem</a><span class="delimiter">)</span></span>
<a href="l116"></a><span id="l116">	    <span title="(_1: this.OnItem.type, _2: scales.xml.package.PullType)(this.OnItem.type, scales.xml.package.PullType)" class="delimiter">(</span><a href="#96309" title="object this.OnItem">OnItem</a>, <a href="#96241" title="scales.xml.package.PullType">ev</a><span class="delimiter">)</span></span>
<a href="l117"></a><span id="l117">	  <span class="keyword">else</span></span>
<a href="l118"></a><span id="l118">	    <span title="(_1: this.StartElem.type, _2: scales.xml.package.PullType)(this.StartElem.type, scales.xml.package.PullType)" class="delimiter">(</span><a href="#96280" title="object this.StartElem">StartElem</a>, <a href="#96241" title="scales.xml.package.PullType">ev</a><span class="delimiter">)</span></span>
<a href="l119"></a><span id="l119">	<span class="delimiter">}</span> <span class="keyword">else</span></span>
<a href="l120"></a><span id="l120">	  <span title="(_1: this.EndElemS.type, _2: scales.xml.package.PullType)(this.EndElemS.type, scales.xml.package.PullType)" class="delimiter">(</span><a href="#96389" title="object this.EndElemS">EndElemS</a>, <a href="#96241" title="scales.xml.package.PullType">ev</a><span class="delimiter">)</span></span>
<a href="l121"></a><span id="l121">      <span class="delimiter">}</span></span>
<a href="l122"></a><span id="l122">    <span class="delimiter">}</span></span>
<a href="l123"></a><span id="l123"></span>
<a href="l124"></a><span id="l124">    case <span class="keyword">object</span> <a href="#96304" title="object this.OnItem" id="96309">OnItem</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#96155" title="this.State">State</a> <span class="delimiter">{</span></span>
<a href="l125"></a><span id="l125">      <span class="comment">// always either nextSibling or EndElem</span></span>
<a href="l126"></a><span id="l126">      <span class="keyword">def</span> <a title="=&gt; (this.State, scales.xml.package.PullType)" id="96251">next</a> = <span class="delimiter">{</span></span>
<a href="l127"></a><span id="l127">	<span class="keyword">val</span> <a title="scales.xml.package.PullType" id="96288">ev</a> = <a href="#96166" title="=&gt; scales.xml.package.PullType">event</a></span>
<a href="l128"></a><span id="l128"></span>
<a href="l129"></a><span id="l129">	<span title="(this.State, scales.xml.package.PullType)" class="keyword">if</span> <span class="delimiter">(</span><a href="#96153" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">path</a>.<a href="../utils/Paths.scala.html#38045" title="=&gt; Boolean">hasNextSibling</a><span class="delimiter">)</span></span>
<a href="l130"></a><span id="l130">	  <a href="#96165" title="(ev: scales.xml.package.PullType)(this.State, scales.xml.package.PullType)">doNext</a><span class="delimiter">(</span><a href="#96288" title="scales.xml.package.PullType">ev</a><span class="delimiter">)</span></span>
<a href="l131"></a><span id="l131">	<span class="keyword">else</span> <span class="delimiter">{</span></span>
<a href="l132"></a><span id="l132">	  <span class="comment">// direct zip Up</span></span>
<a href="l133"></a><span id="l133">	  <a href="#96153" title="(x$1: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])Unit">path</a> = <a href="#96153" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">path</a>.<a href="../utils/Paths.scala.html#38036" title="=&gt; scales.utils.EitherLike[scales.utils.Top[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC],scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">top</a>.<a href="../utils/EitherLike.scala.html#38083" title="=&gt; scales.utils.RightLikeProjection[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">right</a>.<a href="../utils/EitherLike.scala.html#38063" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">get</a></span>
<a href="l134"></a><span id="l134">	  <span title="(_1: this.EndElemS.type, _2: scales.xml.package.PullType)(this.EndElemS.type, scales.xml.package.PullType)" class="delimiter">(</span><a href="#96389" title="object this.EndElemS">EndElemS</a>, <a href="#96288" title="scales.xml.package.PullType">ev</a><span class="delimiter">)</span></span>
<a href="l135"></a><span id="l135">	<span class="delimiter">}</span></span>
<a href="l136"></a><span id="l136">      <span class="delimiter">}</span></span>
<a href="l137"></a><span id="l137">    <span class="delimiter">}</span></span>
<a href="l138"></a><span id="l138"></span>
<a href="l139"></a><span id="l139">    case <span class="keyword">object</span> <a href="#96328" title="object this.End" id="96333">End</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#96155" title="this.State">State</a> <span class="delimiter">{</span></span>
<a href="l140"></a><span id="l140">      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="96313">hasNext</a> = <span title="Boolean(false)" class="keyword">false</span></span>
<a href="l141"></a><span id="l141">      <span class="keyword">def</span> <a title="=&gt; Nothing" id="96314">next</a> = <a href="../utils/package.scala.html#10616" title="(str: String)Nothing">error</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Can\'t go past the root&quot;)" class="string">&quot;Can't go past the root&quot;</span><span class="delimiter">)</span></span>
<a href="l142"></a><span id="l142">    <span class="delimiter">}</span></span>
<a href="l143"></a><span id="l143"></span>
<a href="l144"></a><span id="l144">    <span class="keyword">def</span> <a title="=&gt; scales.xml.package.PullType" id="96162">end</a> = <span class="delimiter">{</span></span>
<a href="l145"></a><span id="l145">      <span class="keyword">val</span> <a title="scales.xml.Elem" id="96339">el</a> = <a href="#96153" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">path</a>.<a href="../utils/Paths.scala.html#38051" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67674" title="=&gt; scales.xml.Elem">section</a></span>
<a href="l146"></a><span id="l146">      <a href="XmlPull.scala.html#96343" title="(name: scales.xml.QName, namespaces: Map[String,String])scales.xml.EndElem">EndElem</a><a href="XmlPull.scala.html#11048" title="implicit scales.xml.XmlPulls.toRight : (ev: scales.xml.EndElem)Right[Nothing,scales.xml.EndElem]" class="delimiter">(</a><a href="#96339" title="scales.xml.Elem">el</a>.<a href="XmlTypes.scala.html#88523" title="=&gt; scales.xml.QName">name</a>, <a href="#96339" title="scales.xml.Elem">el</a>.<a href="XmlTypes.scala.html#88525" title="=&gt; scala.collection.immutable.Map[String,String]">namespaces</a><span class="delimiter">)</span> : <span title="scales.xml.package.PullType">PullType</span></span>
<a href="l147"></a><span id="l147">    <span class="delimiter">}</span></span>
<a href="l148"></a><span id="l148"></span>
<a href="l149"></a><span id="l149">    case <span class="keyword">object</span> <a href="#96384" title="object this.EndElemS" id="96389">EndElemS</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#96155" title="this.State">State</a> <span class="delimiter">{</span></span>
<a href="l150"></a><span id="l150">      <span class="comment">// we will always have at least one last EndElemS before End</span></span>
<a href="l151"></a><span id="l151">      <span class="keyword">def</span> <a title="=&gt; (this.State, scales.xml.package.PullType)" id="96267">next</a> = <span class="delimiter">{</span></span>
<a href="l152"></a><span id="l152">	<span class="keyword">val</span> <a title="scales.xml.package.PullType" id="96363">ev</a> = <a href="#96162" title="=&gt; scales.xml.package.PullType">end</a></span>
<a href="l153"></a><span id="l153">	<span title="(this.State, scales.xml.package.PullType)" class="keyword">if</span> <span class="delimiter">(</span><a href="#96153" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">path</a>.<a href="../utils/Paths.scala.html#38045" title="=&gt; Boolean">hasNextSibling</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l154"></a><span id="l154">	  <span class="comment">// element without children</span></span>
<a href="l155"></a><span id="l155">	  <a href="#96165" title="(ev: scales.xml.package.PullType)(this.State, scales.xml.package.PullType)">doNext</a><span class="delimiter">(</span><a href="#96363" title="scales.xml.package.PullType">ev</a><span class="delimiter">)</span></span>
<a href="l156"></a><span id="l156">	<span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span></span>
<a href="l157"></a><span id="l157">	  <span title="(this.State, scales.xml.package.PullType)" class="keyword">if</span> <span class="delimiter">(</span><a href="#96153" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">path</a>.<a href="../utils/Paths.scala.html#38036" title="=&gt; scales.utils.EitherLike[scales.utils.Top[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC],scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">top</a>.<a href="../utils/EitherLike.scala.html#38076" title="=&gt; Boolean">isLeft</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l158"></a><span id="l158">	    <span title="(_1: this.End.type, _2: scales.xml.package.PullType)(this.End.type, scales.xml.package.PullType)" class="delimiter">(</span><a href="#96333" title="object this.End">End</a>, <a href="#96363" title="scales.xml.package.PullType">ev</a><span class="delimiter">)</span> <span class="comment">// last event</span></span>
<a href="l159"></a><span id="l159">	  <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span></span>
<a href="l160"></a><span id="l160">	    <span class="comment">// direct zip Up</span></span>
<a href="l161"></a><span id="l161">	    <a href="#96153" title="(x$1: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])Unit">path</a> = <a href="#96153" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">path</a>.<a href="../utils/Paths.scala.html#38036" title="=&gt; scales.utils.EitherLike[scales.utils.Top[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC],scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">top</a>.<a href="../utils/EitherLike.scala.html#38083" title="=&gt; scales.utils.RightLikeProjection[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">right</a>.<a href="../utils/EitherLike.scala.html#38063" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">get</a></span>
<a href="l162"></a><span id="l162">	    <span title="(_1: this.EndElemS.type, _2: scales.xml.package.PullType)(this.EndElemS.type, scales.xml.package.PullType)" class="delimiter">(</span><a href="#96389" title="object this.EndElemS">EndElemS</a>, <a href="#96363" title="scales.xml.package.PullType">ev</a><span class="delimiter">)</span>	  </span>
<a href="l163"></a><span id="l163">	  <span class="delimiter">}</span></span>
<a href="l164"></a><span id="l164">	<span class="delimiter">}</span> </span>
<a href="l165"></a><span id="l165">      <span class="delimiter">}</span></span>
<a href="l166"></a><span id="l166">    <span class="delimiter">}</span></span>
<a href="l167"></a><span id="l167"></span>
<a href="l168"></a><span id="l168">    <span class="keyword">def</span> <a title="(ev: scales.xml.package.PullType)(this.State, scales.xml.package.PullType)" id="96165">doNext</a><span class="delimiter">(</span><a title="scales.xml.package.PullType" id="96289">ev</a> : <span title="scales.xml.package.PullType">PullType</span><span class="delimiter">)</span> : <span title="(this.State, scales.xml.package.PullType)" class="delimiter">(</span>State, PullType<span class="delimiter">)</span> = <span class="delimiter">{</span></span>
<a href="l169"></a><span id="l169">      <a href="#96153" title="(x$1: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])Unit">path</a> = <a href="#96153" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">path</a>.<a href="../utils/Paths.scala.html#38050" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">nextSibling</a></span>
<a href="l170"></a><span id="l170">      <span title="(this.State, scales.xml.package.PullType)" class="keyword">if</span> <span class="delimiter">(</span> <a href="#96153" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">path</a>.<a href="../utils/Paths.scala.html#38046" title="=&gt; Boolean">isItem</a> <span class="delimiter">)</span> </span>
<a href="l171"></a><span id="l171">	<span title="(_1: this.OnItem.type, _2: scales.xml.package.PullType)(this.OnItem.type, scales.xml.package.PullType)" class="delimiter">(</span><a href="#96309" title="object this.OnItem">OnItem</a>, <a href="#96289" title="scales.xml.package.PullType">ev</a><span class="delimiter">)</span></span>
<a href="l172"></a><span id="l172">      <span class="keyword">else</span></span>
<a href="l173"></a><span id="l173">	<span title="(_1: this.StartElem.type, _2: scales.xml.package.PullType)(this.StartElem.type, scales.xml.package.PullType)" class="delimiter">(</span><a href="#96280" title="object this.StartElem">StartElem</a>, <a href="#96289" title="scales.xml.package.PullType">ev</a><span class="delimiter">)</span></span>
<a href="l174"></a><span id="l174">    <span class="delimiter">}</span></span>
<a href="l175"></a><span id="l175"></span>
<a href="l176"></a><span id="l176">    <span class="keyword">def</span> <a title="=&gt; scales.xml.package.PullType" id="96166">event</a> : <span title="scales.xml.package.PullType">PullType</span> = <a href="#96153" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">path</a>.<a href="../utils/Paths.scala.html#38038" title="=&gt; scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">node</a>.<a href="../utils/Paths.scala.html#67600" title="=&gt; scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">focus</a>.<a href="../utils/EitherLike.scala.html#38078" title="(fl: (scales.xml.XmlItem) =&gt; Left[scales.xml.XmlEvent,Nothing], fr: (scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]) =&gt; Left[scales.xml.XmlEvent,Nothing])Left[scales.xml.XmlEvent,Nothing]">fold</a><span class="delimiter">(</span><a title="scales.xml.XmlItem" id="96413">x</a>=&gt;<a href="XmlPull.scala.html#11047" title="implicit scales.xml.XmlPulls.toLeft : (ev: scales.xml.XmlEvent)Left[scales.xml.XmlEvent,Nothing]">x</a>,<a title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="96419">y</a>=&gt;<a href="#96419" title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">y</a>.<a href="XmlPull.scala.html#11047" title="implicit scales.xml.XmlPulls.toLeft : (ev: scales.xml.XmlEvent)Left[scales.xml.XmlEvent,Nothing]">section</a><span class="delimiter">)</span></span>
<a href="l177"></a><span id="l177"></span>
<a href="l178"></a><span id="l178">    <span class="keyword">var</span> <a title="this.State" id="96168">nextState</a> : <a href="#96155" title="this.State">State</a> = <a href="#96280" title="object this.StartElem">StartElem</a></span>
<a href="l179"></a><span id="l179"></span>
<a href="l180"></a><span id="l180">    <span class="keyword">def</span> <a title="=&gt; Boolean" id="96170">hasNext</a> = <a href="#96168" title="=&gt; this.State">nextState</a>.<a href="#96176" title="=&gt; Boolean">hasNext</a></span>
<a href="l181"></a><span id="l181">    <span class="keyword">def</span> <a title="()scales.xml.package.PullType" id="96171">next</a> = <span class="delimiter">{</span></span>
<a href="l182"></a><span id="l182">      <span class="keyword">val</span> <a href="#96184" title="(this.State, scales.xml.package.PullType)" class="delimiter">(</a><a href="#96183" title="this.State" id="96184">ns</a>, <a href="#96183" title="scales.xml.package.PullType" id="96185">ev</a><span class="delimiter">)</span> = <a href="#96168" title="=&gt; this.State">nextState</a>.<a href="#96177" title="=&gt; (this.State, scales.xml.package.PullType)">next</a></span>
<a href="l183"></a><span id="l183">      <a href="#96168" title="(x$1: this.State)Unit">nextState</a> = <a href="#96184" title="this.State">ns</a></span>
<a href="l184"></a><span id="l184">      <a href="#96185" title="scales.xml.package.PullType">ev</a></span>
<a href="l185"></a><span id="l185">    <span class="delimiter">}</span></span>
<a href="l186"></a><span id="l186">  <span class="delimiter">}</span></span>
<a href="l187"></a><span id="l187"></span>
<a href="l188"></a><span id="l188">  <span class="comment">/**</span>
<a href="l189"></a><span id="l189">   * When the user really wants a stream source or there is yet another place that jaxp Source support is not complete.</span>
<a href="l190"></a><span id="l190">   */</span> </span>
<a href="l191"></a><span id="l191">  <span class="keyword">def</span> <a title="[T](xml: T)(implicit evidence$1: scales.xml.package.SerializeableXml[T])javax.xml.transform.Source" id="96429">asStreamSource</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="11073">T</a> : SerializeableXml<span class="delimiter">]</span><span class="delimiter">(</span> <a title="T" id="96428">xml</a> : <a href="#11073" title="T">T</a> <span class="delimiter">)</span> : <span title="javax.xml.transform.Source">Source</span> = <span class="delimiter">{</span></span>
<a href="l192"></a><span id="l192">    <span class="keyword">val</span> <a title="String" id="96433">str</a> = <a href="XmlPrinter.scala.html#11022" title="(xml: T)(implicit serf: scales.xml.SerializerFactory, implicit sxml: scales.xml.package.SerializeableXml[T])String">asString</a><a href="XmlPrinter.scala.html#87953" title="=&gt; scales.xml.LSSerializerFactory.type" class="delimiter">(</a><a href="#96428" title="T">xml</a><span class="delimiter">)</span></span>
<a href="l193"></a><span id="l193">    <span title="(x$1: java.io.Reader)javax.xml.transform.stream.StreamSource" class="keyword">new</span> <span title="javax.xml.transform.stream.StreamSource">StreamSource</span><span class="delimiter">(</span><span title="java.io.StringReader" class="keyword">new</span> java.io.<span title="java.io.StringReader">StringReader</span><span class="delimiter">(</span><a href="#96433" title="String">str</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l194"></a><span id="l194">  <span class="delimiter">}</span></span>
<a href="l195"></a><span id="l195"></span>
<a href="l196"></a><span id="l196">  <span class="keyword">def</span> <a title="[T](xml: T, f: =&gt; javax.xml.transform.Source)(implicit evidence$2: scales.xml.package.SerializeableXml[T])javax.xml.transform.Source" id="96614">streamOr</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="11076">T</a> : SerializeableXml<span class="delimiter">]</span><span class="delimiter">(</span> <a title="T" id="96612">xml</a> : <a href="#11076" title="T">T</a> , <a title="=&gt; javax.xml.transform.Source" id="96613">f</a> : =&gt; Source<span class="delimiter">)</span> : <span title="javax.xml.transform.Source">Source</span> =</span>
<a href="l197"></a><span id="l197">    <span title="javax.xml.transform.Source" class="keyword">if</span> <span class="delimiter">(</span><a href="XmlFactories.scala.html#10432" title="object scales.xml.Versions">Versions</a>.<a href="XmlFactories.scala.html#96620" title="=&gt; Boolean">traxSourceShouldSerialize</a><span class="delimiter">)</span></span>
<a href="l198"></a><span id="l198">      <a href="#96429" title="(xml: T)(implicit evidence$1: scales.xml.package.SerializeableXml[T])javax.xml.transform.Source">asStreamSource</a><a href="#96614" title="scales.xml.package.SerializeableXml[T]" class="delimiter">(</a><a href="#96612" title="T">xml</a><span class="delimiter">)</span></span>
<a href="l199"></a><span id="l199">    <span class="keyword">else</span> </span>
<a href="l200"></a><span id="l200">      <a href="#96613" title="=&gt; javax.xml.transform.Source">f</a></span>
<a href="l201"></a><span id="l201">  </span>
<a href="l202"></a><span id="l202"><span class="delimiter">}</span></span>
<a href="l203"></a><span id="l203"></span>
<a href="l204"></a><span id="l204"><span class="keyword">trait</span> <a title="trait TraxConversionImplicits extends java.lang.Object with ScalaObject" id="10409">TraxConversionImplicits</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l205"></a><span id="l205">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.TraxConversionImplicits.toStream : (tree: scales.xml.package.XmlTree)Iterator[scales.xml.package.PullType]" id="87975">toStream</a><span class="delimiter">(</span> <a title="scales.xml.package.XmlTree" id="90119">tree</a> : <a href="../utils/Trees.scala.html#9220" title="scales.xml.package.XmlTree">XmlTree</a> <span class="delimiter">)</span> = <a href="#11070" title="(tree: scales.xml.package.XmlTree)Iterator[scales.xml.package.PullType]">convertToStream</a><span class="delimiter">(</span><a href="#90119" title="scales.xml.package.XmlTree">tree</a><span class="delimiter">)</span></span>
<a href="l206"></a><span id="l206"></span>
<a href="l207"></a><span id="l207">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.TraxConversionImplicits.treeToSource : (tree: scales.xml.package.XmlTree)(implicit sf: scales.xml.package.SerializeableXml[scales.xml.package.XmlTree])javax.xml.transform.Source" id="87976">treeToSource</a><span class="delimiter">(</span> <a title="scales.xml.package.XmlTree" id="90116">tree</a> : <a href="../utils/Trees.scala.html#9220" title="scales.xml.package.XmlTree">XmlTree</a> <span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.SerializeableXml[scales.xml.package.XmlTree]" id="90117">sf</a> : <a href="XmlPrinter.scala.html#11010" title="scales.xml.package.SerializeableXml[scales.xml.package.XmlTree]">SerializeableXml</a><span class="delimiter">[</span>XmlTree<span class="delimiter">]</span><span class="delimiter">)</span> : <span title="javax.xml.transform.Source">Source</span> = </span>
<a href="l208"></a><span id="l208">    <a href="#96614" title="(xml: scales.xml.package.XmlTree, f: =&gt; javax.xml.transform.Source)(implicit evidence$2: scales.xml.package.SerializeableXml[scales.xml.package.XmlTree])javax.xml.transform.Source">streamOr</a><span class="delimiter">(</span> <a href="#90116" title="scales.xml.package.XmlTree">tree</a>, <a href="#98553" title="(stream: Iterator[scales.xml.package.PullType], documentLike: scales.xml.DocLike)scales.xml.ScalesSource">ScalesSource</a><span class="delimiter">(</span><a href="#11070" title="(tree: scales.xml.package.XmlTree)Iterator[scales.xml.package.PullType]">convertToStream</a><span class="delimiter">(</span><a href="#90116" title="scales.xml.package.XmlTree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#90117" title="scales.xml.package.SerializeableXml[scales.xml.package.XmlTree]">sf</a><span class="delimiter">)</span></span>
<a href="l209"></a><span id="l209"></span>
<a href="l210"></a><span id="l210">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.TraxConversionImplicits.docToSource : (doc: scales.xml.Doc)(implicit sf: scales.xml.package.SerializeableXml[scales.xml.Doc])javax.xml.transform.Source" id="87977">docToSource</a><span class="delimiter">(</span> <a title="scales.xml.Doc" id="90015">doc</a> : <a href="XmlTypes.scala.html#10591" title="scales.xml.Doc">Doc</a> <span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.SerializeableXml[scales.xml.Doc]" id="90016">sf</a> : <a href="XmlPrinter.scala.html#11010" title="scales.xml.package.SerializeableXml[scales.xml.Doc]">SerializeableXml</a><span class="delimiter">[</span>Doc<span class="delimiter">]</span><span class="delimiter">)</span> : <span title="javax.xml.transform.Source">Source</span> = </span>
<a href="l211"></a><span id="l211">    <a href="#96614" title="(xml: scales.xml.Doc, f: =&gt; javax.xml.transform.Source)(implicit evidence$2: scales.xml.package.SerializeableXml[scales.xml.Doc])javax.xml.transform.Source">streamOr</a><a href="XmlPrinter.scala.html#87964" title="=&gt; java.lang.Object with scales.xml.package.SerializeableXml[scales.xml.Doc]{def doc(it: scales.xml.Doc): scales.xml.Doc}" class="delimiter">(</a> <a href="#90015" title="scales.xml.Doc">doc</a>, <a href="#98553" title="(stream: Iterator[scales.xml.package.PullType], documentLike: scales.xml.DocLike)scales.xml.ScalesSource">ScalesSource</a><span class="delimiter">(</span><a href="#11070" title="(tree: scales.xml.package.XmlTree)Iterator[scales.xml.package.PullType]">convertToStream</a><span class="delimiter">(</span><a href="#90015" title="scales.xml.Doc">doc</a>.<a href="XmlTypes.scala.html#89655" title="=&gt; scales.xml.package.XmlTree">rootElem</a><span class="delimiter">)</span>, <a href="#90015" title="scales.xml.Doc">doc</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l212"></a><span id="l212"><span class="delimiter">}</span></span>
<a href="l213"></a><span id="l213"></span>
<a href="l214"></a><span id="l214"><span class="comment">/**</span>
<a href="l215"></a><span id="l215"> * The trax support, the stream reader in particular</span>
<a href="l216"></a><span id="l216"> * is aimed at allowing xlst transformations, a further</span>
<a href="l217"></a><span id="l217"> * serialization option and conversion to other DOMs</span>
<a href="l218"></a><span id="l218"> */</span></span>
<a href="l219"></a><span id="l219"></span>
<a href="l220"></a><span id="l220"><span class="comment">/**</span>
<a href="l221"></a><span id="l221"> * Provides a stream reader interface for StAX.  DTD is not supported at this time, contributions welcome.</span>
<a href="l222"></a><span id="l222"> */</span></span>
<a href="l223"></a><span id="l223"><span class="keyword">trait</span> <a title="trait ScalesStreamReader extends java.lang.Object with javax.xml.stream.XMLStreamReader with ScalaObject" id="10410">ScalesStreamReader</a> <span title="ScalaObject" class="keyword">extends</span> <span title="javax.xml.stream.XMLStreamReader">XMLStreamReader</span> <span class="delimiter">{</span></span>
<a href="l224"></a><span id="l224">  <span class="keyword">import</span> <span title="object javax.xml.stream.XMLStreamConstants">XMLStreamConstants</span>._</span>
<a href="l225"></a><span id="l225"></span>
<a href="l226"></a><span id="l226">  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="=&gt; Iterator[scales.xml.package.PullType]" id="95824">itr</a> : <span title="Iterator[scales.xml.package.PullType]">Iterator</span><span class="delimiter">[</span>PullType<span class="delimiter">]</span></span>
<a href="l227"></a><span id="l227">  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="scales.xml.package.PullType" id="95826">ev</a> : <span title="scales.xml.package.PullType">PullType</span> = _</span>
<a href="l228"></a><span id="l228">  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Int" id="95829">evType</a> : <span title="Int">Int</span> = <span title="Int(7)">START_DOCUMENT</span></span>
<a href="l229"></a><span id="l229"></span>
<a href="l230"></a><span id="l230">  <span class="comment">/**</span>
<a href="l231"></a><span id="l231">   * Take just the prolog and end misc</span>
<a href="l232"></a><span id="l232">   */</span></span>
<a href="l233"></a><span id="l233">  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="=&gt; scales.xml.DocLike" id="95831">docLike</a> : <a href="XmlTypes.scala.html#10587" title="scales.xml.DocLike">DocLike</a></span>
<a href="l234"></a><span id="l234"></span>
<a href="l235"></a><span id="l235">  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Iterator[scales.xml.package.Misc]" id="95833">prologItr</a> = <a href="#95831" title="=&gt; scales.xml.DocLike">docLike</a>.<a href="XmlTypes.scala.html#89650" title="=&gt; scales.xml.Prolog">prolog</a>.<a href="XmlTypes.scala.html#95526" title="=&gt; scales.xml.package.Miscs">misc</a>.<span title="=&gt; Iterator[scales.xml.package.Misc]">iterator</span></span>
<a href="l236"></a><span id="l236"></span>
<a href="l237"></a><span id="l237">  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Iterator[scales.xml.package.Misc]" id="95835">endItr</a> = <a href="#95831" title="=&gt; scales.xml.DocLike">docLike</a>.<a href="XmlTypes.scala.html#89651" title="=&gt; scales.xml.EndMisc">end</a>.<a href="XmlTypes.scala.html#95557" title="=&gt; scales.xml.package.Miscs">misc</a>.<span title="=&gt; Iterator[scales.xml.package.Misc]">iterator</span></span>
<a href="l238"></a><span id="l238"></span>
<a href="l239"></a><span id="l239">  <span class="keyword">def</span> <a title="()Unit" id="95836">setEv</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l240"></a><span id="l240">    <a href="#95829" title="(x$1: Int)Unit">evType</a> = <a href="#95826" title="=&gt; scales.xml.package.PullType">ev</a>.<span title="(fa: (scales.xml.XmlEvent) =&gt; Int, fb: (scales.xml.EndElem) =&gt; Int)Int">fold</span><span class="delimiter">(</span> <a href="#96957" title="scales.xml.XmlEvent">_</a> <span title="Int" class="keyword">match</span> <span class="delimiter">{</span></span>
<a href="l241"></a><span id="l241">      <span class="keyword">case</span> <span title="Int(1)">_</span> : <a href="XmlTypes.scala.html#10558" title="scales.xml.Elem">Elem</a> =&gt; <span title="Int(1)">START_ELEMENT</span></span>
<a href="l242"></a><span id="l242">      <span class="keyword">case</span> <span title="Int(4)">_</span> : <a href="XmlTypes.scala.html#10563" title="scales.xml.Text">Text</a> =&gt; <span title="Int(4)">CHARACTERS</span></span>
<a href="l243"></a><span id="l243">      <span class="keyword">case</span> <span title="Int(12)">_</span> : <a href="XmlTypes.scala.html#10569" title="scales.xml.CData">CData</a> =&gt; <span title="Int(12)">CDATA</span></span>
<a href="l244"></a><span id="l244">      <span class="keyword">case</span> <span title="Int(5)">_</span> : <a href="XmlTypes.scala.html#10566" title="scales.xml.Comment">Comment</a> =&gt; <span title="Int(5)">COMMENT</span></span>
<a href="l245"></a><span id="l245">      <span class="keyword">case</span> <span title="Int(3)">_</span> : <a href="XmlTypes.scala.html#10572" title="scales.xml.PI">PI</a> =&gt; <span title="Int(3)">PROCESSING_INSTRUCTION</span></span>
<a href="l246"></a><span id="l246">    <span class="delimiter">}</span> , <a title="scales.xml.EndElem" id="96972">_</a> =&gt; <span title="Int(2)">END_ELEMENT</span><span class="delimiter">)</span></span>
<a href="l247"></a><span id="l247">  <span class="delimiter">}</span></span>
<a href="l248"></a><span id="l248"></span>
<a href="l249"></a><span id="l249">  <span class="keyword">var</span> <a title="Boolean" id="95838">doEndDoc</a> = <span title="Boolean(false)" class="keyword">false</span></span>
<a href="l250"></a><span id="l250"></span>
<a href="l251"></a><span id="l251">  <span class="keyword">var</span> <a title="Boolean" id="95841">shouldPop</a> = <span title="Boolean(false)" class="keyword">false</span></span>
<a href="l252"></a><span id="l252">  <span class="keyword">var</span> <a title="scales.xml.TNC" id="95844">nc</a> : <a href="#10396" title="scales.xml.TNC">TNC</a> = <a href="#10397" title="object scales.xml.EmptyNamespaceContext">EmptyNamespaceContext</a></span>
<a href="l253"></a><span id="l253"></span>
<a href="l254"></a><span id="l254">  <span class="comment">/**</span>
<a href="l255"></a><span id="l255">   * Only usable when its an element of course</span>
<a href="l256"></a><span id="l256">   * We copy to an array for indexed access and keep</span>
<a href="l257"></a><span id="l257">   * using ev for map access</span>
<a href="l258"></a><span id="l258">   */</span></span>
<a href="l259"></a><span id="l259">  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Array[scales.xml.Attribute]" id="95847">attribs</a> : <span title="Array[scales.xml.Attribute]">Array</span><span class="delimiter">[</span>Attribute<span class="delimiter">]</span> = _ </span>
<a href="l260"></a><span id="l260"></span>
<a href="l261"></a><span id="l261">  <span class="keyword">def</span> <a title="()Unit" id="95849">close</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span></span>
<a href="l262"></a><span id="l262"></span>
<a href="l263"></a><span id="l263">  <span class="keyword">def</span> <a title="()Int" id="95850">getAttributeCount</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Int">Int</span> = <a href="#95847" title="(xs: Array[scales.xml.Attribute])scala.collection.mutable.ArrayOps[scales.xml.Attribute]">attribs</a>.<span title="=&gt; Int">size</span></span>
<a href="l264"></a><span id="l264">  <span class="keyword">def</span> <a title="(index: Int)String" id="95851">getAttributeLocalName</a><span class="delimiter">(</span> <a title="Int" id="97066">index</a> : <span title="Int">Int</span> <span class="delimiter">)</span> : <span title="String">String</span> = <a href="#95847" title="(i: Int)scales.xml.Attribute">attribs</a><a href="XmlTypes.scala.html#87889" title="(v1: scales.xml.Attribute)scales.xml.QName" class="delimiter">(</a><a href="#97066" title="Int">index</a><span class="delimiter">)</span>.<a href="QName.scala.html#88016" title="=&gt; String">local</a></span>
<a href="l265"></a><span id="l265">  <span class="keyword">def</span> <a title="(index: Int)javax.xml.namespace.QName" id="95852">getAttributeName</a><span class="delimiter">(</span> <a title="Int" id="97112">index</a> : <span title="Int">Int</span><span class="delimiter">)</span> : <span title="javax.xml.namespace.QName">JQName</span> = <span class="delimiter">{</span></span>
<a href="l266"></a><span id="l266">    <span class="keyword">val</span> <a title="scales.xml.Attribute" id="97140">att</a> = <a href="#95847" title="(i: Int)scales.xml.Attribute">attribs</a><span class="delimiter">(</span><a href="#97112" title="Int">index</a><span class="delimiter">)</span></span>
<a href="l267"></a><span id="l267">    <span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: java.lang.String)javax.xml.namespace.QName" class="keyword">new</span> <span title="javax.xml.namespace.QName">JQName</span><span class="delimiter">(</span></span>
<a href="l268"></a><span id="l268">      <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="XmlTypes.scala.html#87889" title="(v1: scales.xml.Attribute)scales.xml.QName">att</a>.<a href="QName.scala.html#88017" title="=&gt; scales.xml.Namespace">namespace</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="QName.scala.html#10363" title="object scales.xml.Default">Default</a>.<a href="QName.scala.html#92441" title="=&gt; scales.xml.Namespace">noNamespace</a><span class="delimiter">)</span></span>
<a href="l269"></a><span id="l269">	<span title="Null(null)" class="keyword">null</span> : <span title="String">String</span></span>
<a href="l270"></a><span id="l270">      <span class="keyword">else</span></span>
<a href="l271"></a><span id="l271">	<a href="XmlTypes.scala.html#87889" title="(v1: scales.xml.Attribute)scales.xml.QName">att</a>.<a href="QName.scala.html#88017" title="=&gt; scales.xml.Namespace">namespace</a>.<a href="QName.scala.html#88384" title="=&gt; String">uri</a>,</span>
<a href="l272"></a><span id="l272">      <a href="XmlTypes.scala.html#87889" title="(v1: scales.xml.Attribute)scales.xml.QName">att</a>.<a href="QName.scala.html#88016" title="=&gt; String">local</a>,</span>
<a href="l273"></a><span id="l273">      <a href="XmlTypes.scala.html#87889" title="(v1: scales.xml.Attribute)scales.xml.QName">att</a>.<a href="QName.scala.html#88018" title="=&gt; Option[String]">prefix</a>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span> : <span title="String">String</span><span class="delimiter">)</span></span>
<a href="l274"></a><span id="l274">    <span class="delimiter">)</span></span>
<a href="l275"></a><span id="l275">  <span class="delimiter">}</span></span>
<a href="l276"></a><span id="l276">  <span class="keyword">def</span> <a title="(index: Int)String" id="95853">getAttributeNamespace</a><span class="delimiter">(</span> <a title="Int" id="97428">index</a> : <span title="Int">Int</span><span class="delimiter">)</span> : <span title="String">String</span> = <a href="#95847" title="(i: Int)scales.xml.Attribute">attribs</a><a href="XmlTypes.scala.html#87889" title="(v1: scales.xml.Attribute)scales.xml.QName" class="delimiter">(</a><a href="#97428" title="Int">index</a><span class="delimiter">)</span>.<a href="QName.scala.html#88017" title="=&gt; scales.xml.Namespace">namespace</a>.<a href="QName.scala.html#88384" title="=&gt; String">uri</a></span>
<a href="l277"></a><span id="l277">  <span class="keyword">def</span> <a title="(index: Int)String" id="95854">getAttributePrefix</a><span class="delimiter">(</span> <a title="Int" id="97471">index</a> : <span title="Int">Int</span><span class="delimiter">)</span> : <span title="String">String</span> = <a href="#95847" title="(i: Int)scales.xml.Attribute">attribs</a><a href="XmlTypes.scala.html#87889" title="(v1: scales.xml.Attribute)scales.xml.QName" class="delimiter">(</a><a href="#97471" title="Int">index</a><span class="delimiter">)</span>.<a href="QName.scala.html#88018" title="=&gt; Option[String]">prefix</a>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span> : <span title="String">String</span><span class="delimiter">)</span></span>
<a href="l278"></a><span id="l278">  <span class="keyword">def</span> <a title="(index: Int)String" id="95855">getAttributeType</a><span class="delimiter">(</span> <a title="Int" id="97518">index</a> : <span title="Int">Int</span> <span class="delimiter">)</span> : <span title="String">String</span> = <span title="Null(null)" class="keyword">null</span> : <span title="String">String</span></span>
<a href="l279"></a><span id="l279">  <span class="keyword">def</span> <a title="(index: Int)String" id="95856">getAttributeValue</a><span class="delimiter">(</span> <a title="Int" id="97520">index</a> : <span title="Int">Int</span> <span class="delimiter">)</span> : <span title="String">String</span> = <a href="#95847" title="(i: Int)scales.xml.Attribute">attribs</a><span class="delimiter">(</span><a href="#97520" title="Int">index</a><span class="delimiter">)</span>.<a href="XmlTypes.scala.html#87985" title="=&gt; String">value</a></span>
<a href="l280"></a><span id="l280">  <span class="keyword">def</span> <a title="(namespaceURI: String, localName: String)String" id="95857">getAttributeValue</a><span class="delimiter">(</span><a title="String" id="97524">namespaceURI</a> : <span title="String">String</span>, <a title="String" id="97525">localName</a> : <span title="String">String</span><span class="delimiter">)</span> : <span title="String">String</span> = </span>
<a href="l281"></a><span id="l281">    <a href="#95826" title="=&gt; scales.xml.package.PullType">ev</a>.<span title="=&gt; Either.LeftProjection[scales.xml.XmlEvent,scales.xml.EndElem]">left</span>.<span title="=&gt; scales.xml.XmlEvent">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scales.xml.Elem" class="delimiter">[</span><a href="XmlTypes.scala.html#10558" title="scales.xml.Elem">Elem</a><span class="delimiter">]</span>.<a href="../utils/ListSet.scala.html#70845" title="(b: java.lang.Object with scales.xml.UnprefixedQName)(implicit equiv: scales.utils.Equiv[scales.xml.QName], implicit viewA: (scales.xml.Attribute) =&gt; scales.xml.QName, implicit viewB: (java.lang.Object with scales.xml.UnprefixedQName) =&gt; scales.xml.QName)Option[scales.xml.Attribute]">attributes</a><a href="XmlTypes.scala.html#87893" title="=&gt; scales.utils.Equiv[scales.xml.QName]" class="delimiter">(</a><a href="QName.scala.html#88416" title="(validUri: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)scales.xml.Namespace">Namespace</a><a href="QName.scala.html#87950" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><a href="#97524" title="String">namespaceURI</a><span class="delimiter">)</span>.<a href="QName.scala.html#88385" title="(local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.UnprefixedQName">apply</a><a href="QName.scala.html#87950" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><a href="#97525" title="String">localName</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: (scales.xml.Attribute) =&gt; String)Option[String]">map</span><span class="delimiter">(</span><a href="#97580" title="scales.xml.Attribute">_</a>.<a href="XmlTypes.scala.html#87985" title="=&gt; String">value</a><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span> : <span title="String">String</span><span class="delimiter">)</span></span>
<a href="l282"></a><span id="l282"></span>
<a href="l283"></a><span id="l283">  <span class="keyword">def</span> <a title="()String" id="95858">getCharacterEncodingScheme</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="String">String</span> = <span title="java.lang.String(&quot;UTF-16&quot;)" class="string">&quot;UTF-16&quot;</span></span>
<a href="l284"></a><span id="l284">  </span>
<a href="l285"></a><span id="l285">  <span class="keyword">def</span> <a title="()String" id="95859">getElementText</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="String">String</span> = <span class="delimiter">{</span></span>
<a href="l286"></a><span id="l286">    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#95861" title="()Int">getEventType</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> XMLStreamConstants.<span title="Int(1)">START_ELEMENT</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l287"></a><span id="l287">      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String, x$2: javax.xml.stream.Location)javax.xml.stream.XMLStreamException" class="keyword">new</span> <span title="javax.xml.stream.XMLStreamException">XMLStreamException</span><span class="delimiter">(</span></span>
<a href="l288"></a><span id="l288">	<span title="java.lang.String(&quot;parser must be on START_ELEMENT to read next text&quot;)" class="string">&quot;parser must be on START_ELEMENT to read next text&quot;</span>, <a href="#95864" title="()javax.xml.stream.Location">getLocation</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;</span>
<a href="l289"></a><span id="l289">    <span class="delimiter">}</span></span>
<a href="l290"></a><span id="l290">    <span class="keyword">var</span> <a title="Int" id="97589">eventType</a> = <a href="#95892" title="()Int">next</a><span class="delimiter">(</span><span class="delimiter">)</span>;</span>
<a href="l291"></a><span id="l291">    <span class="keyword">var</span> <a title="StringBuilder" id="97590">buf</a> = <span title="()StringBuilder" class="keyword">new</span> <span title="StringBuilder">StringBuilder</span><span class="delimiter">(</span><span class="delimiter">)</span>;</span>
<a href="l292"></a><span id="l292">    <span title="Unit" class="keyword">while</span><span class="delimiter">(</span><a href="#97589" title="Int">eventType</a> <span title="(x: Int)Boolean">!=</span> XMLStreamConstants.<span title="Int(2)">END_ELEMENT</span> <span class="delimiter">)</span> <a href="#97591" title="()Unit" class="delimiter">{</a></span>
<a href="l293"></a><span id="l293">      <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#97589" title="Int">eventType</a> <span title="(x: Int)Boolean">==</span> XMLStreamConstants.<span title="Int(4)">CHARACTERS</span></span>
<a href="l294"></a><span id="l294">	 <span title="(x: Boolean)Boolean">||</span> <a href="#97589" title="Int">eventType</a> <span title="(x: Int)Boolean">==</span> XMLStreamConstants.<span title="Int(12)">CDATA</span></span>
<a href="l295"></a><span id="l295">	 <span title="(x: Boolean)Boolean">||</span> <a href="#97589" title="Int">eventType</a> <span title="(x: Int)Boolean">==</span> XMLStreamConstants.<span title="Int(6)">SPACE</span></span>
<a href="l296"></a><span id="l296">	 <span title="(x: Boolean)Boolean">||</span> <a href="#97589" title="Int">eventType</a> <span title="(x: Int)Boolean">==</span> XMLStreamConstants.<span title="Int(9)">ENTITY_REFERENCE</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l297"></a><span id="l297">	<a href="#97590" title="StringBuilder">buf</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#95876" title="()String">getText</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;</span>
<a href="l298"></a><span id="l298">      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#97589" title="Int">eventType</a> <span title="(x: Int)Boolean">==</span> XMLStreamConstants.<span title="Int(3)">PROCESSING_INSTRUCTION</span></span>
<a href="l299"></a><span id="l299">		<span title="(x: Boolean)Boolean">||</span> <a href="#97589" title="Int">eventType</a> <span title="(x: Int)Boolean">==</span> XMLStreamConstants.<span title="Int(5)">COMMENT</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span></span>
<a href="l300"></a><span id="l300">	<span class="comment">// skipping</span></span>
<a href="l301"></a><span id="l301">      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Nothing" class="keyword">if</span><span class="delimiter">(</span><a href="#97589" title="Int">eventType</a> <span title="(x: Int)Boolean">==</span> XMLStreamConstants.<span title="Int(8)">END_DOCUMENT</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l302"></a><span id="l302">	<span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)javax.xml.stream.XMLStreamException" class="keyword">new</span> <span title="javax.xml.stream.XMLStreamException">XMLStreamException</span><span class="delimiter">(</span></span>
<a href="l303"></a><span id="l303">	  <span title="java.lang.String(&quot;unexpected end of document when reading element text content&quot;)" class="string">&quot;unexpected end of document when reading element text content&quot;</span><span class="delimiter">)</span>;</span>
<a href="l304"></a><span id="l304">      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Nothing" class="keyword">if</span><span class="delimiter">(</span><a href="#97589" title="Int">eventType</a> <span title="(x: Int)Boolean">==</span> XMLStreamConstants.<span title="Int(1)">START_ELEMENT</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l305"></a><span id="l305">	<span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String, x$2: javax.xml.stream.Location)javax.xml.stream.XMLStreamException" class="keyword">new</span> <span title="javax.xml.stream.XMLStreamException">XMLStreamException</span><span class="delimiter">(</span></span>
<a href="l306"></a><span id="l306">	  <span title="java.lang.String(&quot;element text content may not contain START_ELEMENT&quot;)" class="string">&quot;element text content may not contain START_ELEMENT&quot;</span>, <a href="#95864" title="()javax.xml.stream.Location">getLocation</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;</span>
<a href="l307"></a><span id="l307">      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span></span>
<a href="l308"></a><span id="l308">	<span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String, x$2: javax.xml.stream.Location)javax.xml.stream.XMLStreamException" class="keyword">new</span> <span title="javax.xml.stream.XMLStreamException">XMLStreamException</span><span class="delimiter">(</span></span>
<a href="l309"></a><span id="l309">	  <span title="java.lang.String(&quot;Unexpected event type &quot;)" class="string">&quot;Unexpected event type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#97589" title="Int">eventType</a>, <a href="#95864" title="()javax.xml.stream.Location">getLocation</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;</span>
<a href="l310"></a><span id="l310">      <span class="delimiter">}</span></span>
<a href="l311"></a><span id="l311">      <a href="#97589" title="Int">eventType</a> = <a href="#95892" title="()Int">next</a><span class="delimiter">(</span><span class="delimiter">)</span>;</span>
<a href="l312"></a><span id="l312">    <span class="delimiter">}</span></span>
<a href="l313"></a><span id="l313">    <a href="#97590" title="StringBuilder">buf</a>.<span title="()java.lang.String">toString</span><span class="delimiter">(</span><span class="delimiter">)</span>; </span>
<a href="l314"></a><span id="l314">  <span class="delimiter">}</span></span>
<a href="l315"></a><span id="l315"></span>
<a href="l316"></a><span id="l316">  <span class="keyword">def</span> <a title="()String" id="95860">getEncoding</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="String">String</span> = <span title="java.lang.String(&quot;UTF-16&quot;)" class="string">&quot;UTF-16&quot;</span></span>
<a href="l317"></a><span id="l317">  <span class="keyword">def</span> <a title="()Int" id="95861">getEventType</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Int">Int</span> = <a href="#95829" title="=&gt; Int">evType</a></span>
<a href="l318"></a><span id="l318">  <span class="keyword">def</span> <a title="=&gt; scales.xml.QName" id="95862">elemName</a> = <a href="#95826" title="=&gt; scales.xml.package.PullType">ev</a>.<span title="=&gt; Either.LeftProjection[scales.xml.XmlEvent,scales.xml.EndElem]">left</span>.<span title="=&gt; scales.xml.XmlEvent">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scales.xml.Elem" class="delimiter">[</span><a href="XmlTypes.scala.html#10558" title="scales.xml.Elem">Elem</a><span class="delimiter">]</span>.<a href="XmlTypes.scala.html#88523" title="=&gt; scales.xml.QName">name</a></span>
<a href="l319"></a><span id="l319"></span>
<a href="l320"></a><span id="l320">  <span class="keyword">def</span> <a title="()String" id="95863">getLocalName</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="String">String</span> = <a href="#95862" title="=&gt; scales.xml.QName">elemName</a>.<a href="QName.scala.html#88016" title="=&gt; String">local</a></span>
<a href="l321"></a><span id="l321">  <span class="keyword">def</span> <a title="()javax.xml.stream.Location" id="95864">getLocation</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="javax.xml.stream.Location">Location</span> = <a href="#10394" title="object scales.xml.EmptyStreamLocation">EmptyStreamLocation</a></span>
<a href="l322"></a><span id="l322">  <span class="keyword">def</span> <a title="()javax.xml.namespace.QName" id="95865">getName</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="javax.xml.namespace.QName">JQName</span> = </span>
<a href="l323"></a><span id="l323">    <span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: java.lang.String)javax.xml.namespace.QName" class="keyword">new</span> <span title="javax.xml.namespace.QName">JQName</span><span class="delimiter">(</span></span>
<a href="l324"></a><span id="l324">      <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#95862" title="=&gt; scales.xml.QName">elemName</a>.<a href="QName.scala.html#88017" title="=&gt; scales.xml.Namespace">namespace</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="QName.scala.html#10363" title="object scales.xml.Default">Default</a>.<a href="QName.scala.html#92441" title="=&gt; scales.xml.Namespace">noNamespace</a><span class="delimiter">)</span></span>
<a href="l325"></a><span id="l325">	<span title="Null(null)" class="keyword">null</span> : <span title="String">String</span></span>
<a href="l326"></a><span id="l326">      <span class="keyword">else</span></span>
<a href="l327"></a><span id="l327">	<a href="#95862" title="=&gt; scales.xml.QName">elemName</a>.<a href="QName.scala.html#88017" title="=&gt; scales.xml.Namespace">namespace</a>.<a href="QName.scala.html#88384" title="=&gt; String">uri</a>,</span>
<a href="l328"></a><span id="l328">      <a href="#95862" title="=&gt; scales.xml.QName">elemName</a>.<a href="QName.scala.html#88016" title="=&gt; String">local</a>,</span>
<a href="l329"></a><span id="l329">      <a href="#95874" title="()String">getPrefix</a></span>
<a href="l330"></a><span id="l330">    <span class="delimiter">)</span></span>
<a href="l331"></a><span id="l331">  </span>
<a href="l332"></a><span id="l332">  <span class="keyword">def</span> <a title="()javax.xml.namespace.NamespaceContext" id="95866">getNamespaceContext</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="javax.xml.namespace.NamespaceContext">NamespaceContext</span> = <a href="#95844" title="=&gt; scales.xml.TNC">nc</a></span>
<a href="l333"></a><span id="l333">  <span class="keyword">def</span> <a title="()Int" id="95867">getNamespaceCount</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Int">Int</span> = <a href="#95844" title="=&gt; scales.xml.TNC">nc</a>.<a href="#92735" title="(xs: Array[(String, String)])scala.collection.mutable.ArrayOps[(String, String)]">ns</a>.<span title="=&gt; Int">size</span></span>
<a href="l334"></a><span id="l334">  <span class="keyword">def</span> <a title="(index: Int)String" id="95868">getNamespacePrefix</a><span class="delimiter">(</span><a title="Int" id="97920">index</a> : <span title="Int">Int</span><span class="delimiter">)</span> : <span title="String">String</span> = <a href="#95844" title="=&gt; scales.xml.TNC">nc</a>.<a href="#92735" title="(i: Int)(String, String)">ns</a><span class="delimiter">(</span><a href="#97920" title="Int">index</a><span class="delimiter">)</span>.<span title="=&gt; String">_1</span></span>
<a href="l335"></a><span id="l335">  <span class="keyword">def</span> <a title="()String" id="95869">getNamespaceURI</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="String">String</span> = <a href="#95862" title="=&gt; scales.xml.QName">elemName</a>.<a href="QName.scala.html#88017" title="=&gt; scales.xml.Namespace">namespace</a>.<a href="QName.scala.html#88384" title="=&gt; String">uri</a></span>
<a href="l336"></a><span id="l336">  <span class="keyword">def</span> <a title="(index: Int)String" id="95870">getNamespaceURI</a><span class="delimiter">(</span> <a title="Int" id="97926">index</a> : <span title="Int">Int</span> <span class="delimiter">)</span> : <span title="String">String</span> = <a href="#95844" title="=&gt; scales.xml.TNC">nc</a>.<a href="#92735" title="(i: Int)(String, String)">ns</a><span class="delimiter">(</span><a href="#97926" title="Int">index</a><span class="delimiter">)</span>.<span title="=&gt; String">_2</span></span>
<a href="l337"></a><span id="l337">  <span class="keyword">def</span> <a title="(prefix: String)String" id="95871">getNamespaceURI</a><span class="delimiter">(</span> <a title="String" id="97931">prefix</a> : <span title="String">String</span><span class="delimiter">)</span> : <span title="String">String</span> = <a href="#95844" title="=&gt; scales.xml.TNC">nc</a>.<span title="(x$1: java.lang.String)java.lang.String">getNamespaceURI</span><span class="delimiter">(</span><a href="#97931" title="String">prefix</a><span class="delimiter">)</span></span>
<a href="l338"></a><span id="l338"></span>
<a href="l339"></a><span id="l339">  <span class="keyword">def</span> <a title="()String" id="95872">getPIData</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="String">String</span> = <a href="#95826" title="=&gt; scales.xml.package.PullType">ev</a>.<span title="=&gt; Either.LeftProjection[scales.xml.XmlEvent,scales.xml.EndElem]">left</span>.<span title="=&gt; scales.xml.XmlEvent">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scales.xml.PI" class="delimiter">[</span><a href="XmlTypes.scala.html#10572" title="scales.xml.PI">PI</a><span class="delimiter">]</span>.<a href="XmlTypes.scala.html#89925" title="=&gt; String">value</a></span>
<a href="l340"></a><span id="l340">  <span class="keyword">def</span> <a title="()String" id="95873">getPITarget</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="String">String</span> = <a href="#95826" title="=&gt; scales.xml.package.PullType">ev</a>.<span title="=&gt; Either.LeftProjection[scales.xml.XmlEvent,scales.xml.EndElem]">left</span>.<span title="=&gt; scales.xml.XmlEvent">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scales.xml.PI" class="delimiter">[</span><a href="XmlTypes.scala.html#10572" title="scales.xml.PI">PI</a><span class="delimiter">]</span>.<a href="XmlTypes.scala.html#96970" title="=&gt; String">target</a></span>
<a href="l341"></a><span id="l341"></span>
<a href="l342"></a><span id="l342">  <span class="keyword">def</span> <a title="()String" id="95874">getPrefix</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="String">String</span> = <a href="#95862" title="=&gt; scales.xml.QName">elemName</a>.<a href="QName.scala.html#88018" title="=&gt; Option[String]">prefix</a>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span> : <span title="String">String</span><span class="delimiter">)</span></span>
<a href="l343"></a><span id="l343">  <span class="keyword">def</span> <a title="(name: String)java.lang.Object" id="95875">getProperty</a><span class="delimiter">(</span><a title="String" id="97941">name</a> : <span title="String">String</span><span class="delimiter">)</span> : <span title="java.lang.Object">Object</span> = <span title="Null(null)" class="keyword">null</span></span>
<a href="l344"></a><span id="l344">  <span class="keyword">def</span> <a title="()String" id="95876">getText</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="String">String</span> = <a href="#95826" title="=&gt; scales.xml.package.PullType">ev</a>.<span title="=&gt; Either.LeftProjection[scales.xml.XmlEvent,scales.xml.EndElem]">left</span>.<span title="=&gt; scales.xml.XmlEvent">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scales.xml.XmlItem" class="delimiter">[</span><a href="XmlTypes.scala.html#10562" title="scales.xml.XmlItem">XmlItem</a><span class="delimiter">]</span>.<a href="XmlTypes.scala.html#89925" title="=&gt; String">value</a></span>
<a href="l345"></a><span id="l345">  <span class="keyword">def</span> <a title="()Array[Char]" id="95877">getTextCharacters</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Array[Char]">Array</span><span class="delimiter">[</span>Char<span class="delimiter">]</span> = <a href="#95876" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">getText</a>.<span title="(implicit evidence$1: ClassManifest[Char])Array[Char]">toArray</span></span>
<a href="l346"></a><span id="l346">  <span class="keyword">def</span> <a title="(sourceStart: Int, target: Array[Char], targetStart: Int, length: Int)Int" id="95878">getTextCharacters</a><span class="delimiter">(</span><a title="Int" id="98058">sourceStart</a> : <span title="Int">Int</span>, <a title="Array[Char]" id="98059">target</a> : <span title="Array[Char]">Array</span><span class="delimiter">[</span>Char<span class="delimiter">]</span>, <a title="Int" id="98060">targetStart</a> : <span title="Int">Int</span>, <a title="Int" id="98061">length</a> : <span title="Int">Int</span><span class="delimiter">)</span> : <span title="Int">Int</span> = <span class="delimiter">{</span></span>
<a href="l347"></a><span id="l347">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#98060" title="Int">targetStart</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">||</span> <a href="#98060" title="Int">targetStart</a> <span title="(x: Int)Boolean">&gt;</span> <a href="#95879" title="()Int">getTextLength</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l348"></a><span id="l348">      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.IndexOutOfBoundsException" class="keyword">new</span> <span title="java.lang.IndexOutOfBoundsException">IndexOutOfBoundsException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;TargetStart was out of bounds: &quot;)" class="string">&quot;TargetStart was out of bounds: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#98060" title="Int">targetStart</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; textLength &quot;)" class="string">&quot; textLength &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#95879" title="()Int">getTextLength</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l349"></a><span id="l349">    </span>
<a href="l350"></a><span id="l350">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#98061" title="Int">length</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#98060" title="Int">targetStart</a> <span title="(x: Int)Int">+</span> <a href="#98061" title="Int">length</a> <span title="(x: Int)Boolean">&gt;</span> <a href="#95879" title="()Int">getTextLength</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> </span>
<a href="l351"></a><span id="l351">      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.IndexOutOfBoundsException" class="keyword">new</span> <span title="java.lang.IndexOutOfBoundsException">IndexOutOfBoundsException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;TargetStart and Length was out of bounds: &quot;)" class="string">&quot;TargetStart and Length was out of bounds: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#98060" title="Int">targetStart</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; length &quot;)" class="string">&quot; length &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#98061" title="Int">length</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; textLength &quot;)" class="string">&quot; textLength &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#95879" title="()Int">getTextLength</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l352"></a><span id="l352">    </span>
<a href="l353"></a><span id="l353">    <span title="object java.lang.System">System</span>.<span title="(x$1: Any, x$2: Int, x$3: Any, x$4: Int, x$5: Int)Unit">arraycopy</span><span class="delimiter">(</span><a href="#95877" title="()Array[Char]">getTextCharacters</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#98058" title="Int">sourceStart</a>, <a href="#98059" title="Array[Char]">target</a>, <a href="#98060" title="Int">targetStart</a>, <a href="#98061" title="Int">length</a><span class="delimiter">)</span></span>
<a href="l354"></a><span id="l354">    <a href="#98061" title="Int">length</a></span>
<a href="l355"></a><span id="l355">  <span class="delimiter">}</span></span>
<a href="l356"></a><span id="l356"></span>
<a href="l357"></a><span id="l357">  <span class="keyword">def</span> <a title="()Int" id="95879">getTextLength</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Int">Int</span> = <a href="#95876" title="()String">getText</a><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><span class="delimiter">)</span>.<span title="=&gt; Int">size</span></span>
<a href="l358"></a><span id="l358">  <span class="keyword">def</span> <a title="()Int" id="95880">getTextStart</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span></span>
<a href="l359"></a><span id="l359"></span>
<a href="l360"></a><span id="l360">  <span class="keyword">def</span> <a title="()String" id="95881">getVersion</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="String">String</span>  = <a href="#95831" title="=&gt; scales.xml.DocLike">docLike</a>.<a href="XmlTypes.scala.html#89650" title="=&gt; scales.xml.Prolog">prolog</a>.<a href="XmlTypes.scala.html#95524" title="=&gt; scales.xml.Declaration">decl</a>.<a href="XmlTypes.scala.html#94416" title="=&gt; scales.xml.XmlVersion">version</a>.<a href="QName.scala.html#87851" title="=&gt; String">version</a></span>
<a href="l361"></a><span id="l361"></span>
<a href="l362"></a><span id="l362">  <span class="keyword">def</span> <a title="()Boolean" id="95882">hasName</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Boolean">Boolean</span> = <a href="#95829" title="=&gt; Int">evType</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">START_ELEMENT</span> <span title="(x: Boolean)Boolean">||</span> <a href="#95829" title="=&gt; Int">evType</a> <span title="(x: Int)Boolean">==</span> <span title="Int(2)">END_ELEMENT</span></span>
<a href="l363"></a><span id="l363">  <span class="keyword">def</span> <a title="()Boolean" id="95883">hasNext</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Boolean">Boolean</span> = <a href="#95832" title="=&gt; Iterator[scales.xml.package.Misc]">prologItr</a>.<span title="=&gt; Boolean">hasNext</span> <span title="(x: Boolean)Boolean">||</span> <a href="#95824" title="=&gt; Iterator[scales.xml.package.PullType]">itr</a>.<span title="=&gt; Boolean">hasNext</span> <span title="(x: Boolean)Boolean">||</span> <a href="#95834" title="=&gt; Iterator[scales.xml.package.Misc]">endItr</a>.<span title="=&gt; Boolean">hasNext</span> <span title="(x: Boolean)Boolean">||</span> <a href="#95838" title="=&gt; Boolean">doEndDoc</a></span>
<a href="l364"></a><span id="l364">  <span class="keyword">def</span> <a title="()Boolean" id="95884">hasText</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Boolean">Boolean</span> = <a href="#95829" title="=&gt; Int">evType</a> <span title="(x: Int)Boolean">==</span> <span title="Int(12)">CDATA</span> <span title="(x: Boolean)Boolean">||</span> <a href="#95829" title="=&gt; Int">evType</a> <span title="(x: Int)Boolean">==</span> <span title="Int(5)">COMMENT</span> <span title="(x: Boolean)Boolean">||</span> <a href="#95829" title="=&gt; Int">evType</a> <span title="(x: Int)Boolean">==</span> <span title="Int(4)">CHARACTERS</span></span>
<a href="l365"></a><span id="l365"></span>
<a href="l366"></a><span id="l366">  <span class="keyword">def</span> <a title="(index: Int)Boolean" id="95885">isAttributeSpecified</a><span class="delimiter">(</span><a title="Int" id="98228">index</a> : <span title="Int">Int</span><span class="delimiter">)</span> : <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span> <span class="comment">// can't specify this</span></span>
<a href="l367"></a><span id="l367">  <span class="keyword">def</span> <a title="()Boolean" id="95886">isCharacters</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Boolean">Boolean</span> = <a href="#95829" title="=&gt; Int">evType</a> <span title="(x: Int)Boolean">==</span> <span title="Int(4)">CHARACTERS</span></span>
<a href="l368"></a><span id="l368">  <span class="keyword">def</span> <a title="()Boolean" id="95887">isEndElement</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Boolean">Boolean</span> = <a href="#95829" title="=&gt; Int">evType</a> <span title="(x: Int)Boolean">==</span> <span title="Int(2)">END_ELEMENT</span></span>
<a href="l369"></a><span id="l369">  <span class="keyword">def</span> <a title="()Boolean" id="95888">isStandalone</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Boolean">Boolean</span> = <a href="#95895" title="()Boolean">standaloneSet</a></span>
<a href="l370"></a><span id="l370">  <span class="keyword">def</span> <a title="()Boolean" id="95889">isStartElement</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Boolean">Boolean</span> = <a href="#95829" title="=&gt; Int">evType</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">START_ELEMENT</span></span>
<a href="l371"></a><span id="l371">  <span class="keyword">def</span> <a title="()Boolean" id="95890">isWhiteSpace</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Boolean">Boolean</span> = <a href="#95876" title="()String">getText</a>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">trim</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span></span>
<a href="l372"></a><span id="l372"></span>
<a href="l373"></a><span id="l373">  <span class="keyword">def</span> <a title="=&gt; Unit" id="95891">doPop</a> <span class="delimiter">{</span></span>
<a href="l374"></a><span id="l374">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#95841" title="=&gt; Boolean">shouldPop</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l375"></a><span id="l375">      <a href="#95844" title="(x$1: scales.xml.TNC)Unit">nc</a> = <a href="#95844" title="=&gt; scales.xml.TNC">nc</a>.<a href="#92734" title="=&gt; scales.xml.TNC">parent</a></span>
<a href="l376"></a><span id="l376">      <a href="#95841" title="(x$1: Boolean)Unit">shouldPop</a> = <span title="Boolean(false)" class="keyword">false</span></span>
<a href="l377"></a><span id="l377">    <span class="delimiter">}</span></span>
<a href="l378"></a><span id="l378">  <span class="delimiter">}</span></span>
<a href="l379"></a><span id="l379"></span>
<a href="l380"></a><span id="l380">  <span class="keyword">def</span> <a title="()Int" id="95892">next</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Int">Int</span> = <span class="delimiter">{</span></span>
<a href="l381"></a><span id="l381">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#95838" title="=&gt; Boolean">doEndDoc</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l382"></a><span id="l382">      <a href="#95838" title="(x$1: Boolean)Unit">doEndDoc</a> = <span title="Boolean(false)" class="keyword">false</span></span>
<a href="l383"></a><span id="l383"><span class="comment">//      println(&quot;doc end&quot;) </span></span>
<a href="l384"></a><span id="l384">      <span title="Nothing" class="keyword">return</span> <span title="Int(8)">END_DOCUMENT</span></span>
<a href="l385"></a><span id="l385">    <span class="delimiter">}</span></span>
<a href="l386"></a><span id="l386"></span>
<a href="l387"></a><span id="l387">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#95832" title="=&gt; Iterator[scales.xml.package.Misc]">prologItr</a>.<span title="=&gt; Boolean">hasNext</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l388"></a><span id="l388">      <a href="#95826" title="(x$1: scales.xml.package.PullType)Unit">ev</a> = <a href="#95832" title="=&gt; Iterator[scales.xml.package.Misc]">prologItr</a>.<span title="()scales.xml.package.Misc">next</span>.<span title="(fa: (scales.xml.Comment) =&gt; Left[scales.xml.XmlEvent,Nothing], fb: (scales.xml.PI) =&gt; Left[scales.xml.XmlEvent,Nothing])Left[scales.xml.XmlEvent,Nothing]">fold</span><span class="delimiter">(</span><a title="scales.xml.Comment" id="98321">x</a>=&gt;<a href="XmlPull.scala.html#11047" title="implicit scales.xml.XmlPulls.toLeft : (ev: scales.xml.XmlEvent)Left[scales.xml.XmlEvent,Nothing]">x</a>, <a title="scales.xml.PI" id="98327">y</a>=&gt;<a href="XmlPull.scala.html#11047" title="implicit scales.xml.XmlPulls.toLeft : (ev: scales.xml.XmlEvent)Left[scales.xml.XmlEvent,Nothing]">y</a><span class="delimiter">)</span></span>
<a href="l389"></a><span id="l389">    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#95824" title="=&gt; Iterator[scales.xml.package.PullType]">itr</a>.<span title="=&gt; Boolean">hasNext</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l390"></a><span id="l390">      <a href="#95826" title="(x$1: scales.xml.package.PullType)Unit">ev</a> = <a href="#95824" title="=&gt; Iterator[scales.xml.package.PullType]">itr</a>.<span title="()scales.xml.package.PullType">next</span></span>
<a href="l391"></a><span id="l391">    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span></span>
<a href="l392"></a><span id="l392">      <a href="#95826" title="(x$1: scales.xml.package.PullType)Unit">ev</a> = <a href="#95834" title="=&gt; Iterator[scales.xml.package.Misc]">endItr</a>.<span title="()scales.xml.package.Misc">next</span>.<span title="(fa: (scales.xml.Comment) =&gt; Left[scales.xml.XmlEvent,Nothing], fb: (scales.xml.PI) =&gt; Left[scales.xml.XmlEvent,Nothing])Left[scales.xml.XmlEvent,Nothing]">fold</span><span class="delimiter">(</span><a title="scales.xml.Comment" id="98343">x</a>=&gt;<a href="XmlPull.scala.html#11047" title="implicit scales.xml.XmlPulls.toLeft : (ev: scales.xml.XmlEvent)Left[scales.xml.XmlEvent,Nothing]">x</a>, <a title="scales.xml.PI" id="98349">y</a>=&gt;<a href="XmlPull.scala.html#11047" title="implicit scales.xml.XmlPulls.toLeft : (ev: scales.xml.XmlEvent)Left[scales.xml.XmlEvent,Nothing]">y</a><span class="delimiter">)</span></span>
<a href="l393"></a><span id="l393">    <span class="delimiter">}</span></span>
<a href="l394"></a><span id="l394">    </span>
<a href="l395"></a><span id="l395">    <a href="#95836" title="()Unit">setEv</a></span>
<a href="l396"></a><span id="l396"></span>
<a href="l397"></a><span id="l397">    <span class="keyword">import</span> <a href="#10399" title="object scales.xml.NamespaceContextFunctions">NamespaceContextFunctions</a>._</span>
<a href="l398"></a><span id="l398"></span>
<a href="l399"></a><span id="l399">    <a href="#95829" title="=&gt; Int">evType</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span></span>
<a href="l400"></a><span id="l400">      <span class="keyword">case</span> <span title="Unit">START_ELEMENT</span> =&gt; </span>
<a href="l401"></a><span id="l401"><span class="comment">//	println(&quot; se : &quot;+ev)</span></span>
<a href="l402"></a><span id="l402">	<span class="keyword">val</span> <a title="scales.xml.Elem" id="98359">el</a> = <a href="#95826" title="=&gt; scales.xml.package.PullType">ev</a>.<span title="=&gt; Either.LeftProjection[scales.xml.XmlEvent,scales.xml.EndElem]">left</span>.<span title="=&gt; scales.xml.XmlEvent">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scales.xml.Elem" class="delimiter">[</span><a href="XmlTypes.scala.html#10558" title="scales.xml.Elem">Elem</a><span class="delimiter">]</span></span>
<a href="l403"></a><span id="l403">	<a href="#95847" title="(x$1: Array[scales.xml.Attribute])Unit">attribs</a> = <a href="#98359" title="scales.xml.Elem">el</a>.<a href="XmlTypes.scala.html#88524" title="=&gt; scales.xml.package.Attributes">attributes</a>.<span title="(implicit evidence$1: ClassManifest[scales.xml.Attribute])Array[scales.xml.Attribute]">toArray</span></span>
<a href="l404"></a><span id="l404">	</span>
<a href="l405"></a><span id="l405">	<a href="#95891" title="=&gt; Unit">doPop</a></span>
<a href="l406"></a><span id="l406">	<a href="#95844" title="(x$1: scales.xml.TNC)Unit">nc</a> = <a href="#94433" title="(prev: scales.xml.TNC, elem: scales.xml.Elem)java.lang.Object with scales.xml.TNC{lazy val preToNS: scala.collection.immutable.Map[String,String]; val nsToPre: scala.collection.immutable.Map[String,List[String]]; def getPrefixes(namespaceURI: String): java.util.Iterator[String]}">newContext</a><span class="delimiter">(</span><a href="#95844" title="=&gt; scales.xml.TNC">nc</a>, <a href="#98359" title="scales.xml.Elem">el</a><span class="delimiter">)</span></span>
<a href="l407"></a><span id="l407">      <span class="keyword">case</span> <span title="Unit">END_ELEMENT</span> =&gt;</span>
<a href="l408"></a><span id="l408"><span class="comment">//	println(&quot; ee : &quot;+ ev)</span></span>
<a href="l409"></a><span id="l409">	<a href="#95841" title="(x$1: Boolean)Unit">shouldPop</a> = <span title="Boolean(true)" class="keyword">true</span></span>
<a href="l410"></a><span id="l410">      <span class="keyword">case</span> <span title="Unit">_</span> =&gt; </span>
<a href="l411"></a><span id="l411"><span class="comment">//	println(&quot; item &quot;+ev)</span></span>
<a href="l412"></a><span id="l412">	<a href="#95891" title="=&gt; Unit">doPop</a></span>
<a href="l413"></a><span id="l413">    <span class="delimiter">}</span></span>
<a href="l414"></a><span id="l414"></span>
<a href="l415"></a><span id="l415">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#95834" title="=&gt; Iterator[scales.xml.package.Misc]">endItr</a>.<span title="=&gt; Boolean">hasNext</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l416"></a><span id="l416">      <a href="#95838" title="(x$1: Boolean)Unit">doEndDoc</a> = <span title="Boolean(true)" class="keyword">true</span></span>
<a href="l417"></a><span id="l417">    <span class="delimiter">}</span></span>
<a href="l418"></a><span id="l418"></span>
<a href="l419"></a><span id="l419">    <a href="#95829" title="=&gt; Int">evType</a></span>
<a href="l420"></a><span id="l420">  <span class="delimiter">}</span></span>
<a href="l421"></a><span id="l421"></span>
<a href="l422"></a><span id="l422">  <span class="comment">// tough one as well, Skips any white space (isWhiteSpace() returns true), COMMENT, or PROCESSING_INSTRUCTION, until a START_ELEMENT or END_ELEMENT is reached.</span></span>
<a href="l423"></a><span id="l423">  <span class="keyword">def</span> <a title="()Int" id="95893">nextTag</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Int">Int</span> = <span class="delimiter">{</span></span>
<a href="l424"></a><span id="l424">    <span class="keyword">var</span> <a title="Int" id="98383">eventType</a> = <a href="#95892" title="()Int">next</a><span class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l425"></a><span id="l425">    <span title="Unit" class="keyword">while</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#98383" title="Int">eventType</a> <span title="(x: Int)Boolean">==</span> XMLStreamConstants.<span title="Int(4)">CHARACTERS</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#95890" title="()Boolean">isWhiteSpace</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// skip whitespace</span></span>
<a href="l426"></a><span id="l426">	  <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#98383" title="Int">eventType</a> <span title="(x: Int)Boolean">==</span> XMLStreamConstants.<span title="Int(12)">CDATA</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#95890" title="()Boolean">isWhiteSpace</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> </span>
<a href="l427"></a><span id="l427">	  <span class="comment">// skip whitespace</span></span>
<a href="l428"></a><span id="l428">	  <span title="(x: Boolean)Boolean">||</span> <a href="#98383" title="Int">eventType</a> <span title="(x: Int)Boolean">==</span> XMLStreamConstants.<span title="Int(6)">SPACE</span></span>
<a href="l429"></a><span id="l429">	  <span title="(x: Boolean)Boolean">||</span> <a href="#98383" title="Int">eventType</a> <span title="(x: Int)Boolean">==</span> XMLStreamConstants.<span title="Int(3)">PROCESSING_INSTRUCTION</span></span>
<a href="l430"></a><span id="l430">	  <span title="(x: Boolean)Boolean">||</span> <a href="#98383" title="Int">eventType</a> <span title="(x: Int)Boolean">==</span> XMLStreamConstants.<span title="Int(5)">COMMENT</span></span>
<a href="l431"></a><span id="l431">	<span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l432"></a><span id="l432">      <a href="#98383" title="Int">eventType</a> = <a href="#95892" title="()Int">next</a><span class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l433"></a><span id="l433">    <span class="delimiter">}</span></span>
<a href="l434"></a><span id="l434">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#98383" title="Int">eventType</a> <span title="(x: Int)Boolean">!=</span> XMLStreamConstants.<span title="Int(1)">START_ELEMENT</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#98383" title="Int">eventType</a> <span title="(x: Int)Boolean">!=</span> XMLStreamConstants.<span title="Int(2)">END_ELEMENT</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l435"></a><span id="l435">      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String, x$2: javax.xml.stream.Location)javax.xml.stream.XMLStreamException" class="keyword">new</span> <span title="javax.xml.stream.XMLStreamException">XMLStreamException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;expected start or end tag&quot;)" class="string">&quot;expected start or end tag&quot;</span>, <a href="#95864" title="()javax.xml.stream.Location">getLocation</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l436"></a><span id="l436">    <span class="delimiter">}</span></span>
<a href="l437"></a><span id="l437">    <a href="#98383" title="Int">eventType</a></span>
<a href="l438"></a><span id="l438">  <span class="delimiter">}</span></span>
<a href="l439"></a><span id="l439"></span>
<a href="l440"></a><span id="l440">  <span class="keyword">def</span> <a title="(tipe: Int, namespaceURI: String, localName: String)Unit" id="95894">require</a><span class="delimiter">(</span><a title="Int" id="98453">tipe</a> : <span title="Int">Int</span>, <a title="String" id="98454">namespaceURI</a> : <span title="String">String</span> , <a title="String" id="98455">localName</a> : <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l441"></a><span id="l441">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#95829" title="=&gt; Int">evType</a> <span title="(x: Int)Boolean">!=</span> <a href="#98453" title="Int">tipe</a><span class="delimiter">)</span></span>
<a href="l442"></a><span id="l442">      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String, x$2: javax.xml.stream.Location)javax.xml.stream.XMLStreamException" class="keyword">new</span> <span title="javax.xml.stream.XMLStreamException">XMLStreamException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Type does not match&quot;)" class="string">&quot;Type does not match&quot;</span>, <a href="#95864" title="()javax.xml.stream.Location">getLocation</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l443"></a><span id="l443">    </span>
<a href="l444"></a><span id="l444">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#98454" title="String">namespaceURI</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#98454" title="String">namespaceURI</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#95869" title="()String">getNamespaceURI</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l445"></a><span id="l445">      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String, x$2: javax.xml.stream.Location)javax.xml.stream.XMLStreamException" class="keyword">new</span> <span title="javax.xml.stream.XMLStreamException">XMLStreamException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Namespace does not match&quot;)" class="string">&quot;Namespace does not match&quot;</span>, <a href="#95864" title="()javax.xml.stream.Location">getLocation</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l446"></a><span id="l446"></span>
<a href="l447"></a><span id="l447">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#98455" title="String">localName</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#98455" title="String">localName</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#95863" title="()String">getLocalName</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l448"></a><span id="l448">      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String, x$2: javax.xml.stream.Location)javax.xml.stream.XMLStreamException" class="keyword">new</span> <span title="javax.xml.stream.XMLStreamException">XMLStreamException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;LocalName does not match&quot;)" class="string">&quot;LocalName does not match&quot;</span>, <a href="#95864" title="()javax.xml.stream.Location">getLocation</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l449"></a><span id="l449">  <span class="delimiter">}</span></span>
<a href="l450"></a><span id="l450"></span>
<a href="l451"></a><span id="l451">  <span class="keyword">def</span> <a title="()Boolean" id="95895">standaloneSet</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Boolean">Boolean</span> = <a href="#95831" title="=&gt; scales.xml.DocLike">docLike</a>.<a href="XmlTypes.scala.html#89650" title="=&gt; scales.xml.Prolog">prolog</a>.<a href="XmlTypes.scala.html#95524" title="=&gt; scales.xml.Declaration">decl</a>.<a href="XmlTypes.scala.html#94420" title="=&gt; Boolean">standalone</a></span>
<a href="l452"></a><span id="l452"><span class="delimiter">}</span></span>
<a href="l453"></a><span id="l453"></span>
<a href="l454"></a><span id="l454"></span>
<a href="l455"></a><span id="l455">        </span>
</pre>
    </body>
</html>