<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\xml\XmlPaths.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    
<style id="linesStyle">
.lineHighlight {
  background-color: #a5a5a5;
}
</style>
<script type="text/javascript">
function selectedLine() {
    var loca = /^.*#l(.*)/.exec(location.href);
    return loca ? loca[1] : '0';
}

function highlightLine(ln){
  $('#l'+ln).toggleClass('lineHighlight');
}

function gotoLine(ln){
  $('#l'+ln).focus();
}

$(function(){
  var line = selectedLine();
  if (line != '0') highlightLine(line)
});
</script></head>
    <body>
        <pre>
<!-- SXR_LINES --><a href="l1"></a><span id="l1"><span class="keyword">package</span> scales.xml</span>
<a href="l2"></a><span id="l2"></span>
<a href="l3"></a><span id="l3"><span class="comment">/** Simple container for keeping relationship between the parent and attribute */</span></span>
<a href="l4"></a><span id="l4">case <span class="keyword">class</span> <a title="class AttributePath extends java.lang.Object with ScalaObject with Product with Serializable" id="115102">AttributePath</a><a href="#115102" title="ScalaObject" class="delimiter">(</a><a title="scales.xml.Attribute" id="110886">attribute</a>: <a href="XmlTypes.scala.html#10550" title="scales.xml.Attribute">Attribute</a>, <a title="scales.xml.package.XmlPath" id="110887">parent</a>: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span></span>
<a href="l5"></a><span id="l5"></span>
<a href="l6"></a><span id="l6">case <span class="keyword">class</span> <a title="class XmlPathComparisoms extends java.lang.Object with ScalaObject with Product with Serializable" id="115096">XmlPathComparisoms</a><a href="#115096" title="ScalaObject" class="delimiter">(</a><a title="scales.xml.package.XmlPath" id="90801">path</a>: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l7"></a><span id="l7">  <span class="keyword">def</span> <a title="(other: String)Boolean" id="90798">===</a><span class="delimiter">(</span><a title="String" id="102467">other</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#10989" title="object scales.xml.package.Elements">Elements</a>.<a href="#102471" title="object scales.xml.package.Elements.Functions">Functions</a>.<a href="#102486" title="(implicit path: scales.xml.package.XmlPath)String">text</a><span class="delimiter">(</span><a href="#90801" title="=&gt; scales.xml.package.XmlPath">path</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#102467" title="String">other</a></span>
<a href="l8"></a><span id="l8"><span class="delimiter">}</span></span>
<a href="l9"></a><span id="l9"></span>
<a href="l10"></a><span id="l10">case <span class="keyword">class</span> <a title="class AttributePathComparisoms extends java.lang.Object with ScalaObject with Product with Serializable" id="115090">AttributePathComparisoms</a><a href="#115090" title="ScalaObject" class="delimiter">(</a><a title="scales.xml.AttributePath" id="90783">path</a>: <a href="#115102" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l11"></a><span id="l11">  <span class="keyword">def</span> <a title="(other: String)Boolean" id="90780">===</a><span class="delimiter">(</span><a title="String" id="102554">other</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#10983" title="object scales.xml.package.Attributes">Attributes</a>.<a href="#102558" title="object scales.xml.package.Attributes.Functions">Functions</a>.<a href="#102572" title="(implicit attribute: scales.xml.AttributePath)String">text</a><span class="delimiter">(</span><a href="#90783" title="=&gt; scales.xml.AttributePath">path</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#102554" title="String">other</a></span>
<a href="l12"></a><span id="l12"><span class="delimiter">}</span></span>
<a href="l13"></a><span id="l13"></span>
<a href="l14"></a><span id="l14"><span class="keyword">import</span> scales.utils._</span>
<a href="l15"></a><span id="l15"><span class="keyword">import</span> scala.collection.generic.CanBuildFrom</span>
<a href="l16"></a><span id="l16"></span>
<a href="l17"></a><span id="l17"><span class="keyword">trait</span> <a title="trait XmlPathImplicits extends java.lang.Object with ScalaObject" id="10462">XmlPathImplicits</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l18"></a><span id="l18">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="(scales.xml.package.XmlPath, scales.xml.package.XmlPath) =&gt; Boolean" id="87913">samePath</a>: <span class="delimiter">(</span>XmlPath, XmlPath<span class="delimiter">)</span> =&gt; Boolean = <a href="../utils/Paths.scala.html#10833" title="(path1: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], path2: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])(Int, scales.utils.Position[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], scales.utils.Position[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])">comparePaths</a><span class="delimiter">(</span><a href="#102644" title="scales.xml.package.XmlPath">_</a>, <a href="#102645" title="scales.xml.package.XmlPath">_</a><span class="delimiter">)</span>.<span title="=&gt; Int">_1</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span></span>
<a href="l19"></a><span id="l19"></span>
<a href="l20"></a><span id="l20">  <span class="comment">/** Unpack the attribute from the tuple */</span></span>
<a href="l21"></a><span id="l21">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlPathImplicits.fromAttrPathToAttribute : (attrPath: scales.xml.AttributePath)scales.xml.Attribute" id="87915">fromAttrPathToAttribute</a><span class="delimiter">(</span><a title="scales.xml.AttributePath" id="90828">attrPath</a>: <a href="#115102" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span>: <a href="XmlTypes.scala.html#10550" title="scales.xml.Attribute">Attribute</a> = <a href="#90828" title="scales.xml.AttributePath">attrPath</a>.<a href="#110886" title="=&gt; scales.xml.Attribute">attribute</a></span>
<a href="l22"></a><span id="l22"></span>
<a href="l23"></a><span id="l23">  <span class="comment">/** By default a List, eager/strict evaluation, is used.  The user of the library can simply choose another collection to wrap the xmlPath */</span></span>
<a href="l24"></a><span id="l24">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]" id="87916">fromXmlPathToXPath</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="90838">xmlPath</a>: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span><span class="delimiter">(</span></span>
<a href="l25"></a><span id="l25">    <span class="keyword">implicit</span> <a title="scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]]" id="90839">cbf</a>: <span title="scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]]">CanBuildFrom</span><span class="delimiter">[</span>List<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span>, XmlPath, List<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <span title="scales.xml.XPath[List[scales.xml.package.XmlPath]]" class="keyword">new</span> <a href="#10464" title="scales.xml.XPath[List[scales.xml.package.XmlPath]]">XPath</a><span class="delimiter">[</span>List<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span></span>
<a href="l26"></a><span id="l26">    <a href="#90859" title="Boolean" id="90919">XPathInfo</a><span class="delimiter">(</span><span title="(xs: List[scales.xml.package.XmlPath]*)List[List[scales.xml.package.XmlPath]]">List</span><a title="List[List[scales.xml.package.XmlPath]]" id="90916" class="delimiter">(</a><span title="(xs: scales.xml.package.XmlPath*)List[scales.xml.package.XmlPath]">List</span><span class="delimiter">(</span><a href="#90838" title="scales.xml.package.XmlPath">xmlPath</a><span class="delimiter">)</span><span class="delimiter">)</span>, initialNode = <a title="Boolean(true)" id="90917" class="keyword">true</a><span class="delimiter">)</span>, <a href="#90839" title="scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]]">cbf</a><span class="delimiter">)</span></span>
<a href="l27"></a><span id="l27"></span>
<a href="l28"></a><span id="l28">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[T](xpath: scales.xml.XPath[T])scales.utils.DuplicateFilter[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" id="87917">fromXPathToIterable</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="87919">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scales.xml.XPath[T]" id="90817">xpath</a>: <a href="#10464" title="scales.xml.XPath[T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span></span>
<a href="l29"></a><span id="l29">    <span class="keyword">val</span> <a title="Iterable[scales.xml.package.XmlPath]" id="90820">nodes</a> = <a href="#90817" title="scales.xml.XPath[T]">xpath</a>.<a href="#90842" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#90858" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="(implicit asTraversable: (Iterable[scales.xml.package.XmlPath]) =&gt; scala.collection.TraversableOnce[scales.xml.package.XmlPath])Iterable[scales.xml.package.XmlPath]">flatten</span></span>
<a href="l30"></a><span id="l30">    <a href="../utils/DuplicateFilter.scala.html#40940" title="(orig: Iterable[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]])(implicit predicate: (scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]) =&gt; Boolean)scales.utils.DuplicateFilter[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">DuplicateFilter</a><span class="delimiter">(</span><a href="../utils/Paths.scala.html#10868" title="[Item &lt;: scales.utils.LeftLike[Item,scales.utils.Tree[Item,Section,CC]], Section, CC[X] &lt;: scala.collection.IndexedSeqLike[X,CC[X]]](paths: Iterable[scales.utils.Path[Item,Section,CC]], isDescending: Boolean)Iterable[scales.utils.Path[Item,Section,CC]]">sort</a><a href="../utils/Paths.scala.html#81252" title="(paths: Iterable[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]], isDescending: Boolean)Iterable[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" class="delimiter">[</a><a href="XmlTypes.scala.html#10562" title="scales.xml.XmlItem">XmlItem</a>, <a href="XmlTypes.scala.html#10558" title="scales.xml.Elem">Elem</a>, <a href="../utils/ImmutableArray.scala.html#8932" title="scales.xml.package.XCC">XCC</a><span class="delimiter">]</span><span class="delimiter">(</span>paths = <a href="#90820" title="Iterable[scales.xml.package.XmlPath]">nodes</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../utils/ScalesUtils.scala.html#9179" title="object scales.utils.ScalesUtils">ScalesUtils</a>.<a href="../utils/DuplicateFilter.scala.html#39674" title="=&gt; (AnyRef, AnyRef) =&gt; Boolean">sameRef</a><span class="delimiter">)</span></span>
<a href="l31"></a><span id="l31">  <span class="delimiter">}</span></span>
<a href="l32"></a><span id="l32"></span>
<a href="l33"></a><span id="l33">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlPathImplicits.fromAttributePathToAxis : (attrs: Iterable[scales.xml.AttributePath])scales.xml.AttributeParentPath" id="87920">fromAttributePathToAxis</a><span class="delimiter">(</span><a title="Iterable[scales.xml.AttributePath]" id="90806">attrs</a>: <span title="Iterable[scales.xml.AttributePath]">Iterable</span><span class="delimiter">[</span>AttributePath<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="scales.xml.AttributeParentPath" class="keyword">new</span> <a href="#10466" title="scales.xml.AttributeParentPath">AttributeParentPath</a><span class="delimiter">(</span><a href="#90806" title="Iterable[scales.xml.AttributePath]">attrs</a><span class="delimiter">)</span></span>
<a href="l34"></a><span id="l34"></span>
<a href="l35"></a><span id="l35">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlPathImplicits.fromPathToComparisoms : (path: scales.xml.package.XmlPath)scales.xml.XmlPathComparisoms" id="87921">fromPathToComparisoms</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="90788">path</a>: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> = <a href="#115096" title="(path: scales.xml.package.XmlPath)scales.xml.XmlPathComparisoms">XmlPathComparisoms</a><span class="delimiter">(</span><a href="#90788" title="scales.xml.package.XmlPath">path</a><span class="delimiter">)</span></span>
<a href="l36"></a><span id="l36"></span>
<a href="l37"></a><span id="l37">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlPathImplicits.fromAPathToAComparisoms : (path: scales.xml.AttributePath)scales.xml.AttributePathComparisoms" id="87922">fromAPathToAComparisoms</a><span class="delimiter">(</span><a title="scales.xml.AttributePath" id="90770">path</a>: <a href="#115102" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span> = <a href="#115090" title="(path: scales.xml.AttributePath)scales.xml.AttributePathComparisoms">AttributePathComparisoms</a><span class="delimiter">(</span><a href="#90770" title="scales.xml.AttributePath">path</a><span class="delimiter">)</span></span>
<a href="l38"></a><span id="l38"></span>
<a href="l39"></a><span id="l39">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlPathImplicits.fromAttributesToHelpers : (paths: Iterable[scales.xml.AttributePath])scales.xml.package.AttributeHelpers" id="87923">fromAttributesToHelpers</a><span class="delimiter">(</span><a title="Iterable[scales.xml.AttributePath]" id="90760">paths</a>: <span title="Iterable[scales.xml.AttributePath]">Iterable</span><span class="delimiter">[</span>AttributePath<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="scales.xml.package.AttributeHelpers" class="keyword">new</span> <a href="#10982" title="scales.xml.package.AttributeHelpers">AttributeHelpers</a><span class="delimiter">(</span><a href="#90760" title="Iterable[scales.xml.AttributePath]">paths</a><span class="delimiter">)</span></span>
<a href="l40"></a><span id="l40"></span>
<a href="l41"></a><span id="l41">  <span class="comment">/**</span>
<a href="l42"></a><span id="l42">   * Mimic the logic of xpath boolean() through typeclass, see AsBoolean / XmlDSL</span>
<a href="l43"></a><span id="l43">   */</span></span>
<a href="l44"></a><span id="l44"></span>
<a href="l45"></a><span id="l45">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="(scales.xml.XPath[_]) =&gt; Boolean" id="87924">XPathToBoolean</a> = <span class="delimiter">(</span>x: <a href="#10464" title="scales.xml.XPath[_]">XPath</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <span title="=&gt; Boolean">!</span><a href="#90688" title="scales.xml.XPath[_]">x</a>.<a href="#90842" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#90858" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="=&gt; Boolean">isEmpty</span></span>
<a href="l46"></a><span id="l46"></span>
<a href="l47"></a><span id="l47">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="(Iterable[_]) =&gt; Boolean" id="87926">IterableToBoolean</a> = <span class="delimiter">(</span>x: <span title="Iterable[_]">Iterable</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <span title="=&gt; Boolean">!</span><a href="#90683" title="Iterable[_]">x</a>.<span title="=&gt; Boolean">isEmpty</span></span>
<a href="l48"></a><span id="l48"></span>
<a href="l49"></a><span id="l49">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="(String) =&gt; Boolean" id="87928">StringToBoolean</a> = <span class="delimiter">(</span>x: <span title="String">String</span><span class="delimiter">)</span> =&gt; <a href="#90675" title="String">x</a>.<span title="()Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span></span>
<a href="l50"></a><span id="l50"></span>
<a href="l51"></a><span id="l51">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="(java.lang.Number) =&gt; Boolean" id="87930">NumberToBoolean</a> = <span class="delimiter">(</span>x: <span title="java.lang.Number">Number</span><span class="delimiter">)</span> =&gt; <a href="#90667" title="java.lang.Number">x</a>.<span title="()Long">longValue</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span></span>
<a href="l52"></a><span id="l52"></span>
<a href="l53"></a><span id="l53">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="(Boolean) =&gt; Boolean" id="87932">BooleanToBoolean</a> = <span class="delimiter">(</span>x: <span title="Boolean">Boolean</span><span class="delimiter">)</span> =&gt; <a href="#90665" title="Boolean">x</a></span>
<a href="l54"></a><span id="l54"></span>
<a href="l55"></a><span id="l55"><span class="delimiter">}</span></span>
<a href="l56"></a><span id="l56"></span>
<a href="l57"></a><span id="l57"><span class="keyword">trait</span> <a title="trait XmlPaths extends java.lang.Object with ScalaObject" id="10463">XmlPaths</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l58"></a><span id="l58"></span>
<a href="l59"></a><span id="l59">  <span class="keyword">import</span> <a href="ScalesXml.scala.html#10381" title="object scales.xml.ScalesXml">ScalesXml</a>._</span>
<a href="l60"></a><span id="l60"></span>
<a href="l61"></a><span id="l61">  <span class="keyword">val</span> <a title="(scales.xml.package.XmlPath) =&gt; Boolean" id="10980">isText</a> = <span class="delimiter">(</span>x: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> =&gt; <a href="#102722" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#38046" title="=&gt; Boolean">isItem</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(true)" class="keyword">true</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#102722" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#38052" title="()scales.xml.XmlItem">item</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="XmlTypes.scala.html#10563" title="scales.xml.Text">Text</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">||</span> <a href="#102722" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#38052" title="()scales.xml.XmlItem">item</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="XmlTypes.scala.html#10569" title="scales.xml.CData">CData</a><span class="delimiter">]</span><span class="delimiter">)</span></span>
<a href="l62"></a><span id="l62"></span>
<a href="l63"></a><span id="l63">  <span class="keyword">class</span> <a title="class AttributeHelpers extends java.lang.Object with ScalaObject" id="10982">AttributeHelpers</a><a href="#10982" title="ScalaObject" class="delimiter">(</a><a title="Iterable[scales.xml.AttributePath]" id="90768">attributes</a>: <span title="Iterable[scales.xml.AttributePath]">Iterable</span><span class="delimiter">[</span>AttributePath<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l64"></a><span id="l64">    <span class="comment">/**</span>
<a href="l65"></a><span id="l65">     * Some if there is one, else none</span>
<a href="l66"></a><span id="l66">     */</span></span>
<a href="l67"></a><span id="l67">    <span class="keyword">def</span> <a title="=&gt; Iterable[scales.xml.AttributePath]" id="90766">one</a>: <span title="Iterable[scales.xml.AttributePath]">Iterable</span><span class="delimiter">[</span>AttributePath<span class="delimiter">]</span> = <span title="Iterable[scales.xml.AttributePath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#90768" title="Iterable[scales.xml.AttributePath]">attributes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">else</span> <span title="(xs: scales.xml.AttributePath*)List[scales.xml.AttributePath]">List</span><span class="delimiter">(</span><a href="#90768" title="Iterable[scales.xml.AttributePath]">attributes</a>.<span title="=&gt; scales.xml.AttributePath">head</span><span class="delimiter">)</span></span>
<a href="l68"></a><span id="l68"></span>
<a href="l69"></a><span id="l69">    <span class="comment">/**</span>
<a href="l70"></a><span id="l70">     * Some if there is one, else calls handler (allows decisions based on more than one etc.</span>
<a href="l71"></a><span id="l71">     */</span></span>
<a href="l72"></a><span id="l72">    <span class="keyword">def</span> <a title="(handler: (Iterable[scales.xml.AttributePath]) =&gt; Iterable[scales.xml.AttributePath])Iterable[scales.xml.AttributePath]" id="90767">oneOr</a><span class="delimiter">(</span><a title="(Iterable[scales.xml.AttributePath]) =&gt; Iterable[scales.xml.AttributePath]" id="102761">handler</a>: Iterable<span class="delimiter">[</span>AttributePath<span class="delimiter">]</span> =&gt; Iterable<span class="delimiter">[</span>AttributePath<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="Iterable[scales.xml.AttributePath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#90768" title="Iterable[scales.xml.AttributePath]">attributes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(xs: scales.xml.AttributePath*)List[scales.xml.AttributePath]">List</span><span class="delimiter">(</span><a href="#90768" title="Iterable[scales.xml.AttributePath]">attributes</a>.<span title="=&gt; scales.xml.AttributePath">head</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#102761" title="(v1: Iterable[scales.xml.AttributePath])Iterable[scales.xml.AttributePath]">handler</a><span class="delimiter">(</span><a href="#90768" title="Iterable[scales.xml.AttributePath]">attributes</a><span class="delimiter">)</span></span>
<a href="l73"></a><span id="l73">  <span class="delimiter">}</span></span>
<a href="l74"></a><span id="l74"></span>
<a href="l75"></a><span id="l75">  <span class="keyword">object</span> <a title="object XmlPaths.this.Attributes" id="10983">Attributes</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l76"></a><span id="l76"></span>
<a href="l77"></a><span id="l77">    <span class="comment">/**</span>
<a href="l78"></a><span id="l78">     * Note the majority of these functions have an implicit arguement that matches the current context of a given predicate.  This allows:</span>
<a href="l79"></a><span id="l79">     *</span>
<a href="l80"></a><span id="l80">     *</span>
<a href="l81"></a><span id="l81">     */</span></span>
<a href="l82"></a><span id="l82">    <span class="keyword">object</span> <a title="object scales.xml.XmlPaths.Attributes.Functions" id="102558">Functions</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l83"></a><span id="l83"></span>
<a href="l84"></a><span id="l84">      <span class="comment">/** curried to allow direct drop in for predicates */</span></span>
<a href="l85"></a><span id="l85">      <span class="keyword">def</span> <a title="(localName: String)(implicit attribute: scales.xml.AttributePath)Boolean" id="102567">localName</a><span class="delimiter">(</span><a title="String" id="102875">localName</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.AttributePath" id="102876">attribute</a>: <a href="#115102" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#102876" title="scales.xml.AttributePath">attribute</a>.<a href="#110886" title="=&gt; scales.xml.Attribute">attribute</a>.<a href="XmlTypes.scala.html#87895" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a>.<a href="QName.scala.html#88016" title="=&gt; String">local</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#102875" title="String">localName</a></span>
<a href="l86"></a><span id="l86"></span>
<a href="l87"></a><span id="l87">      <span class="comment">/** curried to allow direct drop in for predicates */</span></span>
<a href="l88"></a><span id="l88">      <span class="keyword">def</span> <a title="(qname: scales.xml.QName)(implicit attribute: scales.xml.AttributePath)Boolean" id="102568">exact</a><span class="delimiter">(</span><a title="scales.xml.QName" id="102884">qname</a>: <a href="QName.scala.html#10365" title="scales.xml.QName">QName</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.AttributePath" id="102885">attribute</a>: <a href="#115102" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#102885" title="scales.xml.AttributePath">attribute</a>.<a href="#110886" title="=&gt; scales.xml.Attribute">attribute</a>.<a href="XmlTypes.scala.html#87895" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a> <a href="QName.scala.html#88026" title="(other: scales.xml.QName)Boolean">===</a> <a href="#102884" title="scales.xml.QName">qname</a></span>
<a href="l89"></a><span id="l89"></span>
<a href="l90"></a><span id="l90">      <span class="comment">/** returns the qname of an AttributePath, using implicit scope */</span></span>
<a href="l91"></a><span id="l91">      <span class="keyword">def</span> <a title="(implicit attribute: scales.xml.AttributePath)String" id="102569">qname</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.AttributePath" id="103084">attribute</a>: <a href="#115102" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#103084" title="scales.xml.AttributePath">attribute</a>.<a href="#110886" title="=&gt; scales.xml.Attribute">attribute</a>.<a href="XmlTypes.scala.html#87895" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a>.<a href="QName.scala.html#88021" title="=&gt; java.lang.String">qName</a></span>
<a href="l92"></a><span id="l92"></span>
<a href="l93"></a><span id="l93">      <span class="comment">/** returns the pqName of an AttributePath, using implicit scope */</span></span>
<a href="l94"></a><span id="l94">      <span class="keyword">def</span> <a title="(implicit attribute: scales.xml.AttributePath)String" id="102570">pqName</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.AttributePath" id="103178">attribute</a>: <a href="#115102" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#103178" title="scales.xml.AttributePath">attribute</a>.<a href="#110886" title="=&gt; scales.xml.Attribute">attribute</a>.<a href="XmlTypes.scala.html#87895" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a>.<a href="QName.scala.html#88022" title="=&gt; java.lang.String">pqName</a></span>
<a href="l95"></a><span id="l95"></span>
<a href="l96"></a><span id="l96">      <span class="comment">/** returns the value of an AttributePath, using implicit scope */</span></span>
<a href="l97"></a><span id="l97">      <span class="keyword">def</span> <a title="(implicit attribute: scales.xml.AttributePath)String" id="102571">value</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.AttributePath" id="102577">attribute</a>: <a href="#115102" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#102577" title="scales.xml.AttributePath">attribute</a>.<a href="#110886" title="=&gt; scales.xml.Attribute">attribute</a>.<a href="XmlTypes.scala.html#87985" title="=&gt; String">value</a></span>
<a href="l98"></a><span id="l98"></span>
<a href="l99"></a><span id="l99">      <span class="comment">/** returns the value of an AttributePath, using implicit scope */</span></span>
<a href="l100"></a><span id="l100">      <span class="keyword">def</span> <a title="(implicit attribute: scales.xml.AttributePath)String" id="102572">text</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.AttributePath" id="102574">attribute</a>: <a href="#115102" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span> = <a href="#102571" title="(implicit attribute: scales.xml.AttributePath)String">value</a></span>
<a href="l101"></a><span id="l101"></span>
<a href="l102"></a><span id="l102">      <span class="comment">/** true if the element contains this attribute */</span></span>
<a href="l103"></a><span id="l103">      <span class="keyword">def</span> <a title="(qName: scales.xml.QName)(implicit path: scales.xml.package.XmlPath)Boolean" id="102573">*@</a><span class="delimiter">(</span><a title="scales.xml.QName" id="102793">qName</a>: <a href="QName.scala.html#10365" title="scales.xml.QName">QName</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="102794">path</a>: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> = <a href="#102794" title="scales.xml.package.XmlPath">path</a>.<a href="../utils/Paths.scala.html#38051" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67674" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88524" title="=&gt; scales.xml.package.Attributes">attributes</a>.<a href="../utils/ListSet.scala.html#70840" title="(b: scales.xml.QName)(implicit equiv: scales.utils.Equiv[scales.xml.QName], implicit viewA: (scales.xml.Attribute) =&gt; scales.xml.QName, implicit viewB: (scales.xml.QName) =&gt; scales.xml.QName)Boolean">contains</a><a href="XmlTypes.scala.html#87893" title="=&gt; scales.utils.Equiv[scales.xml.QName]" class="delimiter">(</a><a href="#102793" title="scales.xml.QName">qName</a><span class="delimiter">)</span></span>
<a href="l104"></a><span id="l104"></span>
<a href="l105"></a><span id="l105">    <span class="delimiter">}</span></span>
<a href="l106"></a><span id="l106"></span>
<a href="l107"></a><span id="l107">    <span class="keyword">val</span> <a title="(scales.xml.QName) =&gt; (scales.xml.package.XmlPath) =&gt; Boolean" id="102560">*@</a> = <span class="delimiter">(</span>qName: <a href="QName.scala.html#10365" title="scales.xml.QName">QName</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span>path: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> =&gt; <a href="#102558" title="object scales.xml.XmlPaths.Attributes.Functions">Functions</a>.<a href="#102573" title="(qName: scales.xml.QName)(implicit path: scales.xml.package.XmlPath)Boolean">*@</a><span class="delimiter">(</span><a href="#102790" title="scales.xml.QName">qName</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#102792" title="scales.xml.package.XmlPath">path</a><span class="delimiter">)</span></span>
<a href="l108"></a><span id="l108">    <span class="keyword">val</span> <a title="(String) =&gt; (scales.xml.AttributePath) =&gt; Boolean" id="102562">localName</a> = <span class="delimiter">(</span>l: <span title="String">String</span><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span>a: <a href="#115102" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span> =&gt; <a href="#102558" title="object scales.xml.XmlPaths.Attributes.Functions">Functions</a>.<a href="#102567" title="(localName: String)(implicit attribute: scales.xml.AttributePath)Boolean">localName</a><span class="delimiter">(</span><a href="#102872" title="String">l</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#102874" title="scales.xml.AttributePath">a</a><span class="delimiter">)</span></span>
<a href="l109"></a><span id="l109">    <span class="keyword">val</span> <a title="(scales.xml.QName) =&gt; (scales.xml.AttributePath) =&gt; Boolean" id="102564">exact</a> = <span class="delimiter">(</span>q: <a href="QName.scala.html#10365" title="scales.xml.QName">QName</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span>a: <a href="#115102" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span> =&gt; <a href="#102558" title="object scales.xml.XmlPaths.Attributes.Functions">Functions</a>.<a href="#102568" title="(qname: scales.xml.QName)(implicit attribute: scales.xml.AttributePath)Boolean">exact</a><span class="delimiter">(</span><a href="#102881" title="scales.xml.QName">q</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#102883" title="scales.xml.AttributePath">a</a><span class="delimiter">)</span></span>
<a href="l110"></a><span id="l110">  <span class="delimiter">}</span></span>
<a href="l111"></a><span id="l111"></span>
<a href="l112"></a><span id="l112">  <span class="keyword">object</span> <a title="object XmlPaths.this.TextFunctions" id="10985">TextFunctions</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l113"></a><span id="l113"></span>
<a href="l114"></a><span id="l114">    <span class="comment">/**</span>
<a href="l115"></a><span id="l115">     * Either the value of an XmlItem or the direct text subchildren.</span>
<a href="l116"></a><span id="l116">     * @param xmlpath</span>
<a href="l117"></a><span id="l117">     * @return</span>
<a href="l118"></a><span id="l118">     */</span></span>
<a href="l119"></a><span id="l119">    <span class="keyword">def</span> <a title="(implicit xmlpath: scales.xml.package.XmlPath)String" id="103273">value</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="103276">xmlpath</a>: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> =</span>
<a href="l120"></a><span id="l120">      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#103276" title="scales.xml.package.XmlPath">xmlpath</a>.<a href="../utils/Paths.scala.html#38046" title="=&gt; Boolean">isItem</a><span class="delimiter">)</span></span>
<a href="l121"></a><span id="l121">        <a href="#103276" title="scales.xml.package.XmlPath">xmlpath</a>.<a href="../utils/Paths.scala.html#38052" title="()scales.xml.XmlItem">item</a>.<a href="XmlTypes.scala.html#89925" title="=&gt; String">value</a></span>
<a href="l122"></a><span id="l122">      <span class="keyword">else</span></span>
<a href="l123"></a><span id="l123">        <a href="#103276" title="scales.xml.package.XmlPath">xmlpath</a>.<span title="(f: (scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]) =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]],String,Iterable[String]])Iterable[String]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,String,Iterable[String]]" class="delimiter">(</span><a title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="103296">x</a> =&gt; <span title="Iterable[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#10980" title="(v1: scales.xml.package.XmlPath)Boolean">isText</a><span class="delimiter">(</span><a href="#103296" title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: String)Some[String]">Some</span><span title="(xo: Option[String])Iterable[String]" class="delimiter">(</span><a href="#103296" title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">x</a>.<a href="../utils/Paths.scala.html#38052" title="()scales.xml.XmlItem">item</a>.<a href="XmlTypes.scala.html#89925" title="=&gt; String">value</a><span class="delimiter">)</span></span>
<a href="l124"></a><span id="l124">        <span class="keyword">else</span> <span title="(xo: Option[Nothing])Iterable[Nothing]">None</span><span class="delimiter">)</span>.<span title="(b: StringBuilder)StringBuilder">addString</span><span class="delimiter">(</span><span title="()StringBuilder" class="keyword">new</span> <span title="StringBuilder">StringBuilder</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="()java.lang.String">toString</span></span>
<a href="l125"></a><span id="l125"></span>
<a href="l126"></a><span id="l126">  <span class="delimiter">}</span></span>
<a href="l127"></a><span id="l127"></span>
<a href="l128"></a><span id="l128">  <span class="comment">/** returns the attributes of a given element */</span></span>
<a href="l129"></a><span id="l129">  <span class="keyword">def</span> <a title="(implicit path: scales.xml.package.XmlPath)scales.xml.package.Attributes" id="10987">attributes</a><span class="delimiter">(</span> <span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="98655">path</a> : <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> : <a href="../utils/ListSet.scala.html#9016" title="scales.xml.package.Attributes">Attributes</a> = <a href="#98655" title="scales.xml.package.XmlPath">path</a>.<a href="../utils/Paths.scala.html#38051" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67674" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88524" title="=&gt; scales.xml.package.Attributes">attributes</a></span>
<a href="l130"></a><span id="l130"></span>
<a href="l131"></a><span id="l131">  <span class="comment">/** returns the Elem at this path */</span></span>
<a href="l132"></a><span id="l132">  <span class="keyword">def</span> <a title="(implicit path: scales.xml.package.XmlPath)scales.xml.Elem" id="10988">elem</a><span class="delimiter">(</span> <span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="103475">path</a> : <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> : <a href="XmlTypes.scala.html#10558" title="scales.xml.Elem">Elem</a> = <a href="#103475" title="scales.xml.package.XmlPath">path</a>.<a href="../utils/Paths.scala.html#38051" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67674" title="=&gt; scales.xml.Elem">section</a></span>
<a href="l133"></a><span id="l133"></span>
<a href="l134"></a><span id="l134">  <span class="keyword">object</span> <a title="object XmlPaths.this.Elements" id="10989">Elements</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l135"></a><span id="l135"></span>
<a href="l136"></a><span id="l136">    <span class="comment">/**</span>
<a href="l137"></a><span id="l137">     * Only use these items on XmlPaths that are actual trees, doing otherwise is a runtime exception, if used in XPath predicates then they will always be trees.</span>
<a href="l138"></a><span id="l138">     *</span>
<a href="l139"></a><span id="l139">     * Note the majority of these functions have an implicit arguement that matches the current context of a given predicate.  This allows:</span>
<a href="l140"></a><span id="l140">     *</span>
<a href="l141"></a><span id="l141">     *</span>
<a href="l142"></a><span id="l142">     */</span></span>
<a href="l143"></a><span id="l143">    <span class="keyword">object</span> <a title="object scales.xml.XmlPaths.Elements.Functions" id="102471">Functions</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l144"></a><span id="l144"></span>
<a href="l145"></a><span id="l145">      <span class="comment">/** curried to allow direct drop in for predicates, if it is an item then it will return false */</span></span>
<a href="l146"></a><span id="l146">      <span class="keyword">def</span> <a title="(localName: String)(implicit path: scales.xml.package.XmlPath)Boolean" id="102480">localName</a><span class="delimiter">(</span><a title="String" id="103494">localName</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="103495">path</a>: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#103495" title="scales.xml.package.XmlPath">path</a>.<a href="../utils/Paths.scala.html#38051" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67674" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88523" title="=&gt; scales.xml.QName">name</a>.<a href="QName.scala.html#88016" title="=&gt; String">local</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#103494" title="String">localName</a></span>
<a href="l147"></a><span id="l147"></span>
<a href="l148"></a><span id="l148">      <span class="comment">/** curried to allow direct drop in for predicates, if it is an item then it will return false */</span></span>
<a href="l149"></a><span id="l149">      <span class="keyword">def</span> <a title="(qname: scales.xml.QName)(implicit path: scales.xml.package.XmlPath)Boolean" id="102481">exact</a><span class="delimiter">(</span><a title="scales.xml.QName" id="103505">qname</a>: <a href="QName.scala.html#10365" title="scales.xml.QName">QName</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="103506">path</a>: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#103506" title="scales.xml.package.XmlPath">path</a>.<a href="../utils/Paths.scala.html#38051" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67674" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88523" title="=&gt; scales.xml.QName">name</a> <a href="QName.scala.html#88026" title="(other: scales.xml.QName)Boolean">===</a> <a href="#103505" title="scales.xml.QName">qname</a></span>
<a href="l150"></a><span id="l150"></span>
<a href="l151"></a><span id="l151">      <span class="comment">/** returns the localname of an XmlPath, using implicit scope */</span></span>
<a href="l152"></a><span id="l152">      <span class="keyword">def</span> <a title="(implicit path: scales.xml.package.XmlPath)String" id="102482">localName</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="103492">path</a>: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#103492" title="scales.xml.package.XmlPath">path</a>.<a href="../utils/Paths.scala.html#38051" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67674" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88523" title="=&gt; scales.xml.QName">name</a>.<a href="QName.scala.html#88016" title="=&gt; String">local</a></span>
<a href="l153"></a><span id="l153"></span>
<a href="l154"></a><span id="l154">      <span class="comment">/** returns the qname (pre:local) of an XmlPath, using implicit scope */</span></span>
<a href="l155"></a><span id="l155">      <span class="keyword">def</span> <a title="(implicit path: scales.xml.package.XmlPath)String" id="102483">qname</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="103523">path</a>: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#103523" title="scales.xml.package.XmlPath">path</a>.<a href="../utils/Paths.scala.html#38051" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67674" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88523" title="=&gt; scales.xml.QName">name</a>.<a href="QName.scala.html#88021" title="=&gt; java.lang.String">qName</a></span>
<a href="l156"></a><span id="l156"></span>
<a href="l157"></a><span id="l157">      <span class="comment">/** returns the qualified name ({namespace}local) of an XmlPath, using implicit scope */</span></span>
<a href="l158"></a><span id="l158">      <span class="keyword">def</span> <a title="(implicit path: scales.xml.package.XmlPath)String" id="102484">qualifiedName</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="103526">path</a>: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#103526" title="scales.xml.package.XmlPath">path</a>.<a href="../utils/Paths.scala.html#38051" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67674" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88523" title="=&gt; scales.xml.QName">name</a>.<a href="QName.scala.html#88023" title="=&gt; java.lang.String">qualifiedName</a></span>
<a href="l159"></a><span id="l159"></span>
<a href="l160"></a><span id="l160">      <span class="comment">/** returns the qname of an XmlPath with prefix if defined pre:{ns}qname, using implicit scope */</span></span>
<a href="l161"></a><span id="l161">      <span class="keyword">def</span> <a title="(implicit path: scales.xml.package.XmlPath)String" id="102485">pqName</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="103529">path</a>: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#103529" title="scales.xml.package.XmlPath">path</a>.<a href="../utils/Paths.scala.html#38051" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67674" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88523" title="=&gt; scales.xml.QName">name</a>.<a href="QName.scala.html#88022" title="=&gt; java.lang.String">pqName</a></span>
<a href="l162"></a><span id="l162"></span>
<a href="l163"></a><span id="l163">      <span class="comment">/** returns the text of an XmlPath, using implicit scope. Returns all text children joined, does not trim whitespace etc */</span></span>
<a href="l164"></a><span id="l164">      <span class="keyword">def</span> <a title="(implicit path: scales.xml.package.XmlPath)String" id="102486">text</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="102488">path</a>: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span></span>
<a href="l165"></a><span id="l165">        <a href="#102488" title="scales.xml.package.XmlPath">path</a>.<a href="../utils/Paths.scala.html#38051" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67679" title="(a: StringBuilder)(folder: (scales.utils.package.ItemOrSectionWalk[scales.xml.XmlItem,scales.xml.Elem], StringBuilder) =&gt; StringBuilder)StringBuilder">fold</a><span class="delimiter">(</span><span title="()StringBuilder" class="keyword">new</span> <span title="StringBuilder">StringBuilder</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="scales.utils.package.ItemOrSectionWalk[scales.xml.XmlItem,scales.xml.Elem]" id="103582">walker</a>, <a title="StringBuilder" id="103583">sb</a><span class="delimiter">)</span> =&gt;</span>
<a href="l166"></a><span id="l166">          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#103582" title="scales.utils.package.ItemOrSectionWalk[scales.xml.XmlItem,scales.xml.Elem]">walker</a>.<span title="=&gt; Boolean">isLeft</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l167"></a><span id="l167">            <a href="#103582" title="scales.utils.package.ItemOrSectionWalk[scales.xml.XmlItem,scales.xml.Elem]">walker</a>.<span title="=&gt; Either.LeftProjection[scales.xml.XmlItem,scales.utils.SectionWalk[scales.xml.Elem]]">left</span>.<span title="=&gt; scales.xml.XmlItem">get</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span></span>
<a href="l168"></a><span id="l168">              <span class="keyword">case</span> <span title="StringBuilder">Text</span><span class="delimiter">(</span><a title="String" id="103604">text</a><span class="delimiter">)</span> =&gt; <a href="#103583" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#103604" title="String">text</a><span class="delimiter">)</span></span>
<a href="l169"></a><span id="l169">              <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l170"></a><span id="l170">            <span class="delimiter">}</span></span>
<a href="l171"></a><span id="l171">          <span class="delimiter">}</span></span>
<a href="l172"></a><span id="l172">          <a href="#103583" title="StringBuilder">sb</a></span>
<a href="l173"></a><span id="l173">        <span class="delimiter">}</span>.<span title="()java.lang.String">toString</span></span>
<a href="l174"></a><span id="l174">      <span class="delimiter">}</span></span>
<a href="l175"></a><span id="l175"></span>
<a href="l176"></a><span id="l176">      <span class="keyword">def</span> <a title="(implicit path: scales.xml.package.XmlPath)java.lang.String" id="102487">normalizeSpace</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="103620">path</a>: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> = <a href="XmlUtils.scala.html#11027" title="(str: String)java.lang.String">normalizeSpaceS</a><span class="delimiter">(</span><a href="#102486" title="(implicit path: scales.xml.package.XmlPath)String">text</a><span class="delimiter">)</span></span>
<a href="l177"></a><span id="l177"></span>
<a href="l178"></a><span id="l178">    <span class="delimiter">}</span></span>
<a href="l179"></a><span id="l179"></span>
<a href="l180"></a><span id="l180">    <span class="keyword">val</span> <a title="((scales.xml.package.XmlPath) =&gt; Boolean) =&gt; (scales.xml.package.XmlPath) =&gt; Boolean" id="102473">!!</a> = <span class="delimiter">(</span>f: <span class="delimiter">(</span>XmlPath<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span> =&gt; <span class="delimiter">(</span>a: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span></span>
<a href="l181"></a><span id="l181">      <span class="keyword">val</span> <a title="Boolean" id="103483">res</a> = <a href="#103480" title="(v1: scales.xml.package.XmlPath)Boolean">f</a><span class="delimiter">(</span><a href="#103482" title="scales.xml.package.XmlPath">a</a><span class="delimiter">)</span></span>
<a href="l182"></a><span id="l182">      <span title="=&gt; Boolean">!</span><a href="#103483" title="Boolean">res</a></span>
<a href="l183"></a><span id="l183">    <span class="delimiter">}</span></span>
<a href="l184"></a><span id="l184">    <span class="keyword">val</span> <a title="(String) =&gt; (scales.xml.package.XmlPath) =&gt; Boolean" id="102475">localName</a> = <span class="delimiter">(</span>l: <span title="String">String</span><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span>a: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> =&gt; <a href="#102471" title="object scales.xml.XmlPaths.Elements.Functions">Functions</a>.<a href="#102480" title="(localName: String)(implicit path: scales.xml.package.XmlPath)Boolean">localName</a><span class="delimiter">(</span><a href="#103487" title="String">l</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#103489" title="scales.xml.package.XmlPath">a</a><span class="delimiter">)</span></span>
<a href="l185"></a><span id="l185">    <span class="keyword">val</span> <a title="(scales.xml.QName) =&gt; (scales.xml.package.XmlPath) =&gt; Boolean" id="102477">exact</a> = <span class="delimiter">(</span>q: <a href="QName.scala.html#10365" title="scales.xml.QName">QName</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span>a: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> =&gt; <a href="#102471" title="object scales.xml.XmlPaths.Elements.Functions">Functions</a>.<a href="#102481" title="(qname: scales.xml.QName)(implicit path: scales.xml.package.XmlPath)Boolean">exact</a><span class="delimiter">(</span><a href="#103502" title="scales.xml.QName">q</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#103504" title="scales.xml.package.XmlPath">a</a><span class="delimiter">)</span></span>
<a href="l186"></a><span id="l186">  <span class="delimiter">}</span></span>
<a href="l187"></a><span id="l187"></span>
<a href="l188"></a><span id="l188">  <span class="keyword">trait</span> <a title="trait Axis extends java.lang.Object with ScalaObject" id="10991">Axis</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l189"></a><span id="l189">    <span class="keyword">type</span> <a title="&gt;: Nothing &lt;: Any" id="90692">T</a></span>
<a href="l190"></a><span id="l190"></span>
<a href="l191"></a><span id="l191">    <span class="keyword">val</span> <a title="=&gt; scales.xml.XPathInfo" id="90693">path</a>: <a href="#115084" title="scales.xml.XPathInfo">XPathInfo</a></span>
<a href="l192"></a><span id="l192"></span>
<a href="l193"></a><span id="l193">    <span class="keyword">def</span> <a title="(xpathInfo: scales.xml.XPathInfo)scales.xml.XPath[Axis.this.T]" id="90694">newThis</a><span class="delimiter">(</span><a title="scales.xml.XPathInfo" id="103632">xpathInfo</a>: <a href="#115084" title="scales.xml.XPathInfo">XPathInfo</a><span class="delimiter">)</span>: <a href="#10464" title="scales.xml.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span></span>
<a href="l194"></a><span id="l194"></span>
<a href="l195"></a><span id="l195">    <span class="keyword">def</span> <a title="(nodes: Iterable[Iterable[scales.xml.package.XmlPath]], performSort: Boolean, filterDuplicates: Boolean)scales.xml.XPath[Axis.this.T]" id="90695">process</a><span class="delimiter">(</span><a title="Iterable[Iterable[scales.xml.package.XmlPath]]" id="103634">nodes</a>: <span title="Iterable[Iterable[scales.xml.package.XmlPath]]">Iterable</span><span class="delimiter">[</span>Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Boolean" id="103639">performSort</a>: <span title="Boolean">Boolean</span> = <a href="#90693" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#90859" title="=&gt; Boolean">mustBeSorted</a>, <a title="Boolean" id="103640">filterDuplicates</a>: <span title="Boolean">Boolean</span> = <a href="#90693" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#90860" title="=&gt; Boolean">filterDuplicates</a><span class="delimiter">)</span> = <span class="delimiter">{</span></span>
<a href="l196"></a><span id="l196">      <span class="comment">/*val potentiallySorted = if (performSort)</span>
<a href="l197"></a><span id="l197">        nodes //sort[XmlItem, Elem](paths = nodes)</span>
<a href="l198"></a><span id="l198">      else nodes</span>
<a href="l199"></a><span id="l199">      val res = if (filterDuplicates)</span>
<a href="l200"></a><span id="l200">        // remove dups, explicitly use ref instead of same paths</span>
<a href="l201"></a><span id="l201">        DuplicateFilter(potentiallySorted)(org.scales.utils.DuplicateImplicits.sameRef)</span>
<a href="l202"></a><span id="l202">      else potentiallySorted</span>
<a href="l203"></a><span id="l203">      */</span> <a href="#90694" title="(xpathInfo: scales.xml.XPathInfo)scales.xml.XPath[Axis.this.T]">newThis</a><span class="delimiter">(</span><a href="#115084" title="(nodes: Iterable[Iterable[scales.xml.package.XmlPath]], mustBeSorted: Boolean, filterDuplicates: Boolean, initialNode: Boolean)scales.xml.XPathInfo">XPathInfo</a><span class="delimiter">(</span><a href="#103634" title="Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>, <a href="#103639" title="Boolean">performSort</a>, <a href="#103640" title="Boolean">filterDuplicates</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l204"></a><span id="l204">    <span class="delimiter">}</span></span>
<a href="l205"></a><span id="l205"></span>
<a href="l206"></a><span id="l206">    <span class="keyword">def</span> <a title="=&gt; Iterable[scales.xml.package.XmlPath]" id="90696">empty</a>: <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span></span>
<a href="l207"></a><span id="l207">    <span class="keyword">def</span> <a title="(only: scales.xml.package.XmlPath)Iterable[scales.xml.package.XmlPath]" id="90697">just</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="103647">only</a>: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span>: <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span></span>
<a href="l208"></a><span id="l208"></span>
<a href="l209"></a><span id="l209">    <span class="comment">/**</span>
<a href="l210"></a><span id="l210">     * 0 index based, not spec, but unsure if it should be</span>
<a href="l211"></a><span id="l211">     */</span></span>
<a href="l212"></a><span id="l212">    <span class="keyword">def</span> <a title="(pos: =&gt; Int)scales.xml.XPath[Axis.this.T]" id="90698">pos</a><span class="delimiter">(</span><a title="=&gt; Int" id="103649">pos</a>: =&gt; Int<span class="delimiter">)</span>: <a href="#10464" title="scales.xml.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l213"></a><span id="l213">      <a href="#90695" title="(nodes: Iterable[Iterable[scales.xml.package.XmlPath]], performSort: Boolean, filterDuplicates: Boolean)scales.xml.XPath[Axis.this.T]">process</a> <span class="delimiter">{</span></span>
<a href="l214"></a><span id="l214">        <a href="#90693" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#90858" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.</span>
<a href="l215"></a><span id="l215">          <span title="(f: (Iterable[scales.xml.package.XmlPath]) =&gt; scala.collection.GenTraversableOnce[Iterable[scales.xml.package.XmlPath]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]])Iterable[Iterable[scales.xml.package.XmlPath]]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]]" class="delimiter">{</span> <a title="Iterable[scales.xml.package.XmlPath]" id="103677">path</a> =&gt;</span>
<a href="l216"></a><span id="l216">            <span class="keyword">val</span> <a title="Iterable[scales.xml.package.XmlPath]" id="103678">n</a> = <a href="#103677" title="Iterable[scales.xml.package.XmlPath]">path</a>.<span title="(n: Int)Iterable[scales.xml.package.XmlPath]">take</span><span class="delimiter">(</span><a href="#103649" title="=&gt; Int">pos</a><span class="delimiter">)</span></span>
<a href="l217"></a><span id="l217">            <span class="comment">//val res = </span></span>
<a href="l218"></a><span id="l218">            <span title="Iterable[Iterable[scales.xml.package.XmlPath]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#103678" title="Iterable[scales.xml.package.XmlPath]">n</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">!=</span> <a href="#103649" title="=&gt; Int">pos</a><span class="delimiter">)</span> <a href="#90696" title="=&gt; Iterable[scales.xml.package.XmlPath]">empty</a></span>
<a href="l219"></a><span id="l219">            <span class="keyword">else</span> <span title="(xs: Iterable[scales.xml.package.XmlPath]*)List[Iterable[scales.xml.package.XmlPath]]">List</span><span class="delimiter">(</span><a href="#90697" title="(only: scales.xml.package.XmlPath)Iterable[scales.xml.package.XmlPath]">just</a><span class="delimiter">(</span><a href="#103678" title="Iterable[scales.xml.package.XmlPath]">n</a>.<span title="=&gt; scales.xml.package.XmlPath">last</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l220"></a><span id="l220">            <span class="comment">// println (&quot;got path &quot; + path + &quot; n &quot; + n +&quot; res &quot; + res)</span></span>
<a href="l221"></a><span id="l221"></span>
<a href="l222"></a><span id="l222">            <span class="comment">//res</span></span>
<a href="l223"></a><span id="l223">          <span class="delimiter">}</span></span>
<a href="l224"></a><span id="l224">        <span class="comment">//	path.nodes.drop(pos).take(1) </span></span>
<a href="l225"></a><span id="l225">      <span class="delimiter">}</span></span>
<a href="l226"></a><span id="l226"></span>
<a href="l227"></a><span id="l227">    <span class="comment">/** Parents of these paths */</span></span>
<a href="l228"></a><span id="l228">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[Axis.this.T]" id="90699">\^</a> : <a href="#10464" title="scales.xml.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l229"></a><span id="l229">      <span class="comment">/* must process dups</span>
<a href="l230"></a><span id="l230">       * flatten, only each elem should get through anyway</span>
<a href="l231"></a><span id="l231">       */</span></span>
<a href="l232"></a><span id="l232">      <a href="#103639" title="Boolean" id="110367">process</a><span class="delimiter">(</span><a href="#90693" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#90858" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="(f: (Iterable[scales.xml.package.XmlPath]) =&gt; scala.collection.GenTraversableOnce[Iterable[scales.xml.package.XmlPath]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]])Iterable[Iterable[scales.xml.package.XmlPath]]">flatMap</span> <a title="Iterable[Iterable[scales.xml.package.XmlPath]]" id="110365" class="delimiter">{</a> <a title="Iterable[scales.xml.package.XmlPath]" id="107022">path</a> =&gt;</span>
<a href="l233"></a><span id="l233">        <a href="#107022" title="Iterable[scales.xml.package.XmlPath]">path</a>.<span title="(f: (scales.xml.package.XmlPath) =&gt; scala.collection.GenTraversableOnce[Iterable[scales.xml.package.XmlPath]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.package.XmlPath],Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]])Iterable[Iterable[scales.xml.package.XmlPath]]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]]" class="delimiter">{</span> <a title="scales.xml.package.XmlPath" id="107039">x</a> =&gt;</span>
<a href="l234"></a><span id="l234">          <span title="Iterable[Iterable[scales.xml.package.XmlPath]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#107039" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#38036" title="=&gt; scales.utils.EitherLike[scales.utils.Top[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC],scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">top</a>.<a href="../utils/EitherLike.scala.html#38076" title="=&gt; Boolean">isLeft</a><span class="delimiter">)</span> <a href="#90696" title="=&gt; Iterable[scales.xml.package.XmlPath]">empty</a></span>
<a href="l235"></a><span id="l235">          <span class="keyword">else</span> <span title="(xs: Iterable[scales.xml.package.XmlPath]*)List[Iterable[scales.xml.package.XmlPath]]">List</span><span class="delimiter">(</span><a href="#90697" title="(only: scales.xml.package.XmlPath)Iterable[scales.xml.package.XmlPath]">just</a><span class="delimiter">(</span><a href="#107039" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#38036" title="=&gt; scales.utils.EitherLike[scales.utils.Top[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC],scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">top</a>.<a href="../utils/EitherLike.scala.html#38083" title="=&gt; scales.utils.RightLikeProjection[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">right</a>.<a href="../utils/EitherLike.scala.html#38063" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">get</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l236"></a><span id="l236">        <span class="delimiter">}</span></span>
<a href="l237"></a><span id="l237">      <span class="delimiter">}</span>, filterDuplicates = <a title="Boolean(true)" id="110366" class="keyword">true</a><span class="delimiter">)</span></span>
<a href="l238"></a><span id="l238"></span>
<a href="l239"></a><span id="l239">    <span class="comment">/** simply forwards the current context, element\item specific versions exist that step downwards in document order */</span></span>
<a href="l240"></a><span id="l240">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[Axis.this.T]" id="90700">\</a> : <a href="#10464" title="scales.xml.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l241"></a><span id="l241">      <a href="#90694" title="(xpathInfo: scales.xml.XPathInfo)scales.xml.XPath[Axis.this.T]">newThis</a><span class="delimiter">(</span><a href="#90693" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#90858" title="Iterable[Iterable[scales.xml.package.XmlPath]]" id="110400">copy</a><span class="delimiter">(</span>initialNode = <a title="Boolean(false)" id="110397" class="keyword">false</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l242"></a><span id="l242"></span>
<a href="l243"></a><span id="l243">    <span class="comment">/**</span>
<a href="l244"></a><span id="l244">     * all children unpacked, normal xpath requires the context in E1/E2, which hugely complicates things, so \ is this, \+ is \ in the case where unpacking is needed</span>
<a href="l245"></a><span id="l245">     * which just leavres \* varieties for elements.</span>
<a href="l246"></a><span id="l246">     */</span></span>
<a href="l247"></a><span id="l247">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[Axis.this.T]" id="90701">\+</a> : <a href="#10464" title="scales.xml.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l248"></a><span id="l248">      <a href="#90695" title="(nodes: Iterable[Iterable[scales.xml.package.XmlPath]], performSort: Boolean, filterDuplicates: Boolean)scales.xml.XPath[Axis.this.T]">process</a><span class="delimiter">(</span><a href="#90693" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#90858" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="(f: (Iterable[scales.xml.package.XmlPath]) =&gt; scala.collection.GenTraversableOnce[scales.xml.package.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],scales.xml.package.XmlPath,Iterable[Iterable[scales.xml.package.XmlPath]]])Iterable[Iterable[scales.xml.package.XmlPath]]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]]" class="delimiter">{</span></span>
<a href="l249"></a><span id="l249">        <a href="#110421" title="Iterable[scales.xml.package.XmlPath]">_</a>.<span title="(f: (scales.xml.package.XmlPath) =&gt; scala.collection.GenTraversableOnce[scales.xml.package.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.package.XmlPath],scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]])Iterable[scales.xml.package.XmlPath]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]]" class="delimiter">{</span> <a title="scales.xml.package.XmlPath" id="110438">child</a> =&gt;</span>
<a href="l250"></a><span id="l250">          <span title="Iterable[scales.xml.package.XmlPath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#110438" title="scales.xml.package.XmlPath">child</a>.<a href="../utils/Paths.scala.html#38046" title="=&gt; Boolean">isItem</a><span class="delimiter">)</span> <a href="#90697" title="(only: scales.xml.package.XmlPath)Iterable[scales.xml.package.XmlPath]">just</a><span class="delimiter">(</span><a href="#110438" title="scales.xml.package.XmlPath">child</a><span class="delimiter">)</span></span>
<a href="l251"></a><span id="l251">          <span class="keyword">else</span> <span title="(xs: scales.xml.package.XmlPath*)List[scales.xml.package.XmlPath]">List</span><span class="delimiter">(</span><a href="#110438" title="scales.xml.package.XmlPath">child</a><span class="delimiter">)</span> <span class="comment">//: Iterable[XmlPath] </span></span>
<a href="l252"></a><span id="l252">        <span class="delimiter">}</span></span>
<a href="l253"></a><span id="l253">      <span class="delimiter">}</span><span class="delimiter">)</span></span>
<a href="l254"></a><span id="l254"></span>
<a href="l255"></a><span id="l255">    <span class="comment">/** all descendants */</span></span>
<a href="l256"></a><span id="l256">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[Axis.this.T]" id="90702">\\</a> : <a href="#10464" title="scales.xml.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l257"></a><span id="l257">      <span class="comment">// can't be tail recursive :&lt;</span></span>
<a href="l258"></a><span id="l258">      <span class="comment">//			@scala.annotation.tailrec</span></span>
<a href="l259"></a><span id="l259">      <span class="keyword">def</span> <a title="(xmlPath: Iterable[scales.xml.package.XmlPath])Iterable[scales.xml.package.XmlPath]" id="110503">recUnpack</a><span class="delimiter">(</span><a title="Iterable[scales.xml.package.XmlPath]" id="110504">xmlPath</a>: <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> =</span>
<a href="l260"></a><span id="l260">        <a href="#110504" title="Iterable[scales.xml.package.XmlPath]">xmlPath</a>.<span title="(f: (scales.xml.package.XmlPath) =&gt; scala.collection.GenTraversableOnce[scales.xml.package.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.package.XmlPath],scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]])Iterable[scales.xml.package.XmlPath]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]]" class="delimiter">{</span> <a title="scales.xml.package.XmlPath" id="110521">child</a> =&gt;</span>
<a href="l261"></a><span id="l261">          <span title="Iterable[scales.xml.package.XmlPath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#110521" title="scales.xml.package.XmlPath">child</a>.<a href="../utils/Paths.scala.html#38046" title="=&gt; Boolean">isItem</a><span class="delimiter">)</span> <a href="#90697" title="(only: scales.xml.package.XmlPath)Iterable[scales.xml.package.XmlPath]">just</a><span class="delimiter">(</span><a href="#110521" title="scales.xml.package.XmlPath">child</a><span class="delimiter">)</span> <span class="keyword">else</span> <span class="delimiter">{</span></span>
<a href="l262"></a><span id="l262">            <span class="comment">// child first then its kids</span></span>
<a href="l263"></a><span id="l263">            <a href="#90697" title="(only: scales.xml.package.XmlPath)Iterable[scales.xml.package.XmlPath]">just</a><span class="delimiter">(</span><a href="#110521" title="scales.xml.package.XmlPath">child</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[scales.xml.package.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.package.XmlPath],scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]])Iterable[scales.xml.package.XmlPath]">++</span></span>
<a href="l264"></a><span id="l264">              <a href="#110503" title="(xmlPath: Iterable[scales.xml.package.XmlPath])Iterable[scales.xml.package.XmlPath]">recUnpack</a><span class="delimiter">(</span><a href="#110521" title="scales.xml.package.XmlPath">child</a>: <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">)</span></span>
<a href="l265"></a><span id="l265">          <span class="delimiter">}</span></span>
<a href="l266"></a><span id="l266">        <span class="delimiter">}</span></span>
<a href="l267"></a><span id="l267"></span>
<a href="l268"></a><span id="l268">      <a href="#90695" title="(nodes: Iterable[Iterable[scales.xml.package.XmlPath]], performSort: Boolean, filterDuplicates: Boolean)scales.xml.XPath[Axis.this.T]">process</a><span class="delimiter">(</span></span>
<a href="l269"></a><span id="l269">        <span class="delimiter">(</span><span title="Iterable[Iterable[scales.xml.package.XmlPath]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#90693" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#90861" title="=&gt; Boolean">initialNode</a><span class="delimiter">)</span> <a href="#90693" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#90858" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a> <span class="comment">// crazy initial expression thing 3.2 in http://www.w3.org/TR/xpath20/#id-path-expressions</span></span>
<a href="l270"></a><span id="l270">        <span class="keyword">else</span> List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l271"></a><span id="l271">          <span title="(that: scala.collection.GenTraversableOnce[Iterable[scales.xml.package.XmlPath]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]])Iterable[Iterable[scales.xml.package.XmlPath]]">++</span> <a href="#90693" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#90858" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="(f: (Iterable[scales.xml.package.XmlPath]) =&gt; scala.collection.GenTraversableOnce[scales.xml.package.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]])Iterable[scales.xml.package.XmlPath]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]]" class="delimiter">{</span> <a href="#110503" title="(xmlPath: Iterable[scales.xml.package.XmlPath])Iterable[scales.xml.package.XmlPath]">recUnpack</a><span class="delimiter">(</span><a href="#110647" title="Iterable[scales.xml.package.XmlPath]">_</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span></span>
<a href="l272"></a><span id="l272">    <span class="delimiter">}</span></span>
<a href="l273"></a><span id="l273"></span>
<a href="l274"></a><span id="l274">    <span class="comment">/** filter through the current matches */</span></span>
<a href="l275"></a><span id="l275">    <span class="keyword">def</span> <a title="(pred: (scales.xml.package.XmlPath) =&gt; Boolean)scales.xml.XPath[Axis.this.T]" id="90703">filter</a><span class="delimiter">(</span><a title="(scales.xml.package.XmlPath) =&gt; Boolean" id="110702">pred</a>: XmlPath =&gt; Boolean<span class="delimiter">)</span>: <a href="#10464" title="scales.xml.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l276"></a><span id="l276">      <a href="#90695" title="(nodes: Iterable[Iterable[scales.xml.package.XmlPath]], performSort: Boolean, filterDuplicates: Boolean)scales.xml.XPath[Axis.this.T]">process</a><span class="delimiter">(</span><a href="#90693" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#90858" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="(f: (Iterable[scales.xml.package.XmlPath]) =&gt; scala.collection.GenTraversableOnce[Iterable[scales.xml.package.XmlPath]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]])Iterable[Iterable[scales.xml.package.XmlPath]]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]]" class="delimiter">{</span> <a title="Iterable[scales.xml.package.XmlPath]" id="110714">path</a> =&gt;</span>
<a href="l277"></a><span id="l277">        <span class="keyword">val</span> <a title="Iterable[scales.xml.package.XmlPath]" id="110715">res</a> = <a href="#110714" title="Iterable[scales.xml.package.XmlPath]">path</a>.<span title="(p: (scales.xml.package.XmlPath) =&gt; Boolean)Iterable[scales.xml.package.XmlPath]">filter</span><span class="delimiter">(</span><a href="#110702" title="(scales.xml.package.XmlPath) =&gt; Boolean">pred</a><span class="delimiter">)</span></span>
<a href="l278"></a><span id="l278">        <span title="List[Iterable[scales.xml.package.XmlPath]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#110715" title="Iterable[scales.xml.package.XmlPath]">res</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l279"></a><span id="l279">        <span class="keyword">else</span> <span title="(xs: Iterable[scales.xml.package.XmlPath]*)List[Iterable[scales.xml.package.XmlPath]]">List</span><span class="delimiter">(</span><a href="#110715" title="Iterable[scales.xml.package.XmlPath]">res</a><span class="delimiter">)</span></span>
<a href="l280"></a><span id="l280">      <span class="delimiter">}</span><span class="delimiter">)</span></span>
<a href="l281"></a><span id="l281"></span>
<a href="l282"></a><span id="l282">    <span class="comment">/** all children with the given predicate */</span></span>
<a href="l283"></a><span id="l283">    <span class="keyword">def</span> <a title="(pred: (scales.xml.package.XmlPath) =&gt; Boolean)scales.xml.XPath[Axis.this.T]" id="90704">node</a><span class="delimiter">(</span><a title="(scales.xml.package.XmlPath) =&gt; Boolean" id="110764">pred</a>: XmlPath =&gt; Boolean<span class="delimiter">)</span>: <a href="#10464" title="scales.xml.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l284"></a><span id="l284">      <a href="#90695" title="(nodes: Iterable[Iterable[scales.xml.package.XmlPath]], performSort: Boolean, filterDuplicates: Boolean)scales.xml.XPath[Axis.this.T]">process</a><span class="delimiter">(</span><a href="#90693" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#90858" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="(f: (Iterable[scales.xml.package.XmlPath]) =&gt; scala.collection.GenTraversableOnce[scales.xml.package.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],scales.xml.package.XmlPath,Iterable[Iterable[scales.xml.package.XmlPath]]])Iterable[Iterable[scales.xml.package.XmlPath]]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]]" class="delimiter">{</span> <a title="Iterable[scales.xml.package.XmlPath]" id="110776">x</a> =&gt;</span>
<a href="l285"></a><span id="l285">        <a href="#110776" title="Iterable[scales.xml.package.XmlPath]">x</a>.<span title="(p: (scales.xml.package.XmlPath) =&gt; Boolean)Iterable[scales.xml.package.XmlPath]">filter</span><span class="delimiter">(</span><a href="#110764" title="(v1: scales.xml.package.XmlPath)Boolean">pred</a><span class="delimiter">(</span><a href="#110780" title="scales.xml.package.XmlPath">_</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l286"></a><span id="l286">      <span class="delimiter">}</span><span class="delimiter">)</span></span>
<a href="l287"></a><span id="l287"></span>
<a href="l288"></a><span id="l288">  <span class="delimiter">}</span></span>
<a href="l289"></a><span id="l289"></span>
<a href="l290"></a><span id="l290">  <span class="comment">/**</span>
<a href="l291"></a><span id="l291">   * Unlike XPath spec no reverse axis are directly provided by the dsl</span>
<a href="l292"></a><span id="l292">   */</span></span>
<a href="l293"></a><span id="l293">  <span class="keyword">trait</span> <a title="trait SiblingsAxis extends java.lang.Object with XmlPaths.this.Axis" id="10992">SiblingsAxis</a> <span class="keyword">extends</span> <a href="#10991" title="XmlPaths.this.Axis">Axis</a> <span class="delimiter">{</span></span>
<a href="l294"></a><span id="l294"></span>
<a href="l295"></a><span id="l295">    <span class="comment">/**</span>
<a href="l296"></a><span id="l296">     * Unlike XPath spec returns all children in document order</span>
<a href="l297"></a><span id="l297">     * /</span>
<a href="l298"></a><span id="l298">     * def preceding_sibling_:: : XPath[T] =</span>
<a href="l299"></a><span id="l299">     * process(path.nodes.flatMap{ path =&gt;</span>
<a href="l300"></a><span id="l300">     * // each preceding</span>
<a href="l301"></a><span id="l301">     * val pos = path.node.index</span>
<a href="l302"></a><span id="l302">     * path.zipUp.splitAt(pos)._1</span>
<a href="l303"></a><span id="l303">     * })</span>
<a href="l304"></a><span id="l304">     *</span>
<a href="l305"></a><span id="l305">     * def following_sibling_:: : XPath[T] =</span>
<a href="l306"></a><span id="l306">     * process(path.nodes.flatMap{ path =&gt;</span>
<a href="l307"></a><span id="l307">     * // each preceding</span>
<a href="l308"></a><span id="l308">     * val pos = path.node.index</span>
<a href="l309"></a><span id="l309">     * path.zipUp.splitAt(pos)._2.drop(1)</span>
<a href="l310"></a><span id="l310">     * })</span>
<a href="l311"></a><span id="l311">     *</span>
<a href="l312"></a><span id="l312">     * //filter(_.hasPreviousSibling == false))</span>
<a href="l313"></a><span id="l313">     */</span></span>
<a href="l314"></a><span id="l314">    <span class="comment">/**</span>
<a href="l315"></a><span id="l315">     * predicates are in reverse doc order</span>
<a href="l316"></a><span id="l316">     */</span></span>
<a href="l317"></a><span id="l317">    <span class="comment">//def preceding_sibling( pred )</span></span>
<a href="l318"></a><span id="l318">  <span class="delimiter">}</span></span>
<a href="l319"></a><span id="l319"></span>
<a href="l320"></a><span id="l320">  <span class="comment">/** The * and @ must be swapped otherwise its an annotation */</span></span>
<a href="l321"></a><span id="l321">  <span class="keyword">trait</span> <a title="trait AttributeAxis extends java.lang.Object with XmlPaths.this.Axis with ScalaObject" id="10993">AttributeAxis</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10991" title="XmlPaths.this.Axis">Axis</a> <span class="delimiter">{</span></span>
<a href="l322"></a><span id="l322"></span>
<a href="l323"></a><span id="l323">    <span class="comment">/** All immediate attributes */</span></span>
<a href="l324"></a><span id="l324">    <span class="keyword">def</span> <a title="=&gt; Iterable[scales.xml.AttributePath]" id="90740">*@</a> : <span title="Iterable[scales.xml.AttributePath]">Iterable</span><span class="delimiter">[</span>AttributePath<span class="delimiter">]</span> =</span>
<a href="l325"></a><span id="l325">      <a href="#90693" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#90858" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="(f: (Iterable[scales.xml.package.XmlPath]) =&gt; scala.collection.GenTraversableOnce[scales.xml.AttributePath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],scales.xml.AttributePath,Iterable[scales.xml.AttributePath]])Iterable[scales.xml.AttributePath]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.AttributePath,Iterable[scales.xml.AttributePath]]" class="delimiter">{</span></span>
<a href="l326"></a><span id="l326">        <a href="#110832" title="Iterable[scales.xml.package.XmlPath]">_</a>.<span title="(f: (scales.xml.package.XmlPath) =&gt; scala.collection.GenTraversableOnce[scales.xml.AttributePath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.package.XmlPath],scales.xml.AttributePath,Iterable[scales.xml.AttributePath]])Iterable[scales.xml.AttributePath]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.AttributePath,Iterable[scales.xml.AttributePath]]" class="delimiter">{</span> <a title="scales.xml.package.XmlPath" id="110849">child</a> =&gt; <span class="comment">// we are looking only for immediate attribs, not kids</span></span>
<a href="l327"></a><span id="l327">          <span title="Iterable[scales.xml.AttributePath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#110849" title="scales.xml.package.XmlPath">child</a>.<a href="../utils/Paths.scala.html#38046" title="=&gt; Boolean">isItem</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l328"></a><span id="l328">          <span class="keyword">else</span> <a href="#110849" title="scales.xml.package.XmlPath">child</a>.<a href="../utils/Paths.scala.html#38051" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67674" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88524" title="=&gt; scales.xml.package.Attributes">attributes</a>.<span title="(f: (scales.xml.Attribute) =&gt; scales.xml.AttributePath)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.Attribute],scales.xml.AttributePath,Iterable[scales.xml.AttributePath]])Iterable[scales.xml.AttributePath]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.AttributePath,Iterable[scales.xml.AttributePath]]" class="delimiter">{</span> <a title="scales.xml.Attribute" id="110885">x</a> =&gt;</span>
<a href="l329"></a><span id="l329">            <a href="#115102" title="(attribute: scales.xml.Attribute, parent: scales.xml.package.XmlPath)scales.xml.AttributePath">AttributePath</a><span class="delimiter">(</span><a href="#110885" title="scales.xml.Attribute">x</a>, <a href="#110849" title="scales.xml.package.XmlPath">child</a><span class="delimiter">)</span>;</span>
<a href="l330"></a><span id="l330">          <span class="delimiter">}</span></span>
<a href="l331"></a><span id="l331">        <span class="delimiter">}</span></span>
<a href="l332"></a><span id="l332">      <span class="delimiter">}</span></span>
<a href="l333"></a><span id="l333"></span>
<a href="l334"></a><span id="l334">    <span class="comment">/** Search for all immediate attributes with a matching predicate (allows localName only searches for example) */</span></span>
<a href="l335"></a><span id="l335">    <span class="keyword">def</span> <a title="(pred: (scales.xml.AttributePath) =&gt; Boolean)Iterable[scales.xml.AttributePath]" id="90741">*@</a><span class="delimiter">(</span><a title="(scales.xml.AttributePath) =&gt; Boolean" id="110967">pred</a>: AttributePath =&gt; Boolean<span class="delimiter">)</span>: <span title="Iterable[scales.xml.AttributePath]">Iterable</span><span class="delimiter">[</span>AttributePath<span class="delimiter">]</span> =</span>
<a href="l336"></a><span id="l336">      <a href="#90740" title="=&gt; Iterable[scales.xml.AttributePath]">*@</a>.<span title="(p: (scales.xml.AttributePath) =&gt; Boolean)Iterable[scales.xml.AttributePath]">filter</span> <span class="delimiter">{</span> <a href="#110967" title="(v1: scales.xml.AttributePath)Boolean">pred</a><span class="delimiter">(</span><a href="#110991" title="scales.xml.AttributePath">_</a><span class="delimiter">)</span> <span class="delimiter">}</span></span>
<a href="l337"></a><span id="l337"></span>
<a href="l338"></a><span id="l338">    <span class="comment">/** Special case for AttributeQNames, only local and namespace match */</span></span>
<a href="l339"></a><span id="l339">    <span class="keyword">def</span> <a title="[T](attrQname: T)(implicit evidence$1: (T) =&gt; scales.xml.package.AttributeQName)Iterable[scales.xml.AttributePath]" id="110976">*@</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="90744">T</a> &lt;% AttributeQName<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="110975">attrQname</a>: <a href="#90744" title="T">T</a><span class="delimiter">)</span>: <span title="Iterable[scales.xml.AttributePath]">Iterable</span><span class="delimiter">[</span>AttributePath<span class="delimiter">]</span> =</span>
<a href="l340"></a><span id="l340">      <a href="#90741" title="(pred: (scales.xml.AttributePath) =&gt; Boolean)Iterable[scales.xml.AttributePath]">*@</a><span class="delimiter">(</span><span class="delimiter">{</span> attributePath: <a href="#115102" title="scales.xml.AttributePath">AttributePath</a> =&gt; <a href="XmlTypes.scala.html#87895" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">toQName</a><span class="delimiter">(</span><a href="#111011" title="scales.xml.AttributePath">attributePath</a>.<a href="#110886" title="=&gt; scales.xml.Attribute">attribute</a>.<a href="XmlTypes.scala.html#87983" title="=&gt; scales.xml.package.AttributeQName">name</a><span class="delimiter">)</span> <a href="QName.scala.html#88027" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="XmlTypes.scala.html#87895" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">toQName</a><span class="delimiter">(</span><a href="#110976" title="(v1: T)scales.xml.package.AttributeQName">attrQname</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span></span>
<a href="l341"></a><span id="l341"></span>
<a href="l342"></a><span id="l342">    <span class="comment">/** Loose match for UnprefixedQNames only, only matches local and namespace */</span></span>
<a href="l343"></a><span id="l343">    <span class="keyword">def</span> <a title="(qname: scales.xml.UnprefixedQName)Iterable[scales.xml.AttributePath]" id="90745">*@</a><span class="delimiter">(</span><a title="scales.xml.UnprefixedQName" id="110973">qname</a>: <a href="QName.scala.html#10373" title="scales.xml.UnprefixedQName">UnprefixedQName</a><span class="delimiter">)</span>: <span title="Iterable[scales.xml.AttributePath]">Iterable</span><span class="delimiter">[</span>AttributePath<span class="delimiter">]</span> =</span>
<a href="l344"></a><span id="l344">      <a href="#90741" title="(pred: (scales.xml.AttributePath) =&gt; Boolean)Iterable[scales.xml.AttributePath]">*@</a><span class="delimiter">(</span><span class="delimiter">{</span> attributePath: <a href="#115102" title="scales.xml.AttributePath">AttributePath</a> =&gt; <a href="XmlTypes.scala.html#87895" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">toQName</a><span class="delimiter">(</span><a href="#111054" title="scales.xml.AttributePath">attributePath</a>.<a href="#110886" title="=&gt; scales.xml.Attribute">attribute</a>.<a href="XmlTypes.scala.html#87983" title="=&gt; scales.xml.package.AttributeQName">name</a><span class="delimiter">)</span> <a href="QName.scala.html#88027" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#110973" title="scales.xml.UnprefixedQName">qname</a> <span class="delimiter">}</span><span class="delimiter">)</span></span>
<a href="l345"></a><span id="l345"></span>
<a href="l346"></a><span id="l346">  <span class="delimiter">}</span></span>
<a href="l347"></a><span id="l347"></span>
<a href="l348"></a><span id="l348">  <span class="keyword">trait</span> <a title="trait ElementStep extends java.lang.Object with XmlPaths.this.Axis with ScalaObject" id="10994">ElementStep</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10991" title="XmlPaths.this.Axis">Axis</a> <span class="delimiter">{</span></span>
<a href="l349"></a><span id="l349"></span>
<a href="l350"></a><span id="l350">    <span class="comment">/** all element children */</span></span>
<a href="l351"></a><span id="l351">    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[ElementStep.this.T]" id="90706">\*-</a> : <a href="#10464" title="scales.xml.XPath[ElementStep.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l352"></a><span id="l352">      <a href="#90695" title="(nodes: Iterable[Iterable[scales.xml.package.XmlPath]], performSort: Boolean, filterDuplicates: Boolean)scales.xml.XPath[ElementStep.this.T]">process</a><span class="delimiter">(</span><a href="#90693" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#90858" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="(f: (Iterable[scales.xml.package.XmlPath]) =&gt; scala.collection.GenTraversableOnce[scales.xml.package.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],scales.xml.package.XmlPath,Iterable[Iterable[scales.xml.package.XmlPath]]])Iterable[Iterable[scales.xml.package.XmlPath]]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]]" class="delimiter">{</span></span>
<a href="l353"></a><span id="l353">        <a href="#111093" title="Iterable[scales.xml.package.XmlPath]">_</a>.<span title="(f: (scales.xml.package.XmlPath) =&gt; scala.collection.GenTraversableOnce[scales.xml.package.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.package.XmlPath],scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]])Iterable[scales.xml.package.XmlPath]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]]" class="delimiter">{</span> <a title="scales.xml.package.XmlPath" id="111110">child</a> =&gt;</span>
<a href="l354"></a><span id="l354">          <span title="Iterable[scales.xml.package.XmlPath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#111110" title="scales.xml.package.XmlPath">child</a>.<a href="../utils/Paths.scala.html#38046" title="=&gt; Boolean">isItem</a><span class="delimiter">)</span> <a href="#90696" title="=&gt; Iterable[scales.xml.package.XmlPath]">empty</a></span>
<a href="l355"></a><span id="l355">          <span class="keyword">else</span> <span title="(xs: scales.xml.package.XmlPath*)List[scales.xml.package.XmlPath]">List</span><span class="delimiter">(</span><a href="#111110" title="scales.xml.package.XmlPath">child</a><span class="delimiter">)</span> <span class="comment">//: Iterable[XmlPath] </span></span>
<a href="l356"></a><span id="l356">        <span class="delimiter">}</span></span>
<a href="l357"></a><span id="l357">      <span class="delimiter">}</span><span class="delimiter">)</span></span>
<a href="l358"></a><span id="l358"></span>
<a href="l359"></a><span id="l359">    <span class="comment">/** Search for all immediate child elements with a matching qname */</span></span>
<a href="l360"></a><span id="l360">    <span class="keyword">def</span> <a title="(qname: scales.xml.QName)scales.xml.XPath[ElementStep.this.T]" id="90707">*</a><span class="delimiter">(</span><a title="scales.xml.QName" id="111172">qname</a>: <a href="QName.scala.html#10365" title="scales.xml.QName">QName</a><span class="delimiter">)</span>: <a href="#10464" title="scales.xml.XPath[ElementStep.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#90703" title="(pred: (scales.xml.package.XmlPath) =&gt; Boolean)scales.xml.XPath[ElementStep.this.T]">filter</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="111175">x</a> =&gt; <a href="#111175" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#38046" title="=&gt; Boolean">isItem</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(false)" class="keyword">false</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#111172" title="scales.xml.QName">qname</a> <a href="QName.scala.html#88027" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#111175" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#38051" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67674" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88523" title="=&gt; scales.xml.QName">name</a><span class="delimiter">)</span></span>
<a href="l361"></a><span id="l361"></span>
<a href="l362"></a><span id="l362">    <span class="keyword">def</span> <a title="(qname: scales.xml.QName)scales.xml.XPath[ElementStep.this.T]" id="90708">\*</a><span class="delimiter">(</span><a title="scales.xml.QName" id="111186">qname</a>: <a href="QName.scala.html#10365" title="scales.xml.QName">QName</a><span class="delimiter">)</span>: <a href="#10464" title="scales.xml.XPath[ElementStep.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#90706" title="=&gt; scales.xml.XPath[ElementStep.this.T]">\*-</a>.<a href="#90707" title="(qname: scales.xml.QName)scales.xml.XPath[ElementStep.this.T]">*</a><span class="delimiter">(</span><a href="#111186" title="scales.xml.QName">qname</a><span class="delimiter">)</span></span>
<a href="l363"></a><span id="l363"></span>
<a href="l364"></a><span id="l364">    <span class="comment">/** Search for all immediate child elements matching the predicate*/</span></span>
<a href="l365"></a><span id="l365">    <span class="keyword">def</span> <a title="(pred: (scales.xml.package.XmlPath) =&gt; Boolean)scales.xml.XPath[ElementStep.this.T]" id="90709">*</a><span class="delimiter">(</span><a title="(scales.xml.package.XmlPath) =&gt; Boolean" id="111198">pred</a>: XmlPath =&gt; Boolean<span class="delimiter">)</span>: <a href="#10464" title="scales.xml.XPath[ElementStep.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#90703" title="(pred: (scales.xml.package.XmlPath) =&gt; Boolean)scales.xml.XPath[ElementStep.this.T]">filter</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="111209">x</a> =&gt; <a href="#111209" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#38046" title="=&gt; Boolean">isItem</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(false)" class="keyword">false</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#111198" title="(v1: scales.xml.package.XmlPath)Boolean">pred</a><span class="delimiter">(</span><a href="#111209" title="scales.xml.package.XmlPath">x</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l366"></a><span id="l366"></span>
<a href="l367"></a><span id="l367">    <span class="keyword">def</span> <a title="(pred: (scales.xml.package.XmlPath) =&gt; Boolean)scales.xml.XPath[ElementStep.this.T]" id="90710">\*</a><span class="delimiter">(</span><a title="(scales.xml.package.XmlPath) =&gt; Boolean" id="111220">pred</a>: XmlPath =&gt; Boolean<span class="delimiter">)</span>: <a href="#10464" title="scales.xml.XPath[ElementStep.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#90706" title="=&gt; scales.xml.XPath[ElementStep.this.T]">\*-</a>.<a href="#90709" title="(pred: (scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]) =&gt; Boolean)scales.xml.XPath[ElementStep.this.T]">*</a><span class="delimiter">(</span><a href="#111220" title="(scales.xml.package.XmlPath) =&gt; Boolean">pred</a><span class="delimiter">)</span></span>
<a href="l368"></a><span id="l368"></span>
<a href="l369"></a><span id="l369">    <span class="comment">/** Immediate child with position pos, should only be an element. NOTE this will always be evaluated in place and is 1 indexed */</span></span>
<a href="l370"></a><span id="l370">    <span class="keyword">def</span> <a title="(pos: Int)scales.xml.XPath[ElementStep.this.T]" id="90711">*</a><span class="delimiter">(</span><a title="Int" id="111194">pos</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#10464" title="scales.xml.XPath[ElementStep.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l371"></a><span id="l371">      <span class="keyword">val</span> <a title="Iterable[Iterable[scales.xml.package.XmlPath]]" id="111231">res</a> = <a href="#90693" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#90858" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="(f: (Iterable[scales.xml.package.XmlPath]) =&gt; scala.collection.GenTraversableOnce[Iterable[scales.xml.package.XmlPath]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]])Iterable[Iterable[scales.xml.package.XmlPath]]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]]" class="delimiter">{</span> <a title="Iterable[scales.xml.package.XmlPath]" id="111248">path</a> =&gt;</span>
<a href="l372"></a><span id="l372">        <span class="keyword">val</span> <a title="Iterable[scales.xml.package.XmlPath]" id="111249">n</a> = <a href="#111248" title="Iterable[scales.xml.package.XmlPath]">path</a>.<span title="(p: (scales.xml.package.XmlPath) =&gt; Boolean)Iterable[scales.xml.package.XmlPath]">filter</span><span class="delimiter">(</span><a href="#111253" title="scales.xml.package.XmlPath">_</a>.<a href="../utils/Paths.scala.html#38046" title="=&gt; Boolean">isItem</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<span title="(n: Int)Iterable[scales.xml.package.XmlPath]">take</span><span class="delimiter">(</span><a href="#111194" title="Int">pos</a><span class="delimiter">)</span></span>
<a href="l373"></a><span id="l373">        <span title="Iterable[Iterable[scales.xml.package.XmlPath]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#111249" title="Iterable[scales.xml.package.XmlPath]">n</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">!=</span> <a href="#111194" title="Int">pos</a><span class="delimiter">)</span> <a href="#90696" title="=&gt; Iterable[scales.xml.package.XmlPath]">empty</a></span>
<a href="l374"></a><span id="l374">        <span class="keyword">else</span> <span title="(xs: Iterable[scales.xml.package.XmlPath]*)List[Iterable[scales.xml.package.XmlPath]]">List</span><span class="delimiter">(</span><a href="#90697" title="(only: scales.xml.package.XmlPath)Iterable[scales.xml.package.XmlPath]">just</a><span class="delimiter">(</span><a href="#111249" title="Iterable[scales.xml.package.XmlPath]">n</a>.<span title="=&gt; scales.xml.package.XmlPath">last</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l375"></a><span id="l375">      <span class="delimiter">}</span></span>
<a href="l376"></a><span id="l376">      <a href="#90695" title="(nodes: Iterable[Iterable[scales.xml.package.XmlPath]], performSort: Boolean, filterDuplicates: Boolean)scales.xml.XPath[ElementStep.this.T]">process</a><span class="delimiter">(</span><a href="#111231" title="Iterable[Iterable[scales.xml.package.XmlPath]]">res</a><span class="delimiter">)</span></span>
<a href="l377"></a><span id="l377">    <span class="delimiter">}</span></span>
<a href="l378"></a><span id="l378"></span>
<a href="l379"></a><span id="l379">    <span class="keyword">def</span> <a title="(pos: Int)scales.xml.XPath[ElementStep.this.T]" id="90712">\*</a><span class="delimiter">(</span><a title="Int" id="114568">pos</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#10464" title="scales.xml.XPath[ElementStep.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#90706" title="=&gt; scales.xml.XPath[ElementStep.this.T]">\*-</a>.<a href="#90711" title="(pos: Int)scales.xml.XPath[ElementStep.this.T]">*</a><span class="delimiter">(</span><a href="#114568" title="Int">pos</a><span class="delimiter">)</span></span>
<a href="l380"></a><span id="l380"></span>
<a href="l381"></a><span id="l381">    <span class="comment">/** all child elements */</span></span>
<a href="l382"></a><span id="l382">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[ElementStep.this.T]" id="90713">*</a> : <a href="#10464" title="scales.xml.XPath[ElementStep.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l383"></a><span id="l383">      <a href="#90703" title="(pred: (scales.xml.package.XmlPath) =&gt; Boolean)scales.xml.XPath[ElementStep.this.T]">filter</a><span class="delimiter">(</span><a href="#114576" title="scales.xml.package.XmlPath">_</a>.<a href="../utils/Paths.scala.html#38046" title="=&gt; Boolean">isItem</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span></span>
<a href="l384"></a><span id="l384">    <span class="comment">//process(path.nodes.flatMap{ _.filter(_.isItem == false) })</span></span>
<a href="l385"></a><span id="l385"></span>
<a href="l386"></a><span id="l386">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[ElementStep.this.T]" id="90714">\*</a> : <a href="#10464" title="scales.xml.XPath[ElementStep.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#90706" title="=&gt; scales.xml.XPath[ElementStep.this.T]">\*-</a>.<a href="#90713" title="=&gt; scales.xml.XPath[ElementStep.this.T]">*</a></span>
<a href="l387"></a><span id="l387">  <span class="delimiter">}</span></span>
<a href="l388"></a><span id="l388"></span>
<a href="l389"></a><span id="l389">  <span class="comment">/**</span>
<a href="l390"></a><span id="l390">   * Little depature from standard, rather than duplicate all of the \ and \\ nodes, just a simple \\*() comment() will do</span>
<a href="l391"></a><span id="l391">   *</span>
<a href="l392"></a><span id="l392">   * NOTE these have a large performance hit as the must sort and filter the results in order to get doc order.  Better to use specific nodes</span>
<a href="l393"></a><span id="l393">   * avoiding \\ etc, then use the s for simple functions, sutext etc for simple useful.  Additionally using the non simple versions incurs the cost</span>
<a href="l394"></a><span id="l394">   * of adding adjacent text node processing as per standard datamodel (all adjacent text nodes are joined and any resulting nodes that are &quot;the zero-length string&quot; '' are removed).</span>
<a href="l395"></a><span id="l395">   *</span>
<a href="l396"></a><span id="l396">   * TODO xpath adjacent text node handling</span>
<a href="l397"></a><span id="l397">   *</span>
<a href="l398"></a><span id="l398">   * @author Chris</span>
<a href="l399"></a><span id="l399">   *</span>
<a href="l400"></a><span id="l400">   */</span></span>
<a href="l401"></a><span id="l401">  <span class="keyword">trait</span> <a title="trait OtherNodeTypes extends java.lang.Object with XmlPaths.this.Axis with ScalaObject" id="10995">OtherNodeTypes</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10991" title="XmlPaths.this.Axis">Axis</a> <span class="delimiter">{</span></span>
<a href="l402"></a><span id="l402">    <span class="comment">/** all text child elements - not including cdata nodes, neither sorted nor dup filtered */</span></span>
<a href="l403"></a><span id="l403">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[OtherNodeTypes.this.T]" id="90734">textOnly</a>: <a href="#10464" title="scales.xml.XPath[OtherNodeTypes.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l404"></a><span id="l404">      <a href="#90703" title="(pred: (scales.xml.package.XmlPath) =&gt; Boolean)scales.xml.XPath[OtherNodeTypes.this.T]">filter</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="114593">x</a> =&gt; <a href="#114593" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#38046" title="=&gt; Boolean">isItem</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(true)" class="keyword">true</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#114593" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#38052" title="()scales.xml.XmlItem">item</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="XmlTypes.scala.html#10563" title="scales.xml.Text">Text</a><span class="delimiter">]</span><span class="delimiter">)</span></span>
<a href="l405"></a><span id="l405"></span>
<a href="l406"></a><span id="l406">    <span class="comment">/** all text child elements - xpath standard way, including cdata nodes, filtered to join adjacent text nodes */</span></span>
<a href="l407"></a><span id="l407">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[OtherNodeTypes.this.T]" id="90735">text</a>: <a href="#10464" title="scales.xml.XPath[OtherNodeTypes.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l408"></a><span id="l408">      <a href="#90703" title="(pred: (scales.xml.package.XmlPath) =&gt; Boolean)scales.xml.XPath[OtherNodeTypes.this.T]">filter</a><span class="delimiter">(</span><a href="#10980" title="=&gt; (scales.xml.package.XmlPath) =&gt; Boolean">isText</a><span class="delimiter">)</span></span>
<a href="l409"></a><span id="l409"></span>
<a href="l410"></a><span id="l410">    <span class="comment">/** all cdata child elements */</span></span>
<a href="l411"></a><span id="l411">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[OtherNodeTypes.this.T]" id="90736">cdata</a>: <a href="#10464" title="scales.xml.XPath[OtherNodeTypes.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l412"></a><span id="l412">      <a href="#90703" title="(pred: (scales.xml.package.XmlPath) =&gt; Boolean)scales.xml.XPath[OtherNodeTypes.this.T]">filter</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="114609">x</a> =&gt; <a href="#114609" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#38046" title="=&gt; Boolean">isItem</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(true)" class="keyword">true</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#114609" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#38052" title="()scales.xml.XmlItem">item</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="XmlTypes.scala.html#10569" title="scales.xml.CData">CData</a><span class="delimiter">]</span><span class="delimiter">)</span></span>
<a href="l413"></a><span id="l413"></span>
<a href="l414"></a><span id="l414">    <span class="comment">/** all commnent child elements */</span></span>
<a href="l415"></a><span id="l415">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[OtherNodeTypes.this.T]" id="90737">comment</a>: <a href="#10464" title="scales.xml.XPath[OtherNodeTypes.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l416"></a><span id="l416">      <a href="#90703" title="(pred: (scales.xml.package.XmlPath) =&gt; Boolean)scales.xml.XPath[OtherNodeTypes.this.T]">filter</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="114622">x</a> =&gt; <a href="#114622" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#38046" title="=&gt; Boolean">isItem</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(true)" class="keyword">true</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#114622" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#38052" title="()scales.xml.XmlItem">item</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="XmlTypes.scala.html#10566" title="scales.xml.Comment">Comment</a><span class="delimiter">]</span><span class="delimiter">)</span></span>
<a href="l417"></a><span id="l417"></span>
<a href="l418"></a><span id="l418">    <span class="comment">/** all pi child elements */</span></span>
<a href="l419"></a><span id="l419">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[OtherNodeTypes.this.T]" id="90738">pi</a>: <a href="#10464" title="scales.xml.XPath[OtherNodeTypes.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l420"></a><span id="l420">      <a href="#90703" title="(pred: (scales.xml.package.XmlPath) =&gt; Boolean)scales.xml.XPath[OtherNodeTypes.this.T]">filter</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="114635">x</a> =&gt; <a href="#114635" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#38046" title="=&gt; Boolean">isItem</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(true)" class="keyword">true</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#114635" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#38052" title="()scales.xml.XmlItem">item</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="XmlTypes.scala.html#10572" title="scales.xml.PI">PI</a><span class="delimiter">]</span><span class="delimiter">)</span></span>
<a href="l421"></a><span id="l421">  <span class="delimiter">}</span></span>
<a href="l422"></a><span id="l422"></span>
<a href="l423"></a><span id="l423"><span class="delimiter">}</span></span>
<a href="l424"></a><span id="l424"></span>
<a href="l425"></a><span id="l425"><span class="comment">/**</span>
<a href="l426"></a><span id="l426"> * In contrast to the specs reverse axis are not supported.  This puts</span>
<a href="l427"></a><span id="l427"> * an extra effort on the user for translating, but I don't agree with</span>
<a href="l428"></a><span id="l428"> * the design anyway.  It adds both ambiguity for an embedded dsl:</span>
<a href="l429"></a><span id="l429"> *</span>
<a href="l430"></a><span id="l430"> * //a:ShouldRedeclare/../text()[5]/preceding-sibling::text()[1]</span>
<a href="l431"></a><span id="l431"> *</span>
<a href="l432"></a><span id="l432"> * is in reverse order (above is previousSibling in Path), whereas</span>
<a href="l433"></a><span id="l433"> *</span>
<a href="l434"></a><span id="l434"> * (//a:ShouldRedeclare/../text()[5]/preceding-sibling::text())[1]</span>
<a href="l435"></a><span id="l435"> *</span>
<a href="l436"></a><span id="l436"> * is in doc order (the first text child of the parent).  Such an arbritary decision does nothing but irritate.  A simpler design as found in this implementation is that the user can simply use full scala data functions to reverse as needed.</span>
<a href="l437"></a><span id="l437"> *</span>
<a href="l438"></a><span id="l438"> * (Temptation is to provide the base type as SeqLike instead of Iterable as it should be in a sequence with a defined order, also then providing .reverse and friends)</span>
<a href="l439"></a><span id="l439"> */</span></span>
<a href="l440"></a><span id="l440"><span class="keyword">class</span> <a title="class XPath[PT] extends java.lang.Object with scales.xml.package.ElementStep with scales.xml.package.OtherNodeTypes with scales.xml.package.AttributeAxis with scales.xml.package.SiblingsAxis with ScalaObject" id="10464">XPath</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="10465">PT</a> &lt;% Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">val</span> <a title="scales.xml.XPathInfo" id="90842">path</a>: <a href="#115084" title="scales.xml.XPathInfo">XPathInfo</a>, <span class="keyword">val</span> <a title="scala.collection.generic.CanBuildFrom[PT,scales.xml.package.XmlPath,PT]" id="90843">cbf</a>: <span title="scala.collection.generic.CanBuildFrom[PT,scales.xml.package.XmlPath,PT]">CanBuildFrom</span><span class="delimiter">[</span>PT, XmlPath, PT<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10994" title="scales.xml.package.ElementStep">ElementStep</a> <span class="keyword">with</span> <a href="#10995" title="scales.xml.package.OtherNodeTypes">OtherNodeTypes</a> <span class="keyword">with</span> <a href="#10993" title="scales.xml.package.AttributeAxis">AttributeAxis</a> <span class="keyword">with</span> <a href="#10992" title="scales.xml.package.SiblingsAxis">SiblingsAxis</a> <span class="delimiter">{</span></span>
<a href="l441"></a><span id="l441"></span>
<a href="l442"></a><span id="l442">  <span class="keyword">type</span> <a title="PT" id="90724">T</a> = <a href="#10465" title="PT">PT</a></span>
<a href="l443"></a><span id="l443"></span>
<a href="l444"></a><span id="l444">  <span class="keyword">def</span> <a title="(xpathInfo: scales.xml.XPathInfo)scales.xml.XPath[XPath.this.T]" id="90725">newThis</a><span class="delimiter">(</span><a title="scales.xml.XPathInfo" id="114650">xpathInfo</a>: <a href="#115084" title="scales.xml.XPathInfo">XPathInfo</a><span class="delimiter">)</span>: <a href="#10464" title="scales.xml.XPath[XPath.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l445"></a><span id="l445">    <a href="#90722" title="scales.xml.XPath[XPath.this.T]" class="keyword">new</a> <a href="#10464" title="scales.xml.XPath[XPath.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#114650" title="scales.xml.XPathInfo">xpathInfo</a>, <a href="#90843" title="=&gt; scala.collection.generic.CanBuildFrom[PT,scales.xml.package.XmlPath,PT]">cbf</a><span class="delimiter">)</span></span>
<a href="l446"></a><span id="l446"></span>
<a href="l447"></a><span id="l447">  <span class="keyword">def</span> <a title="=&gt; Iterable[scales.xml.package.XmlPath]" id="90726">empty</a>: <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> = <a href="#90843" title="()scala.collection.mutable.Builder[scales.xml.package.XmlPath,PT]">cbf</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="#90722" title="(v1: PT)Iterable[scales.xml.package.XmlPath]">result</a></span>
<a href="l448"></a><span id="l448">  <span class="keyword">def</span> <a title="(only: scales.xml.package.XmlPath)Iterable[scales.xml.package.XmlPath]" id="90727">just</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="114746">only</a>: <a href="../utils/Paths.scala.html#9093" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span>: <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> = <span class="delimiter">(</span><a href="#90843" title="()scala.collection.mutable.Builder[scales.xml.package.XmlPath,PT]">cbf</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(elem: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]])scala.collection.mutable.Builder[scales.xml.package.XmlPath,PT]">+=</span> <a href="#114746" title="scales.xml.package.XmlPath">only</a><span class="delimiter">)</span>.<a href="#90722" title="(v1: PT)Iterable[scales.xml.package.XmlPath]">result</a></span>
<a href="l449"></a><span id="l449"></span>
<a href="l450"></a><span id="l450">  <span class="comment">/**</span>
<a href="l451"></a><span id="l451">   * Allow working within the XPath, easily extend and test</span>
<a href="l452"></a><span id="l452">   */</span></span>
<a href="l453"></a><span id="l453">  <span class="keyword">def</span> <a title="(f: (scales.xml.XPath[XPath.this.T]) =&gt; scales.xml.XPath[XPath.this.T])scales.xml.XPath[XPath.this.T]" id="90728">in</a><span class="delimiter">(</span><a title="(scales.xml.XPath[XPath.this.T]) =&gt; scales.xml.XPath[XPath.this.T]" id="114851">f</a>: <span class="delimiter">(</span>XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#10464" title="scales.xml.XPath[XPath.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l454"></a><span id="l454">    <a href="#114851" title="(v1: scales.xml.XPath[XPath.this.T])scales.xml.XPath[XPath.this.T]">f</a><span class="delimiter">(</span><a href="#10464" title="scales.xml.XPath[PT]" class="keyword">this</a><span class="delimiter">)</span></span>
<a href="l455"></a><span id="l455"></span>
<a href="l456"></a><span id="l456">  <span class="comment">/**</span>
<a href="l457"></a><span id="l457">   * Allow working within the XPath, easily extend and test</span>
<a href="l458"></a><span id="l458">   */</span></span>
<a href="l459"></a><span id="l459">  <span class="keyword">def</span> <a title="(f: (scales.xml.XPath[XPath.this.T]) =&gt; scales.xml.XPath[XPath.this.T])scales.xml.XPath[XPath.this.T]" id="90729">|&gt;</a><span class="delimiter">(</span><a title="(scales.xml.XPath[XPath.this.T]) =&gt; scales.xml.XPath[XPath.this.T]" id="114855">f</a>: <span class="delimiter">(</span>XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#90728" title="(f: (scales.xml.XPath[XPath.this.T]) =&gt; scales.xml.XPath[XPath.this.T])scales.xml.XPath[XPath.this.T]">in</a><span class="delimiter">(</span><a href="#114855" title="(scales.xml.XPath[XPath.this.T]) =&gt; scales.xml.XPath[XPath.this.T]">f</a><span class="delimiter">)</span></span>
<a href="l460"></a><span id="l460"></span>
<a href="l461"></a><span id="l461">  <span class="comment">/**</span>
<a href="l462"></a><span id="l462">   * Some when its only one in the result set</span>
<a href="l463"></a><span id="l463">   */</span></span>
<a href="l464"></a><span id="l464">  <span class="keyword">def</span> <a title="=&gt; Iterable[scales.xml.package.XmlPath]" id="90730">one</a>: <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l465"></a><span id="l465">    <span class="keyword">val</span> <a title="scales.utils.DuplicateFilter[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" id="114861">nodes</a> = <a href="ScalesXml.scala.html#10381" title="object scales.xml.ScalesXml">ScalesXml</a>.<a href="#87917" title="(xpath: scales.xml.XPath[PT])scales.utils.DuplicateFilter[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">fromXPathToIterable</a><span class="delimiter">(</span><a href="#10464" title="scales.xml.XPath[PT]" class="keyword">this</a><span class="delimiter">)</span></span>
<a href="l466"></a><span id="l466">    <span title="Iterable[scales.xml.package.XmlPath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#114861" title="scales.utils.DuplicateFilter[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">nodes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l467"></a><span id="l467">    <span class="keyword">else</span> <span title="(xs: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]*)List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">List</span><span class="delimiter">(</span><a href="#114861" title="scales.utils.DuplicateFilter[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">nodes</a>.<span title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">head</span><span class="delimiter">)</span></span>
<a href="l468"></a><span id="l468">  <span class="delimiter">}</span></span>
<a href="l469"></a><span id="l469"></span>
<a href="l470"></a><span id="l470">  <span class="keyword">def</span> <a title="(handler: (scales.xml.XPath[XPath.this.T]) =&gt; Iterable[scales.xml.package.XmlPath])Iterable[scales.xml.package.XmlPath]" id="90731">oneOr</a><span class="delimiter">(</span><a title="(scales.xml.XPath[XPath.this.T]) =&gt; Iterable[scales.xml.package.XmlPath]" id="114894">handler</a>: XPath<span class="delimiter">[</span>T<span class="delimiter">]</span> =&gt; Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span></span>
<a href="l471"></a><span id="l471">    <span class="keyword">val</span> <a title="scales.utils.DuplicateFilter[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" id="114897">nodes</a> = <a href="ScalesXml.scala.html#10381" title="object scales.xml.ScalesXml">ScalesXml</a>.<a href="#87917" title="(xpath: scales.xml.XPath[PT])scales.utils.DuplicateFilter[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">fromXPathToIterable</a><span class="delimiter">(</span><a href="#10464" title="scales.xml.XPath[PT]" class="keyword">this</a><span class="delimiter">)</span></span>
<a href="l472"></a><span id="l472">    <span title="Iterable[scales.xml.package.XmlPath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#114897" title="scales.utils.DuplicateFilter[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">nodes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(xs: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]*)List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">List</span><span class="delimiter">(</span><a href="#114897" title="scales.utils.DuplicateFilter[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">nodes</a>.<span title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">head</span><span class="delimiter">)</span></span>
<a href="l473"></a><span id="l473">    <span class="keyword">else</span> <a href="#114894" title="(v1: scales.xml.XPath[XPath.this.T])Iterable[scales.xml.package.XmlPath]">handler</a><span class="delimiter">(</span><a href="#10464" title="scales.xml.XPath[PT]" class="keyword">this</a><span class="delimiter">)</span></span>
<a href="l474"></a><span id="l474">  <span class="delimiter">}</span></span>
<a href="l475"></a><span id="l475"></span>
<a href="l476"></a><span id="l476">  <span class="comment">/**</span>
<a href="l477"></a><span id="l477">   * Unions are be merged, sorted and filtered for dups</span>
<a href="l478"></a><span id="l478">   *</span>
<a href="l479"></a><span id="l479">   * x | x === x</span>
<a href="l480"></a><span id="l480">   *</span>
<a href="l481"></a><span id="l481">   */</span></span>
<a href="l482"></a><span id="l482">  <span class="comment">//		def |( other : Iterable[XmlPath]) : Iterable[XmlPath] = {</span></span>
<a href="l483"></a><span id="l483">  <span class="comment">//			val paths : Iterable[XmlPath] = xmlPath ++ other</span></span>
<a href="l484"></a><span id="l484">  <span class="comment">//			sortAndFilter(paths)</span></span>
<a href="l485"></a><span id="l485">  <span class="comment">//		}</span></span>
<a href="l486"></a><span id="l486"></span>
<a href="l487"></a><span id="l487">  <span class="comment">// TODO figure out unions of other paths (namespaces / attributes)</span></span>
<a href="l488"></a><span id="l488"><span class="delimiter">}</span></span>
<a href="l489"></a><span id="l489"></span>
<a href="l490"></a><span id="l490"><span class="comment">/** Only provides parent axis */</span></span>
<a href="l491"></a><span id="l491"><span class="keyword">class</span> <a title="class AttributeParentPath extends java.lang.Object with ScalaObject" id="10466">AttributeParentPath</a><a href="#10466" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Iterable[scales.xml.AttributePath]" id="90815">attributes</a>: <span title="Iterable[scales.xml.AttributePath]">Iterable</span><span class="delimiter">[</span>AttributePath<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l492"></a><span id="l492">  <span class="keyword">import</span> <a href="ScalesXml.scala.html#10381" title="object scales.xml.ScalesXml">ScalesXml</a>._</span>
<a href="l493"></a><span id="l493">  <span class="comment">/** Parents of the attributepaths */</span></span>
<a href="l494"></a><span id="l494">  <span class="keyword">def</span> <a title="()Iterable[scales.xml.package.XmlPath]" id="90814">\^</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> = <a href="../utils/DuplicateFilter.scala.html#40940" title="(orig: Iterable[scales.xml.package.XmlPath])(implicit predicate: (scales.xml.package.XmlPath, scales.xml.package.XmlPath) =&gt; Boolean)scales.utils.DuplicateFilter[scales.xml.package.XmlPath]">DuplicateFilter</a><a href="#87913" title="=&gt; (scales.xml.package.XmlPath, scales.xml.package.XmlPath) =&gt; Boolean" class="delimiter">(</a><a href="#90815" title="=&gt; Iterable[scales.xml.AttributePath]">attributes</a>.<span title="(f: (scales.xml.AttributePath) =&gt; scales.xml.package.XmlPath)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.AttributePath],scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]])Iterable[scales.xml.package.XmlPath]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]]" class="delimiter">(</span><a href="#114944" title="scales.xml.AttributePath">_</a>.<a href="#110887" title="=&gt; scales.xml.package.XmlPath">parent</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l495"></a><span id="l495"></span>
<a href="l496"></a><span id="l496"><span class="delimiter">}</span></span>
<a href="l497"></a><span id="l497"></span>
<a href="l498"></a><span id="l498"><span class="comment">/**</span>
<a href="l499"></a><span id="l499"> * XPaths need sorting upon unions etc, and duplicate filtering on \^ parents</span>
<a href="l500"></a><span id="l500"> */</span></span>
<a href="l501"></a><span id="l501">case <span class="keyword">class</span> <a title="class XPathInfo extends java.lang.Object with ScalaObject with Product with Serializable" id="115084">XPathInfo</a><a href="#115084" title="ScalaObject" class="delimiter">(</a><a title="Iterable[Iterable[scales.xml.package.XmlPath]]" id="90858">nodes</a>: <span title="Iterable[Iterable[scales.xml.package.XmlPath]]">Iterable</span><span class="delimiter">[</span>Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Boolean" id="90859">mustBeSorted</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="90860">filterDuplicates</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="90861">initialNode</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span></span>
<a href="l502"></a><span id="l502"></span>
<a href="l503"></a><span id="l503">        </span>
</pre>
    </body>
</html>