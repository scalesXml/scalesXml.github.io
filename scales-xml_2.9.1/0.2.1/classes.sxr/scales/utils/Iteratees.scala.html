<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\utils\Iteratees.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    
<style id="linesStyle">
.lineHighlight {
  background-color: #a5a5a5;
}
</style>
<script type="text/javascript">
function selectedLine() {
    var loca = /^.*#l(.*)/.exec(location.href);
    return loca ? loca[1] : '0';
}

function highlightLine(ln){
  $('#l'+ln).toggleClass('lineHighlight');
}

function gotoLine(ln){
  $('#l'+ln).focus();
}

$(function(){
  var line = selectedLine();
  if (line != '0') highlightLine(line)
});
</script></head>
    <body>
        <pre>
<!-- SXR_LINES --><a href="l1"></a><span id="l1"><span class="keyword">package</span> scales.utils</span>
<a href="l2"></a><span id="l2"></span>
<a href="l3"></a><span id="l3"><span class="keyword">import</span> scalaz._</span>
<a href="l4"></a><span id="l4"><span class="keyword">import</span> scalaz.<span title="object scalaz.IterV">IterV</span>._</span>
<a href="l5"></a><span id="l5"><span class="keyword">import</span> <span title="object scalaz.Scalaz">Scalaz</span>._</span>
<a href="l6"></a><span id="l6"></span>
<a href="l7"></a><span id="l7"><span class="comment">/**</span>
<a href="l8"></a><span id="l8"> * Evals once, the developer must check its Done, equivalent to a .run but</span>
<a href="l9"></a><span id="l9"> * doesn't lose the continuation - no &quot;Diverging Iteratee&quot;</span>
<a href="l10"></a><span id="l10"> */</span> </span>
<a href="l11"></a><span id="l11"><span class="keyword">trait</span> <a title="trait Eval[WHAT, RETURN] extends java.lang.Object with ScalaObject" id="10410">Eval</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="10411">WHAT</a>,<a title="&gt;: Nothing &lt;: Any" id="10412">RETURN</a><span class="delimiter">]</span> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l12"></a><span id="l12">  </span>
<a href="l13"></a><span id="l13">  <span class="keyword">val</span> <a title="=&gt; scalaz.IterV[WHAT,RETURN]" id="59801">orig</a> : <span title="scalaz.IterV[WHAT,RETURN]">IterV</span><span class="delimiter">[</span>WHAT, RETURN<span class="delimiter">]</span></span>
<a href="l14"></a><span id="l14"></span>
<a href="l15"></a><span id="l15">  <span class="keyword">def</span> <a title="=&gt; scalaz.IterV[WHAT,RETURN]" id="59802">eval</a> : <span title="scalaz.IterV[WHAT,RETURN]">IterV</span><span class="delimiter">[</span>WHAT, RETURN<span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l16"></a><span id="l16">    <a href="#59801" title="=&gt; scalaz.IterV[WHAT,RETURN]">orig</a>.<span title="(done: (=&gt; RETURN, =&gt; scalaz.Input[WHAT]) =&gt; scalaz.IterV[WHAT,RETURN], cont: scalaz.Input[WHAT] =&gt; scalaz.IterV[WHAT,RETURN] =&gt; scalaz.IterV[WHAT,RETURN])scalaz.IterV[WHAT,RETURN]">fold</span><span class="delimiter">(</span>done = <span class="delimiter">(</span><a title="=&gt; RETURN" id="59820">x</a>, <a title="=&gt; scalaz.Input[WHAT]" id="59821">y</a><span class="delimiter">)</span> =&gt; <span title="(a: =&gt; RETURN, i: =&gt; scalaz.Input[WHAT])scalaz.IterV[WHAT,RETURN]">Done</span><span class="delimiter">(</span><a href="#59820" title="=&gt; RETURN">x</a>,<a href="#59821" title="=&gt; scalaz.Input[WHAT]">y</a><span class="delimiter">)</span>,</span>
<a href="l17"></a><span id="l17">	 cont = <a title="scalaz.Input[WHAT] =&gt; scalaz.IterV[WHAT,RETURN]" id="59829">k</a> =&gt; <a href="#59829" title="(v1: scalaz.Input[WHAT])scalaz.IterV[WHAT,RETURN]">k</a><span class="delimiter">(</span><span title="[E]=&gt; scalaz.Input[E]">EOF</span><span title="scalaz.Input[WHAT]" class="delimiter">[</span><a href="#10411" title="WHAT">WHAT</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l18"></a><span id="l18">  <span class="delimiter">}</span></span>
<a href="l19"></a><span id="l19"><span class="delimiter">}</span></span>
<a href="l20"></a><span id="l20"></span>
<a href="l21"></a><span id="l21"><span class="keyword">trait</span> <a title="trait IterateeImplicits extends java.lang.Object with ScalaObject" id="10413">IterateeImplicits</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l22"></a><span id="l22">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[WHAT, RETURN](i: scalaz.IterV[WHAT,RETURN])java.lang.Object with scales.utils.Eval[WHAT,RETURN]" id="59834">toEval</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="59837">WHAT</a>, <a title="&gt;: Nothing &lt;: Any" id="59838">RETURN</a><span class="delimiter">]</span><span class="delimiter">(</span> <a title="scalaz.IterV[WHAT,RETURN]" id="59935">i</a> : <span title="scalaz.IterV[WHAT,RETURN]">IterV</span><span class="delimiter">[</span>WHAT, RETURN<span class="delimiter">]</span> <span class="delimiter">)</span> = <a href="#59938" title="java.lang.Object with scales.utils.Eval[WHAT,RETURN]{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scales.utils.Eval[WHAT,RETURN]" id="59938">Eval</a><span class="delimiter">[</span>WHAT, RETURN<span class="delimiter">]</span> <span class="delimiter">{</span></span>
<a href="l23"></a><span id="l23">    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scalaz.IterV[WHAT,RETURN]" id="59941">orig</a> = <a href="#59935" title="scalaz.IterV[WHAT,RETURN]">i</a></span>
<a href="l24"></a><span id="l24">  <span class="delimiter">}</span></span>
<a href="l25"></a><span id="l25">    </span>
<a href="l26"></a><span id="l26">  <span class="comment">/**</span>
<a href="l27"></a><span id="l27">   * Taken from huynhjl's answer on StackOverflow, just abstracting the type to allow for better implicit inference</span>
<a href="l28"></a><span id="l28">   */</span></span>
<a href="l29"></a><span id="l29">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="iteratorEnumerator extends java.lang.Object with scalaz.Enumerator[Iterator]" id="59839">iteratorEnumerator</a> = <a href="#59842" title="java.lang.Object with scalaz.Enumerator[Iterator]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Enumerator[Iterator]" id="59842">Enumerator</a><span class="delimiter">[</span>Iterator<span class="delimiter">]</span> <span class="delimiter">{</span></span>
<a href="l30"></a><span id="l30">    @annotation.tailrec</span>
<a href="l31"></a><span id="l31">    <span class="keyword">def</span> <a title="[E, A](iter: Iterator[E], i: scalaz.IterV[E,A])scalaz.IterV[E,A]" id="59851">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="59854">E</a>,<a title="&gt;: Nothing &lt;: Any" id="59855">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Iterator[E]" id="59856">iter</a>: <span title="Iterator[E]">Iterator</span><span class="delimiter">[</span>E<span class="delimiter">]</span>, <a title="scalaz.IterV[E,A]" id="59857">i</a>: <span title="scalaz.IterV[E,A]">IterV</span><span class="delimiter">[</span>E,A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scalaz.IterV[E,A]">IterV</span><span class="delimiter">[</span>E,A<span class="delimiter">]</span> = <a href="#59857" title="scalaz.IterV[E,A]">i</a> <span title="scalaz.IterV[E,A]" class="keyword">match</span> <span class="delimiter">{</span></span>
<a href="l32"></a><span id="l32">      <span class="keyword">case</span> <span title="scalaz.IterV[E,A]">_</span> <span class="keyword">if</span> <a href="#59856" title="Iterator[E]">iter</a>.<span title="=&gt; Boolean">isEmpty</span> =&gt; <a href="#59857" title="scalaz.IterV[E,A]">i</a></span>
<a href="l33"></a><span id="l33">      <span class="keyword">case</span> <a href="#59874" title="scalaz.IterV[E,A]">Done</a><span class="delimiter">(</span><a title="A" id="59882">acc</a>, <a title="scalaz.Input[E]" id="59883">input</a><span class="delimiter">)</span> =&gt; <a href="#59857" title="scalaz.IterV[E,A]">i</a></span>
<a href="l34"></a><span id="l34">      <span class="keyword">case</span> <a href="#59884" title="scalaz.IterV[E,A]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="59892">k</a><span class="delimiter">)</span> =&gt;</span>
<a href="l35"></a><span id="l35">	<span class="keyword">val</span> <a title="E" id="59893">x</a> : <a href="#59854" title="E">E</a> = <a href="#59856" title="Iterator[E]">iter</a>.<span title="()E">next</span><span class="comment">//.asInstanceOf[E]</span></span>
<a href="l36"></a><span id="l36">      <a href="#59851" title="(iter: Iterator[E], i: scalaz.IterV[E,A])scalaz.IterV[E,A]">apply</a><span class="delimiter">(</span><a href="#59856" title="Iterator[E]">iter</a>, <a href="#59892" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><span title="(e0: =&gt; E)scalaz.Input[E]">El</span><span class="delimiter">(</span><a href="#59893" title="E">x</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l37"></a><span id="l37">    <span class="delimiter">}</span></span>
<a href="l38"></a><span id="l38">  <span class="delimiter">}</span></span>
<a href="l39"></a><span id="l39"></span>
<a href="l40"></a><span id="l40"><span class="delimiter">}</span></span>
<a href="l41"></a><span id="l41"></span>
<a href="l42"></a><span id="l42"><span class="comment">/**</span>
<a href="l43"></a><span id="l43"> * Collection of iterateees</span>
<a href="l44"></a><span id="l44"> */</span> </span>
<a href="l45"></a><span id="l45"><span class="keyword">trait</span> <a title="trait Iteratees extends java.lang.Object with ScalaObject" id="10414">Iteratees</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l46"></a><span id="l46"> </span>
<a href="l47"></a><span id="l47">  <span class="comment">/** drop while iteratee */</span></span>
<a href="l48"></a><span id="l48">  <span class="keyword">def</span> <a title="[E](f: E =&gt; Boolean)scalaz.IterV[E,Option[E]]" id="12098">dropWhile</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12100">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="E =&gt; Boolean" id="59954">f</a>: <span class="delimiter">(</span>E<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span> : <span title="scalaz.IterV[E,Option[E]]">IterV</span><span class="delimiter">[</span>E, Option<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l49"></a><span id="l49">    <span class="keyword">def</span> <a title="(s: scalaz.Input[E])scalaz.IterV[E,Option[E]]" id="59957">step</a><span class="delimiter">(</span><a title="scalaz.Input[E]" id="59958">s</a>: <span title="scalaz.Input[E]">Input</span><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scalaz.IterV[E,Option[E]]">IterV</span><span class="delimiter">[</span>E, Option<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">]</span> =</span>
<a href="l50"></a><span id="l50">      <a href="#59958" title="(empty: =&gt; scalaz.IterV[E,Option[E]], el: =&gt; E =&gt; scalaz.IterV[E,Option[E]], eof: =&gt; scalaz.IterV[E,Option[E]])scalaz.IterV[E,Option[E]]">s</a><span class="delimiter">(</span>el = <a title="=&gt; E" id="59973">e</a> =&gt; <span class="delimiter">{</span></span>
<a href="l51"></a><span id="l51">	<span title="scalaz.IterV[E,Option[E]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#59954" title="(v1: E)Boolean">f</a><span class="delimiter">(</span><a href="#59973" title="=&gt; E">e</a><span class="delimiter">)</span><span class="delimiter">)</span> </span>
<a href="l52"></a><span id="l52">	  <span title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Option[E]])scalaz.IterV[E,Option[E]]">Cont</span><span class="delimiter">(</span><a href="#59957" title="(s: scalaz.Input[E])scalaz.IterV[E,Option[E]]">step</a><span class="delimiter">)</span></span>
<a href="l53"></a><span id="l53">	<span class="keyword">else</span></span>
<a href="l54"></a><span id="l54">	  <span title="(a: =&gt; Option[E], i: =&gt; scalaz.Input[E])scalaz.IterV[E,Option[E]]">Done</span><span class="delimiter">(</span><span title="(x: E)Some[E]">Some</span><span class="delimiter">(</span><a href="#59973" title="=&gt; E">e</a><span class="delimiter">)</span>, <span title="object scalaz.IterV">IterV</span>.<span title="[E]=&gt; scalaz.Input[E]">Empty</span><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#12100" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span></span>
<a href="l55"></a><span id="l55">	<span class="delimiter">}</span>,</span>
<a href="l56"></a><span id="l56">        empty = <span title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Option[E]])scalaz.IterV[E,Option[E]]">Cont</span><a title="() =&gt; scalaz.IterV[E,Option[E]]" id="60000" class="delimiter">(</a><a href="#59957" title="(s: scalaz.Input[E])scalaz.IterV[E,Option[E]]">step</a><span class="delimiter">)</span>,</span>
<a href="l57"></a><span id="l57">        eof = <span title="(a: =&gt; Option[E], i: =&gt; scalaz.Input[E])scalaz.IterV[E,Option[E]]">Done</span><a title="() =&gt; scalaz.IterV[E,Option[E]]" id="60001" class="delimiter">(</a><span title="object None">None</span>, <span title="[E]=&gt; scalaz.Input[E]">EOF</span><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#12100" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l58"></a><span id="l58">    <span title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Option[E]])scalaz.IterV[E,Option[E]]">Cont</span><span class="delimiter">(</span><a href="#59957" title="(s: scalaz.Input[E])scalaz.IterV[E,Option[E]]">step</a><span class="delimiter">)</span></span>
<a href="l59"></a><span id="l59">  <span class="delimiter">}</span></span>
<a href="l60"></a><span id="l60"></span>
<a href="l61"></a><span id="l61">  <span class="comment">/** &quot;find&quot; iteratee, finds Some(first) or None */</span></span>
<a href="l62"></a><span id="l62">  <span class="keyword">def</span> <a title="[E](f: E =&gt; Boolean)scalaz.IterV[E,Option[E]]" id="12101">find</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12103">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="E =&gt; Boolean" id="60015">f</a>: <span class="delimiter">(</span>E<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span> : <span title="scalaz.IterV[E,Option[E]]">IterV</span><span class="delimiter">[</span>E, Option<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">]</span> = </span>
<a href="l63"></a><span id="l63">    <a href="#12098" title="(f: E =&gt; Boolean)scalaz.IterV[E,Option[E]]">dropWhile</a><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#60015" title="(v1: E)Boolean">f</a><span class="delimiter">(</span><a href="#60021" title="E">_</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l64"></a><span id="l64"></span>
<a href="l65"></a><span id="l65">  <span class="comment">/** filter iteratee, greedily taking all content until eof */</span></span>
<a href="l66"></a><span id="l66">  <span class="keyword">def</span> <a title="[E](f: E =&gt; Boolean)scalaz.IterV[E,Iterable[E]]" id="12104">filter</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12106">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="E =&gt; Boolean" id="60024">f</a>: <span class="delimiter">(</span>E<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span> : <span title="scalaz.IterV[E,Iterable[E]]">IterV</span><span class="delimiter">[</span>E, Iterable<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l67"></a><span id="l67">    <span class="keyword">def</span> <a title="(l: List[E])(s: scalaz.Input[E])scalaz.IterV[E,Iterable[E]]" id="60027">step</a><span class="delimiter">(</span><a title="List[E]" id="60028">l</a> : <span title="List[E]">List</span><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.Input[E]" id="60029">s</a>: <span title="scalaz.Input[E]">Input</span><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scalaz.IterV[E,Iterable[E]]">IterV</span><span class="delimiter">[</span>E, Iterable<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">]</span> =</span>
<a href="l68"></a><span id="l68">      <a href="#60029" title="(empty: =&gt; scalaz.IterV[E,Iterable[E]], el: =&gt; E =&gt; scalaz.IterV[E,Iterable[E]], eof: =&gt; scalaz.IterV[E,Iterable[E]])scalaz.IterV[E,Iterable[E]]">s</a><span class="delimiter">(</span>el = <a title="=&gt; E" id="60050">e</a> =&gt; <span class="delimiter">{</span></span>
<a href="l69"></a><span id="l69">	<span title="scalaz.IterV[E,Iterable[E]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#60024" title="(v1: E)Boolean">f</a><span class="delimiter">(</span><a href="#60050" title="=&gt; E">e</a><span class="delimiter">)</span><span class="delimiter">)</span> </span>
<a href="l70"></a><span id="l70">	  <span title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Iterable[E]])scalaz.IterV[E,Iterable[E]]">Cont</span><span class="delimiter">(</span><a href="#60027" title="(l: List[E])(s: scalaz.Input[E])scalaz.IterV[E,Iterable[E]]">step</a><a href="#66081" title="scalaz.Input[E]" class="delimiter">(</a><a href="#60028" title="List[E]">l</a> <a href="#66079" title="(elem: E)(implicit bf: scala.collection.generic.CanBuildFrom[List[E],E,List[E]])List[E]">:+</a> <a href="#60050" title="=&gt; E">e</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l71"></a><span id="l71">	<span class="keyword">else</span></span>
<a href="l72"></a><span id="l72">	  <span title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Iterable[E]])scalaz.IterV[E,Iterable[E]]">Cont</span><span class="delimiter">(</span><a href="#60027" title="(l: List[E])(s: scalaz.Input[E])scalaz.IterV[E,Iterable[E]]">step</a><a href="#66087" title="scalaz.Input[E]" class="delimiter">(</a><a href="#60028" title="List[E]">l</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l73"></a><span id="l73">	<span class="delimiter">}</span>,</span>
<a href="l74"></a><span id="l74">        empty = <span title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Iterable[E]])scalaz.IterV[E,Iterable[E]]">Cont</span><a title="() =&gt; scalaz.IterV[E,Iterable[E]]" id="66099" class="delimiter">(</a><a href="#60027" title="(l: List[E])(s: scalaz.Input[E])scalaz.IterV[E,Iterable[E]]">step</a><a href="#66104" title="scalaz.Input[E]" class="delimiter">(</a><a href="#60028" title="List[E]">l</a><span class="delimiter">)</span><span class="delimiter">)</span>,</span>
<a href="l75"></a><span id="l75">        eof = <span title="(a: =&gt; Iterable[E], i: =&gt; scalaz.Input[E])scalaz.IterV[E,Iterable[E]]">Done</span><a title="() =&gt; scalaz.IterV[E,Iterable[E]]" id="66100" class="delimiter">(</a><a href="#60028" title="List[E]">l</a>, <span title="[E]=&gt; scalaz.Input[E]">EOF</span><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#12106" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l76"></a><span id="l76">    <span title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,Iterable[E]])scalaz.IterV[E,Iterable[E]]">Cont</span><span class="delimiter">(</span><a href="#60027" title="(l: List[E])(s: scalaz.Input[E])scalaz.IterV[E,Iterable[E]]">step</a><a href="#66130" title="scalaz.Input[E]" class="delimiter">(</a>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l77"></a><span id="l77">  <span class="delimiter">}</span></span>
<a href="l78"></a><span id="l78"></span>
<a href="l79"></a><span id="l79">  <span class="keyword">type</span> <a title="[E, A]scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])]" id="12107">ResumableIterList</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12108">E</a>,<a title="&gt;: Nothing &lt;: Any" id="12109">A</a><span class="delimiter">]</span> = <span title="scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])]">IterV</span><span class="delimiter">[</span>E, <span class="delimiter">(</span>Iterable<span class="delimiter">[</span>A<span class="delimiter">]</span>,IterV<span class="delimiter">[</span>E,_<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span></span>
<a href="l80"></a><span id="l80">  <span class="keyword">type</span> <a title="[E, A]scalaz.IterV[E,(A, scalaz.IterV[E, _])]" id="12110">ResumableIter</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12111">E</a>,<a title="&gt;: Nothing &lt;: Any" id="12112">A</a><span class="delimiter">]</span> = <span title="scalaz.IterV[E,(A, scalaz.IterV[E, _])]">IterV</span><span class="delimiter">[</span>E, <span class="delimiter">(</span>A, IterV<span class="delimiter">[</span>E,_<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span></span>
<a href="l81"></a><span id="l81">  </span>
<a href="l82"></a><span id="l82">  <span class="comment">/**</span>
<a href="l83"></a><span id="l83">   * Extract the continuation from a Done</span>
<a href="l84"></a><span id="l84">   */</span></span>
<a href="l85"></a><span id="l85">  <span class="keyword">def</span> <a title="[E, A](iter: Iteratees.this.ResumableIter[E,A])Iteratees.this.ResumableIter[E,A]" id="12113">extractCont</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12116">E</a>,<a title="&gt;: Nothing &lt;: Any" id="12117">A</a><span class="delimiter">]</span><span class="delimiter">(</span> <a title="Iteratees.this.ResumableIter[E,A]" id="66136">iter</a> : <span title="Iteratees.this.ResumableIter[E,A]">ResumableIter</span><span class="delimiter">[</span>E, A<span class="delimiter">]</span> <span class="delimiter">)</span> = </span>
<a href="l86"></a><span id="l86">    <a href="#66136" title="Iteratees.this.ResumableIter[E,A]">iter</a>.<span title="[Z](done: (=&gt; (A, scalaz.IterV[E, _]), =&gt; scalaz.Input[E]) =&gt; Z, cont: scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])] =&gt; Z)Z">fold</span><span title="(done: (=&gt; (A, scalaz.IterV[E, _]), =&gt; scalaz.Input[E]) =&gt; Iteratees.this.ResumableIter[E,A], cont: scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])] =&gt; Iteratees.this.ResumableIter[E,A])Iteratees.this.ResumableIter[E,A]" class="delimiter">[</span><span title="Iteratees.this.ResumableIter[E,A]">ResumableIter</span><span class="delimiter">[</span>E,A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span></span>
<a href="l87"></a><span id="l87">      done = <span class="delimiter">(</span><a title="=&gt; (A, scalaz.IterV[E, _])" id="66144">x</a>, <a title="=&gt; scalaz.Input[E]" id="66145">i</a><span class="delimiter">)</span> =&gt; </span>
<a href="l88"></a><span id="l88">	<a href="#66144" title="=&gt; (A, scalaz.IterV[E, _])">x</a>.<span title="=&gt; scalaz.IterV[E, _]">_2</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Iteratees.this.ResumableIter[E,A]" class="delimiter">[</span><span title="Iteratees.this.ResumableIter[E,A]">ResumableIter</span><span class="delimiter">[</span>E,A<span class="delimiter">]</span><span class="delimiter">]</span>,</span>
<a href="l89"></a><span id="l89">      cont = <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])]" id="66149">f</a> =&gt; <a href="package.scala.html#12052" title="(str: String)Nothing">error</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Was not done&quot;)" class="string">&quot;Was not done&quot;</span><span class="delimiter">)</span> <span class="delimiter">)</span></span>
<a href="l90"></a><span id="l90"></span>
<a href="l91"></a><span id="l91">  <span class="comment">/**</span>
<a href="l92"></a><span id="l92">   * Extract the Some(value) from a Done or None if it was not Done.</span>
<a href="l93"></a><span id="l93">   */</span></span>
<a href="l94"></a><span id="l94">  <span class="keyword">def</span> <a title="[E, A](iter: Iteratees.this.ResumableIter[E,A])Option[A]" id="12118">extract</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12121">E</a>,<a title="&gt;: Nothing &lt;: Any" id="12122">A</a><span class="delimiter">]</span><span class="delimiter">(</span> <a title="Iteratees.this.ResumableIter[E,A]" id="66151">iter</a> : <span title="Iteratees.this.ResumableIter[E,A]">ResumableIter</span><span class="delimiter">[</span>E, A<span class="delimiter">]</span> <span class="delimiter">)</span> = </span>
<a href="l95"></a><span id="l95">    <a href="#66151" title="Iteratees.this.ResumableIter[E,A]">iter</a>.<span title="[Z](done: (=&gt; (A, scalaz.IterV[E, _]), =&gt; scalaz.Input[E]) =&gt; Z, cont: scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])] =&gt; Z)Z">fold</span><span title="(done: (=&gt; (A, scalaz.IterV[E, _]), =&gt; scalaz.Input[E]) =&gt; Option[A], cont: scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])] =&gt; Option[A])Option[A]" class="delimiter">[</span><span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span></span>
<a href="l96"></a><span id="l96">      done = <span class="delimiter">(</span><a title="=&gt; (A, scalaz.IterV[E, _])" id="66159">x</a>, <a title="=&gt; scalaz.Input[E]" id="66160">i</a><span class="delimiter">)</span> =&gt; </span>
<a href="l97"></a><span id="l97">	<span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#66159" title="=&gt; (A, scalaz.IterV[E, _])">x</a>.<span title="=&gt; A">_1</span><span class="delimiter">)</span>,</span>
<a href="l98"></a><span id="l98">      cont = <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])]" id="66166">f</a> =&gt; <span title="object None">None</span> <span class="delimiter">)</span></span>
<a href="l99"></a><span id="l99"></span>
<a href="l100"></a><span id="l100">  <span class="comment">/**</span>
<a href="l101"></a><span id="l101">   * Helper to identify dones</span>
<a href="l102"></a><span id="l102">   */</span> </span>
<a href="l103"></a><span id="l103">  <span class="keyword">def</span> <a title="[E, A](iter: scalaz.IterV[E,A])Boolean" id="12123">isDone</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12126">E</a>,<a title="&gt;: Nothing &lt;: Any" id="12127">A</a><span class="delimiter">]</span><span class="delimiter">(</span> <a title="scalaz.IterV[E,A]" id="66168">iter</a> : <span title="scalaz.IterV[E,A]">IterV</span><span class="delimiter">[</span>E, A<span class="delimiter">]</span> <span class="delimiter">)</span> = </span>
<a href="l104"></a><span id="l104">    <a href="#66168" title="scalaz.IterV[E,A]">iter</a>.<span title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: scalaz.Input[E] =&gt; scalaz.IterV[E,A] =&gt; Z)Z">fold</span><span title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Boolean, cont: scalaz.Input[E] =&gt; scalaz.IterV[E,A] =&gt; Boolean)Boolean" class="delimiter">[</span><span title="Boolean">Boolean</span><span class="delimiter">]</span><span class="delimiter">(</span></span>
<a href="l105"></a><span id="l105">      done = <span class="delimiter">(</span><a title="=&gt; A" id="66176">a</a>, <a title="=&gt; scalaz.Input[E]" id="66177">i</a><span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>,</span>
<a href="l106"></a><span id="l106">      cont = <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="66179">f</a> =&gt; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">)</span></span>
<a href="l107"></a><span id="l107"></span>
<a href="l108"></a><span id="l108">  <span class="comment">/**</span>
<a href="l109"></a><span id="l109">   * Helper for done and empty</span>
<a href="l110"></a><span id="l110">   */</span> </span>
<a href="l111"></a><span id="l111">  <span class="keyword">def</span> <a title="[E, A](iter: scalaz.IterV[E,A])Boolean" id="12128">isEmpty</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12131">E</a>,<a title="&gt;: Nothing &lt;: Any" id="12132">A</a><span class="delimiter">]</span><span class="delimiter">(</span> <a title="scalaz.IterV[E,A]" id="66181">iter</a> : <span title="scalaz.IterV[E,A]">IterV</span><span class="delimiter">[</span>E,A<span class="delimiter">]</span> <span class="delimiter">)</span> =</span>
<a href="l112"></a><span id="l112">    <a href="#66181" title="scalaz.IterV[E,A]">iter</a>.<span title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: scalaz.Input[E] =&gt; scalaz.IterV[E,A] =&gt; Z)Z">fold</span><span title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Boolean, cont: scalaz.Input[E] =&gt; scalaz.IterV[E,A] =&gt; Boolean)Boolean" class="delimiter">[</span><span title="Boolean">Boolean</span><span class="delimiter">]</span><span class="delimiter">(</span></span>
<a href="l113"></a><span id="l113">      done = <span class="delimiter">(</span><a title="=&gt; A" id="66189">a</a>, <a title="=&gt; scalaz.Input[E]" id="66190">i</a><span class="delimiter">)</span> =&gt; <span title="object scalaz.IterV">IterV</span>.<span title="object scalaz.IterV.Empty">Empty</span>.<span title="[E](r: scalaz.Input[E])Boolean">unapply</span><span title="(r: scalaz.Input[E])Boolean" class="delimiter">[</span><a href="#12131" title="E">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#66190" title="=&gt; scalaz.Input[E]">i</a><span class="delimiter">)</span>,</span>
<a href="l114"></a><span id="l114">      cont = <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="66193">f</a> =&gt; <a href="package.scala.html#12052" title="(str: String)Nothing">error</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Iteratee is not Done&quot;)" class="string">&quot;Iteratee is not Done&quot;</span><span class="delimiter">)</span> <span class="delimiter">)</span></span>
<a href="l115"></a><span id="l115"></span>
<a href="l116"></a><span id="l116">  <span class="comment">/**</span>
<a href="l117"></a><span id="l117">   * Helper for done and eof</span>
<a href="l118"></a><span id="l118">   */</span> </span>
<a href="l119"></a><span id="l119">  <span class="keyword">def</span> <a title="[E, A](iter: scalaz.IterV[E,A])Boolean" id="12133">isEOF</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12136">E</a>,<a title="&gt;: Nothing &lt;: Any" id="12137">A</a><span class="delimiter">]</span><span class="delimiter">(</span> <a title="scalaz.IterV[E,A]" id="66195">iter</a> : <span title="scalaz.IterV[E,A]">IterV</span><span class="delimiter">[</span>E,A<span class="delimiter">]</span> <span class="delimiter">)</span> =</span>
<a href="l120"></a><span id="l120">    <a href="#66195" title="scalaz.IterV[E,A]">iter</a>.<span title="[Z](done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Z, cont: scalaz.Input[E] =&gt; scalaz.IterV[E,A] =&gt; Z)Z">fold</span><span title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Boolean, cont: scalaz.Input[E] =&gt; scalaz.IterV[E,A] =&gt; Boolean)Boolean" class="delimiter">[</span><span title="Boolean">Boolean</span><span class="delimiter">]</span><span class="delimiter">(</span></span>
<a href="l121"></a><span id="l121">      done = <span class="delimiter">(</span><a title="=&gt; A" id="66203">a</a>, <a title="=&gt; scalaz.Input[E]" id="66204">i</a><span class="delimiter">)</span> =&gt; <span title="object scalaz.IterV.EOF">EOF</span>.<span title="[E](r: scalaz.Input[E])Boolean">unapply</span><span title="(r: scalaz.Input[E])Boolean" class="delimiter">[</span><a href="#12136" title="E">E</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#66204" title="=&gt; scalaz.Input[E]">i</a><span class="delimiter">)</span>,</span>
<a href="l122"></a><span id="l122">      cont = <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="66207">f</a> =&gt; <a href="package.scala.html#12052" title="(str: String)Nothing">error</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Iteratee is not Done&quot;)" class="string">&quot;Iteratee is not Done&quot;</span><span class="delimiter">)</span> <span class="delimiter">)</span></span>
<a href="l123"></a><span id="l123"></span>
<a href="l124"></a><span id="l124">  <span class="comment">/**</span>
<a href="l125"></a><span id="l125">   * Converts a normal IterV[E,A] to a ResumableIter.</span>
<a href="l126"></a><span id="l126">   *</span>
<a href="l127"></a><span id="l127">   * Does so by folding over the iter once for an input</span>
<a href="l128"></a><span id="l128">   * and when its Done starting again</span>
<a href="l129"></a><span id="l129">   * with the original iter.  This is close to restarting the iter on</span>
<a href="l130"></a><span id="l130">   * a new &quot;stream&quot;, otherwise all attempts to keep the Cont will be made.</span>
<a href="l131"></a><span id="l131">   */</span> </span>
<a href="l132"></a><span id="l132">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[E, A](oiter: scalaz.IterV[E,A])Iteratees.this.ResumableIter[E,A]" id="12138">toResumableIter</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12141">E</a>,<a title="&gt;: Nothing &lt;: Any" id="12142">A</a><span class="delimiter">]</span><span class="delimiter">(</span> <a title="scalaz.IterV[E,A]" id="12710">oiter</a> : <span title="scalaz.IterV[E,A]">IterV</span><span class="delimiter">[</span>E,A<span class="delimiter">]</span><span class="delimiter">)</span> : <span title="Iteratees.this.ResumableIter[E,A]">ResumableIter</span><span class="delimiter">[</span>E,A<span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l133"></a><span id="l133">    <span class="keyword">def</span> <a title="(iter: scalaz.IterV[E,A])(s: scalaz.Input[E])Iteratees.this.ResumableIter[E,A]" id="66209">step</a><span class="delimiter">(</span><a title="scalaz.IterV[E,A]" id="66210">iter</a> : <span title="scalaz.IterV[E,A]">IterV</span><span class="delimiter">[</span>E,A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span> <a title="scalaz.Input[E]" id="66211">s</a> : <span title="scalaz.Input[E]">Input</span><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> : <span title="Iteratees.this.ResumableIter[E,A]">ResumableIter</span><span class="delimiter">[</span>E, A<span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l134"></a><span id="l134">      <span class="keyword">val</span> <a title="scalaz.IterV[E, _ &gt;: (A, scalaz.IterV[E,(A, scalaz.IterV[E, _])]) &lt;: _3]" id="66212">next</a> = <a href="#66210" title="scalaz.IterV[E,A]">iter</a> <span title="scalaz.IterV[E,_4]" class="keyword">match</span> <span class="delimiter">{</span><span class="comment">// need to evaluate s in the case of done....</span></span>
<a href="l135"></a><span id="l135">	  <span class="keyword">case</span> <a href="#66213" title="scalaz.IterV[E,(A, scalaz.IterV[E,(A, scalaz.IterV[E, _])])]">Done</a><span class="delimiter">(</span><a title="A" id="66221">x</a>, <a title="scalaz.Input[E]" id="66222">y</a><span class="delimiter">)</span> =&gt; <span title="(a: =&gt; (A, scalaz.IterV[E,(A, scalaz.IterV[E, _])]), i: =&gt; scalaz.Input[E])scalaz.IterV[E,(A, scalaz.IterV[E,(A, scalaz.IterV[E, _])])]">Done</span><span class="delimiter">(</span><span title="(_1: A, _2: scalaz.IterV[E,(A, scalaz.IterV[E, _])])(A, scalaz.IterV[E,(A, scalaz.IterV[E, _])])" class="delimiter">(</span><a href="#66221" title="A">x</a>, <span title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])])scalaz.IterV[E,(A, scalaz.IterV[E, _])]">Cont</span><span class="delimiter">(</span><a href="#66209" title="(iter: scalaz.IterV[E,A])(s: scalaz.Input[E])Iteratees.this.ResumableIter[E,A]">step</a><a href="#66235" title="scalaz.Input[E]" class="delimiter">(</a><a href="#12710" title="scalaz.IterV[E,A]">oiter</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,<a href="#66222" title="scalaz.Input[E]">y</a><span class="delimiter">)</span></span>
<a href="l136"></a><span id="l136">	  <span class="keyword">case</span> <a href="#66241" title="scalaz.IterV[E,_3]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="66249">k</a><span class="delimiter">)</span> =&gt; </span>
<a href="l137"></a><span id="l137">	    <span class="delimiter">{</span></span>
<a href="l138"></a><span id="l138">	      <a href="#66249" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="#66211" title="scalaz.Input[E]">s</a><span class="delimiter">)</span> <span title="scalaz.IterV[E,_3]" class="keyword">match</span> <span class="delimiter">{</span></span>
<a href="l139"></a><span id="l139">		<span class="keyword">case</span> <a title="scalaz.IterV[E,(A, scalaz.IterV[E,(A, scalaz.IterV[E, _])])]" id="66251">i</a>@<a href="#66252" title="(r: scalaz.IterV[E,A])Option[(A, scalaz.Input[E])]">Done</a><span class="delimiter">(</span><a title="A" id="66260">x</a>, <a title="scalaz.Input[E]" id="66261">y</a><span class="delimiter">)</span> =&gt; <span title="(a: =&gt; (A, scalaz.IterV[E,(A, scalaz.IterV[E, _])]), i: =&gt; scalaz.Input[E])scalaz.IterV[E,(A, scalaz.IterV[E,(A, scalaz.IterV[E, _])])]">Done</span><span class="delimiter">(</span><span title="(_1: A, _2: scalaz.IterV[E,(A, scalaz.IterV[E, _])])(A, scalaz.IterV[E,(A, scalaz.IterV[E, _])])" class="delimiter">(</span><a href="#66260" title="A">x</a>, <span title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])])scalaz.IterV[E,(A, scalaz.IterV[E, _])]">Cont</span><span class="delimiter">(</span><a href="#66209" title="(iter: scalaz.IterV[E,A])(s: scalaz.Input[E])Iteratees.this.ResumableIter[E,A]">step</a><a href="#66274" title="scalaz.Input[E]" class="delimiter">(</a><a href="#12710" title="scalaz.IterV[E,A]">oiter</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,<a href="#66261" title="scalaz.Input[E]">y</a><span class="delimiter">)</span></span>
<a href="l140"></a><span id="l140">		<span class="keyword">case</span> <a title="scalaz.IterV[E,(A, scalaz.IterV[E, _])]" id="66280">i</a>@<a href="#66281" title="(r: scalaz.IterV[E,A])Option[scalaz.Input[E] =&gt; scalaz.IterV[E,A]]">Cont</a><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <span title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])])scalaz.IterV[E,(A, scalaz.IterV[E, _])]">Cont</span><span class="delimiter">(</span><a href="#66209" title="(iter: scalaz.IterV[E,A])(s: scalaz.Input[E])Iteratees.this.ResumableIter[E,A]">step</a><a href="#66293" title="scalaz.Input[E]" class="delimiter">(</a><a href="#66280" title="scalaz.IterV[E,A]">i</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l141"></a><span id="l141">	      <span class="delimiter">}</span></span>
<a href="l142"></a><span id="l142">	    <span class="delimiter">}</span></span>
<a href="l143"></a><span id="l143">	<span class="delimiter">}</span></span>
<a href="l144"></a><span id="l144">      <a href="#66212" title="scalaz.IterV[E, _ &gt;: (A, scalaz.IterV[E,(A, scalaz.IterV[E, _])]) &lt;: _3]">next</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Iteratees.this.ResumableIter[E,A]" class="delimiter">[</span><span title="Iteratees.this.ResumableIter[E,A]">ResumableIter</span><span class="delimiter">[</span>E,A<span class="delimiter">]</span><span class="delimiter">]</span></span>
<a href="l145"></a><span id="l145">    <span class="delimiter">}</span></span>
<a href="l146"></a><span id="l146"></span>
<a href="l147"></a><span id="l147">    <span title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])])scalaz.IterV[E,(A, scalaz.IterV[E, _])]">Cont</span><span class="delimiter">(</span><a href="#66209" title="(iter: scalaz.IterV[E,A])(s: scalaz.Input[E])Iteratees.this.ResumableIter[E,A]">step</a><a href="#66351" title="scalaz.Input[E]" class="delimiter">(</a><a href="#12710" title="scalaz.IterV[E,A]">oiter</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l148"></a><span id="l148">  <span class="delimiter">}</span></span>
<a href="l149"></a><span id="l149"></span>
<a href="l150"></a><span id="l150">  <span class="comment">/**</span>
<a href="l151"></a><span id="l151">   * Stepwise fold, each element is evaluated but each one is returned as a result+resumable iter.</span>
<a href="l152"></a><span id="l152">   */</span> </span>
<a href="l153"></a><span id="l153">  <span class="keyword">def</span> <a title="[E, A](f: (E, A) =&gt; A)(init: A)Iteratees.this.ResumableIter[E,A]" id="12143">foldI</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12146">E</a>,<a title="&gt;: Nothing &lt;: Any" id="12147">A</a><span class="delimiter">]</span><span class="delimiter">(</span> <a title="(E, A) =&gt; A" id="66353">f</a> : <span class="delimiter">(</span>E,A<span class="delimiter">)</span> =&gt; A <span class="delimiter">)</span><span class="delimiter">(</span> <a title="A" id="66354">init</a> : <a href="#12147" title="A">A</a> <span class="delimiter">)</span> : <span title="Iteratees.this.ResumableIter[E,A]">ResumableIter</span><span class="delimiter">[</span>E,A<span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l154"></a><span id="l154">    <span class="keyword">def</span> <a title="(current: A)(s: scalaz.Input[E])Iteratees.this.ResumableIter[E,A]" id="66358">step</a><span class="delimiter">(</span> <a title="A" id="66359">current</a> : <a href="#12147" title="A">A</a> <span class="delimiter">)</span><span class="delimiter">(</span> <a title="scalaz.Input[E]" id="66360">s</a> : <span title="scalaz.Input[E]">Input</span><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">)</span> : <span title="Iteratees.this.ResumableIter[E,A]">ResumableIter</span><span class="delimiter">[</span>E,A<span class="delimiter">]</span> =</span>
<a href="l155"></a><span id="l155">      <a href="#66360" title="(empty: =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])], el: =&gt; E =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])], eof: =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])])scalaz.IterV[E,(A, scalaz.IterV[E, _])]">s</a><span class="delimiter">(</span>el = <span class="delimiter">{</span><a title="=&gt; E" id="66375">e</a> =&gt;</span>
<a href="l156"></a><span id="l156">	<span class="keyword">val</span> <a title="A" id="66376">next</a> = <a href="#66353" title="(v1: E, v2: A)A">f</a><span class="delimiter">(</span><a href="#66375" title="=&gt; E">e</a>,<a href="#66359" title="A">current</a><span class="delimiter">)</span></span>
<a href="l157"></a><span id="l157">	<span title="(a: =&gt; (A, scalaz.IterV[E, _]), i: =&gt; scalaz.Input[E])scalaz.IterV[E,(A, scalaz.IterV[E, _])]">Done</span><span class="delimiter">(</span><span title="(_1: A, _2: scalaz.IterV[E,(A, scalaz.IterV[E, _])])(A, scalaz.IterV[E,(A, scalaz.IterV[E, _])])" class="delimiter">(</span><a href="#66376" title="A">next</a>, <span title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])])scalaz.IterV[E,(A, scalaz.IterV[E, _])]">Cont</span><span class="delimiter">(</span><a href="#66358" title="(current: A)(s: scalaz.Input[E])Iteratees.this.ResumableIter[E,A]">step</a><a href="#66392" title="scalaz.Input[E]" class="delimiter">(</a><a href="#66376" title="A">next</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <span title="object scalaz.IterV">IterV</span>.<span title="[E]=&gt; scalaz.Input[E]">Empty</span><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#12146" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">}</span>,</span>
<a href="l158"></a><span id="l158">        empty = <span title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])])scalaz.IterV[E,(A, scalaz.IterV[E, _])]">Cont</span><a title="() =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])]" id="66437" class="delimiter">(</a><a href="#66358" title="(current: A)(s: scalaz.Input[E])Iteratees.this.ResumableIter[E,A]">step</a><a href="#66442" title="scalaz.Input[E]" class="delimiter">(</a><a href="#66359" title="A">current</a><span class="delimiter">)</span><span class="delimiter">)</span>,</span>
<a href="l159"></a><span id="l159">        eof = <span title="(a: =&gt; (A, scalaz.IterV[E, _]), i: =&gt; scalaz.Input[E])scalaz.IterV[E,(A, scalaz.IterV[E, _])]">Done</span><a title="() =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])]" id="66438" class="delimiter">(</a><span title="(_1: A, _2: scalaz.IterV[E,(A, scalaz.IterV[E, _])])(A, scalaz.IterV[E,(A, scalaz.IterV[E, _])])" class="delimiter">(</span><a href="#66359" title="A">current</a>, <span title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])])scalaz.IterV[E,(A, scalaz.IterV[E, _])]">Cont</span><span class="delimiter">(</span><a href="#66358" title="(current: A)(s: scalaz.Input[E])Iteratees.this.ResumableIter[E,A]">step</a><a href="#66450" title="scalaz.Input[E]" class="delimiter">(</a><a href="#66354" title="A">init</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,<span title="object scalaz.IterV">IterV</span>.<span title="[E]=&gt; scalaz.Input[E]">EOF</span><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#12146" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l160"></a><span id="l160">    <span title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])])scalaz.IterV[E,(A, scalaz.IterV[E, _])]">Cont</span><span class="delimiter">(</span><a href="#66358" title="(current: A)(s: scalaz.Input[E])Iteratees.this.ResumableIter[E,A]">step</a><a href="#66456" title="scalaz.Input[E]" class="delimiter">(</a><a href="#66354" title="A">init</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l161"></a><span id="l161">  <span class="delimiter">}</span></span>
<a href="l162"></a><span id="l162"></span>
<a href="l163"></a><span id="l163">  <span class="comment">/**</span>
<a href="l164"></a><span id="l164">   * Folds over the Iteratee with Cont or Done and Empty, returning with Done and EOF.</span>
<a href="l165"></a><span id="l165">   * If there is a ping pong on enumerator -&gt; Cont -&gt; enumerator then we'll of course get an infinite loop.</span>
<a href="l166"></a><span id="l166">   *</span>
<a href="l167"></a><span id="l167">   * foldI returns a ResumableIter that performs a fold until a done, this folds over the enumerator to return a value.</span>
<a href="l168"></a><span id="l168">   *</span>
<a href="l169"></a><span id="l169">   * combine with onDone to get through chunks of data.</span>
<a href="l170"></a><span id="l170">   */</span> </span>
<a href="l171"></a><span id="l171">  <span class="keyword">def</span> <a title="[E, A, ACC, F[_]](it: F[E])(initAcc: ACC, initResumable: Iteratees.this.ResumableIter[E,A])(f: (ACC, A) =&gt; ACC)(implicit e: scalaz.Enumerator[F])ACC" id="12148">foldOnDone</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12153">E</a>,<a title="&gt;: Nothing &lt;: Any" id="12154">A</a>, <a title="&gt;: Nothing &lt;: Any" id="12155">ACC</a>, <a title="[_]&gt;: Nothing &lt;: Any" id="12156">F</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="66464">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span> <a title="F[E]" id="66458">it</a> : <a href="#12156" title="F[E]">F</a><span class="delimiter">[</span>E<span class="delimiter">]</span> <span class="delimiter">)</span><span class="delimiter">(</span> <a title="ACC" id="66459">initAcc</a> : <a href="#12155" title="ACC">ACC</a>, <a title="Iteratees.this.ResumableIter[E,A]" id="66460">initResumable</a> : <span title="Iteratees.this.ResumableIter[E,A]">ResumableIter</span><span class="delimiter">[</span>E,A<span class="delimiter">]</span> <span class="delimiter">)</span><span class="delimiter">(</span> <a title="(ACC, A) =&gt; ACC" id="66461">f</a> : <span class="delimiter">(</span>ACC, A<span class="delimiter">)</span> =&gt; ACC <span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Enumerator[F]" id="66462">e</a> : <span title="scalaz.Enumerator[F]">Enumerator</span><span class="delimiter">[</span>F<span class="delimiter">]</span> <span class="delimiter">)</span> : <a href="#12155" title="ACC">ACC</a> = <span class="delimiter">{</span></span>
<a href="l172"></a><span id="l172">    <span class="keyword">import</span> <a href="ScalesUtils.scala.html#10619" title="object scales.utils.ScalesUtils">ScalesUtils</a>._</span>
<a href="l173"></a><span id="l173"></span>
<a href="l174"></a><span id="l174">    <span class="keyword">var</span> <a title="scalaz.IterV[E,(A, scalaz.IterV[E, _])]" id="66471">currentI</a> = <a href="#66460" title="(f: F[E])(implicit e: scalaz.Enumerator[F])scalaz.IterV[E,(A, scalaz.IterV[E, _])]">initResumable</a><a href="#59834" title="(i: scalaz.IterV[E,(A, scalaz.IterV[E, _])])java.lang.Object with scales.utils.Eval[E,(A, scalaz.IterV[E, _])]" class="delimiter">(</a><a href="#66458" title="F[E]">it</a><span class="delimiter">)</span>.<a href="#59802" title="=&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])]">eval</a></span>
<a href="l175"></a><span id="l175">    <span class="keyword">var</span> <a title="Boolean" id="66472">isdone</a> = <a href="#12123" title="(iter: scalaz.IterV[E,(A, scalaz.IterV[E, _])])Boolean">isDone</a><span class="delimiter">(</span><a href="#66471" title="scalaz.IterV[E,(A, scalaz.IterV[E, _])]">currentI</a><span class="delimiter">)</span></span>
<a href="l176"></a><span id="l176">    <span class="keyword">var</span> <a title="ACC" id="66473">currentA</a> = <a href="#66459" title="ACC">initAcc</a></span>
<a href="l177"></a><span id="l177">    <span title="Unit" class="keyword">while</span><span class="delimiter">(</span> <span title="=&gt; Boolean">!</span><a href="#66472" title="Boolean">isdone</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#66472" title="Boolean">isdone</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#12133" title="(iter: scalaz.IterV[E,(A, scalaz.IterV[E, _])])Boolean">isEOF</a><span class="delimiter">(</span><a href="#66471" title="scalaz.IterV[E,(A, scalaz.IterV[E, _])]">currentI</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span> <a href="#66474" title="()Unit" class="delimiter">{</a></span>
<a href="l178"></a><span id="l178">      </span>
<a href="l179"></a><span id="l179">      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#66472" title="Boolean">isdone</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l180"></a><span id="l180">	<span class="keyword">val</span> <a title="Option[A]" id="69252">a</a> = <a href="#12118" title="(iter: Iteratees.this.ResumableIter[E,A])Option[A]">extract</a><span class="delimiter">(</span><a href="#66471" title="scalaz.IterV[E,(A, scalaz.IterV[E, _])]">currentI</a><span class="delimiter">)</span></span>
<a href="l181"></a><span id="l181">	<span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#69252" title="Option[A]">a</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> </span>
<a href="l182"></a><span id="l182">	  <span title="Nothing" class="keyword">return</span> <a href="#66473" title="ACC">currentA</a></span>
<a href="l183"></a><span id="l183">      	<span class="keyword">else</span> <span class="delimiter">{</span></span>
<a href="l184"></a><span id="l184">	  <a href="#66473" title="ACC">currentA</a> = <a href="#66461" title="(v1: ACC, v2: A)ACC">f</a><span class="delimiter">(</span><a href="#66473" title="ACC">currentA</a>, <a href="#69252" title="Option[A]">a</a>.<span title="=&gt; A">get</span><span class="delimiter">)</span></span>
<a href="l185"></a><span id="l185">	  <a href="#66471" title="scalaz.IterV[E,(A, scalaz.IterV[E, _])]">currentI</a> = <a href="#12113" title="(iter: Iteratees.this.ResumableIter[E,A])Iteratees.this.ResumableIter[E,A]">extractCont</a><span class="delimiter">(</span><a href="#66471" title="scalaz.IterV[E,(A, scalaz.IterV[E, _])]">currentI</a><span class="delimiter">)</span></span>
<a href="l186"></a><span id="l186">	<span class="delimiter">}</span></span>
<a href="l187"></a><span id="l187">      <span class="delimiter">}</span></span>
<a href="l188"></a><span id="l188">      </span>
<a href="l189"></a><span id="l189">      <a href="#66471" title="scalaz.IterV[E,(A, scalaz.IterV[E, _])]">currentI</a> = <a href="#66471" title="(f: F[E])(implicit e: scalaz.Enumerator[F])scalaz.IterV[E,(A, scalaz.IterV[E, _])]">currentI</a><a href="#59834" title="(i: scalaz.IterV[E,(A, scalaz.IterV[E, _])])java.lang.Object with scales.utils.Eval[E,(A, scalaz.IterV[E, _])]" class="delimiter">(</a><a href="#66458" title="F[E]">it</a><span class="delimiter">)</span>.<a href="#59802" title="=&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])]">eval</a></span>
<a href="l190"></a><span id="l190">      <a href="#66472" title="Boolean">isdone</a> = <a href="#12123" title="(iter: scalaz.IterV[E,(A, scalaz.IterV[E, _])])Boolean">isDone</a><span class="delimiter">(</span><a href="#66471" title="scalaz.IterV[E,(A, scalaz.IterV[E, _])]">currentI</a><span class="delimiter">)</span>          </span>
<a href="l191"></a><span id="l191">    <span class="delimiter">}</span></span>
<a href="l192"></a><span id="l192">    <a href="#66473" title="ACC">currentA</a></span>
<a href="l193"></a><span id="l193">  <span class="delimiter">}</span></span>
<a href="l194"></a><span id="l194"></span>
<a href="l195"></a><span id="l195">  <span class="keyword">class</span> <a title="class ResumableIterIterator[E, A, F[_]] extends java.lang.Object with Iterator[A] with ScalaObject" id="12157">ResumableIterIterator</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12158">E</a>,<a title="&gt;: Nothing &lt;: Any" id="12159">A</a>,<a title="[_]&gt;: Nothing &lt;: Any" id="12160">F</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="69360">_</a><span class="delimiter">]</span><span class="delimiter">]</span><a href="#12157" title="ScalaObject" class="delimiter">(</a> <a title="F[E]" id="69440">it</a> : <a href="#12160" title="F[E]">F</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Iteratees.this.ResumableIter[E,A]" id="69441">init</a> : <span title="Iteratees.this.ResumableIter[E,A]">ResumableIter</span><span class="delimiter">[</span>E,A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Enumerator[F]" id="69442">e</a> : <span title="scalaz.Enumerator[F]">Enumerator</span><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="Iterator[A]">Iterator</span><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span></span>
<a href="l196"></a><span id="l196">    <span class="keyword">import</span> <a href="ScalesUtils.scala.html#10619" title="object scales.utils.ScalesUtils">ScalesUtils</a>._</span>
<a href="l197"></a><span id="l197">  </span>
<a href="l198"></a><span id="l198">    <span class="keyword">var</span> <a title="scalaz.IterV[E,(A, scalaz.IterV[E, _])]" id="69350">cur</a> = <a href="#69441" title="(f: F[E])(implicit e: scalaz.Enumerator[F])scalaz.IterV[E,(A, scalaz.IterV[E, _])]">init</a><a href="#59834" title="(i: scalaz.IterV[E,(A, scalaz.IterV[E, _])])java.lang.Object with scales.utils.Eval[E,(A, scalaz.IterV[E, _])]" class="delimiter">(</a><a href="#69440" title="F[E]">it</a><span class="delimiter">)</span>.<a href="#59802" title="=&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])]">eval</a></span>
<a href="l199"></a><span id="l199">    <span class="keyword">var</span> <a title="Boolean" id="69353">isdone</a> = <a href="#12123" title="(iter: scalaz.IterV[E,(A, scalaz.IterV[E, _])])Boolean">isDone</a><span class="delimiter">(</span><a href="#69350" title="=&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])]">cur</a><span class="delimiter">)</span></span>
<a href="l200"></a><span id="l200">    <span class="keyword">var</span> <a title="Option[A]" id="69356">r</a> = <a href="#12118" title="(iter: Iteratees.this.ResumableIter[E,A])Option[A]">extract</a><span class="delimiter">(</span><a href="#69350" title="=&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])]">cur</a><span class="delimiter">)</span></span>
<a href="l201"></a><span id="l201"></span>
<a href="l202"></a><span id="l202">    <span class="keyword">def</span> <a title="()A" id="69358">next</a> = <span class="delimiter">{</span></span>
<a href="l203"></a><span id="l203">      <span class="keyword">val</span> <a title="Option[A]" id="69446">t</a> = <a href="#69356" title="=&gt; Option[A]">r</a></span>
<a href="l204"></a><span id="l204">      <a href="#69350" title="(x$1: scalaz.IterV[E,(A, scalaz.IterV[E, _])])Unit">cur</a> = <a href="#12113" title="(iter: Iteratees.this.ResumableIter[E,A])Iteratees.this.ResumableIter[E,A]">extractCont</a><span title="(f: F[E])(implicit e: scalaz.Enumerator[F])scalaz.IterV[E,(A, scalaz.IterV[E, _])]" class="delimiter">(</span><a href="#69350" title="=&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])]">cur</a><span class="delimiter">)</span><a href="#59834" title="(i: scalaz.IterV[E,(A, scalaz.IterV[E, _])])java.lang.Object with scales.utils.Eval[E,(A, scalaz.IterV[E, _])]" class="delimiter">(</a><a href="#69440" title="F[E]">it</a><span class="delimiter">)</span>.<a href="#59802" title="=&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])]">eval</a></span>
<a href="l205"></a><span id="l205">      <a href="#69353" title="(x$1: Boolean)Unit">isdone</a> = <a href="#12123" title="(iter: scalaz.IterV[E,(A, scalaz.IterV[E, _])])Boolean">isDone</a><span class="delimiter">(</span><a href="#69350" title="=&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])]">cur</a><span class="delimiter">)</span></span>
<a href="l206"></a><span id="l206">      <a href="#69356" title="(x$1: Option[A])Unit">r</a> = <a href="#12118" title="(iter: Iteratees.this.ResumableIter[E,A])Option[A]">extract</a><span class="delimiter">(</span><a href="#69350" title="=&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])]">cur</a><span class="delimiter">)</span></span>
<a href="l207"></a><span id="l207">      <a href="#69446" title="Option[A]">t</a>.<span title="=&gt; A">get</span> <span class="comment">// note we check for defined in hasNext</span></span>
<a href="l208"></a><span id="l208">    <span class="delimiter">}</span></span>
<a href="l209"></a><span id="l209"></span>
<a href="l210"></a><span id="l210">    <span class="keyword">def</span> <a title="=&gt; Boolean" id="69359">hasNext</a> = <a href="#69353" title="=&gt; Boolean">isdone</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#12133" title="(iter: scalaz.IterV[E,(A, scalaz.IterV[E, _])])Boolean">isEOF</a><span class="delimiter">(</span><a href="#69350" title="=&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])]">cur</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#69356" title="=&gt; Option[A]">r</a>.<span title="=&gt; Boolean">isDefined</span></span>
<a href="l211"></a><span id="l211">  <span class="delimiter">}</span></span>
<a href="l212"></a><span id="l212"></span>
<a href="l213"></a><span id="l213">  <span class="comment">/**</span>
<a href="l214"></a><span id="l214">   * Converts the iteratee/enumerator/source triple into a Iterator</span>
<a href="l215"></a><span id="l215">   */</span> </span>
<a href="l216"></a><span id="l216">  <span class="keyword">def</span> <a title="[E, A, F[_]](it: F[E])(initResumable: Iteratees.this.ResumableIter[E,A])(implicit e: scalaz.Enumerator[F])Iteratees.this.ResumableIterIterator[E,A,F]" id="12161">withIter</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12165">E</a>,<a title="&gt;: Nothing &lt;: Any" id="12166">A</a>,<a title="[_]&gt;: Nothing &lt;: Any" id="12167">F</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="69540">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span> <a title="F[E]" id="69535">it</a> : <a href="#12167" title="F[E]">F</a><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Iteratees.this.ResumableIter[E,A]" id="69536">initResumable</a> : <span title="Iteratees.this.ResumableIter[E,A]">ResumableIter</span><span class="delimiter">[</span>E,A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Enumerator[F]" id="69537">e</a> : <span title="scalaz.Enumerator[F]">Enumerator</span><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#69537" title="Iteratees.this.ResumableIterIterator[E,A,F]" class="keyword">new</a> <a href="#12157" title="Iteratees.this.ResumableIterIterator[E,A,F]">ResumableIterIterator</a><span class="delimiter">[</span>E,A,F<span class="delimiter">]</span><span class="delimiter">(</span><a href="#69535" title="F[E]">it</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#69536" title="Iteratees.this.ResumableIter[E,A]">initResumable</a><span class="delimiter">)</span></span>
<a href="l217"></a><span id="l217"></span>
<a href="l218"></a><span id="l218">  <span class="comment">/**</span>
<a href="l219"></a><span id="l219">   * onDone, iterates over the list of iteratees applying</span>
<a href="l220"></a><span id="l220">   * the element, when the resulting list contains a Done</span>
<a href="l221"></a><span id="l221">   * then the list of Dones is returned.</span>
<a href="l222"></a><span id="l222">   *</span>
<a href="l223"></a><span id="l223">   * One can use tuples or pattern matching to discern which</span>
<a href="l224"></a><span id="l224">   * of the original lists iteratees have matched.</span>
<a href="l225"></a><span id="l225">   *</span>
<a href="l226"></a><span id="l226">   * Due to the return type of this iteratee all items</span>
<a href="l227"></a><span id="l227">   * in the list must return the same type and must return</span>
<a href="l228"></a><span id="l228">   * both an A and an IterV with the same interface to continue</span>
<a href="l229"></a><span id="l229">   * with the next and maintain state.</span>
<a href="l230"></a><span id="l230">   *</span>
<a href="l231"></a><span id="l231">   *</span>
<a href="l232"></a><span id="l232">   * In the case of EOF, an empty list is returned</span>
<a href="l233"></a><span id="l233">   */</span></span>
<a href="l234"></a><span id="l234">  <span class="keyword">def</span> <a title="[E, A](originalList: List[Iteratees.this.ResumableIter[E,A]])Iteratees.this.ResumableIterList[E,A]" id="12168">onDone</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12171">E</a>,<a title="&gt;: Nothing &lt;: Any" id="12172">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[Iteratees.this.ResumableIter[E,A]]" id="69547">originalList</a> : <span title="List[Iteratees.this.ResumableIter[E,A]]">List</span><span class="delimiter">[</span>ResumableIter<span class="delimiter">[</span>E,A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> : <span title="Iteratees.this.ResumableIterList[E,A]">ResumableIterList</span><span class="delimiter">[</span>E,A<span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l235"></a><span id="l235"></span>
<a href="l236"></a><span id="l236">    <span class="keyword">def</span> <a title="(l: List[Iteratees.this.ResumableIter[E,A]])(s: scalaz.Input[E])Iteratees.this.ResumableIterList[E,A]" id="69550">step</a><span class="delimiter">(</span><a title="List[Iteratees.this.ResumableIter[E,A]]" id="69551">l</a> : <span title="List[Iteratees.this.ResumableIter[E,A]]">List</span><span class="delimiter">[</span>ResumableIter<span class="delimiter">[</span>E,A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.Input[E]" id="69552">s</a>: <span title="scalaz.Input[E]">Input</span><span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Iteratees.this.ResumableIterList[E,A]">ResumableIterList</span><span class="delimiter">[</span>E,A<span class="delimiter">]</span> =</span>
<a href="l237"></a><span id="l237">      <a href="#69552" title="(empty: =&gt; scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])], el: =&gt; E =&gt; scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])], eof: =&gt; scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])])scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])]">s</a><span class="delimiter">(</span>el = <a title="=&gt; E" id="69567">e</a> =&gt; <span class="delimiter">{</span></span>
<a href="l238"></a><span id="l238">	<span class="keyword">var</span> <a title="List[A]" id="69568">res</a> : <span title="List[A]">List</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span title="object Nil">Nil</span></span>
<a href="l239"></a><span id="l239">	<span class="keyword">var</span> <a title="List[Iteratees.this.ResumableIter[E,A]]" id="69569">newl</a> : <span title="List[Iteratees.this.ResumableIter[E,A]]">List</span><span class="delimiter">[</span> ResumableIter<span class="delimiter">[</span>E,A<span class="delimiter">]</span> <span class="delimiter">]</span> = <span title="object Nil">Nil</span></span>
<a href="l240"></a><span id="l240"></span>
<a href="l241"></a><span id="l241">	@inline <span class="keyword">def</span> <a title="(k: scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])])Unit" id="69570">add</a><span class="delimiter">(</span> <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])]" id="69591">k</a> : <span class="delimiter">(</span>scalaz.Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; scalaz.IterV<span class="delimiter">[</span>E,<span class="delimiter">(</span>A, scalaz.IterV<span class="delimiter">[</span>E, _<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> </span>
<a href="l242"></a><span id="l242">	  <span class="keyword">val</span> <a title="scalaz.IterV[E,(A, scalaz.IterV[E, _])]" id="69595">d</a> = <a href="#69591" title="(v1: scalaz.Input[E])scalaz.IterV[E,(A, scalaz.IterV[E, _])]">k</a><span class="delimiter">(</span><span title="(e0: =&gt; E)scalaz.Input[E]">El</span><span class="delimiter">(</span><a href="#69567" title="=&gt; E">e</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l243"></a><span id="l243">	  <a href="#69569" title="List[Iteratees.this.ResumableIter[E,A]]">newl</a> = <a href="#69595" title="scalaz.IterV[E,(A, scalaz.IterV[E, _])]">d</a> <a href="#69600" title="(x: Iteratees.this.ResumableIter[E,A])List[Iteratees.this.ResumableIter[E,A]]">::</a> <a href="#69569" title="List[Iteratees.this.ResumableIter[E,A]]">newl</a></span>
<a href="l244"></a><span id="l244">	  <a href="#69595" title="scalaz.IterV[E,(A, scalaz.IterV[E, _])]">d</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span></span>
<a href="l245"></a><span id="l245">	    <span class="keyword">case</span> <a href="#69622" title="Unit">Done</a><span class="delimiter">(</span><a title="(A, scalaz.IterV[E, _])" id="69630">x</a>, _<span class="delimiter">)</span> =&gt; <a href="#69568" title="List[A]">res</a> = <a href="#69630" title="(A, scalaz.IterV[E, _])">x</a>.<span title="=&gt; A">_1</span> <a href="#69631" title="(x: A)List[A]">::</a> <a href="#69568" title="List[A]">res</a></span>
<a href="l246"></a><span id="l246">	    <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l247"></a><span id="l247">	  <span class="delimiter">}</span></span>
<a href="l248"></a><span id="l248">	<span class="delimiter">}</span></span>
<a href="l249"></a><span id="l249"></span>
<a href="l250"></a><span id="l250">	<span class="keyword">val</span> <a title="Iterator[Iteratees.this.ResumableIter[E,A]]" id="69571">i</a> = <a href="#69551" title="List[Iteratees.this.ResumableIter[E,A]]">l</a>.<span title="=&gt; Iterator[Iteratees.this.ResumableIter[E,A]]">iterator</span></span>
<a href="l251"></a><span id="l251">	<span title="Unit" class="keyword">while</span><span class="delimiter">(</span><a href="#69571" title="Iterator[Iteratees.this.ResumableIter[E,A]]">i</a>.<span title="=&gt; Boolean">hasNext</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l252"></a><span id="l252">	  <a href="#69571" title="Iterator[Iteratees.this.ResumableIter[E,A]]">i</a>.<span title="()Iteratees.this.ResumableIter[E,A]">next</span> <a href="#69572" title="Any" class="keyword">match</a> <span class="delimiter">{</span></span>
<a href="l253"></a><span id="l253">	  <span class="comment">// safety first</span></span>
<a href="l254"></a><span id="l254">	  <span class="keyword">case</span> <a title="Any" id="69637">iter</a>@<a href="#69638" title="(r: scalaz.IterV[E,(A, scalaz.IterV[E, _])])Option[((A, scalaz.IterV[E, _]), scalaz.Input[E])]">Done</a><span class="delimiter">(</span><a title="(A, scalaz.IterV[E, _])" id="69646">e1</a>, _<span class="delimiter">)</span> =&gt; </span>
<a href="l255"></a><span id="l255">	    <span class="comment">// are we EOF, in which case remove</span></span>
<a href="l256"></a><span id="l256">	    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#12133" title="(iter: scalaz.IterV[E,(A, scalaz.IterV[E, _])])Boolean">isEOF</a><span class="delimiter">(</span><a href="#69637" title="Iteratees.this.ResumableIter[E,A]">iter</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="object Nil">Nil</span></span>
<a href="l257"></a><span id="l257">	    <span class="keyword">else</span> <span class="delimiter">{</span></span>
<a href="l258"></a><span id="l258">	      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#12128" title="(iter: scalaz.IterV[E,(A, scalaz.IterV[E, _])])Boolean">isEmpty</a><span class="delimiter">(</span><a href="#69637" title="Iteratees.this.ResumableIter[E,A]">iter</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l259"></a><span id="l259">		<span class="comment">// feed back the continuation</span></span>
<a href="l260"></a><span id="l260">		<span class="comment">// this is where we hope that the users don't </span></span>
<a href="l261"></a><span id="l261">		<span class="comment">// break on purpose :-()</span></span>
<a href="l262"></a><span id="l262">		<a href="#69646" title="(A, scalaz.IterV[E, _])">e1</a>.<span title="=&gt; scalaz.IterV[E, _]">_2</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span></span>
<a href="l263"></a><span id="l263">		  <span class="keyword">case</span> <a title="Unit" id="69656">i</a> @ <a href="#69657" title="(r: scalaz.IterV[E,_$2])Option[scalaz.Input[E] =&gt; scalaz.IterV[E,_$2]]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.IterV[E,_$2]" id="69665">k</a><span class="delimiter">)</span> =&gt; <a href="#69570" title="(k: scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])])Unit">add</a><span class="delimiter">(</span><a href="#69665" title="scalaz.Input[E] =&gt; scalaz.IterV[E,_$2]">k</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])]" class="delimiter">[</span><span class="delimiter">(</span>scalaz.Input<span class="delimiter">[</span>E<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; scalaz.IterV<span class="delimiter">[</span>E,<span class="delimiter">(</span>A, scalaz.IterV<span class="delimiter">[</span>E, _<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span></span>
<a href="l264"></a><span id="l264">		  <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; <a href="package.scala.html#12052" title="(str: String)Nothing">error</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Continuation can only be a Cont&quot;)" class="string">&quot;Continuation can only be a Cont&quot;</span><span class="delimiter">)</span></span>
<a href="l265"></a><span id="l265">		<span class="delimiter">}</span></span>
<a href="l266"></a><span id="l266">	      <span class="keyword">else</span> <a href="package.scala.html#12052" title="(str: String)Nothing">error</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Can only handle EOF or Empty for Done&quot;)" class="string">&quot;Can only handle EOF or Empty for Done&quot;</span><span class="delimiter">)</span></span>
<a href="l267"></a><span id="l267">		</span>
<a href="l268"></a><span id="l268">	    <span class="delimiter">}</span></span>
<a href="l269"></a><span id="l269">	  <span class="keyword">case</span> <a title="Unit" id="69710">iter</a>@<a href="#69711" title="(r: scalaz.IterV[E,(A, scalaz.IterV[E, _])])Option[scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])]]">Cont</a><span class="delimiter">(</span><a title="scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])]" id="69719">k</a><span class="delimiter">)</span> =&gt; <a href="#69570" title="(k: scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])])Unit">add</a><span class="delimiter">(</span><a href="#69719" title="scalaz.Input[E] =&gt; scalaz.IterV[E,(A, scalaz.IterV[E, _])]">k</a><span class="delimiter">)</span></span>
<a href="l270"></a><span id="l270">	  <span class="delimiter">}</span></span>
<a href="l271"></a><span id="l271">	<span class="delimiter">}</span></span>
<a href="l272"></a><span id="l272">		    </span>
<a href="l273"></a><span id="l273">	<span title="Iteratees.this.ResumableIterList[E,A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#69568" title="List[A]">res</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> </span>
<a href="l274"></a><span id="l274">	  <span title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])])scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])]">Cont</span><span class="delimiter">(</span><a href="#69550" title="(l: List[Iteratees.this.ResumableIter[E,A]])(s: scalaz.Input[E])Iteratees.this.ResumableIterList[E,A]">step</a><a href="#69754" title="scalaz.Input[E]" class="delimiter">(</a><a href="#69569" title="List[Iteratees.this.ResumableIter[E,A]]">newl</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l275"></a><span id="l275">	<span class="keyword">else</span></span>
<a href="l276"></a><span id="l276">	  <span title="(a: =&gt; (Iterable[A], scalaz.IterV[E, _]), i: =&gt; scalaz.Input[E])scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])]">Done</span><span class="delimiter">(</span><span title="(_1: List[A], _2: scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])])(List[A], scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])])" class="delimiter">(</span><a href="#69568" title="List[A]">res</a>, <span title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])])scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])]">Cont</span><span class="delimiter">(</span><a href="#69550" title="(l: List[Iteratees.this.ResumableIter[E,A]])(s: scalaz.Input[E])Iteratees.this.ResumableIterList[E,A]">step</a><a href="#69776" title="scalaz.Input[E]" class="delimiter">(</a><a href="#69569" title="List[Iteratees.this.ResumableIter[E,A]]">newl</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <span title="object scalaz.IterV">IterV</span>.<span title="[E]=&gt; scalaz.Input[E]">Empty</span><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#12171" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span></span>
<a href="l277"></a><span id="l277">	<span class="delimiter">}</span>,</span>
<a href="l278"></a><span id="l278">        empty = <span title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])])scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])]">Cont</span><a title="() =&gt; scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])]" id="69828" class="delimiter">(</a><a href="#69550" title="(l: List[Iteratees.this.ResumableIter[E,A]])(s: scalaz.Input[E])Iteratees.this.ResumableIterList[E,A]">step</a><a href="#69833" title="scalaz.Input[E]" class="delimiter">(</a><a href="#69551" title="List[Iteratees.this.ResumableIter[E,A]]">l</a><span class="delimiter">)</span><span class="delimiter">)</span>,</span>
<a href="l279"></a><span id="l279">        eof = <span title="(a: =&gt; (Iterable[A], scalaz.IterV[E, _]), i: =&gt; scalaz.Input[E])scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])]">Done</span><a title="() =&gt; scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])]" id="69829" class="delimiter">(</a><span title="(_1: scala.collection.immutable.Nil.type, _2: scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])])(scala.collection.immutable.Nil.type, scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])])" class="delimiter">(</span><span title="object Nil">Nil</span>, <span title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])])scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])]">Cont</span><span class="delimiter">(</span><a href="#69550" title="(l: List[Iteratees.this.ResumableIter[E,A]])(s: scalaz.Input[E])Iteratees.this.ResumableIterList[E,A]">step</a><a href="#69841" title="scalaz.Input[E]" class="delimiter">(</a><a href="#69551" title="List[Iteratees.this.ResumableIter[E,A]]">l</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <span title="[E]=&gt; scalaz.Input[E]">EOF</span><span title="scalaz.Input[E]" class="delimiter">[</span><a href="#12171" title="E">E</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l280"></a><span id="l280">    <span title="(f: scalaz.Input[E] =&gt; scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])])scalaz.IterV[E,(Iterable[A], scalaz.IterV[E, _])]">Cont</span><span class="delimiter">(</span><a href="#69550" title="(l: List[Iteratees.this.ResumableIter[E,A]])(s: scalaz.Input[E])Iteratees.this.ResumableIterList[E,A]">step</a><a href="#69847" title="scalaz.Input[E]" class="delimiter">(</a><a href="#69547" title="List[Iteratees.this.ResumableIter[E,A]]">originalList</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l281"></a><span id="l281">  <span class="delimiter">}</span></span>
<a href="l282"></a><span id="l282"></span>
<a href="l283"></a><span id="l283">  <span class="comment">/**</span>
<a href="l284"></a><span id="l284">   * keeps a running count of each element, probably not of much use</span>
<a href="l285"></a><span id="l285">   * unless combined but acts as a good poc for ResumableIter </span>
<a href="l286"></a><span id="l286">   */</span> </span>
<a href="l287"></a><span id="l287">  <span class="keyword">def</span> <a title="[E]=&gt; Iteratees.this.ResumableIter[E,Long]" id="12173">runningCount</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12175">E</a><span class="delimiter">]</span> = <a href="#12143" title="[E, A](f: (E, A) =&gt; A)(init: A)Iteratees.this.ResumableIter[E,A]">foldI</a><span title="(f: (E, Long) =&gt; Long)(init: Long)Iteratees.this.ResumableIter[E,Long]" class="delimiter">[</span><a href="#12175" title="E">E</a>,<span title="Long">Long</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">(</span>e :<a href="#12175" title="E">E</a>, count : <span title="Long">Long</span><span class="delimiter">)</span> =&gt; <a href="#69856" title="Long">count</a> <span title="(x: Int)Long">+</span> <span title="Int(1)" class="int">1</span> <span class="delimiter">)</span><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span><span class="delimiter">)</span></span>
<a href="l288"></a><span id="l288"></span>
<a href="l289"></a><span id="l289">  <span class="comment">/**</span>
<a href="l290"></a><span id="l290">   * Append to an appendable, always returns Done for a line, cont for</span>
<a href="l291"></a><span id="l291">   * everything else</span>
<a href="l292"></a><span id="l292">   * TODO - should it be a pair including the appendable? </span>
<a href="l293"></a><span id="l293">   */</span> </span>
<a href="l294"></a><span id="l294">  <span class="keyword">def</span> <a title="(to: java.lang.Appendable)scalaz.IterV[java.lang.CharSequence,java.lang.CharSequence]" id="12176">appendTo</a><span class="delimiter">(</span> <a title="java.lang.Appendable" id="70049">to</a> : <span title="java.lang.Appendable">Appendable</span> <span class="delimiter">)</span> : <span title="scalaz.IterV[java.lang.CharSequence,java.lang.CharSequence]">IterV</span><span class="delimiter">[</span>CharSequence, CharSequence<span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l295"></a><span id="l295">    <span class="keyword">def</span> <a title="(s: scalaz.Input[java.lang.CharSequence])scalaz.IterV[java.lang.CharSequence,java.lang.CharSequence]" id="70051">step</a><span class="delimiter">(</span><a title="scalaz.Input[java.lang.CharSequence]" id="70052">s</a>: <span title="scalaz.Input[java.lang.CharSequence]">Input</span><span class="delimiter">[</span>CharSequence<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scalaz.IterV[java.lang.CharSequence,java.lang.CharSequence]">IterV</span><span class="delimiter">[</span>CharSequence, CharSequence<span class="delimiter">]</span> =</span>
<a href="l296"></a><span id="l296">      <a href="#70052" title="(empty: =&gt; scalaz.IterV[java.lang.CharSequence,java.lang.CharSequence], el: =&gt; java.lang.CharSequence =&gt; scalaz.IterV[java.lang.CharSequence,java.lang.CharSequence], eof: =&gt; scalaz.IterV[java.lang.CharSequence,java.lang.CharSequence])scalaz.IterV[java.lang.CharSequence,java.lang.CharSequence]">s</a><span class="delimiter">(</span>el = <span class="delimiter">{</span><a title="=&gt; java.lang.CharSequence" id="70067">e</a> =&gt;</span>
<a href="l297"></a><span id="l297">	<a href="#70049" title="java.lang.Appendable">to</a>.<span title="(x$1: java.lang.CharSequence)java.lang.Appendable">append</span><span class="delimiter">(</span><a href="#70067" title="=&gt; java.lang.CharSequence">e</a><span class="delimiter">)</span></span>
<a href="l298"></a><span id="l298">	<span title="(a: =&gt; java.lang.CharSequence, i: =&gt; scalaz.Input[java.lang.CharSequence])scalaz.IterV[java.lang.CharSequence,java.lang.CharSequence]">Done</span><span class="delimiter">(</span><a href="#70067" title="=&gt; java.lang.CharSequence">e</a>, <span title="object scalaz.IterV">IterV</span>.<span title="[E]=&gt; scalaz.Input[E]">Empty</span><span title="scalaz.Input[java.lang.CharSequence]" class="delimiter">[</span><span title="java.lang.CharSequence">CharSequence</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">}</span>,</span>
<a href="l299"></a><span id="l299">        empty = <span title="(f: scalaz.Input[java.lang.CharSequence] =&gt; scalaz.IterV[java.lang.CharSequence,java.lang.CharSequence])scalaz.IterV[java.lang.CharSequence,java.lang.CharSequence]">Cont</span><a title="() =&gt; scalaz.IterV[java.lang.CharSequence,java.lang.CharSequence]" id="70088" class="delimiter">(</a><a href="#70051" title="(s: scalaz.Input[java.lang.CharSequence])scalaz.IterV[java.lang.CharSequence,java.lang.CharSequence]">step</a><span class="delimiter">)</span>,</span>
<a href="l300"></a><span id="l300">        eof = <span title="(a: =&gt; java.lang.CharSequence, i: =&gt; scalaz.Input[java.lang.CharSequence])scalaz.IterV[java.lang.CharSequence,java.lang.CharSequence]">Done</span><a title="() =&gt; scalaz.IterV[java.lang.CharSequence,java.lang.CharSequence]" id="70089" class="delimiter">(</a><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>,<span title="object scalaz.IterV">IterV</span>.<span title="[E]=&gt; scalaz.Input[E]">EOF</span><span title="scalaz.Input[java.lang.CharSequence]" class="delimiter">[</span><span title="java.lang.CharSequence">CharSequence</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l301"></a><span id="l301">    <span title="(f: scalaz.Input[java.lang.CharSequence] =&gt; scalaz.IterV[java.lang.CharSequence,java.lang.CharSequence])scalaz.IterV[java.lang.CharSequence,java.lang.CharSequence]">Cont</span><span class="delimiter">(</span><a href="#70051" title="(s: scalaz.Input[java.lang.CharSequence])scalaz.IterV[java.lang.CharSequence,java.lang.CharSequence]">step</a><span class="delimiter">)</span></span>
<a href="l302"></a><span id="l302">  <span class="delimiter">}</span></span>
<a href="l303"></a><span id="l303"></span>
<a href="l304"></a><span id="l304">  <span class="comment">/**</span>
<a href="l305"></a><span id="l305">   * Calls the function param with the fed data and returns its</span>
<a href="l306"></a><span id="l306">   * result</span>
<a href="l307"></a><span id="l307">   */</span> </span>
<a href="l308"></a><span id="l308">  <span class="keyword">def</span> <a title="[FROM, TO](f: FROM =&gt; TO)scalaz.IterV[FROM,TO]" id="12177">evalWith</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12180">FROM</a>,<a title="&gt;: Nothing &lt;: Any" id="12181">TO</a><span class="delimiter">]</span><span class="delimiter">(</span> <a title="FROM =&gt; TO" id="70103">f</a> : <span class="delimiter">(</span>FROM<span class="delimiter">)</span> =&gt; TO <span class="delimiter">)</span> : <span title="scalaz.IterV[FROM,TO]">IterV</span><span class="delimiter">[</span>FROM, TO<span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l309"></a><span id="l309">    <span class="keyword">def</span> <a title="(s: scalaz.Input[FROM])scalaz.IterV[FROM,TO]" id="70106">step</a><span class="delimiter">(</span><a title="scalaz.Input[FROM]" id="70107">s</a>: <span title="scalaz.Input[FROM]">Input</span><span class="delimiter">[</span>FROM<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scalaz.IterV[FROM,TO]">IterV</span><span class="delimiter">[</span>FROM, TO<span class="delimiter">]</span> =</span>
<a href="l310"></a><span id="l310">      <a href="#70107" title="(empty: =&gt; scalaz.IterV[FROM,TO], el: =&gt; FROM =&gt; scalaz.IterV[FROM,TO], eof: =&gt; scalaz.IterV[FROM,TO])scalaz.IterV[FROM,TO]">s</a><span class="delimiter">(</span>el = <a title="=&gt; FROM" id="70122">e</a> =&gt; <span class="delimiter">{</span></span>
<a href="l311"></a><span id="l311">	<span class="keyword">val</span> <a title="TO" id="70123">to</a> = <a href="#70103" title="(v1: FROM)TO">f</a><span class="delimiter">(</span><a href="#70122" title="=&gt; FROM">e</a><span class="delimiter">)</span></span>
<a href="l312"></a><span id="l312">	<span title="(a: =&gt; TO, i: =&gt; scalaz.Input[FROM])scalaz.IterV[FROM,TO]">Done</span><span class="delimiter">(</span><a href="#70123" title="TO">to</a>, <span title="object scalaz.IterV">IterV</span>.<span title="[E]=&gt; scalaz.Input[E]">Empty</span><span title="scalaz.Input[FROM]" class="delimiter">[</span><a href="#12180" title="FROM">FROM</a><span class="delimiter">]</span><span class="delimiter">)</span></span>
<a href="l313"></a><span id="l313">	<span class="delimiter">}</span>,</span>
<a href="l314"></a><span id="l314">        empty = <span title="(f: scalaz.Input[FROM] =&gt; scalaz.IterV[FROM,TO])scalaz.IterV[FROM,TO]">Cont</span><a title="() =&gt; scalaz.IterV[FROM,TO]" id="70141" class="delimiter">(</a><a href="#70106" title="(s: scalaz.Input[FROM])scalaz.IterV[FROM,TO]">step</a><span class="delimiter">)</span>,</span>
<a href="l315"></a><span id="l315">        eof = <span title="(f: scalaz.Input[FROM] =&gt; scalaz.IterV[FROM,TO])scalaz.IterV[FROM,TO]">Cont</span><a title="() =&gt; scalaz.IterV[FROM,TO]" id="70142" class="delimiter">(</a><a href="#70106" title="(s: scalaz.Input[FROM])scalaz.IterV[FROM,TO]">step</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l316"></a><span id="l316">    <span title="(f: scalaz.Input[FROM] =&gt; scalaz.IterV[FROM,TO])scalaz.IterV[FROM,TO]">Cont</span><span class="delimiter">(</span><a href="#70106" title="(s: scalaz.Input[FROM])scalaz.IterV[FROM,TO]">step</a><span class="delimiter">)</span></span>
<a href="l317"></a><span id="l317">  <span class="delimiter">}</span></span>
<a href="l318"></a><span id="l318">  </span>
<a href="l319"></a><span id="l319"><span class="delimiter">}</span></span>
<a href="l320"></a><span id="l320"></span>
<a href="l321"></a><span id="l321">        </span>
</pre>
    </body>
</html>