<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\utils\Localisation.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    
<style id="linesStyle">
.lineHighlight {
  background-color: #a5a5a5;
}
</style>
<script type="text/javascript">
function selectedLine() {
    var loca = /^.*#l(.*)/.exec(location.href);
    return loca ? loca[1] : '0';
}

function highlightLine(ln){
  $('#l'+ln).toggleClass('lineHighlight');
}

function gotoLine(ln){
  $('#l'+ln).focus();
}

$(function(){
  var line = selectedLine();
  if (line != '0') highlightLine(line)
});
</script></head>
    <body>
        <pre>
<!-- SXR_LINES --><a href="l1"></a><span id="l1"><span class="keyword">package</span> scales.utils</span>
<a href="l2"></a><span id="l2"></span>
<a href="l3"></a><span id="l3"><span class="keyword">import</span> java.util.<span class="delimiter">{</span> Locale, ResourceBundle, Calendar, Date <span class="delimiter">}</span></span>
<a href="l4"></a><span id="l4"></span>
<a href="l5"></a><span id="l5"><span class="comment">/**</span>
<a href="l6"></a><span id="l6"> * Based on the approach taken by Muse and others giving paramaterized messages using XXX as a token to replace.</span>
<a href="l7"></a><span id="l7"> */</span></span>
<a href="l8"></a><span id="l8">case <span class="keyword">class</span> <a title="class Resource extends java.lang.Object with ScalaObject with Product with Serializable" id="77835">Resource</a><a href="#77835" title="ScalaObject" class="delimiter">(</a><a title="() =&gt; java.util.Locale" id="77825">locale</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Locale = <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="object java.util.Locale">Locale</span>.<span title="()java.util.Locale">getDefault</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(Class[_], Option[String])" id="77823">file</a>: <span title="(Class[_], Option[String])" class="delimiter">(</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span>, Option<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l9"></a><span id="l9">  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="java.lang.String" id="73637">PLACE_HOLDER</a> = <span title="java.lang.String(&quot;XXX&quot;)" class="string">&quot;XXX&quot;</span></span>
<a href="l10"></a><span id="l10"></span>
<a href="l11"></a><span id="l11">  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="java.lang.ClassLoader" id="73639">classLoader</a> = <a href="#77823" title="(Class[_], Option[String])">file</a>.<span title="=&gt; Class[_]">_1</span>.<span title="()java.lang.ClassLoader">getClassLoader</span></span>
<a href="l12"></a><span id="l12">  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="java.lang.String" id="73641">resourceName</a> = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#77823" title="(Class[_], Option[String])">file</a>.<span title="=&gt; Option[String]">_2</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#77823" title="(Class[_], Option[String])">file</a>.<span title="=&gt; Class[_]">_1</span>.<span title="()java.lang.String">getName</span></span>
<a href="l13"></a><span id="l13">  <span class="keyword">else</span> <a href="#77823" title="(Class[_], Option[String])">file</a>.<span title="=&gt; Class[_]">_1</span>.<span title="()java.lang.Package">getPackage</span>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77823" title="(Class[_], Option[String])">file</a>.<span title="=&gt; Option[String]">_2</span>.<span title="=&gt; String">get</span></span>
<a href="l14"></a><span id="l14"></span>
<a href="l15"></a><span id="l15">  <span class="comment">//</span></span>
<a href="l16"></a><span id="l16">  <span class="comment">// Used for requests that don't have any placeholders</span></span>
<a href="l17"></a><span id="l17">  <span class="comment">//</span></span>
<a href="l18"></a><span id="l18">  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="Array[Any]" id="73643">_EMPTY</a> = <span title="Array[Any]" class="keyword">new</span> <span title="Array[Any]">Array</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span></span>
<a href="l19"></a><span id="l19"></span>
<a href="l20"></a><span id="l20">  <span class="comment">// TODO figure out how / if these should handle updated language packs at runtime??</span></span>
<a href="l21"></a><span id="l21">  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="java.util.concurrent.ConcurrentHashMap[java.util.Locale,java.util.ResourceBundle]" id="73645">localeToBundle</a> = <span title="()java.util.concurrent.ConcurrentHashMap[java.util.Locale,java.util.ResourceBundle]" class="keyword">new</span> java.util.concurrent.<span title="java.util.concurrent.ConcurrentHashMap[java.util.Locale,java.util.ResourceBundle]">ConcurrentHashMap</span><span class="delimiter">[</span>Locale, ResourceBundle<span class="delimiter">]</span></span>
<a href="l22"></a><span id="l22"></span>
<a href="l23"></a><span id="l23">  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="()java.util.ResourceBundle" id="73647">getResourceBundle</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span></span>
<a href="l24"></a><span id="l24">    <span class="keyword">val</span> <a title="java.util.Locale" id="74348">ilocale</a> = <a href="#77825" title="()java.util.Locale">locale</a><span class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l25"></a><span id="l25">    <span class="comment">//val ilocale = if (tlocale == null) Locale.getDefault else tlocale</span></span>
<a href="l26"></a><span id="l26">    <span class="keyword">val</span> <a title="java.util.ResourceBundle" id="74349">bundle</a> = <a href="#73645" title="=&gt; java.util.concurrent.ConcurrentHashMap[java.util.Locale,java.util.ResourceBundle]">localeToBundle</a>.<span title="(x$1: Any)java.util.ResourceBundle">get</span><span class="delimiter">(</span><a href="#74348" title="java.util.Locale">ilocale</a><span class="delimiter">)</span></span>
<a href="l27"></a><span id="l27">    <span title="java.util.ResourceBundle" class="keyword">if</span> <span class="delimiter">(</span><a href="#74349" title="java.util.ResourceBundle">bundle</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l28"></a><span id="l28">      <span class="keyword">val</span> <a title="java.util.ResourceBundle" id="74350">nbundle</a> = <span title="object java.util.ResourceBundle">ResourceBundle</span>.<span title="(x$1: java.lang.String, x$2: java.util.Locale, x$3: java.lang.ClassLoader)java.util.ResourceBundle">getBundle</span><span class="delimiter">(</span><a href="#73641" title="=&gt; java.lang.String">resourceName</a>, <a href="#74348" title="java.util.Locale">ilocale</a>, <a href="#73639" title="=&gt; java.lang.ClassLoader">classLoader</a><span class="delimiter">)</span></span>
<a href="l29"></a><span id="l29">      <span class="keyword">val</span> <a title="java.util.ResourceBundle" id="74351">res</a> = <a href="#73645" title="=&gt; java.util.concurrent.ConcurrentHashMap[java.util.Locale,java.util.ResourceBundle]">localeToBundle</a>.<span title="(x$1: java.util.Locale, x$2: java.util.ResourceBundle)java.util.ResourceBundle">putIfAbsent</span><span class="delimiter">(</span><a href="#74348" title="java.util.Locale">ilocale</a>, <a href="#74350" title="java.util.ResourceBundle">nbundle</a><span class="delimiter">)</span></span>
<a href="l30"></a><span id="l30">      <span title="java.util.ResourceBundle" class="keyword">if</span> <span class="delimiter">(</span><a href="#74351" title="java.util.ResourceBundle">res</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#74350" title="java.util.ResourceBundle">nbundle</a> <span class="keyword">else</span> <a href="#74351" title="java.util.ResourceBundle">res</a></span>
<a href="l31"></a><span id="l31">    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#74349" title="java.util.ResourceBundle">bundle</a></span>
<a href="l32"></a><span id="l32">  <span class="delimiter">}</span></span>
<a href="l33"></a><span id="l33"></span>
<a href="l34"></a><span id="l34">  <span class="keyword">def</span> <a title="(id: String)String" id="73648">apply</a><span class="delimiter">(</span><a title="String" id="74424">id</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#73655" title="(id: String, fillers: Any*)(showId: Boolean)String">iget</a><span class="delimiter">(</span><a href="#74424" title="String">id</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span></span>
<a href="l35"></a><span id="l35"></span>
<a href="l36"></a><span id="l36">  <span class="keyword">def</span> <a title="(id: String, fillers: Any*)String" id="73649">apply</a><span class="delimiter">(</span><a title="String" id="74430">id</a>: <span title="String">String</span>, <a title="Any*" id="74431">fillers</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span>: <span title="String">String</span> = <a href="#73655" title="(id: String, fillers: Any*)(showId: Boolean)String">iget</a><span class="delimiter">(</span><a href="#74430" title="String">id</a>, <a href="#74431" title="Any*">fillers</a>: _*<span class="delimiter">)</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span></span>
<a href="l37"></a><span id="l37"></span>
<a href="l38"></a><span id="l38">  <span class="keyword">def</span> <a title="(showId: Boolean, id: String, fillers: Any*)String" id="73650">apply</a><span class="delimiter">(</span><a title="Boolean" id="74433">showId</a>: <span title="Boolean">Boolean</span>, <a title="String" id="74434">id</a>: <span title="String">String</span>, <a title="Any*" id="74435">fillers</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span>: <span title="String">String</span> = <a href="#73655" title="(id: String, fillers: Any*)(showId: Boolean)String">iget</a><span class="delimiter">(</span><a href="#74434" title="String">id</a>, <a href="#74435" title="Any*">fillers</a>: _*<span class="delimiter">)</span><span class="delimiter">(</span><a href="#74433" title="Boolean">showId</a><span class="delimiter">)</span></span>
<a href="l39"></a><span id="l39"></span>
<a href="l40"></a><span id="l40">  <span class="keyword">def</span> <a title="(id: String)String" id="73651">get</a><span class="delimiter">(</span><a title="String" id="74437">id</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#73655" title="(id: String, fillers: Any*)(showId: Boolean)String">iget</a><span class="delimiter">(</span><a href="#74437" title="String">id</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span></span>
<a href="l41"></a><span id="l41"></span>
<a href="l42"></a><span id="l42">  <span class="keyword">def</span> <a title="(id: String, fillers: Any*)String" id="73652">get</a><span class="delimiter">(</span><a title="String" id="74439">id</a>: <span title="String">String</span>, <a title="Any*" id="74440">fillers</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span>: <span title="String">String</span> = <a href="#73655" title="(id: String, fillers: Any*)(showId: Boolean)String">iget</a><span class="delimiter">(</span><a href="#74439" title="String">id</a>, <a href="#74440" title="Any*">fillers</a>: _*<span class="delimiter">)</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span></span>
<a href="l43"></a><span id="l43"></span>
<a href="l44"></a><span id="l44">  <span class="keyword">def</span> <a title="(showId: Boolean, id: String, fillers: Any*)String" id="73653">get</a><span class="delimiter">(</span><a title="Boolean" id="74442">showId</a>: <span title="Boolean">Boolean</span>, <a title="String" id="74443">id</a>: <span title="String">String</span>, <a title="Any*" id="74444">fillers</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span>: <span title="String">String</span> = <a href="#73655" title="(id: String, fillers: Any*)(showId: Boolean)String">iget</a><span class="delimiter">(</span><a href="#74443" title="String">id</a>, <a href="#74444" title="Any*">fillers</a>: _*<span class="delimiter">)</span><span class="delimiter">(</span><a href="#74442" title="Boolean">showId</a><span class="delimiter">)</span></span>
<a href="l45"></a><span id="l45"></span>
<a href="l46"></a><span id="l46">  <span class="keyword">def</span> <a title="(id: String, fillers: Any*)String" id="73654">getWithId</a><span class="delimiter">(</span><a title="String" id="74446">id</a>: <span title="String">String</span>, <a title="Any*" id="74447">fillers</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span>: <span title="String">String</span> = <a href="#73655" title="(id: String, fillers: Any*)(showId: Boolean)String">iget</a><span class="delimiter">(</span><a href="#74446" title="String">id</a>, <a href="#74447" title="Any*">fillers</a>: _*<span class="delimiter">)</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span></span>
<a href="l47"></a><span id="l47"></span>
<a href="l48"></a><span id="l48">  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(id: String, fillers: Any*)(showId: Boolean)String" id="73655">iget</a><span class="delimiter">(</span><a title="String" id="74426">id</a>: <span title="String">String</span>, <a title="Any*" id="74427">fillers</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="Boolean" id="74428">showId</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span></span>
<a href="l49"></a><span id="l49">    <span class="keyword">val</span> <a title="java.lang.String" id="74449">orig</a> = <a href="#73647" title="()java.util.ResourceBundle">getResourceBundle</a> <span title="(x$1: java.lang.String)java.lang.String">getString</span> <a href="#74426" title="String">id</a></span>
<a href="l50"></a><span id="l50">    <span class="keyword">val</span> <a title="java.lang.String" id="74450">origid</a> = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#74428" title="Boolean">showId</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#74426" title="String">id</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;] &quot;)" class="string">&quot;] &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#74449" title="java.lang.String">orig</a></span>
<a href="l51"></a><span id="l51">    <span class="keyword">else</span> <a href="#74449" title="java.lang.String">orig</a></span>
<a href="l52"></a><span id="l52"></span>
<a href="l53"></a><span id="l53">    <span class="keyword">val</span> <a title="Array[java.lang.String]" id="74451">bits</a> = <a href="#74450" title="java.lang.String">origid</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span class="delimiter">(</span><a href="#73637" title="=&gt; java.lang.String">PLACE_HOLDER</a><span class="delimiter">)</span></span>
<a href="l54"></a><span id="l54">    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#74451" title="Array[java.lang.String]">bits</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#74450" title="java.lang.String">origid</a> <span class="comment">// no holders so no need to split</span></span>
<a href="l55"></a><span id="l55">    <span class="keyword">else</span> <span class="delimiter">{</span></span>
<a href="l56"></a><span id="l56">      <span class="keyword">val</span> <a title="StringBuilder" id="74459">str</a> = <span title="()StringBuilder" class="keyword">new</span> <span title="StringBuilder">StringBuilder</span></span>
<a href="l57"></a><span id="l57"></span>
<a href="l58"></a><span id="l58">      <span class="comment">// max up the fillers to match the number of bits</span></span>
<a href="l59"></a><span id="l59">      <span class="keyword">val</span> <a title="Seq[Any]" id="74460">gfillers</a>: <span title="Seq[Any]">Seq</span><span class="delimiter">[</span>Any<span class="delimiter">]</span> = <span title="Seq[Any]" class="keyword">if</span> <span class="delimiter">(</span><a href="#74427" title="Any*">fillers</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#74451" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">bits</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span></span>
<a href="l60"></a><span id="l60">        <a href="#74427" title="Any*">fillers</a> <span title="(that: scala.collection.GenTraversableOnce[Any])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Any],Any,Seq[Any]])Seq[Any]">++</span> <span class="delimiter">(</span><span title="object Array">Array</span>.<span title="[T](n: Int)(elem: =&gt; T)(implicit evidence$9: scala.reflect.ClassManifest[T])Array[T]">fill</span><span title="(n: Int)(elem: =&gt; Any)(implicit evidence$9: scala.reflect.ClassManifest[Any])Array[Any]" class="delimiter">[</span><span title="Any">Any</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#74451" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">bits</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Int">-</span> <a href="#74427" title="Any*">fillers</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span title="(xs: Array[Any])scala.collection.mutable.ArrayOps[Any]" class="delimiter">(</span><span title="java.lang.String(&quot;XXX&quot;)" class="string">&quot;XXX&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l61"></a><span id="l61">      <span class="keyword">else</span> <a href="#74427" title="Any*">fillers</a></span>
<a href="l62"></a><span id="l62"></span>
<a href="l63"></a><span id="l63">      <span class="comment">// for each of the chunks replace with the filler</span></span>
<a href="l64"></a><span id="l64">      <span class="keyword">for</span> <span class="delimiter">{</span> <a title="(java.lang.String, Any)" id="77092">pair</a> &lt;- <a href="#74451" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">bits</a> <span title="(f: (java.lang.String, Any) =&gt; StringBuilder)Unit">zip</span> <a href="#74460" title="Seq[Any]">gfillers</a> <span class="delimiter">}</span></span>
<a href="l65"></a><span id="l65">        <a href="#74459" title="StringBuilder">str</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#77092" title="(java.lang.String, Any)">pair</a>.<span title="=&gt; java.lang.String">_1</span><span class="delimiter">)</span>.<span title="(x: Any)StringBuilder">append</span><span class="delimiter">(</span><a href="#77092" title="(java.lang.String, Any)">pair</a>.<span title="=&gt; Any">_2</span><span class="delimiter">)</span></span>
<a href="l66"></a><span id="l66"></span>
<a href="l67"></a><span id="l67">      <a href="#74459" title="StringBuilder">str</a>.<span title="()java.lang.String">toString</span></span>
<a href="l68"></a><span id="l68">    <span class="delimiter">}</span></span>
<a href="l69"></a><span id="l69">  <span class="delimiter">}</span></span>
<a href="l70"></a><span id="l70"><span class="delimiter">}</span></span>
<a href="l71"></a><span id="l71"></span>
<a href="l72"></a><span id="l72"><span class="keyword">import</span> java.text.<span class="delimiter">{</span> NumberFormat, DateFormat <span class="delimiter">}</span></span>
<a href="l73"></a><span id="l73"></span>
<a href="l74"></a><span id="l74"><span class="keyword">class</span> <a title="class Localised extends java.lang.Object with ScalaObject" id="10466">Localised</a><a href="#10466" title="ScalaObject" class="delimiter">(</a><a title="java.util.Locale" id="66545">locale</a>: <span title="java.util.Locale">Locale</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l75"></a><span id="l75">  <span class="keyword">def</span> <a title="()java.text.NumberFormat" id="66537">currency</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="object java.text.NumberFormat">NumberFormat</span>.<span title="(x$1: java.util.Locale)java.text.NumberFormat">getCurrencyInstance</span><span class="delimiter">(</span><a href="#66545" title="java.util.Locale">locale</a><span class="delimiter">)</span></span>
<a href="l76"></a><span id="l76">  <span class="keyword">def</span> <a title="()java.text.NumberFormat" id="66538">number</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="object java.text.NumberFormat">NumberFormat</span>.<span title="(x$1: java.util.Locale)java.text.NumberFormat">getInstance</span><span class="delimiter">(</span><a href="#66545" title="java.util.Locale">locale</a><span class="delimiter">)</span></span>
<a href="l77"></a><span id="l77">  <span class="keyword">def</span> <a title="()java.text.NumberFormat" id="66539">integer</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="object java.text.NumberFormat">NumberFormat</span>.<span title="(x$1: java.util.Locale)java.text.NumberFormat">getIntegerInstance</span><span class="delimiter">(</span><a href="#66545" title="java.util.Locale">locale</a><span class="delimiter">)</span></span>
<a href="l78"></a><span id="l78">  <span class="keyword">def</span> <a title="()java.text.NumberFormat" id="66540">percent</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="object java.text.NumberFormat">NumberFormat</span>.<span title="(x$1: java.util.Locale)java.text.NumberFormat">getPercentInstance</span><span class="delimiter">(</span><a href="#66545" title="java.util.Locale">locale</a><span class="delimiter">)</span></span>
<a href="l79"></a><span id="l79"></span>
<a href="l80"></a><span id="l80">  <span class="keyword">def</span> <a title="()java.util.Calendar" id="66541">calender</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="object java.util.Calendar">Calendar</span>.<span title="(x$1: java.util.Locale)java.util.Calendar">getInstance</span><span class="delimiter">(</span><a href="#66545" title="java.util.Locale">locale</a><span class="delimiter">)</span></span>
<a href="l81"></a><span id="l81">  <span class="keyword">def</span> <a title="(style: Int)java.text.DateFormat" id="66542">dateFormat</a><span class="delimiter">(</span><a title="Int" id="77584">style</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <span title="object java.text.DateFormat">DateFormat</span>.<span title="(x$1: Int, x$2: java.util.Locale)java.text.DateFormat">getDateInstance</span><span class="delimiter">(</span><a href="#77584" title="Int">style</a>, <a href="#66545" title="java.util.Locale">locale</a><span class="delimiter">)</span></span>
<a href="l82"></a><span id="l82">  <span class="keyword">def</span> <a title="(style: Int)java.text.DateFormat" id="66543">timeFormat</a><span class="delimiter">(</span><a title="Int" id="77589">style</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <span title="object java.text.DateFormat">DateFormat</span>.<span title="(x$1: Int, x$2: java.util.Locale)java.text.DateFormat">getTimeInstance</span><span class="delimiter">(</span><a href="#77589" title="Int">style</a>, <a href="#66545" title="java.util.Locale">locale</a><span class="delimiter">)</span></span>
<a href="l83"></a><span id="l83">  <span class="keyword">def</span> <a title="(dateStyle: Int, timeStyle: Int)java.text.DateFormat" id="66544">dateTimeformat</a><span class="delimiter">(</span><a title="Int" id="66628">dateStyle</a>: <span title="Int">Int</span>, <a title="Int" id="66629">timeStyle</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <span title="object java.text.DateFormat">DateFormat</span>.<span title="(x$1: Int, x$2: Int, x$3: java.util.Locale)java.text.DateFormat">getDateTimeInstance</span><span class="delimiter">(</span><a href="#66628" title="Int">dateStyle</a>, <a href="#66629" title="Int">timeStyle</a>, <a href="#66545" title="java.util.Locale">locale</a><span class="delimiter">)</span></span>
<a href="l84"></a><span id="l84"><span class="delimiter">}</span></span>
<a href="l85"></a><span id="l85"></span>
<a href="l86"></a><span id="l86"><span class="keyword">trait</span> <a title="trait LocalisedFunctions extends java.lang.Object with ScalaObject" id="10467">LocalisedFunctions</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l87"></a><span id="l87">  <span class="keyword">def</span> <a title="(implicit locale: () =&gt; java.util.Locale)scales.utils.Localised" id="12379">localised</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="() =&gt; java.util.Locale" id="66531">locale</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Locale<span class="delimiter">)</span> = <span title="scales.utils.Localised" class="keyword">new</span> <a href="#10466" title="scales.utils.Localised">Localised</a><span class="delimiter">(</span><a href="#66531" title="()java.util.Locale">locale</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l88"></a><span id="l88">  <span class="keyword">def</span> <a title="(implicit locale: () =&gt; java.util.Locale)java.text.NumberFormat" id="12380">$</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="() =&gt; java.util.Locale" id="77661">locale</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Locale<span class="delimiter">)</span> = <a href="#12379" title="(implicit locale: () =&gt; java.util.Locale)scales.utils.Localised">localised</a><span class="delimiter">(</span><a href="#77661" title="() =&gt; java.util.Locale">locale</a><span class="delimiter">)</span>.<a href="#66537" title="()java.text.NumberFormat">currency</a><span class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l89"></a><span id="l89">  <span class="keyword">def</span> <a title="(implicit locale: () =&gt; java.util.Locale)java.text.NumberFormat" id="12381">%</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="() =&gt; java.util.Locale" id="77664">locale</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Locale<span class="delimiter">)</span> = <a href="#12379" title="(implicit locale: () =&gt; java.util.Locale)scales.utils.Localised">localised</a><span class="delimiter">(</span><a href="#77664" title="() =&gt; java.util.Locale">locale</a><span class="delimiter">)</span>.<a href="#66540" title="()java.text.NumberFormat">percent</a><span class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l90"></a><span id="l90"></span>
<a href="l91"></a><span id="l91">  <span class="keyword">def</span> <a title="(texts: Iterable[(String, Seq[Any])])(implicit resource: scales.utils.Resource)Iterable[String]" id="12382">localisedTexts</a><span class="delimiter">(</span><a title="Iterable[(String, Seq[Any])]" id="77667">texts</a>: <span title="Iterable[(String, Seq[Any])]">Iterable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Seq<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.utils.Resource" id="77668">resource</a>: <a href="#77835" title="scales.utils.Resource">Resource</a><span class="delimiter">)</span> =</span>
<a href="l92"></a><span id="l92">    <a href="#77667" title="Iterable[(String, Seq[Any])]">texts</a>.<span title="(f: (String, Seq[Any]) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[(String, Seq[Any])],String,Iterable[String]])Iterable[String]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,String,Iterable[String]]" class="delimiter">{</span> <a title="(String, Seq[Any])" id="77687">p</a> =&gt; <a href="#73649" title="(id: String, fillers: Any*)String">resource</a><span class="delimiter">(</span><a href="#77687" title="(String, Seq[Any])">p</a>.<span title="=&gt; String">_1</span>, <a href="#77687" title="(String, Seq[Any])">p</a>.<span title="=&gt; Seq[Any]">_2</span><span class="delimiter">)</span> <span class="delimiter">}</span></span>
<a href="l93"></a><span id="l93">  <span class="keyword">def</span> <a title="(texts: Iterable[(String, Seq[Any])])(implicit resource: scales.utils.Resource)Iterable[String]" id="12383">localisedITexts</a><span class="delimiter">(</span><a title="Iterable[(String, Seq[Any])]" id="77740">texts</a>: <span title="Iterable[(String, Seq[Any])]">Iterable</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Seq<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.utils.Resource" id="77741">resource</a>: <a href="#77835" title="scales.utils.Resource">Resource</a><span class="delimiter">)</span> =</span>
<a href="l94"></a><span id="l94">    <a href="#77740" title="Iterable[(String, Seq[Any])]">texts</a>.<span title="(f: (String, Seq[Any]) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[(String, Seq[Any])],String,Iterable[String]])Iterable[String]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,String,Iterable[String]]" class="delimiter">{</span> <a title="(String, Seq[Any])" id="77760">p</a> =&gt; <a href="#73650" title="(showId: Boolean, id: String, fillers: Any*)String">resource</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <a href="#77760" title="(String, Seq[Any])">p</a>.<span title="=&gt; String">_1</span>, <a href="#77760" title="(String, Seq[Any])">p</a>.<span title="=&gt; Seq[Any]">_2</span><span class="delimiter">)</span> <span class="delimiter">}</span></span>
<a href="l95"></a><span id="l95"></span>
<a href="l96"></a><span id="l96">  <span class="keyword">import</span> java.nio.charset.Charset</span>
<a href="l97"></a><span id="l97"></span>
<a href="l98"></a><span id="l98">  <span class="keyword">val</span> <a title="java.nio.charset.Charset" id="12385">UTF_8</a> = <span title="object java.nio.charset.Charset">Charset</span>.<span title="(x$1: java.lang.String)java.nio.charset.Charset">forName</span><span class="delimiter">(</span><span title="java.lang.String(&quot;UTF-8&quot;)" class="string">&quot;UTF-8&quot;</span><span class="delimiter">)</span></span>
<a href="l99"></a><span id="l99">  <span class="keyword">val</span> <a title="java.nio.charset.Charset" id="12387">UTF_16</a> = <span title="object java.nio.charset.Charset">Charset</span>.<span title="(x$1: java.lang.String)java.nio.charset.Charset">forName</span><span class="delimiter">(</span><span title="java.lang.String(&quot;UTF-16&quot;)" class="string">&quot;UTF-16&quot;</span><span class="delimiter">)</span></span>
<a href="l100"></a><span id="l100">  <span class="keyword">val</span> <a title="java.nio.charset.Charset" id="12389">UTF_32</a> = <span title="object java.nio.charset.Charset">Charset</span>.<span title="(x$1: java.lang.String)java.nio.charset.Charset">forName</span><span class="delimiter">(</span><span title="java.lang.String(&quot;UTF-32&quot;)" class="string">&quot;UTF-32&quot;</span><span class="delimiter">)</span></span>
<a href="l101"></a><span id="l101">  <span class="keyword">val</span> <a title="java.nio.charset.Charset" id="12391">US_ASCII</a> = <span title="object java.nio.charset.Charset">Charset</span>.<span title="(x$1: java.lang.String)java.nio.charset.Charset">forName</span><span class="delimiter">(</span><span title="java.lang.String(&quot;US-ASCII&quot;)" class="string">&quot;US-ASCII&quot;</span><span class="delimiter">)</span></span>
<a href="l102"></a><span id="l102">  <span class="keyword">val</span> <a title="java.nio.charset.Charset" id="12393">LATIN</a> = <span title="object java.nio.charset.Charset">Charset</span>.<span title="(x$1: java.lang.String)java.nio.charset.Charset">forName</span><span class="delimiter">(</span><span title="java.lang.String(&quot;ISO-8859-1&quot;)" class="string">&quot;ISO-8859-1&quot;</span><span class="delimiter">)</span></span>
<a href="l103"></a><span id="l103"></span>
<a href="l104"></a><span id="l104">  <span class="comment">/**</span>
<a href="l105"></a><span id="l105">   * A usable default of UTF8 NOT the vm's Charset.defaultCharset based on its locale, use vmDefaultCharset for that</span>
<a href="l106"></a><span id="l106">   */</span></span>
<a href="l107"></a><span id="l107">  <span class="keyword">val</span> <a title="java.nio.charset.Charset" id="12395">defaultCharset</a> = <a href="#12385" title="=&gt; java.nio.charset.Charset">UTF_8</a></span>
<a href="l108"></a><span id="l108"></span>
<a href="l109"></a><span id="l109">  <span class="comment">/**</span>
<a href="l110"></a><span id="l110">   * The jvm's default charset, based on system/machine/locale</span>
<a href="l111"></a><span id="l111">   */</span></span>
<a href="l112"></a><span id="l112">  <span class="keyword">val</span> <a title="java.nio.charset.Charset" id="12397">vmDefaultCharset</a> = <span title="object java.nio.charset.Charset">Charset</span>.<span title="()java.nio.charset.Charset">defaultCharset</span><span class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l113"></a><span id="l113"><span class="delimiter">}</span></span>
<a href="l114"></a><span id="l114"></span>
<a href="l115"></a><span id="l115"><span class="keyword">trait</span> <a title="trait LocalisedImplicits extends java.lang.Object with ScalaObject" id="10468">LocalisedImplicits</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l116"></a><span id="l116">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.utils.LocalisedImplicits.dateToString : (date: java.util.Date)(implicit locale: () =&gt; java.util.Locale)java.lang.String" id="66485">dateToString</a><span class="delimiter">(</span><a title="java.util.Date" id="66527">date</a>: <span title="java.util.Date">Date</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="() =&gt; java.util.Locale" id="66528">locale</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Locale<span class="delimiter">)</span> =</span>
<a href="l117"></a><span id="l117">    <a href="#12379" title="(implicit locale: () =&gt; java.util.Locale)scales.utils.Localised">localised</a><span class="delimiter">(</span><a href="#66528" title="() =&gt; java.util.Locale">locale</a><span class="delimiter">)</span>.<a href="#66544" title="(dateStyle: Int, timeStyle: Int)java.text.DateFormat">dateTimeformat</a><span class="delimiter">(</span>DateFormat.<span title="Int(0)">FULL</span>, DateFormat.<span title="Int(0)">FULL</span><span class="delimiter">)</span>.<span title="(x$1: java.util.Date)java.lang.String">format</span><span class="delimiter">(</span><a href="#66527" title="java.util.Date">date</a><span class="delimiter">)</span></span>
<a href="l118"></a><span id="l118"></span>
<a href="l119"></a><span id="l119">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.utils.LocalisedImplicits.justClass : (clazz: Class[_])(Class[_], Option[String])" id="66486">justClass</a><span class="delimiter">(</span><a title="Class[_]" id="66520">clazz</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="(Class[_], Option[String])" class="delimiter">(</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span>, Option<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="(_1: Class[_$2], _2: None.type)(Class[_$2], None.type)" class="delimiter">(</span><a href="#66520" title="Class[_]">clazz</a>, <span title="object None">None</span><span class="delimiter">)</span></span>
<a href="l120"></a><span id="l120">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.utils.LocalisedImplicits.toClass : (obj: AnyRef)(Class[_], Option[String])" id="66487">toClass</a><span class="delimiter">(</span><a title="AnyRef" id="66515">obj</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <span title="(Class[_], Option[String])" class="delimiter">(</span>Class<span class="delimiter">[</span>_<span class="delimiter">]</span>, Option<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="(_1: java.lang.Class[?0], _2: None.type)(java.lang.Class[?0], None.type)" class="delimiter">(</span><a href="#66515" title="AnyRef">obj</a>.<span title="()java.lang.Class[_]">getClass</span><span class="delimiter">(</span><span class="delimiter">)</span>, <span title="object None">None</span><span class="delimiter">)</span></span>
<a href="l121"></a><span id="l121">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.utils.LocalisedImplicits.symbolToStr : (sym: Symbol)String" id="66488">symbolToStr</a><span class="delimiter">(</span><a title="Symbol" id="66500">sym</a>: <span title="Symbol">Symbol</span><span class="delimiter">)</span> = <a href="#66500" title="Symbol">sym</a>.<span title="=&gt; String">name</span></span>
<a href="l122"></a><span id="l122"><span class="delimiter">}</span></span>
<a href="l123"></a><span id="l123"></span>
<a href="l124"></a><span id="l124">        </span>
</pre>
    </body>
</html>