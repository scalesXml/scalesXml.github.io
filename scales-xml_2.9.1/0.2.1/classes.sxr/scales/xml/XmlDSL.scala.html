<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\xml\XmlDSL.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    
<style id="linesStyle">
.lineHighlight {
  background-color: #a5a5a5;
}
</style>
<script type="text/javascript">
function selectedLine() {
    var loca = /^.*#l(.*)/.exec(location.href);
    return loca ? loca[1] : '0';
}

function highlightLine(ln){
  $('#l'+ln).toggleClass('lineHighlight');
}

function gotoLine(ln){
  $('#l'+ln).focus();
}

$(function(){
  var line = selectedLine();
  if (line != '0') highlightLine(line)
});
</script></head>
    <body>
        <pre>
<!-- SXR_LINES --><a href="l1"></a><span id="l1"><span class="keyword">package</span> scales.xml</span>
<a href="l2"></a><span id="l2"></span>
<a href="l3"></a><span id="l3"><span class="keyword">import</span> scales.utils._</span>
<a href="l4"></a><span id="l4"></span>
<a href="l5"></a><span id="l5"><span class="keyword">import</span> <a href="ScalesXml.scala.html#11813" title="object scales.xml.ScalesXml">ScalesXml</a>.xmlCBF</span>
<a href="l6"></a><span id="l6"></span>
<a href="l7"></a><span id="l7"><span class="keyword">import</span> <a href="ScalesXml.scala.html#11813" title="object scales.xml.ScalesXml">ScalesXml</a>.fromParserDefault <span class="comment">// note cannot be in parser here</span></span>
<a href="l8"></a><span id="l8"></span>
<a href="l9"></a><span id="l9"><span class="keyword">trait</span> <a title="trait DslImplicits extends java.lang.Object with ScalaObject" id="11849">DslImplicits</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l10"></a><span id="l10">  <span class="keyword">import</span> <a href="ScalesXml.scala.html#11813" title="object scales.xml.ScalesXml">ScalesXml</a>._</span>
<a href="l11"></a><span id="l11">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromElemToBuilder : (elem: scales.xml.Elem)scales.xml.DslBuilder" id="87853">fromElemToBuilder</a><span class="delimiter">(</span><a title="scales.xml.Elem" id="90369">elem</a> : <a href="XmlTypes.scala.html#11994" title="scales.xml.Elem">Elem</a><span class="delimiter">)</span> = <a href="#90320" title="(elem: scales.xml.Elem)scales.xml.DslBuilder">&lt;</a><span class="delimiter">(</span><a href="#90369" title="scales.xml.Elem">elem</a><span class="delimiter">)</span></span>
<a href="l12"></a><span id="l12">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromQNamePairToAttribute : (pair: (scales.xml.PrefixedQName, String))scales.xml.Attribute" id="87854">fromQNamePairToAttribute</a><span class="delimiter">(</span><a title="(scales.xml.PrefixedQName, String)" id="90366">pair</a> : <span title="(scales.xml.PrefixedQName, String)" class="delimiter">(</span>PrefixedQName, String<span class="delimiter">)</span><span class="delimiter">)</span> = <a href="XmlTypes.scala.html#87913" title="(name: scales.xml.package.AttributeQName, value: String)scales.xml.Attribute">Attribute</a><span class="delimiter">(</span><a href="#90366" title="(scales.xml.PrefixedQName, String)">pair</a>.<span title="=&gt; scales.xml.PrefixedQName">_1</span>, <a href="#90366" title="(scales.xml.PrefixedQName, String)">pair</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span></span>
<a href="l13"></a><span id="l13"></span>
<a href="l14"></a><span id="l14">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromDslBuilderToTree : (dslB: scales.xml.DslBuilder)scales.xml.package.XmlTree" id="87855">fromDslBuilderToTree</a><span class="delimiter">(</span><a title="scales.xml.DslBuilder" id="90363">dslB</a> : <a href="#11855" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">)</span> = <a href="#90363" title="scales.xml.DslBuilder">dslB</a>.<a href="#90016" title="=&gt; scales.xml.package.XmlTree">toTree</a></span>
<a href="l15"></a><span id="l15">  </span>
<a href="l16"></a><span id="l16">  <span class="comment">/**</span>
<a href="l17"></a><span id="l17">   * Only works for elems, allows simpler definitions</span>
<a href="l18"></a><span id="l18">   */</span></span>
<a href="l19"></a><span id="l19">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromQNameToTree : (qname: scales.xml.QName)scales.xml.package.XmlTree" id="87856">fromQNameToTree</a><span class="delimiter">(</span> <a title="scales.xml.QName" id="90357">qname</a> : <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a><span class="delimiter">)</span> = <a href="#11853" title="object scales.xml.DslBuilder">DslBuilder</a>.<a href="#90265" title="(qname: scales.xml.QName)scales.xml.package.XmlTree">q2tree</a><span class="delimiter">(</span><a href="#90357" title="scales.xml.QName">qname</a><span class="delimiter">)</span></span>
<a href="l20"></a><span id="l20"></span>
<a href="l21"></a><span id="l21">  <span class="comment">/**</span>
<a href="l22"></a><span id="l22">   * Only works for elems, allows simpler definitions.  Not sure of its usefulness outside of tests though</span>
<a href="l23"></a><span id="l23">  implicit def fromQNameToItemOrTree( qname : QName) : ItemOrElem = DslBuilder.q2tree(qname)//Right()</span>
<a href="l24"></a><span id="l24">   */</span></span>
<a href="l25"></a><span id="l25"></span>
<a href="l26"></a><span id="l26">  <span class="comment">/**</span>
<a href="l27"></a><span id="l27">   * Only works for elems, better looking than &lt;</span>
<a href="l28"></a><span id="l28">   */</span></span>
<a href="l29"></a><span id="l29">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromQNameToBuilder : (qname: scales.xml.QName)scales.xml.DslBuilder" id="87857">fromQNameToBuilder</a><span class="delimiter">(</span> <a title="scales.xml.QName" id="90315">qname</a> : <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a><span class="delimiter">)</span> = <a href="#90319" title="(qname: scales.xml.QName)scales.xml.DslBuilder">&lt;</a><span class="delimiter">(</span><a href="#90315" title="scales.xml.QName">qname</a><span class="delimiter">)</span></span>
<a href="l30"></a><span id="l30"></span>
<a href="l31"></a><span id="l31">  <span class="keyword">class</span> <a title="class QNameMatcher extends java.lang.Object with ScalaObject" id="87858">QNameMatcher</a><a href="#87858" title="ScalaObject" class="delimiter">(</a><a title="scales.xml.QName" id="90298">qname</a> : <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l32"></a><span id="l32">    <span class="keyword">import</span> <a href="ScalesXml.scala.html#11813" title="object scales.xml.ScalesXml">ScalesXml</a>._</span>
<a href="l33"></a><span id="l33">    <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)Option[scales.xml.Elem]" id="90296">unapply</a><span class="delimiter">(</span> <a title="scales.xml.Elem" id="96939">elem</a> : <a href="XmlTypes.scala.html#11994" title="scales.xml.Elem">Elem</a> <span class="delimiter">)</span> : <span title="Option[scales.xml.Elem]">Option</span><span class="delimiter">[</span>Elem<span class="delimiter">]</span> = <span title="Option[scales.xml.Elem]" class="keyword">if</span> <span class="delimiter">(</span><a href="#96939" title="scales.xml.Elem">elem</a>.<a href="XmlTypes.scala.html#88395" title="=&gt; scales.xml.QName">name</a> <a href="QName.scala.html#87944" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#90298" title="scales.xml.QName">qname</a><span class="delimiter">)</span> <span title="(x: scales.xml.Elem)Some[scales.xml.Elem]">Some</span><span class="delimiter">(</span><a href="#96939" title="scales.xml.Elem">elem</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="object None">None</span></span>
<a href="l34"></a><span id="l34">    <span class="keyword">def</span> <a title="(attrib: scales.xml.Attribute)Option[scales.xml.Attribute]" id="90297">unapply</a><span class="delimiter">(</span> <a title="scales.xml.Attribute" id="96944">attrib</a> : <a href="XmlTypes.scala.html#11986" title="scales.xml.Attribute">Attribute</a> <span class="delimiter">)</span> : <span title="Option[scales.xml.Attribute]">Option</span><span class="delimiter">[</span>Attribute<span class="delimiter">]</span> = <span title="Option[scales.xml.Attribute]" class="keyword">if</span> <span class="delimiter">(</span><a href="XmlTypes.scala.html#87809" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">toQName</a><span class="delimiter">(</span><a href="#96944" title="scales.xml.Attribute">attrib</a>.<a href="XmlTypes.scala.html#87901" title="=&gt; scales.xml.package.AttributeQName">name</a><span class="delimiter">)</span> <a href="QName.scala.html#87944" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#90298" title="scales.xml.QName">qname</a><span class="delimiter">)</span> <span title="(x: scales.xml.Attribute)Some[scales.xml.Attribute]">Some</span><span class="delimiter">(</span><a href="#96944" title="scales.xml.Attribute">attrib</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="object None">None</span></span>
<a href="l35"></a><span id="l35">  <span class="delimiter">}</span></span>
<a href="l36"></a><span id="l36"></span>
<a href="l37"></a><span id="l37">  <span class="comment">/**</span>
<a href="l38"></a><span id="l38">   * matches elements and attributes based on qname only</span>
<a href="l39"></a><span id="l39">   */</span></span>
<a href="l40"></a><span id="l40">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromQNameToQNameMatcher : (qname: scales.xml.QName)java.lang.Object{def m: DslImplicits.this.QNameMatcher; def matcher: DslImplicits.this.QNameMatcher}" id="87859">fromQNameToQNameMatcher</a><span class="delimiter">(</span> <a title="scales.xml.QName" id="90285">qname</a> : <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a><span class="delimiter">)</span> = <a href="#90288" title="java.lang.Object{def m: DslImplicits.this.QNameMatcher; def matcher: DslImplicits.this.QNameMatcher}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object" id="90288" class="delimiter">{</a></span>
<a href="l41"></a><span id="l41">    <span class="keyword">def</span> <a title="=&gt; DslImplicits.this.QNameMatcher" id="90290">m</a> = <span title="DslImplicits.this.QNameMatcher" class="keyword">new</span> <a href="#87858" title="DslImplicits.this.QNameMatcher">QNameMatcher</a><span class="delimiter">(</span><a href="#90285" title="scales.xml.QName">qname</a><span class="delimiter">)</span></span>
<a href="l42"></a><span id="l42">    <span class="keyword">def</span> <a title="=&gt; DslImplicits.this.QNameMatcher" id="90291">matcher</a> = <a href="#90290" title="=&gt; DslImplicits.this.QNameMatcher">m</a></span>
<a href="l43"></a><span id="l43">  <span class="delimiter">}</span></span>
<a href="l44"></a><span id="l44"></span>
<a href="l45"></a><span id="l45">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromTreeToDsl : (tree: scales.xml.package.XmlTree)scales.xml.DslBuilder" id="87860">fromTreeToDsl</a><span class="delimiter">(</span> <a title="scales.xml.package.XmlTree" id="90260">tree</a>: <a href="../utils/Trees.scala.html#10655" title="scales.xml.package.XmlTree">XmlTree</a> <span class="delimiter">)</span> = <a href="#90267" title="(tree: scales.xml.package.XmlTree)scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#90260" title="scales.xml.package.XmlTree">tree</a><span class="delimiter">)</span></span>
<a href="l46"></a><span id="l46"></span>
<a href="l47"></a><span id="l47"><span class="delimiter">}</span></span>
<a href="l48"></a><span id="l48"></span>
<a href="l49"></a><span id="l49"><span class="keyword">trait</span> <a title="trait XPathMatcher extends java.lang.Object with ScalaObject" id="11850">XPathMatcher</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l50"></a><span id="l50"></span>
<a href="l51"></a><span id="l51">  <span class="comment">/**</span>
<a href="l52"></a><span id="l52">   * Wrap xpaths into matches, gives back the resulting path if its non empty</span>
<a href="l53"></a><span id="l53">   */</span> </span>
<a href="l54"></a><span id="l54">  <span class="keyword">def</span> <a title="[T](pathEval: scales.xml.package.XmlTree =&gt; T)(implicit evidence$1: T =&gt; Boolean)scales.utils.package.BooleanMatcher[scales.xml.package.XmlTree,T]" id="96952">pathMatcher</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12481">T</a> : AsBoolean<span class="delimiter">]</span><span class="delimiter">(</span> <a title="scales.xml.package.XmlTree =&gt; T" id="96951">pathEval</a> : <span class="delimiter">(</span>XmlTree<span class="delimiter">)</span> =&gt; T <span class="delimiter">)</span> = <a href="../utils/AsBoolean.scala.html#12084" title="[X, T](eval: X =&gt; T)(implicit evidence$4: T =&gt; Boolean)scales.utils.package.BooleanMatcher[X,T]">booleanMatcher</a><span title="(eval: scales.xml.package.XmlTree =&gt; T)(implicit evidence$4: T =&gt; Boolean)scales.utils.package.BooleanMatcher[scales.xml.package.XmlTree,T]" class="delimiter">[</span><a href="../utils/Trees.scala.html#10655" title="scales.xml.package.XmlTree">XmlTree</a>, <a href="#12481" title="T">T</a><span class="delimiter">]</span><a href="#96952" title="T =&gt; Boolean" class="delimiter">(</a><a href="#96951" title="scales.xml.package.XmlTree =&gt; T">pathEval</a><span class="delimiter">)</span></span>
<a href="l55"></a><span id="l55"></span>
<a href="l56"></a><span id="l56">  </span>
<a href="l57"></a><span id="l57">  <span class="comment">/**</span>
<a href="l58"></a><span id="l58">   * Wrap xpaths into matches, gives back the resulting path if its non empty</span>
<a href="l59"></a><span id="l59">   * and the tree that matched it (doesn't force the user to create a val name beforehand)</span>
<a href="l60"></a><span id="l60">   */</span> </span>
<a href="l61"></a><span id="l61">  <span class="keyword">def</span> <a title="[T](pathEval: scales.xml.package.XmlTree =&gt; T)(implicit evidence$2: T =&gt; Boolean)scales.utils.package.BooleanAndTMatcher[scales.xml.package.XmlTree,T]" id="96964">pathAndTreeMatcher</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12484">T</a> : AsBoolean<span class="delimiter">]</span><span class="delimiter">(</span> <a title="scales.xml.package.XmlTree =&gt; T" id="96963">pathEval</a> : <span class="delimiter">(</span>XmlTree<span class="delimiter">)</span> =&gt; T <span class="delimiter">)</span> = <a href="../utils/AsBoolean.scala.html#12089" title="[X, T](eval: X =&gt; T)(implicit evidence$5: T =&gt; Boolean)scales.utils.package.BooleanAndTMatcher[X,T]">booleanAndTMatcher</a><span title="(eval: scales.xml.package.XmlTree =&gt; T)(implicit evidence$5: T =&gt; Boolean)scales.utils.package.BooleanAndTMatcher[scales.xml.package.XmlTree,T]" class="delimiter">[</span><a href="../utils/Trees.scala.html#10655" title="scales.xml.package.XmlTree">XmlTree</a>, <a href="#12484" title="T">T</a><span class="delimiter">]</span><a href="#96964" title="T =&gt; Boolean" class="delimiter">(</a><a href="#96963" title="scales.xml.package.XmlTree =&gt; T">pathEval</a><span class="delimiter">)</span></span>
<a href="l62"></a><span id="l62"><span class="delimiter">}</span></span>
<a href="l63"></a><span id="l63"></span>
<a href="l64"></a><span id="l64"><span class="keyword">object</span> <a title="object scales.xml.&lt;" id="11851">&lt;</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l65"></a><span id="l65">  <span class="keyword">def</span> <a title="(qname: scales.xml.QName)scales.xml.DslBuilder" id="90319">apply</a><span class="delimiter">(</span><a title="scales.xml.QName" id="90334">qname</a> : <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a><span class="delimiter">)</span> = <a href="#90266" title="(elem: scales.xml.Elem)scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="XmlTypes.scala.html#88403" title="(namei: scales.xml.QName, attributesi: scales.xml.package.Attributes, namespacesi: scala.collection.immutable.Map[String,String])(implicit fromParser: scales.xml.FromParser)scales.xml.Elem">Elem</a><a href="XmlTypes.scala.html#87816" title="=&gt; scales.xml.FromParser" class="delimiter">(</a><a href="#90334" title="scales.xml.QName">qname</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l66"></a><span id="l66">  <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)scales.xml.DslBuilder" id="90320">apply</a><span class="delimiter">(</span><a title="scales.xml.Elem" id="90323">elem</a> : <a href="XmlTypes.scala.html#11994" title="scales.xml.Elem">Elem</a><span class="delimiter">)</span> = <a href="#90266" title="(elem: scales.xml.Elem)scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#90323" title="scales.xml.Elem">elem</a><span class="delimiter">)</span></span>
<a href="l67"></a><span id="l67"><span class="delimiter">}</span></span>
<a href="l68"></a><span id="l68"></span>
<a href="l69"></a><span id="l69"><span class="keyword">protected</span><span class="delimiter">[</span>xml<span class="delimiter">]</span> <span class="keyword">object</span> <a title="object scales.xml.DslBuilder" id="11853">DslBuilder</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l70"></a><span id="l70">  <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)scales.xml.package.XmlTree" id="90264">elem2tree</a><span class="delimiter">(</span> <a title="scales.xml.Elem" id="90277">elem</a> : <a href="XmlTypes.scala.html#11994" title="scales.xml.Elem">Elem</a> <span class="delimiter">)</span> : <a href="../utils/Trees.scala.html#10655" title="scales.xml.package.XmlTree">XmlTree</a> = <a href="../utils/package.scala.html#12062" title="[Item &lt;: scales.utils.LeftLike[Item,scales.utils.Tree[Item,Section,CC]], Section, CC[A] &lt;: scala.collection.IndexedSeqLike[A,CC[A]]](section: Section, children: CC[scales.utils.package.ItemOrTree[Item,Section,CC]])(implicit cbf: scales.utils.package.TreeCBF[Item,Section,CC])scales.utils.package.ItemOrTree[Item,Section,CC]">subtree</a><span title="(section: scales.xml.Elem, children: scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]])(implicit cbf: scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" class="delimiter">[</span><a href="XmlTypes.scala.html#11998" title="scales.xml.XmlItem">XmlItem</a>, <a href="XmlTypes.scala.html#11994" title="scales.xml.Elem">Elem</a>, <a href="../utils/ImmutableArray.scala.html#10380" title="scales.xml.package.XCC">XCC</a><span class="delimiter">]</span><a href="XmlTypes.scala.html#87812" title="=&gt; scales.xml.package.XmlCBF" class="delimiter">(</a><a href="#90277" title="scales.xml.Elem">elem</a>,<a href="XmlTypes.scala.html#12427" title="=&gt; scales.utils.ImmutableArrayProxy[scales.utils.EitherLike[scales.xml.XmlItem,scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">emptyChildren</a><span class="delimiter">)</span>.<a href="../utils/EitherLike.scala.html#39640" title="=&gt; scales.utils.RightLikeProjection[scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">right</a>.<a href="../utils/EitherLike.scala.html#39620" title="=&gt; scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">get</a></span>
<a href="l71"></a><span id="l71">  <span class="keyword">def</span> <a title="(qname: scales.xml.QName)scales.xml.package.XmlTree" id="90265">q2tree</a><span class="delimiter">(</span> <a title="scales.xml.QName" id="90360">qname</a> : <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a> <span class="delimiter">)</span> = <a href="#90264" title="(elem: scales.xml.Elem)scales.xml.package.XmlTree">elem2tree</a><span class="delimiter">(</span><a href="XmlTypes.scala.html#88403" title="(namei: scales.xml.QName, attributesi: scales.xml.package.Attributes, namespacesi: scala.collection.immutable.Map[String,String])(implicit fromParser: scales.xml.FromParser)scales.xml.Elem">Elem</a><a href="XmlTypes.scala.html#87816" title="=&gt; scales.xml.FromParser" class="delimiter">(</a><a href="#90360" title="scales.xml.QName">qname</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l72"></a><span id="l72">  <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)scales.xml.DslBuilder" id="90266">apply</a><span class="delimiter">(</span> <a title="scales.xml.Elem" id="90274">elem</a> : <a href="XmlTypes.scala.html#11994" title="scales.xml.Elem">Elem</a> <span class="delimiter">)</span> = <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#11855" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#90264" title="(elem: scales.xml.Elem)scales.xml.package.XmlTree">elem2tree</a><span class="delimiter">(</span><a href="#90274" title="scales.xml.Elem">elem</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l73"></a><span id="l73">  <span class="keyword">def</span> <a title="(tree: scales.xml.package.XmlTree)scales.xml.DslBuilder" id="90267">apply</a><span class="delimiter">(</span> <a title="scales.xml.package.XmlTree" id="90270">tree</a> : <a href="../utils/Trees.scala.html#10655" title="scales.xml.package.XmlTree">XmlTree</a> <span class="delimiter">)</span> = <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#11855" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#90270" title="scales.xml.package.XmlTree">tree</a><span class="delimiter">)</span></span>
<a href="l74"></a><span id="l74"><span class="delimiter">}</span></span>
<a href="l75"></a><span id="l75"></span>
<a href="l76"></a><span id="l76"><span class="comment">/*</span>
<a href="l77"></a><span id="l77"> * Must have a starting element, modelled as tree as we need to keep the data around and trees must always have an elem</span>
<a href="l78"></a><span id="l78"> */</span></span>
<a href="l79"></a><span id="l79"><span class="keyword">class</span> <a title="class DslBuilder extends java.lang.Object with ScalaObject" id="11855">DslBuilder</a> <a href="#11855" title="ScalaObject" class="keyword">private</a><span class="delimiter">(</span> <a title="scales.xml.package.XmlTree" id="90273">tree</a> : <a href="../utils/Trees.scala.html#10655" title="scales.xml.package.XmlTree">XmlTree</a> <span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l80"></a><span id="l80">  <span class="keyword">import</span> <a href="ScalesXml.scala.html#11813" title="object scales.xml.ScalesXml">ScalesXml</a>._</span>
<a href="l81"></a><span id="l81">  <span class="comment">/**</span>
<a href="l82"></a><span id="l82">   * Add attributes</span>
<a href="l83"></a><span id="l83">  */</span> </span>
<a href="l84"></a><span id="l84">  <span class="keyword">def</span> <a title="(attribs: scales.xml.Attribute*)scales.xml.DslBuilder" id="90007">/@</a><span class="delimiter">(</span><a title="scales.xml.Attribute*" id="96993">attribs</a> : <span title="scales.xml.Attribute*">Attribute</span>*<span class="delimiter">)</span> = <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#11855" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#90273" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#67502" title="(section: scales.xml.Elem, children: scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]])scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">copy</a><span class="delimiter">(</span>section = <a href="#90273" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#67494" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#97009" title="scales.xml.QName" id="97089">copy</a> <a href="XmlTypes.scala.html#87816" title="=&gt; scales.xml.FromParser" class="delimiter">(</a>attributes = <a href="#90273" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#67494" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88396" title="=&gt; scales.xml.package.Attributes">attributes</a> <a href="../utils/ListSet.scala.html#70297" title="scales.utils.ListSet[scales.xml.Attribute]" id="97087">++</a> <a href="#96993" title="scales.xml.Attribute*">attribs</a><span class="delimiter">)</span> <span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l85"></a><span id="l85"></span>
<a href="l86"></a><span id="l86">  <span class="comment">/**</span>
<a href="l87"></a><span id="l87">   * Remove attributes</span>
<a href="l88"></a><span id="l88">   */</span></span>
<a href="l89"></a><span id="l89">  <span class="keyword">def</span> <a title="(attribs: scales.xml.QName*)scales.xml.DslBuilder" id="90008">-/@</a><span class="delimiter">(</span><a title="scales.xml.QName*" id="97111">attribs</a> : <span title="scales.xml.QName*">QName</span>*<span class="delimiter">)</span> = <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#11855" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#90273" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#67502" title="(section: scales.xml.Elem, children: scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]])scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">copy</a><span class="delimiter">(</span>section = <a href="#90273" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#67494" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#97009" title="scales.xml.QName" id="97222">copy</a> <a href="XmlTypes.scala.html#87816" title="=&gt; scales.xml.FromParser" class="delimiter">(</a>attributes = <a href="#90273" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#67494" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88396" title="=&gt; scales.xml.package.Attributes">attributes</a> <a href="../utils/ListSet.scala.html#70299" title="scales.utils.ListSet[scales.xml.Attribute]" id="97220">--</a> <a href="#97111" title="scales.xml.QName*">attribs</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l90"></a><span id="l90">  </span>
<a href="l91"></a><span id="l91">  <span class="comment">/**</span>
<a href="l92"></a><span id="l92">   * Add a number of child elements (as trees).  Via the implicit DslBuilders can then be embedded</span>
<a href="l93"></a><span id="l93">   */</span></span>
<a href="l94"></a><span id="l94">  <span class="keyword">def</span> <a title="(elems: scales.xml.package.XmlTree*)scales.xml.DslBuilder" id="90009">/</a><span class="delimiter">(</span> <a title="scales.xml.package.XmlTree*" id="97237">elems</a> : <span title="scales.xml.package.XmlTree*">XmlTree</span> * <span class="delimiter">)</span> : <a href="#11855" title="scales.xml.DslBuilder">DslBuilder</a> = </span>
<a href="l95"></a><span id="l95">    <a href="#90011" title="(elems: =&gt; Iterable[scales.xml.package.XmlTree])scales.xml.DslBuilder">/</a><span class="delimiter">(</span><a href="#97237" title="scales.xml.package.XmlTree*">elems</a><span class="delimiter">)</span></span>
<a href="l96"></a><span id="l96"></span>
<a href="l97"></a><span id="l97">  <span class="keyword">def</span> <a title="(elems: scales.xml.package.XmlTree*)scales.xml.DslBuilder" id="90010">add</a><span class="delimiter">(</span> <a title="scales.xml.package.XmlTree*" id="97356">elems</a> : <span title="scales.xml.package.XmlTree*">XmlTree</span> * <span class="delimiter">)</span> = <a href="#90009" title="(elems: scales.xml.package.XmlTree*)scales.xml.DslBuilder">/</a><span class="delimiter">(</span> <a href="#97356" title="scales.xml.package.XmlTree*">elems</a> :_* <span class="delimiter">)</span></span>
<a href="l98"></a><span id="l98"></span>
<a href="l99"></a><span id="l99">  <span class="keyword">def</span> <a title="(elems: =&gt; Iterable[scales.xml.package.XmlTree])scales.xml.DslBuilder" id="90011">/</a><span class="delimiter">(</span> <a title="=&gt; Iterable[scales.xml.package.XmlTree]" id="97352">elems</a> : =&gt; Iterable<span class="delimiter">[</span>XmlTree<span class="delimiter">]</span> <span class="delimiter">)</span> : <a href="#11855" title="scales.xml.DslBuilder">DslBuilder</a> =</span>
<a href="l100"></a><span id="l100">    <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#11855" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#90273" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#87676" title="scales.xml.Elem" id="97423">copy</a><span class="delimiter">(</span> children = <span class="delimiter">(</span><a href="#90273" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#67496" title="=&gt; scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">children</a> <a href="XmlTypes.scala.html#87812" title="scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" id="97422">++</a> <a href="#97352" title="=&gt; Iterable[scales.xml.package.XmlTree]">elems</a><span class="comment">/*++ elems.map(Right(_))*/</span>  <span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l101"></a><span id="l101"></span>
<a href="l102"></a><span id="l102">  <span class="comment">/**</span>
<a href="l103"></a><span id="l103">   * any qname will do given its elems</span>
<a href="l104"></a><span id="l104">   */</span></span>
<a href="l105"></a><span id="l105">  <span class="keyword">def</span> <a title="(qname: scales.xml.QName)scales.xml.DslBuilder" id="90012">-/</a><span class="delimiter">(</span> <a title="scales.xml.QName" id="97424">qname</a> : <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a> <span class="delimiter">)</span> = <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#11855" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#90273" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#87676" title="scales.xml.Elem" id="97472">copy</a><span class="delimiter">(</span>children = <a href="#90273" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#67496" title="=&gt; scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">children</a>.<span title="(p: scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC] =&gt; Boolean)scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">filterNot</span><a title="scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" id="97471" class="delimiter">{</a></span>
<a href="l106"></a><span id="l106">    <a title="scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="97442">either</a> =&gt;</span>
<a href="l107"></a><span id="l107">      <a href="#97442" title="scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">either</a>.<a href="../utils/EitherLike.scala.html#39635" title="(fl: scales.xml.XmlItem =&gt; Boolean, fr: scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC] =&gt; Boolean)Boolean">fold</a><span class="delimiter">(</span> <a title="scales.xml.XmlItem" id="97449">item</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>, <a title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="97451">tree</a> =&gt; <a href="#97451" title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67494" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88395" title="=&gt; scales.xml.QName">name</a> <a href="QName.scala.html#87944" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#97424" title="scales.xml.QName">qname</a><span class="delimiter">)</span></span>
<a href="l108"></a><span id="l108">  <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l109"></a><span id="l109"></span>
<a href="l110"></a><span id="l110">  <span class="comment">/**</span>
<a href="l111"></a><span id="l111">   * Add a number of xmlITems, text, cdata, comments etc, the two params is to get around /(Seq) erasures.</span>
<a href="l112"></a><span id="l112">   */</span></span>
<a href="l113"></a><span id="l113">  <span class="keyword">def</span> <a title="(item1: scales.xml.XmlItem, items: scales.xml.XmlItem*)scales.xml.DslBuilder" id="90013">/</a><span class="delimiter">(</span> <a title="scales.xml.XmlItem" id="97243">item1</a> : <a href="XmlTypes.scala.html#11998" title="scales.xml.XmlItem">XmlItem</a>, <a title="scales.xml.XmlItem*" id="97244">items</a>: <span title="scales.xml.XmlItem*">XmlItem</span> * <span class="delimiter">)</span> = </span>
<a href="l114"></a><span id="l114">    <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#11855" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#90273" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#87676" title="scales.xml.Elem" id="97351">copy</a><span class="delimiter">(</span> children = <span class="delimiter">(</span><a href="#90273" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#67496" title="=&gt; scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">children</a> <a href="XmlTypes.scala.html#87812" title="(elem: scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]],scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC],scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]])scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">:+</a> <a href="../utils/package.scala.html#12055" title="[Item &lt;: scales.utils.LeftLike[Item,scales.utils.Tree[Item,Section,CC]], Section, CC[X] &lt;: scala.collection.IndexedSeqLike[X,CC[X]]](item: Item)scales.utils.package.ItemOrTree[Item,Section,CC]">item</a><span title="(item: scales.xml.XmlItem)scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" class="delimiter">[</span><a href="XmlTypes.scala.html#11998" title="scales.xml.XmlItem">XmlItem</a>, <a href="XmlTypes.scala.html#11994" title="scales.xml.Elem">Elem</a>, <a href="../utils/ImmutableArray.scala.html#10380" title="scales.xml.package.XCC">XCC</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#97243" title="scales.xml.XmlItem">item1</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="XmlTypes.scala.html#87812" title="scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" id="97350">++</a> <a href="#97244" title="scales.xml.XmlItem*">items</a><span class="comment">/*.map(item[XmlItem, Elem, XCC](_))*/</span>  <span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l115"></a><span id="l115"></span>
<a href="l116"></a><span id="l116">  <span class="comment">/**</span>
<a href="l117"></a><span id="l117">   * sets the tree to a single Text node child, replacing all others</span>
<a href="l118"></a><span id="l118">   */</span></span>
<a href="l119"></a><span id="l119">  <span class="keyword">def</span> <a title="(value: String)scales.xml.DslBuilder" id="90014">~&gt;</a><span class="delimiter">(</span> <a title="String" id="97473">value</a> : <span title="String">String</span> <span class="delimiter">)</span> = <span class="comment">// note ~&gt; is used not -&gt; as it will then get in the way of the tupler</span></span>
<a href="l120"></a><span id="l120">    <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#11855" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#90273" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#87676" title="scales.xml.Elem" id="97553">copy</a><span class="delimiter">(</span>children = <a href="XmlTypes.scala.html#12427" title="=&gt; scales.utils.ImmutableArrayProxy[scales.utils.EitherLike[scales.xml.XmlItem,scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">emptyChildren</a> <a href="XmlTypes.scala.html#87812" title="scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" id="97552">:+</a> <a href="../utils/package.scala.html#12055" title="[Item &lt;: scales.utils.LeftLike[Item,scales.utils.Tree[Item,Section,CC]], Section, CC[X] &lt;: scala.collection.IndexedSeqLike[X,CC[X]]](item: Item)scales.utils.package.ItemOrTree[Item,Section,CC]">item</a><span title="(item: scales.xml.XmlItem)scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" class="delimiter">[</span><a href="XmlTypes.scala.html#11998" title="scales.xml.XmlItem">XmlItem</a>, <a href="XmlTypes.scala.html#11994" title="scales.xml.Elem">Elem</a>, <a href="../utils/ImmutableArray.scala.html#10380" title="scales.xml.package.XCC">XCC</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="XmlTypes.scala.html#97509" title="(value: String)scales.xml.Text">Text</a><span class="delimiter">(</span><a href="#97473" title="String">value</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l121"></a><span id="l121">  </span>
<a href="l122"></a><span id="l122">  <span class="comment">/**</span>
<a href="l123"></a><span id="l123">   * Cleans out any child text nodes (comments, cdata etc) and just leaves child elements</span>
<a href="l124"></a><span id="l124">   */</span></span>
<a href="l125"></a><span id="l125">  <span class="keyword">def</span> <a title="=&gt; scales.xml.DslBuilder" id="90015">elementsOnly</a> = <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#11855" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#90273" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#87676" title="scales.xml.Elem" id="97597">copy</a><span class="delimiter">(</span>children = <a href="#90273" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#67496" title="=&gt; scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">children</a>.<span title="(p: scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC] =&gt; Boolean)scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">filter</span><a title="scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" id="97596" class="delimiter">(</a> <a href="#97572" title="scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">_</a>.<a href="../utils/EitherLike.scala.html#39635" title="(fl: scales.xml.XmlItem =&gt; Boolean, fr: scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC] =&gt; Boolean)Boolean">fold</a><span class="delimiter">(</span> <a title="scales.xml.XmlItem" id="97579">_</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>, <a title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="97581">_</a> =&gt; <span title="Boolean(true)" class="keyword">true</span> <span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l126"></a><span id="l126"></span>
<a href="l127"></a><span id="l127">  <span class="keyword">def</span> <a title="=&gt; scales.xml.package.XmlTree" id="90016">toTree</a> = <a href="#90273" title="scales.xml.package.XmlTree">tree</a></span>
<a href="l128"></a><span id="l128"></span>
<a href="l129"></a><span id="l129"><span class="delimiter">}</span></span>
<a href="l130"></a><span id="l130"></span>
<a href="l131"></a><span id="l131">        </span>
</pre>
    </body>
</html>