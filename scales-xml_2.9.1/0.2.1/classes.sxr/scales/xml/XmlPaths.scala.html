<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\xml\XmlPaths.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    
<style id="linesStyle">
.lineHighlight {
  background-color: #a5a5a5;
}
</style>
<script type="text/javascript">
function selectedLine() {
    var loca = /^.*#l(.*)/.exec(location.href);
    return loca ? loca[1] : '0';
}

function highlightLine(ln){
  $('#l'+ln).toggleClass('lineHighlight');
}

function gotoLine(ln){
  $('#l'+ln).focus();
}

$(function(){
  var line = selectedLine();
  if (line != '0') highlightLine(line)
});
</script></head>
    <body>
        <pre>
<!-- SXR_LINES --><a href="l1"></a><span id="l1"><span class="keyword">package</span> scales.xml</span>
<a href="l2"></a><span id="l2"></span>
<a href="l3"></a><span id="l3"><span class="comment">/** Simple container for keeping relationship between the parent and attribute */</span></span>
<a href="l4"></a><span id="l4">case <span class="keyword">class</span> <a title="class AttributePath extends java.lang.Object with ScalaObject with Product with Serializable" id="105965">AttributePath</a><a href="#105965" title="ScalaObject" class="delimiter">(</a><a title="scales.xml.Attribute" id="104202">attribute</a>: <a href="XmlTypes.scala.html#11986" title="scales.xml.Attribute">Attribute</a>, <a title="scales.xml.package.XmlPath" id="104203">parent</a>: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span></span>
<a href="l5"></a><span id="l5"></span>
<a href="l6"></a><span id="l6">case <span class="keyword">class</span> <a title="class XmlPathComparisoms extends java.lang.Object with ScalaObject with Product with Serializable" id="105961">XmlPathComparisoms</a><a href="#105961" title="ScalaObject" class="delimiter">(</a><a title="scales.xml.package.XmlPath" id="90529">path</a>: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l7"></a><span id="l7">  <span class="keyword">def</span> <a title="(other: String)Boolean" id="90526">===</a><span class="delimiter">(</span><a title="String" id="99730">other</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#12471" title="object scales.xml.package.Elements">Elements</a>.<a href="#99734" title="object scales.xml.package.Elements.Functions">Functions</a>.<a href="#99749" title="(implicit path: scales.xml.package.XmlPath)String">text</a><span class="delimiter">(</span><a href="#90529" title="=&gt; scales.xml.package.XmlPath">path</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#99730" title="String">other</a></span>
<a href="l8"></a><span id="l8"><span class="delimiter">}</span></span>
<a href="l9"></a><span id="l9"></span>
<a href="l10"></a><span id="l10">case <span class="keyword">class</span> <a title="class AttributePathComparisoms extends java.lang.Object with ScalaObject with Product with Serializable" id="105957">AttributePathComparisoms</a><a href="#105957" title="ScalaObject" class="delimiter">(</a><a title="scales.xml.AttributePath" id="90512">path</a>: <a href="#105965" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l11"></a><span id="l11">  <span class="keyword">def</span> <a title="(other: String)Boolean" id="90509">===</a><span class="delimiter">(</span><a title="String" id="99801">other</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#12465" title="object scales.xml.package.Attributes">Attributes</a>.<a href="#99805" title="object scales.xml.package.Attributes.Functions">Functions</a>.<a href="#99819" title="(implicit attribute: scales.xml.AttributePath)String">text</a><span class="delimiter">(</span><a href="#90512" title="=&gt; scales.xml.AttributePath">path</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#99801" title="String">other</a></span>
<a href="l12"></a><span id="l12"><span class="delimiter">}</span></span>
<a href="l13"></a><span id="l13"></span>
<a href="l14"></a><span id="l14"><span class="keyword">import</span> scales.utils._</span>
<a href="l15"></a><span id="l15"><span class="keyword">import</span> scala.collection.generic.CanBuildFrom</span>
<a href="l16"></a><span id="l16"><span class="keyword">import</span> scales.utils.one</span>
<a href="l17"></a><span id="l17"></span>
<a href="l18"></a><span id="l18"></span>
<a href="l19"></a><span id="l19"><span class="keyword">trait</span> <a title="trait XmlPathImplicits extends java.lang.Object with ScalaObject" id="11895">XmlPathImplicits</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l20"></a><span id="l20">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="(scales.xml.package.XmlPath, scales.xml.package.XmlPath) =&gt; Boolean" id="87829">samePath</a>: <span class="delimiter">(</span>XmlPath, XmlPath<span class="delimiter">)</span> =&gt; Boolean = <a href="../utils/Paths.scala.html#12272" title="(path1: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], path2: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])(Int, scales.utils.Position[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], scales.utils.Position[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])">comparePaths</a><span class="delimiter">(</span><a href="#99877" title="scales.xml.package.XmlPath">_</a>, <a href="#99878" title="scales.xml.package.XmlPath">_</a><span class="delimiter">)</span>.<span title="=&gt; Int">_1</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span></span>
<a href="l21"></a><span id="l21"></span>
<a href="l22"></a><span id="l22">  <span class="comment">/** Unpack the attribute from the tuple */</span></span>
<a href="l23"></a><span id="l23">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlPathImplicits.fromAttrPathToAttribute : (attrPath: scales.xml.AttributePath)scales.xml.Attribute" id="87831">fromAttrPathToAttribute</a><span class="delimiter">(</span><a title="scales.xml.AttributePath" id="90543">attrPath</a>: <a href="#105965" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span>: <a href="XmlTypes.scala.html#11986" title="scales.xml.Attribute">Attribute</a> = <a href="#90543" title="scales.xml.AttributePath">attrPath</a>.<a href="#104202" title="=&gt; scales.xml.Attribute">attribute</a></span>
<a href="l24"></a><span id="l24"></span>
<a href="l25"></a><span id="l25">  <span class="comment">/** By default a List, eager/strict evaluation, is used.  The user of the library can simply choose another collection to wrap the xmlPath */</span></span>
<a href="l26"></a><span id="l26">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]" id="87832">fromXmlPathToXPath</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="90540">xmlPath</a>: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span><span class="delimiter">(</span></span>
<a href="l27"></a><span id="l27">    <span class="keyword">implicit</span> <a title="scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]]" id="90541">cbf</a>: <span title="scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]]">CanBuildFrom</span><span class="delimiter">[</span>List<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span>, XmlPath, List<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> : <a href="#11897" title="scales.xml.XPath[List[scales.xml.package.XmlPath]]">XPath</a><span class="delimiter">[</span>List<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span> = </span>
<a href="l28"></a><span id="l28">    <span title="scales.xml.XPath[List[scales.xml.package.XmlPath]]" class="keyword">new</span> <a href="#11897" title="scales.xml.XPath[List[scales.xml.package.XmlPath]]">XPath</a><span class="delimiter">[</span>List<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span></span>
<a href="l29"></a><span id="l29">      <a href="#99967" title="Boolean" id="100018">XPathInfo</a><span class="delimiter">(</span><a href="../utils/package.scala.html#12069" title="(i: List[scales.xml.package.XmlPath])List[List[scales.xml.package.XmlPath]]">one</a><a title="List[List[scales.xml.package.XmlPath]]" id="100014" class="delimiter">(</a><a href="../utils/package.scala.html#12069" title="(i: scales.xml.package.XmlPath)List[scales.xml.package.XmlPath]">one</a><span class="delimiter">(</span><a href="#90540" title="scales.xml.package.XmlPath">xmlPath</a><span class="delimiter">)</span><span class="delimiter">)</span>, initialNode = <a title="Boolean(true)" id="100015" class="keyword">true</a>, eager = <a title="Boolean(true)" id="100016" class="keyword">true</a><span class="delimiter">)</span>, <a href="#90541" title="scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]]">cbf</a><span class="delimiter">)</span></span>
<a href="l30"></a><span id="l30"><span class="comment">//      XPathInfo(one(one(xmlPath).view).view, initialNode = true), cbf)</span></span>
<a href="l31"></a><span id="l31"></span>
<a href="l32"></a><span id="l32">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]" id="87833">fromXPathToIterable</a><span class="delimiter">(</span><a title="scales.xml.XPath[_]" id="90536">xpath</a>: <a href="#11897" title="scales.xml.XPath[_]">XPath</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> : <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l33"></a><span id="l33">    <span class="keyword">val</span> <a title="Iterable[scales.xml.package.XmlPath]" id="100020">nodes</a> = <a href="#90536" title="scales.xml.XPath[_]">xpath</a>.<a href="#99951" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99966" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="(implicit asTraversable: Iterable[scales.xml.package.XmlPath] =&gt; scala.collection.TraversableOnce[scales.xml.package.XmlPath])Iterable[scales.xml.package.XmlPath]">flatten</span></span>
<a href="l34"></a><span id="l34">    <span title="Iterable[scales.xml.package.XmlPath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#100020" title="Iterable[scales.xml.package.XmlPath]">nodes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="#100020" title="Iterable[scales.xml.package.XmlPath]">nodes</a> <span class="comment">// sorting on one or 0 still costs</span></span>
<a href="l35"></a><span id="l35">    <span class="keyword">else</span></span>
<a href="l36"></a><span id="l36">      <a href="../utils/DuplicateFilter.scala.html#42421" title="(orig: Iterable[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]])(implicit predicate: (scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]) =&gt; Boolean)scales.utils.DuplicateFilter[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">DuplicateFilter</a><span class="delimiter">(</span><a href="../utils/Paths.scala.html#12334" title="[Item &lt;: scales.utils.LeftLike[Item,scales.utils.Tree[Item,Section,CC]], Section, CC[X] &lt;: scala.collection.IndexedSeqLike[X,CC[X]]](paths: Iterable[scales.utils.Path[Item,Section,CC]], isDescending: Boolean)(implicit cm: ClassManifest[(scales.utils.Position[Item,Section,CC], scales.utils.Path[Item,Section,CC])])Iterable[scales.utils.Path[Item,Section,CC]]">sort</a><a href="../utils/Paths.scala.html#81911" title="(paths: Iterable[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]], isDescending: Boolean)(implicit cm: ClassManifest[(scales.utils.Position[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])])Iterable[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" class="delimiter">[</a><a href="XmlTypes.scala.html#11998" title="scales.xml.XmlItem">XmlItem</a>, <a href="XmlTypes.scala.html#11994" title="scales.xml.Elem">Elem</a>, <a href="../utils/ImmutableArray.scala.html#10380" title="scales.xml.package.XCC">XCC</a><span class="delimiter">]</span><span class="delimiter">(</span>paths = <a href="#100020" title="Iterable[scales.xml.package.XmlPath]">nodes</a><span class="delimiter">)</span></span>
<a href="l37"></a><span id="l37">		    <span class="delimiter">(</span><a href="ScalesXml.scala.html#11813" title="object scales.xml.ScalesXml">ScalesXml</a>.<a href="XmlTypes.scala.html#87814" title="=&gt; ClassManifest[(scales.utils.Position[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], scales.xml.package.XmlPath)]">xpathSortingClassManifest</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../utils/ScalesUtils.scala.html#10619" title="object scales.utils.ScalesUtils">ScalesUtils</a>.<a href="../utils/DuplicateFilter.scala.html#41167" title="=&gt; (AnyRef, AnyRef) =&gt; Boolean">sameRef</a><span class="delimiter">)</span></span>
<a href="l38"></a><span id="l38">  <span class="delimiter">}</span></span>
<a href="l39"></a><span id="l39">  </span>
<a href="l40"></a><span id="l40"><span class="comment">//  implicit def fromAttributePathToAxis(attrs: Iterable[AttributePath]) = AttributePaths(attrs)</span></span>
<a href="l41"></a><span id="l41"></span>
<a href="l42"></a><span id="l42">  <span class="comment">/**</span>
<a href="l43"></a><span id="l43">   * Sort in document order.</span>
<a href="l44"></a><span id="l44">   */</span> </span>
<a href="l45"></a><span id="l45">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[T &lt;: Iterable[scales.xml.package.XmlPath]](attrs: scales.xml.AttributePaths[T])Iterable[scales.xml.AttributePath]" id="87834">fromAttributePathsToIterable</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Iterable[scales.xml.package.XmlPath]" id="87836">T</a> &lt;: Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="scales.xml.AttributePaths[T]" id="90533">attrs</a>: <a href="#105953" title="scales.xml.AttributePaths[T]">AttributePaths</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> : <span title="Iterable[scales.xml.AttributePath]">Iterable</span><span class="delimiter">[</span>AttributePath<span class="delimiter">]</span> =</span>
<a href="l46"></a><span id="l46">    <span title="Iterable[scales.xml.AttributePath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#90533" title="scales.xml.AttributePaths[T]">attrs</a>.<a href="#104286" title="=&gt; Iterable[scales.xml.AttributePath]">attributes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="#90533" title="scales.xml.AttributePaths[T]">attrs</a>.<a href="#104286" title="=&gt; Iterable[scales.xml.AttributePath]">attributes</a></span>
<a href="l47"></a><span id="l47">    <span class="keyword">else</span></span>
<a href="l48"></a><span id="l48">      <a href="../utils/Paths.scala.html#12341" title="[Item &lt;: scales.utils.LeftLike[Item,scales.utils.Tree[Item,Section,CC]], Section, CC[X] &lt;: scala.collection.IndexedSeqLike[X,CC[X]], T](paths: Iterable[(T, scales.utils.Path[Item,Section,CC])], isDescending: Boolean)(implicit cm: ClassManifest[(scales.utils.Position[Item,Section,CC], (T, scales.utils.Path[Item,Section,CC]))])Iterable[(T, scales.utils.Path[Item,Section,CC])]">sortT</a><a href="../utils/Paths.scala.html#81994" title="(paths: Iterable[(scales.xml.AttributePath, scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])], isDescending: Boolean)(implicit cm: ClassManifest[(scales.utils.Position[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], (scales.xml.AttributePath, scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]))])Iterable[(scales.xml.AttributePath, scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])]" class="delimiter">[</a><a href="XmlTypes.scala.html#11998" title="scales.xml.XmlItem">XmlItem</a>, <a href="XmlTypes.scala.html#11994" title="scales.xml.Elem">Elem</a>, <a href="../utils/ImmutableArray.scala.html#10380" title="scales.xml.package.XCC">XCC</a>, <a href="#105965" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">]</span><span title="(clazz: java.lang.Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[(scales.utils.Position[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], (scales.xml.AttributePath, scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]))]" class="delimiter">(</span><a href="#90533" title="scales.xml.AttributePaths[T]">attrs</a>.<a href="#104286" title="=&gt; Iterable[scales.xml.AttributePath]">attributes</a>.<span title="(f: scales.xml.AttributePath =&gt; (scales.xml.AttributePath, scales.xml.package.XmlPath))(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.AttributePath],(scales.xml.AttributePath, scales.xml.package.XmlPath),Iterable[(scales.xml.AttributePath, scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])]])Iterable[(scales.xml.AttributePath, scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,(scales.xml.AttributePath, scales.xml.package.XmlPath),Iterable[(scales.xml.AttributePath, scales.xml.package.XmlPath)]]" class="delimiter">{</span><a title="scales.xml.AttributePath" id="100127">x</a> =&gt; <span title="(_1: scales.xml.AttributePath, _2: scales.xml.package.XmlPath)(scales.xml.AttributePath, scales.xml.package.XmlPath)" class="delimiter">(</span><a href="#100127" title="scales.xml.AttributePath">x</a>, <a href="#100127" title="scales.xml.AttributePath">x</a>.<a href="#104203" title="=&gt; scales.xml.package.XmlPath">parent</a><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>.<span title="(f: (scales.xml.AttributePath, scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]) =&gt; scales.xml.AttributePath)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[(scales.xml.AttributePath, scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])],scales.xml.AttributePath,Iterable[scales.xml.AttributePath]])Iterable[scales.xml.AttributePath]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.AttributePath,Iterable[scales.xml.AttributePath]]" class="delimiter">{</span><a title="(scales.xml.AttributePath, scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])" id="100266">x</a> =&gt; <a href="#100266" title="(scales.xml.AttributePath, scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])">x</a>.<span title="=&gt; scales.xml.AttributePath">_1</span><span class="delimiter">}</span></span>
<a href="l49"></a><span id="l49"></span>
<a href="l50"></a><span id="l50">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlPathImplicits.fromPathToComparisoms : (path: scales.xml.package.XmlPath)scales.xml.XmlPathComparisoms" id="87837">fromPathToComparisoms</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="90516">path</a>: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> = <a href="#105961" title="(path: scales.xml.package.XmlPath)scales.xml.XmlPathComparisoms">XmlPathComparisoms</a><span class="delimiter">(</span><a href="#90516" title="scales.xml.package.XmlPath">path</a><span class="delimiter">)</span></span>
<a href="l51"></a><span id="l51"></span>
<a href="l52"></a><span id="l52">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlPathImplicits.fromAPathToAComparisoms : (path: scales.xml.AttributePath)scales.xml.AttributePathComparisoms" id="87838">fromAPathToAComparisoms</a><span class="delimiter">(</span><a title="scales.xml.AttributePath" id="90499">path</a>: <a href="#105965" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span> = <a href="#105957" title="(path: scales.xml.AttributePath)scales.xml.AttributePathComparisoms">AttributePathComparisoms</a><span class="delimiter">(</span><a href="#90499" title="scales.xml.AttributePath">path</a><span class="delimiter">)</span></span>
<a href="l53"></a><span id="l53"></span>
<a href="l54"></a><span id="l54">  <span class="comment">/**</span>
<a href="l55"></a><span id="l55">   * Mimic the logic of xpath boolean() through typeclass, see AsBoolean / XmlDSL</span>
<a href="l56"></a><span id="l56">   */</span></span>
<a href="l57"></a><span id="l57"></span>
<a href="l58"></a><span id="l58">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scales.xml.XPath[_] =&gt; Boolean" id="87839">XPathToBoolean</a> = <span class="delimiter">(</span>x: <a href="#11897" title="scales.xml.XPath[_]">XPath</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <span title="=&gt; Boolean">!</span><a href="#90422" title="scales.xml.XPath[_]">x</a>.<a href="#99951" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99966" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="=&gt; Boolean">isEmpty</span></span>
<a href="l59"></a><span id="l59"></span>
<a href="l60"></a><span id="l60">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scales.xml.AttributePaths[_] =&gt; Boolean" id="87841">AttributePathsToBoolean</a> = <span class="delimiter">(</span>x: <a href="#105953" title="scales.xml.AttributePaths[_]">AttributePaths</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <span title="=&gt; Boolean">!</span><a href="#90400" title="scales.xml.AttributePaths[_]">x</a>.<a href="#104286" title="=&gt; Iterable[scales.xml.AttributePath]">attributes</a>.<span title="=&gt; Boolean">isEmpty</span></span>
<a href="l61"></a><span id="l61"></span>
<a href="l62"></a><span id="l62">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="Iterable[_] =&gt; Boolean" id="87843">IterableToBoolean</a> = <span class="delimiter">(</span>x: <span title="Iterable[_]">Iterable</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <span title="=&gt; Boolean">!</span><a href="#90395" title="Iterable[_]">x</a>.<span title="=&gt; Boolean">isEmpty</span></span>
<a href="l63"></a><span id="l63"></span>
<a href="l64"></a><span id="l64">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="String =&gt; Boolean" id="87845">StringToBoolean</a> = <span class="delimiter">(</span>x: <span title="String">String</span><span class="delimiter">)</span> =&gt; <a href="#90389" title="String">x</a>.<span title="()Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span></span>
<a href="l65"></a><span id="l65"></span>
<a href="l66"></a><span id="l66">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="java.lang.Number =&gt; Boolean" id="87847">NumberToBoolean</a> = <span class="delimiter">(</span>x: <span title="java.lang.Number">Number</span><span class="delimiter">)</span> =&gt; <a href="#90383" title="java.lang.Number">x</a>.<span title="()Long">longValue</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span></span>
<a href="l67"></a><span id="l67"></span>
<a href="l68"></a><span id="l68">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="Boolean =&gt; Boolean" id="87849">BooleanToBoolean</a> = <span class="delimiter">(</span>x: <span title="Boolean">Boolean</span><span class="delimiter">)</span> =&gt; <a href="#90381" title="Boolean">x</a></span>
<a href="l69"></a><span id="l69"></span>
<a href="l70"></a><span id="l70"><span class="delimiter">}</span></span>
<a href="l71"></a><span id="l71"></span>
<a href="l72"></a><span id="l72"></span>
<a href="l73"></a><span id="l73"><span class="keyword">trait</span> <a title="trait XmlPaths extends java.lang.Object with ScalaObject" id="11896">XmlPaths</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l74"></a><span id="l74"></span>
<a href="l75"></a><span id="l75"></span>
<a href="l76"></a><span id="l76">  <span class="comment">/**</span>
<a href="l77"></a><span id="l77">   * Normally the implicit fromXPathToIterable will provide sorted output, but this can create significant slow down when only the contents are necessary, not their order.</span>
<a href="l78"></a><span id="l78">   *</span>
<a href="l79"></a><span id="l79">   * Use raw to convert without forcing sorting or checking for duplicates.</span>
<a href="l80"></a><span id="l80">   *</span>
<a href="l81"></a><span id="l81">   * NOTE Any laziness aquired by viewed will also be lost by the flatten</span>
<a href="l82"></a><span id="l82">   */</span> </span>
<a href="l83"></a><span id="l83">  <span class="keyword">def</span> <a title="[T &lt;: Iterable[scales.xml.package.XmlPath]](xpath: scales.xml.XPath[T])Iterable[scales.xml.package.XmlPath]" id="12454">raw</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Iterable[scales.xml.package.XmlPath]" id="12456">T</a> &lt;: Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="scales.xml.XPath[T]" id="100298">xpath</a>: <a href="#11897" title="scales.xml.XPath[T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> : <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> = </span>
<a href="l84"></a><span id="l84">    <a href="#100298" title="scales.xml.XPath[T]">xpath</a>.<a href="#99951" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99966" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="(implicit asTraversable: Iterable[scales.xml.package.XmlPath] =&gt; scala.collection.TraversableOnce[scales.xml.package.XmlPath])Iterable[scales.xml.package.XmlPath]">flatten</span></span>
<a href="l85"></a><span id="l85"></span>
<a href="l86"></a><span id="l86">  <span class="comment">/**</span>
<a href="l87"></a><span id="l87">   * Normally the implicit fromXPathToIterable will provide sorted output, but this can create significant slow down when only the contents are necessary, not their order.</span>
<a href="l88"></a><span id="l88">   *</span>
<a href="l89"></a><span id="l89">   * Use lazyRaw to convert without forcing sorting or checking for duplicates, and to evaluate lazily.</span>
<a href="l90"></a><span id="l90">   *</span>
<a href="l91"></a><span id="l91">   * Warning, don't use this version of raw unless your XPath usage costs more than the navigation, its based on Stream and terribly slow (huge memory and stack usage etc).</span>
<a href="l92"></a><span id="l92">   *</span>
<a href="l93"></a><span id="l93">   * NOTEs</span>
<a href="l94"></a><span id="l94">   * Laziness with flatten is achieved by using iterator.toIterable before the flatten (uses Stream internally).</span>
<a href="l95"></a><span id="l95">   * Its only useful as a lazy evaluator if viewed was used.</span>
<a href="l96"></a><span id="l96">   */</span> </span>
<a href="l97"></a><span id="l97">  <span class="keyword">def</span> <a title="[T &lt;: Iterable[scales.xml.package.XmlPath]](xpath: scales.xml.XPath[T])Iterable[scales.xml.package.XmlPath]" id="12457">lazyRaw</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Iterable[scales.xml.package.XmlPath]" id="12459">T</a> &lt;: Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="scales.xml.XPath[T]" id="100339">xpath</a>: <a href="#11897" title="scales.xml.XPath[T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> : <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> = </span>
<a href="l98"></a><span id="l98">    <a href="#100339" title="scales.xml.XPath[T]">xpath</a>.<a href="#99951" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99966" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="=&gt; Iterator[Iterable[scales.xml.package.XmlPath]]">iterator</span>.<span title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">toIterable</span>.<span title="(implicit asTraversable: Iterable[scales.xml.package.XmlPath] =&gt; scala.collection.TraversableOnce[scales.xml.package.XmlPath])Iterable[scales.xml.package.XmlPath]">flatten</span></span>
<a href="l99"></a><span id="l99"></span>
<a href="l100"></a><span id="l100">  <span class="comment">/**</span>
<a href="l101"></a><span id="l101">   * Lazy evaluation of XPaths</span>
<a href="l102"></a><span id="l102">   * </span>
<a href="l103"></a><span id="l103">   * View called on nested Lists, but not on xlmPath.</span>
<a href="l104"></a><span id="l104">   */</span> </span>
<a href="l105"></a><span id="l105">  <span class="keyword">def</span> <a title="(xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]" id="12460">viewed</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="100381">xmlPath</a>: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span><span class="delimiter">(</span></span>
<a href="l106"></a><span id="l106">    <span class="keyword">implicit</span> <a title="scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]]" id="100382">cbf</a>: <span title="scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]]">CanBuildFrom</span><span class="delimiter">[</span>List<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span>, XmlPath, List<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> : <a href="#11897" title="scales.xml.XPath[List[scales.xml.package.XmlPath]]">XPath</a><span class="delimiter">[</span>List<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span> = </span>
<a href="l107"></a><span id="l107">    <span title="scales.xml.XPath[List[scales.xml.package.XmlPath]]" class="keyword">new</span> <a href="#11897" title="scales.xml.XPath[List[scales.xml.package.XmlPath]]">XPath</a><span class="delimiter">[</span>List<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span></span>
<a href="l108"></a><span id="l108">      <a href="#99967" title="Boolean" id="101317">XPathInfo</a><span class="delimiter">(</span><a href="../utils/package.scala.html#12069" title="(i: java.lang.Object with scala.collection.SeqView[scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])List[java.lang.Object with scala.collection.SeqView[scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]]]">one</a><span class="delimiter">(</span><a href="../utils/package.scala.html#12069" title="(i: scales.xml.package.XmlPath)List[scales.xml.package.XmlPath]">one</a><span class="delimiter">(</span><a href="#100381" title="scales.xml.package.XmlPath">xmlPath</a><span class="delimiter">)</span>.<span title="=&gt; java.lang.Object with scala.collection.SeqView[scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]]">view</span><span class="delimiter">)</span>.<a title="view extends java.lang.Object with scala.collection.SeqView[java.lang.Object with scala.collection.SeqView[scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]],List[java.lang.Object with scala.collection.SeqView[scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]]]]" id="101313">view</a>, initialNode = <a title="Boolean(true)" id="101314" class="keyword">true</a><span class="delimiter">)</span>, <a href="#100382" title="scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]]">cbf</a><span class="delimiter">)</span></span>
<a href="l109"></a><span id="l109"></span>
<a href="l110"></a><span id="l110">  <span class="keyword">import</span> <a href="ScalesXml.scala.html#11813" title="object scales.xml.ScalesXml">ScalesXml</a>._</span>
<a href="l111"></a><span id="l111"></span>
<a href="l112"></a><span id="l112">  <span class="comment">/**</span>
<a href="l113"></a><span id="l113">   * Same as fromXmlPathToXPath, an eager evaluation of xpath queries</span>
<a href="l114"></a><span id="l114">   */</span> </span>
<a href="l115"></a><span id="l115">  <span class="keyword">def</span> <a title="(xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]" id="12462">eager</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="99990">xmlPath</a>: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span><span class="delimiter">(</span></span>
<a href="l116"></a><span id="l116">    <span class="keyword">implicit</span> <a title="scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]]" id="99991">cbf</a>: <span title="scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]]">CanBuildFrom</span><span class="delimiter">[</span>List<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span>, XmlPath, List<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> : <a href="#11897" title="scales.xml.XPath[List[scales.xml.package.XmlPath]]">XPath</a><span class="delimiter">[</span>List<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span> = </span>
<a href="l117"></a><span id="l117">      <a href="#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">fromXmlPathToXPath</a><a href="#99991" title="scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]]" class="delimiter">(</a><a href="#99990" title="scales.xml.package.XmlPath">xmlPath</a><span class="delimiter">)</span></span>
<a href="l118"></a><span id="l118"></span>
<a href="l119"></a><span id="l119">  <span class="keyword">val</span> <a title="scales.xml.package.XmlPath =&gt; Boolean" id="12463">isText</a> = <span class="delimiter">(</span>x: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> =&gt; <a href="#100291" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#39603" title="=&gt; Boolean">isItem</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(true)" class="keyword">true</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#100291" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#39609" title="()scales.xml.XmlItem">item</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="XmlTypes.scala.html#11999" title="scales.xml.Text">Text</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">||</span> <a href="#100291" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#39609" title="()scales.xml.XmlItem">item</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="XmlTypes.scala.html#12005" title="scales.xml.CData">CData</a><span class="delimiter">]</span><span class="delimiter">)</span></span>
<a href="l120"></a><span id="l120"></span>
<a href="l121"></a><span id="l121">  <span class="keyword">object</span> <a title="object XmlPaths.this.Attributes" id="12465">Attributes</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l122"></a><span id="l122"></span>
<a href="l123"></a><span id="l123">    <span class="comment">/**</span>
<a href="l124"></a><span id="l124">     * Note the majority of these functions have an implicit arguement that matches the current context of a given predicate.  This allows:</span>
<a href="l125"></a><span id="l125">     *</span>
<a href="l126"></a><span id="l126">     *</span>
<a href="l127"></a><span id="l127">     */</span></span>
<a href="l128"></a><span id="l128">    <span class="keyword">object</span> <a title="object scales.xml.XmlPaths.Attributes.Functions" id="99805">Functions</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l129"></a><span id="l129"></span>
<a href="l130"></a><span id="l130">      <span class="comment">/** curried to allow direct drop in for predicates */</span></span>
<a href="l131"></a><span id="l131">      <span class="keyword">def</span> <a title="(localName: String)(implicit attribute: scales.xml.AttributePath)Boolean" id="99814">localName</a><span class="delimiter">(</span><a title="String" id="101407">localName</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.AttributePath" id="101408">attribute</a>: <a href="#105965" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#101408" title="scales.xml.AttributePath">attribute</a>.<a href="#104202" title="=&gt; scales.xml.Attribute">attribute</a>.<a href="XmlTypes.scala.html#87809" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a>.<a href="QName.scala.html#87933" title="=&gt; String">local</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#101407" title="String">localName</a></span>
<a href="l132"></a><span id="l132"></span>
<a href="l133"></a><span id="l133">      <span class="comment">/** curried to allow direct drop in for predicates */</span></span>
<a href="l134"></a><span id="l134">      <span class="keyword">def</span> <a title="(qname: scales.xml.QName)(implicit attribute: scales.xml.AttributePath)Boolean" id="99815">exact</a><span class="delimiter">(</span><a title="scales.xml.QName" id="101414">qname</a>: <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.AttributePath" id="101415">attribute</a>: <a href="#105965" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#101415" title="scales.xml.AttributePath">attribute</a>.<a href="#104202" title="=&gt; scales.xml.Attribute">attribute</a>.<a href="XmlTypes.scala.html#87809" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a> <a href="QName.scala.html#87943" title="(other: scales.xml.QName)Boolean">===</a> <a href="#101414" title="scales.xml.QName">qname</a></span>
<a href="l135"></a><span id="l135"></span>
<a href="l136"></a><span id="l136">      <span class="comment">/** returns the qname of an AttributePath, using implicit scope */</span></span>
<a href="l137"></a><span id="l137">      <span class="keyword">def</span> <a title="(implicit attribute: scales.xml.AttributePath)String" id="99816">qname</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.AttributePath" id="101447">attribute</a>: <a href="#105965" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#101447" title="scales.xml.AttributePath">attribute</a>.<a href="#104202" title="=&gt; scales.xml.Attribute">attribute</a>.<a href="XmlTypes.scala.html#87809" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a>.<a href="QName.scala.html#87938" title="=&gt; java.lang.String">qName</a></span>
<a href="l138"></a><span id="l138"></span>
<a href="l139"></a><span id="l139">      <span class="comment">/** returns the pqName of an AttributePath, using implicit scope */</span></span>
<a href="l140"></a><span id="l140">      <span class="keyword">def</span> <a title="(implicit attribute: scales.xml.AttributePath)String" id="99817">pqName</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.AttributePath" id="101462">attribute</a>: <a href="#105965" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#101462" title="scales.xml.AttributePath">attribute</a>.<a href="#104202" title="=&gt; scales.xml.Attribute">attribute</a>.<a href="XmlTypes.scala.html#87809" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a>.<a href="QName.scala.html#87939" title="=&gt; java.lang.String">pqName</a></span>
<a href="l141"></a><span id="l141"></span>
<a href="l142"></a><span id="l142">      <span class="comment">/** returns the value of an AttributePath, using implicit scope */</span></span>
<a href="l143"></a><span id="l143">      <span class="keyword">def</span> <a title="(implicit attribute: scales.xml.AttributePath)String" id="99818">value</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.AttributePath" id="99824">attribute</a>: <a href="#105965" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#99824" title="scales.xml.AttributePath">attribute</a>.<a href="#104202" title="=&gt; scales.xml.Attribute">attribute</a>.<a href="XmlTypes.scala.html#87903" title="=&gt; String">value</a></span>
<a href="l144"></a><span id="l144"></span>
<a href="l145"></a><span id="l145">      <span class="comment">/** returns the value of an AttributePath, using implicit scope */</span></span>
<a href="l146"></a><span id="l146">      <span class="keyword">def</span> <a title="(implicit attribute: scales.xml.AttributePath)String" id="99819">text</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.AttributePath" id="99821">attribute</a>: <a href="#105965" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span> = <a href="#99818" title="(implicit attribute: scales.xml.AttributePath)String">value</a></span>
<a href="l147"></a><span id="l147"></span>
<a href="l148"></a><span id="l148">      <span class="comment">/** true if the element contains this attribute */</span></span>
<a href="l149"></a><span id="l149">      <span class="keyword">def</span> <a title="(qName: scales.xml.QName)(implicit path: scales.xml.package.XmlPath)Boolean" id="99820">*@</a><span class="delimiter">(</span><a title="scales.xml.QName" id="101326">qName</a>: <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="101327">path</a>: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> = <a href="#101327" title="scales.xml.package.XmlPath">path</a>.<a href="../utils/Paths.scala.html#39608" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67494" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88396" title="=&gt; scales.xml.package.Attributes">attributes</a>.<a href="../utils/ListSet.scala.html#70308" title="(b: scales.xml.QName)(implicit equiv: scales.utils.Equiv[scales.xml.QName], implicit viewA: scales.xml.Attribute =&gt; scales.xml.QName, implicit viewB: scales.xml.QName =&gt; scales.xml.QName)Boolean">contains</a><a href="XmlTypes.scala.html#87807" title="=&gt; scales.utils.Equiv[scales.xml.QName]" class="delimiter">(</a><a href="#101326" title="scales.xml.QName">qName</a><span class="delimiter">)</span></span>
<a href="l150"></a><span id="l150"></span>
<a href="l151"></a><span id="l151">    <span class="delimiter">}</span></span>
<a href="l152"></a><span id="l152"></span>
<a href="l153"></a><span id="l153">    <span class="keyword">val</span> <a title="scales.xml.QName =&gt; scales.xml.package.XmlPath =&gt; Boolean" id="99807">*@</a> = <span class="delimiter">(</span>qName: <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span>path: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> =&gt; <a href="#99805" title="object scales.xml.XmlPaths.Attributes.Functions">Functions</a>.<a href="#99820" title="(qName: scales.xml.QName)(implicit path: scales.xml.package.XmlPath)Boolean">*@</a><span class="delimiter">(</span><a href="#101323" title="scales.xml.QName">qName</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#101325" title="scales.xml.package.XmlPath">path</a><span class="delimiter">)</span></span>
<a href="l154"></a><span id="l154">    <span class="keyword">val</span> <a title="String =&gt; scales.xml.AttributePath =&gt; Boolean" id="99809">localName</a> = <span class="delimiter">(</span>l: <span title="String">String</span><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span>a: <a href="#105965" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span> =&gt; <a href="#99805" title="object scales.xml.XmlPaths.Attributes.Functions">Functions</a>.<a href="#99814" title="(localName: String)(implicit attribute: scales.xml.AttributePath)Boolean">localName</a><span class="delimiter">(</span><a href="#101404" title="String">l</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#101406" title="scales.xml.AttributePath">a</a><span class="delimiter">)</span></span>
<a href="l155"></a><span id="l155">    <span class="keyword">val</span> <a title="scales.xml.QName =&gt; scales.xml.AttributePath =&gt; Boolean" id="99811">exact</a> = <span class="delimiter">(</span>q: <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span>a: <a href="#105965" title="scales.xml.AttributePath">AttributePath</a><span class="delimiter">)</span> =&gt; <a href="#99805" title="object scales.xml.XmlPaths.Attributes.Functions">Functions</a>.<a href="#99815" title="(qname: scales.xml.QName)(implicit attribute: scales.xml.AttributePath)Boolean">exact</a><span class="delimiter">(</span><a href="#101411" title="scales.xml.QName">q</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#101413" title="scales.xml.AttributePath">a</a><span class="delimiter">)</span></span>
<a href="l156"></a><span id="l156">  <span class="delimiter">}</span></span>
<a href="l157"></a><span id="l157"></span>
<a href="l158"></a><span id="l158">  <span class="keyword">object</span> <a title="object XmlPaths.this.TextFunctions" id="12467">TextFunctions</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l159"></a><span id="l159"></span>
<a href="l160"></a><span id="l160">    <span class="comment">/**</span>
<a href="l161"></a><span id="l161">     * Either the value of an XmlItem or the direct text subchildren.</span>
<a href="l162"></a><span id="l162">     * @param xmlpath</span>
<a href="l163"></a><span id="l163">     * @return</span>
<a href="l164"></a><span id="l164">     */</span></span>
<a href="l165"></a><span id="l165">    <span class="keyword">def</span> <a title="(implicit xmlpath: scales.xml.package.XmlPath)String" id="101478">value</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="101480">xmlpath</a>: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> =</span>
<a href="l166"></a><span id="l166">      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#101480" title="scales.xml.package.XmlPath">xmlpath</a>.<a href="../utils/Paths.scala.html#39603" title="=&gt; Boolean">isItem</a><span class="delimiter">)</span></span>
<a href="l167"></a><span id="l167">        <a href="#101480" title="scales.xml.package.XmlPath">xmlpath</a>.<a href="../utils/Paths.scala.html#39609" title="()scales.xml.XmlItem">item</a>.<a href="XmlTypes.scala.html#89671" title="=&gt; String">value</a></span>
<a href="l168"></a><span id="l168">      <span class="keyword">else</span></span>
<a href="l169"></a><span id="l169">        <a href="#101480" title="scales.xml.package.XmlPath">xmlpath</a>.<span title="(f: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC] =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]],String,Iterable[String]])Iterable[String]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,String,Iterable[String]]" class="delimiter">(</span><a title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="101499">x</a> =&gt; <span title="Iterable[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#12463" title="(v1: scales.xml.package.XmlPath)Boolean">isText</a><span class="delimiter">(</span><a href="#101499" title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: String)Some[String]">Some</span><span title="(xo: Option[String])Iterable[String]" class="delimiter">(</span><a href="#101499" title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">x</a>.<a href="../utils/Paths.scala.html#39609" title="()scales.xml.XmlItem">item</a>.<a href="XmlTypes.scala.html#89671" title="=&gt; String">value</a><span class="delimiter">)</span></span>
<a href="l170"></a><span id="l170">        <span class="keyword">else</span> <span title="(xo: Option[Nothing])Iterable[Nothing]">None</span><span class="delimiter">)</span>.<span title="(b: StringBuilder)StringBuilder">addString</span><span class="delimiter">(</span><span title="()StringBuilder" class="keyword">new</span> <span title="StringBuilder">StringBuilder</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="()java.lang.String">toString</span></span>
<a href="l171"></a><span id="l171"></span>
<a href="l172"></a><span id="l172">  <span class="delimiter">}</span></span>
<a href="l173"></a><span id="l173"></span>
<a href="l174"></a><span id="l174">  <span class="comment">/** returns the attributes of a given element */</span></span>
<a href="l175"></a><span id="l175">  <span class="keyword">def</span> <a title="(implicit path: scales.xml.package.XmlPath)scales.xml.package.Attributes" id="12469">attributes</a><span class="delimiter">(</span> <span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="97016">path</a> : <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> : <a href="../utils/ListSet.scala.html#10456" title="scales.xml.package.Attributes">Attributes</a> = <a href="#97016" title="scales.xml.package.XmlPath">path</a>.<a href="../utils/Paths.scala.html#39608" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67494" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88396" title="=&gt; scales.xml.package.Attributes">attributes</a></span>
<a href="l176"></a><span id="l176"></span>
<a href="l177"></a><span id="l177">  <span class="comment">/** returns the Elem at this path */</span></span>
<a href="l178"></a><span id="l178">  <span class="keyword">def</span> <a title="(implicit path: scales.xml.package.XmlPath)scales.xml.Elem" id="12470">elem</a><span class="delimiter">(</span> <span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="101672">path</a> : <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> : <a href="XmlTypes.scala.html#11994" title="scales.xml.Elem">Elem</a> = <a href="#101672" title="scales.xml.package.XmlPath">path</a>.<a href="../utils/Paths.scala.html#39608" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67494" title="=&gt; scales.xml.Elem">section</a></span>
<a href="l179"></a><span id="l179"></span>
<a href="l180"></a><span id="l180">  <span class="keyword">object</span> <a title="object XmlPaths.this.Elements" id="12471">Elements</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l181"></a><span id="l181"></span>
<a href="l182"></a><span id="l182">    <span class="comment">/**</span>
<a href="l183"></a><span id="l183">     * Only use these items on XmlPaths that are actual trees, doing otherwise is a runtime exception, if used in XPath predicates then they will always be trees.</span>
<a href="l184"></a><span id="l184">     *</span>
<a href="l185"></a><span id="l185">     * Note the majority of these functions have an implicit arguement that matches the current context of a given predicate.  This allows:</span>
<a href="l186"></a><span id="l186">     *</span>
<a href="l187"></a><span id="l187">     *</span>
<a href="l188"></a><span id="l188">     */</span></span>
<a href="l189"></a><span id="l189">    <span class="keyword">object</span> <a title="object scales.xml.XmlPaths.Elements.Functions" id="99734">Functions</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l190"></a><span id="l190"></span>
<a href="l191"></a><span id="l191">      <span class="comment">/** curried to allow direct drop in for predicates, if it is an item then it will return false */</span></span>
<a href="l192"></a><span id="l192">      <span class="keyword">def</span> <a title="(localName: String)(implicit path: scales.xml.package.XmlPath)Boolean" id="99743">localName</a><span class="delimiter">(</span><a title="String" id="101689">localName</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="101690">path</a>: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#101690" title="scales.xml.package.XmlPath">path</a>.<a href="../utils/Paths.scala.html#39608" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67494" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88395" title="=&gt; scales.xml.QName">name</a>.<a href="QName.scala.html#87933" title="=&gt; String">local</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#101689" title="String">localName</a></span>
<a href="l193"></a><span id="l193"></span>
<a href="l194"></a><span id="l194">      <span class="comment">/** curried to allow direct drop in for predicates, if it is an item then it will return false */</span></span>
<a href="l195"></a><span id="l195">      <span class="keyword">def</span> <a title="(qname: scales.xml.QName)(implicit path: scales.xml.package.XmlPath)Boolean" id="99744">exact</a><span class="delimiter">(</span><a title="scales.xml.QName" id="101698">qname</a>: <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="101699">path</a>: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#101699" title="scales.xml.package.XmlPath">path</a>.<a href="../utils/Paths.scala.html#39608" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67494" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88395" title="=&gt; scales.xml.QName">name</a> <a href="QName.scala.html#87943" title="(other: scales.xml.QName)Boolean">===</a> <a href="#101698" title="scales.xml.QName">qname</a></span>
<a href="l196"></a><span id="l196"></span>
<a href="l197"></a><span id="l197">      <span class="comment">/** returns the localname of an XmlPath, using implicit scope */</span></span>
<a href="l198"></a><span id="l198">      <span class="keyword">def</span> <a title="(implicit path: scales.xml.package.XmlPath)String" id="99745">localName</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="101687">path</a>: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#101687" title="scales.xml.package.XmlPath">path</a>.<a href="../utils/Paths.scala.html#39608" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67494" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88395" title="=&gt; scales.xml.QName">name</a>.<a href="QName.scala.html#87933" title="=&gt; String">local</a></span>
<a href="l199"></a><span id="l199"></span>
<a href="l200"></a><span id="l200">      <span class="comment">/** returns the qname (pre:local) of an XmlPath, using implicit scope */</span></span>
<a href="l201"></a><span id="l201">      <span class="keyword">def</span> <a title="(implicit path: scales.xml.package.XmlPath)String" id="99746">qname</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="101707">path</a>: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#101707" title="scales.xml.package.XmlPath">path</a>.<a href="../utils/Paths.scala.html#39608" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67494" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88395" title="=&gt; scales.xml.QName">name</a>.<a href="QName.scala.html#87938" title="=&gt; java.lang.String">qName</a></span>
<a href="l202"></a><span id="l202"></span>
<a href="l203"></a><span id="l203">      <span class="comment">/** returns the qualified name ({namespace}local) of an XmlPath, using implicit scope */</span></span>
<a href="l204"></a><span id="l204">      <span class="keyword">def</span> <a title="(implicit path: scales.xml.package.XmlPath)String" id="99747">qualifiedName</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="101709">path</a>: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#101709" title="scales.xml.package.XmlPath">path</a>.<a href="../utils/Paths.scala.html#39608" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67494" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88395" title="=&gt; scales.xml.QName">name</a>.<a href="QName.scala.html#87940" title="=&gt; java.lang.String">qualifiedName</a></span>
<a href="l205"></a><span id="l205"></span>
<a href="l206"></a><span id="l206">      <span class="comment">/** returns the qname of an XmlPath with prefix if defined pre:{ns}qname, using implicit scope */</span></span>
<a href="l207"></a><span id="l207">      <span class="keyword">def</span> <a title="(implicit path: scales.xml.package.XmlPath)String" id="99748">pqName</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="101711">path</a>: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#101711" title="scales.xml.package.XmlPath">path</a>.<a href="../utils/Paths.scala.html#39608" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67494" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88395" title="=&gt; scales.xml.QName">name</a>.<a href="QName.scala.html#87939" title="=&gt; java.lang.String">pqName</a></span>
<a href="l208"></a><span id="l208"></span>
<a href="l209"></a><span id="l209">      <span class="comment">/** returns the text of an XmlPath, using implicit scope. Returns all text children joined, does not trim whitespace etc */</span></span>
<a href="l210"></a><span id="l210">      <span class="keyword">def</span> <a title="(implicit path: scales.xml.package.XmlPath)String" id="99749">text</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="99751">path</a>: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span></span>
<a href="l211"></a><span id="l211">        <a href="#99751" title="scales.xml.package.XmlPath">path</a>.<a href="../utils/Paths.scala.html#39608" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67499" title="(a: StringBuilder)(folder: (scales.utils.package.ItemOrSectionWalk[scales.xml.XmlItem,scales.xml.Elem], StringBuilder) =&gt; StringBuilder)StringBuilder">fold</a><span class="delimiter">(</span><span title="()StringBuilder" class="keyword">new</span> <span title="StringBuilder">StringBuilder</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="scales.utils.package.ItemOrSectionWalk[scales.xml.XmlItem,scales.xml.Elem]" id="101766">walker</a>, <a title="StringBuilder" id="101767">sb</a><span class="delimiter">)</span> =&gt;</span>
<a href="l212"></a><span id="l212">          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#101766" title="scales.utils.package.ItemOrSectionWalk[scales.xml.XmlItem,scales.xml.Elem]">walker</a>.<span title="=&gt; Boolean">isLeft</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l213"></a><span id="l213">            <a href="#101766" title="scales.utils.package.ItemOrSectionWalk[scales.xml.XmlItem,scales.xml.Elem]">walker</a>.<span title="=&gt; Either.LeftProjection[scales.xml.XmlItem,scales.utils.SectionWalk[scales.xml.Elem]]">left</span>.<span title="=&gt; scales.xml.XmlItem">get</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span></span>
<a href="l214"></a><span id="l214">              <span class="keyword">case</span> <span title="StringBuilder">Text</span><span class="delimiter">(</span><a title="String" id="101786">text</a><span class="delimiter">)</span> =&gt; <a href="#101767" title="StringBuilder">sb</a>.<span title="(s: String)StringBuilder">append</span><span class="delimiter">(</span><a href="#101786" title="String">text</a><span class="delimiter">)</span></span>
<a href="l215"></a><span id="l215">              <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l216"></a><span id="l216">            <span class="delimiter">}</span></span>
<a href="l217"></a><span id="l217">          <span class="delimiter">}</span></span>
<a href="l218"></a><span id="l218">          <a href="#101767" title="StringBuilder">sb</a></span>
<a href="l219"></a><span id="l219">        <span class="delimiter">}</span>.<span title="()java.lang.String">toString</span></span>
<a href="l220"></a><span id="l220">      <span class="delimiter">}</span></span>
<a href="l221"></a><span id="l221"></span>
<a href="l222"></a><span id="l222">      <span class="keyword">def</span> <a title="(implicit path: scales.xml.package.XmlPath)java.lang.String" id="99750">normalizeSpace</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.package.XmlPath" id="101800">path</a>: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> = <a href="XmlUtils.scala.html#12509" title="(str: String)java.lang.String">normalizeSpaceS</a><span class="delimiter">(</span><a href="#99749" title="(implicit path: scales.xml.package.XmlPath)String">text</a><span class="delimiter">)</span></span>
<a href="l223"></a><span id="l223"></span>
<a href="l224"></a><span id="l224">    <span class="delimiter">}</span></span>
<a href="l225"></a><span id="l225"></span>
<a href="l226"></a><span id="l226">    <span class="keyword">val</span> <a title="scales.xml.package.XmlPath =&gt; Boolean =&gt; scales.xml.package.XmlPath =&gt; Boolean" id="99736">!!</a> = <span class="delimiter">(</span>f: <span class="delimiter">(</span>XmlPath<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span> =&gt; <span class="delimiter">(</span>a: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span></span>
<a href="l227"></a><span id="l227">      <span class="keyword">val</span> <a title="Boolean" id="101679">res</a> = <a href="#101676" title="(v1: scales.xml.package.XmlPath)Boolean">f</a><span class="delimiter">(</span><a href="#101678" title="scales.xml.package.XmlPath">a</a><span class="delimiter">)</span></span>
<a href="l228"></a><span id="l228">      <span title="=&gt; Boolean">!</span><a href="#101679" title="Boolean">res</a></span>
<a href="l229"></a><span id="l229">    <span class="delimiter">}</span></span>
<a href="l230"></a><span id="l230">    <span class="keyword">val</span> <a title="String =&gt; scales.xml.package.XmlPath =&gt; Boolean" id="99738">localName</a> = <span class="delimiter">(</span>l: <span title="String">String</span><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span>a: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> =&gt; <a href="#99734" title="object scales.xml.XmlPaths.Elements.Functions">Functions</a>.<a href="#99743" title="(localName: String)(implicit path: scales.xml.package.XmlPath)Boolean">localName</a><span class="delimiter">(</span><a href="#101682" title="String">l</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#101684" title="scales.xml.package.XmlPath">a</a><span class="delimiter">)</span></span>
<a href="l231"></a><span id="l231">    <span class="keyword">val</span> <a title="scales.xml.QName =&gt; scales.xml.package.XmlPath =&gt; Boolean" id="99740">exact</a> = <span class="delimiter">(</span>q: <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span>a: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> =&gt; <a href="#99734" title="object scales.xml.XmlPaths.Elements.Functions">Functions</a>.<a href="#99744" title="(qname: scales.xml.QName)(implicit path: scales.xml.package.XmlPath)Boolean">exact</a><span class="delimiter">(</span><a href="#101695" title="scales.xml.QName">q</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#101697" title="scales.xml.package.XmlPath">a</a><span class="delimiter">)</span></span>
<a href="l232"></a><span id="l232">  <span class="delimiter">}</span></span>
<a href="l233"></a><span id="l233"></span>
<a href="l234"></a><span id="l234">  <span class="keyword">trait</span> <a title="trait Axis extends java.lang.Object with ScalaObject" id="12473">Axis</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l235"></a><span id="l235">    <span class="keyword">type</span> <a title="&gt;: Nothing &lt;: Iterable[scales.xml.package.XmlPath]" id="90426">T</a> &lt;: Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span></span>
<a href="l236"></a><span id="l236">    <span class="keyword">val</span> <a title="=&gt; scala.collection.generic.CanBuildFrom[Axis.this.T,scales.xml.package.XmlPath,Axis.this.T]" id="90427">cbf</a>: <span title="scala.collection.generic.CanBuildFrom[Axis.this.T,scales.xml.package.XmlPath,Axis.this.T]">CanBuildFrom</span><span class="delimiter">[</span>T, XmlPath, T<span class="delimiter">]</span></span>
<a href="l237"></a><span id="l237"></span>
<a href="l238"></a><span id="l238">    <span class="keyword">val</span> <a title="=&gt; scales.xml.XPathInfo" id="90428">path</a>: <a href="#105946" title="scales.xml.XPathInfo">XPathInfo</a></span>
<a href="l239"></a><span id="l239"></span>
<a href="l240"></a><span id="l240">    <span class="keyword">def</span> <a title="(xpathInfo: scales.xml.XPathInfo)scales.xml.XPath[Axis.this.T]" id="90429">newThis</a><span class="delimiter">(</span><a title="scales.xml.XPathInfo" id="101808">xpathInfo</a>: <a href="#105946" title="scales.xml.XPathInfo">XPathInfo</a><span class="delimiter">)</span>: <a href="#11897" title="scales.xml.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span></span>
<a href="l241"></a><span id="l241"></span>
<a href="l242"></a><span id="l242">    <span class="keyword">def</span> <a title="(nodes: Iterable[Iterable[scales.xml.package.XmlPath]], performSort: Boolean, filterDuplicates: Boolean)scales.xml.XPath[Axis.this.T]" id="90430">process</a><span class="delimiter">(</span><a title="Iterable[Iterable[scales.xml.package.XmlPath]]" id="101810">nodes</a>: <span title="Iterable[Iterable[scales.xml.package.XmlPath]]">Iterable</span><span class="delimiter">[</span>Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Boolean" id="101815">performSort</a>: <span title="Boolean">Boolean</span> = <a href="#90428" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99967" title="=&gt; Boolean">mustBeSorted</a>, <a title="Boolean" id="101816">filterDuplicates</a>: <span title="Boolean">Boolean</span> = <a href="#90428" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99968" title="=&gt; Boolean">filterDuplicates</a><span class="delimiter">)</span> = <span class="delimiter">{</span></span>
<a href="l243"></a><span id="l243">      <span class="comment">/*val potentiallySorted = if (performSort)</span>
<a href="l244"></a><span id="l244">        nodes //sort[XmlItem, Elem](paths = nodes)</span>
<a href="l245"></a><span id="l245">      else nodes</span>
<a href="l246"></a><span id="l246">      val res = if (filterDuplicates)</span>
<a href="l247"></a><span id="l247">        // remove dups, explicitly use ref instead of same paths</span>
<a href="l248"></a><span id="l248">        DuplicateFilter(potentiallySorted)(org.scales.utils.DuplicateImplicits.sameRef)</span>
<a href="l249"></a><span id="l249">      else potentiallySorted</span>
<a href="l250"></a><span id="l250">      */</span> <a href="#90429" title="(xpathInfo: scales.xml.XPathInfo)scales.xml.XPath[Axis.this.T]">newThis</a><span class="delimiter">(</span><a href="#105946" title="(nodes: Iterable[Iterable[scales.xml.package.XmlPath]], mustBeSorted: Boolean, filterDuplicates: Boolean, initialNode: Boolean, eager: Boolean)scales.xml.XPathInfo">XPathInfo</a><span class="delimiter">(</span><a href="#101810" title="Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>, <a href="#101815" title="Boolean">performSort</a>, <a href="#101816" title="Boolean">filterDuplicates</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l251"></a><span id="l251">    <span class="delimiter">}</span></span>
<a href="l252"></a><span id="l252"></span>
<a href="l253"></a><span id="l253">    <span class="keyword">def</span> <a title="=&gt; Iterable[scales.xml.package.XmlPath]" id="90431">empty</a>: <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span></span>
<a href="l254"></a><span id="l254">    <span class="keyword">def</span> <a title="(only: scales.xml.package.XmlPath)Iterable[scales.xml.package.XmlPath]" id="90432">just</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="101821">only</a>: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span>: <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span></span>
<a href="l255"></a><span id="l255"></span>
<a href="l256"></a><span id="l256">    <span class="comment">/**</span>
<a href="l257"></a><span id="l257">     * 0 index based, not spec, but unsure if it should be</span>
<a href="l258"></a><span id="l258">     */</span></span>
<a href="l259"></a><span id="l259">    <span class="keyword">def</span> <a title="(pos: =&gt; Int)scales.xml.XPath[Axis.this.T]" id="90433">pos</a><span class="delimiter">(</span><a title="=&gt; Int" id="101823">pos</a>: =&gt; Int<span class="delimiter">)</span>: <a href="#11897" title="scales.xml.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l260"></a><span id="l260">      <a href="#90430" title="(nodes: Iterable[Iterable[scales.xml.package.XmlPath]], performSort: Boolean, filterDuplicates: Boolean)scales.xml.XPath[Axis.this.T]">process</a> <span class="delimiter">{</span></span>
<a href="l261"></a><span id="l261">        <a href="#90428" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99966" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.</span>
<a href="l262"></a><span id="l262">          <span title="(f: Iterable[scales.xml.package.XmlPath] =&gt; scala.collection.GenTraversableOnce[Iterable[scales.xml.package.XmlPath]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]])Iterable[Iterable[scales.xml.package.XmlPath]]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]]" class="delimiter">{</span> <a title="Iterable[scales.xml.package.XmlPath]" id="101851">path</a> =&gt;</span>
<a href="l263"></a><span id="l263">            <span class="keyword">val</span> <a title="Iterable[scales.xml.package.XmlPath]" id="101852">n</a> = <a href="#101851" title="Iterable[scales.xml.package.XmlPath]">path</a>.<span title="(n: Int)Iterable[scales.xml.package.XmlPath]">take</span><span class="delimiter">(</span><a href="#101823" title="=&gt; Int">pos</a><span class="delimiter">)</span></span>
<a href="l264"></a><span id="l264">            <span class="comment">//val res = </span></span>
<a href="l265"></a><span id="l265">            <span title="Iterable[Iterable[scales.xml.package.XmlPath]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#101852" title="Iterable[scales.xml.package.XmlPath]">n</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">!=</span> <a href="#101823" title="=&gt; Int">pos</a><span class="delimiter">)</span> <a href="#90431" title="=&gt; Iterable[scales.xml.package.XmlPath]">empty</a></span>
<a href="l266"></a><span id="l266">            <span class="keyword">else</span> <a href="../utils/package.scala.html#12069" title="(i: Iterable[scales.xml.package.XmlPath])List[Iterable[scales.xml.package.XmlPath]]">one</a><span class="delimiter">(</span><a href="#90432" title="(only: scales.xml.package.XmlPath)Iterable[scales.xml.package.XmlPath]">just</a><span class="delimiter">(</span><a href="#101852" title="Iterable[scales.xml.package.XmlPath]">n</a>.<span title="=&gt; scales.xml.package.XmlPath">last</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l267"></a><span id="l267">            <span class="comment">// println (&quot;got path &quot; + path + &quot; n &quot; + n +&quot; res &quot; + res)</span></span>
<a href="l268"></a><span id="l268"></span>
<a href="l269"></a><span id="l269">            <span class="comment">//res</span></span>
<a href="l270"></a><span id="l270">          <span class="delimiter">}</span></span>
<a href="l271"></a><span id="l271">        <span class="comment">//	path.nodes.drop(pos).take(1) </span></span>
<a href="l272"></a><span id="l272">      <span class="delimiter">}</span></span>
<a href="l273"></a><span id="l273"></span>
<a href="l274"></a><span id="l274">    <span class="comment">/** Parents of these paths */</span></span>
<a href="l275"></a><span id="l275">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[Axis.this.T]" id="90434">\^</a> : <a href="#11897" title="scales.xml.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l276"></a><span id="l276">      <span class="comment">/* must process dups</span>
<a href="l277"></a><span id="l277">       * flatten, only each elem should get through anyway</span>
<a href="l278"></a><span id="l278">       */</span></span>
<a href="l279"></a><span id="l279">      <a href="#101815" title="Boolean" id="103655">process</a><span class="delimiter">(</span><a href="#90428" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99966" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="(f: Iterable[scales.xml.package.XmlPath] =&gt; scala.collection.GenTraversableOnce[Iterable[scales.xml.package.XmlPath]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]])Iterable[Iterable[scales.xml.package.XmlPath]]">flatMap</span> <a title="Iterable[Iterable[scales.xml.package.XmlPath]]" id="103653" class="delimiter">{</a> <a title="Iterable[scales.xml.package.XmlPath]" id="102770">path</a> =&gt;</span>
<a href="l280"></a><span id="l280">	<a href="#102770" title="Iterable[scales.xml.package.XmlPath]">path</a>.<span title="(f: scales.xml.package.XmlPath =&gt; scala.collection.GenTraversableOnce[Iterable[scales.xml.package.XmlPath]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.package.XmlPath],Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]])Iterable[Iterable[scales.xml.package.XmlPath]]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]]" class="delimiter">{</span> <a title="scales.xml.package.XmlPath" id="102787">x</a> =&gt;</span>
<a href="l281"></a><span id="l281">          <span title="Iterable[Iterable[scales.xml.package.XmlPath]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#102787" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#39593" title="=&gt; scales.utils.EitherLike[scales.utils.Top[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC],scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">top</a>.<a href="../utils/EitherLike.scala.html#39633" title="=&gt; Boolean">isLeft</a><span class="delimiter">)</span> <a href="#90431" title="=&gt; Iterable[scales.xml.package.XmlPath]">empty</a></span>
<a href="l282"></a><span id="l282">          <span class="keyword">else</span> <a href="../utils/package.scala.html#12069" title="(i: Iterable[scales.xml.package.XmlPath])List[Iterable[scales.xml.package.XmlPath]]">one</a><span class="delimiter">(</span><a href="#90432" title="(only: scales.xml.package.XmlPath)Iterable[scales.xml.package.XmlPath]">just</a><span class="delimiter">(</span><a href="#102787" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#39593" title="=&gt; scales.utils.EitherLike[scales.utils.Top[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC],scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">top</a>.<a href="../utils/EitherLike.scala.html#39640" title="=&gt; scales.utils.RightLikeProjection[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">right</a>.<a href="../utils/EitherLike.scala.html#39620" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">get</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l283"></a><span id="l283">        <span class="delimiter">}</span></span>
<a href="l284"></a><span id="l284">      <span class="delimiter">}</span>, filterDuplicates = <a title="Boolean(true)" id="103654" class="keyword">true</a><span class="delimiter">)</span></span>
<a href="l285"></a><span id="l285"></span>
<a href="l286"></a><span id="l286">    <span class="comment">/** simply forwards the current context, element\item specific versions exist that step downwards in document order */</span></span>
<a href="l287"></a><span id="l287">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[Axis.this.T]" id="90435">\</a> : <a href="#11897" title="scales.xml.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l288"></a><span id="l288">      <a href="#90429" title="(xpathInfo: scales.xml.XPathInfo)scales.xml.XPath[Axis.this.T]">newThis</a><span class="delimiter">(</span><a href="#90428" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99966" title="Iterable[Iterable[scales.xml.package.XmlPath]]" id="103694">copy</a><span class="delimiter">(</span>initialNode = <a title="Boolean(false)" id="103690" class="keyword">false</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l289"></a><span id="l289"></span>
<a href="l290"></a><span id="l290">    <span class="comment">/**</span>
<a href="l291"></a><span id="l291">     * all children unpacked, normal xpath requires the context in E1/E2, which hugely complicates things, so \ is this, \+ is \ in the case where unpacking is needed</span>
<a href="l292"></a><span id="l292">     * which just leaves \* varieties for elements.</span>
<a href="l293"></a><span id="l293">     */</span></span>
<a href="l294"></a><span id="l294">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[Axis.this.T]" id="90436">\+</a> : <a href="#11897" title="scales.xml.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l295"></a><span id="l295">      <a href="#90430" title="(nodes: Iterable[Iterable[scales.xml.package.XmlPath]], performSort: Boolean, filterDuplicates: Boolean)scales.xml.XPath[Axis.this.T]">process</a><span class="delimiter">(</span><a href="#90428" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99966" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="(f: Iterable[scales.xml.package.XmlPath] =&gt; scala.collection.GenTraversableOnce[scales.xml.package.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],scales.xml.package.XmlPath,Iterable[Iterable[scales.xml.package.XmlPath]]])Iterable[Iterable[scales.xml.package.XmlPath]]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]]" class="delimiter">{</span></span>
<a href="l296"></a><span id="l296">        <a href="#103713" title="Iterable[scales.xml.package.XmlPath]">_</a>.<span title="(f: scales.xml.package.XmlPath =&gt; scala.collection.GenTraversableOnce[scales.xml.package.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.package.XmlPath],scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]])Iterable[scales.xml.package.XmlPath]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]]" class="delimiter">{</span> <a title="scales.xml.package.XmlPath" id="103730">child</a> =&gt;</span>
<a href="l297"></a><span id="l297">          <span title="Iterable[scales.xml.package.XmlPath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#103730" title="scales.xml.package.XmlPath">child</a>.<a href="../utils/Paths.scala.html#39603" title="=&gt; Boolean">isItem</a><span class="delimiter">)</span> <a href="#90432" title="(only: scales.xml.package.XmlPath)Iterable[scales.xml.package.XmlPath]">just</a><span class="delimiter">(</span><a href="#103730" title="scales.xml.package.XmlPath">child</a><span class="delimiter">)</span></span>
<a href="l298"></a><span id="l298">          <span class="keyword">else</span> <a href="../utils/package.scala.html#12069" title="(i: scales.xml.package.XmlPath)List[scales.xml.package.XmlPath]">one</a><span class="delimiter">(</span><a href="#103730" title="scales.xml.package.XmlPath">child</a><span class="delimiter">)</span> <span class="comment">//: Iterable[XmlPath] </span></span>
<a href="l299"></a><span id="l299">        <span class="delimiter">}</span></span>
<a href="l300"></a><span id="l300">      <span class="delimiter">}</span><span class="delimiter">)</span></span>
<a href="l301"></a><span id="l301"></span>
<a href="l302"></a><span id="l302">    <span class="comment">/** all descendants on the basis that we are eager */</span></span>
<a href="l303"></a><span id="l303">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[Axis.this.T]" id="90437">e_\\</a> : <a href="#11897" title="scales.xml.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l304"></a><span id="l304"></span>
<a href="l305"></a><span id="l305">      <span class="comment">// can't be tail recursive :&lt;</span></span>
<a href="l306"></a><span id="l306">      <span class="comment">//			@scala.annotation.tailrec</span></span>
<a href="l307"></a><span id="l307">      <span class="keyword">def</span> <a title="(xmlPath: Iterable[scales.xml.package.XmlPath])List[scales.xml.package.XmlPath]" id="103784">recUnpack</a><span class="delimiter">(</span><a title="Iterable[scales.xml.package.XmlPath]" id="103785">xmlPath</a>: <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[scales.xml.package.XmlPath]">List</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l308"></a><span id="l308">        <span class="keyword">var</span> <a title="List[scales.xml.package.XmlPath]" id="103786">res</a> : <span title="List[scales.xml.package.XmlPath]">List</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> = <span title="object Nil">Nil</span></span>
<a href="l309"></a><span id="l309"></span>
<a href="l310"></a><span id="l310">	<span class="keyword">val</span> <a title="Iterator[scales.xml.package.XmlPath]" id="103787">i</a> = <a href="#103785" title="Iterable[scales.xml.package.XmlPath]">xmlPath</a>.<span title="=&gt; Iterator[scales.xml.package.XmlPath]">iterator</span></span>
<a href="l311"></a><span id="l311">	<span title="Unit" class="keyword">while</span><span class="delimiter">(</span><a href="#103787" title="Iterator[scales.xml.package.XmlPath]">i</a>.<span title="=&gt; Boolean">hasNext</span><span class="delimiter">)</span> <a href="#103788" title="()Unit" class="delimiter">{</a></span>
<a href="l312"></a><span id="l312">	  <span class="keyword">val</span> <a title="scales.xml.package.XmlPath" id="103789">child</a> = <a href="#103787" title="Iterator[scales.xml.package.XmlPath]">i</a>.<span title="()scales.xml.package.XmlPath">next</span></span>
<a href="l313"></a><span id="l313">	  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#103789" title="scales.xml.package.XmlPath">child</a>.<a href="../utils/Paths.scala.html#39603" title="=&gt; Boolean">isItem</a><span class="delimiter">)</span> <a href="#103786" title="List[scales.xml.package.XmlPath]">res</a> = <a href="#103789" title="scales.xml.package.XmlPath">child</a> <a href="#103790" title="(x: scales.xml.package.XmlPath)List[scales.xml.package.XmlPath]">::</a> <a href="#103786" title="List[scales.xml.package.XmlPath]">res</a></span>
<a href="l314"></a><span id="l314">	  <span class="keyword">else</span> <span class="delimiter">{</span></span>
<a href="l315"></a><span id="l315">            <span class="comment">// child first then its kids</span></span>
<a href="l316"></a><span id="l316">            <a href="#103786" title="List[scales.xml.package.XmlPath]">res</a> = <span class="delimiter">(</span><a href="#103789" title="scales.xml.package.XmlPath">child</a> <a href="#103796" title="(x: scales.xml.package.XmlPath)List[scales.xml.package.XmlPath]">::</a> <a href="#103786" title="List[scales.xml.package.XmlPath]">res</a> <span class="delimiter">)</span>.<span title="(prefix: List[scales.xml.package.XmlPath])List[scales.xml.package.XmlPath]">reverse_:::</span> <span class="delimiter">(</span></span>
<a href="l317"></a><span id="l317">	      <a href="#103784" title="(xmlPath: Iterable[scales.xml.package.XmlPath])List[scales.xml.package.XmlPath]">recUnpack</a><span class="delimiter">(</span><a href="#103789" title="scales.xml.package.XmlPath">child</a>: <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">)</span></span>
<a href="l318"></a><span id="l318">          <span class="delimiter">}</span></span>
<a href="l319"></a><span id="l319">	<span class="delimiter">}</span></span>
<a href="l320"></a><span id="l320">	<a href="#103786" title="List[scales.xml.package.XmlPath]">res</a></span>
<a href="l321"></a><span id="l321">      <span class="delimiter">}</span></span>
<a href="l322"></a><span id="l322"></span>
<a href="l323"></a><span id="l323">      <a href="#90430" title="(nodes: Iterable[Iterable[scales.xml.package.XmlPath]], performSort: Boolean, filterDuplicates: Boolean)scales.xml.XPath[Axis.this.T]">process</a><span class="delimiter">(</span></span>
<a href="l324"></a><span id="l324">        <span class="delimiter">(</span><span title="Iterable[Iterable[scales.xml.package.XmlPath]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#90428" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99969" title="=&gt; Boolean">initialNode</a><span class="delimiter">)</span> <a href="#90428" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99966" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a> <span class="comment">// crazy initial expression thing 3.2 in http://www.w3.org/TR/xpath20/#id-path-expressions</span></span>
<a href="l325"></a><span id="l325">        <span class="keyword">else</span> List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l326"></a><span id="l326">          <span title="(that: scala.collection.GenTraversableOnce[Iterable[scales.xml.package.XmlPath]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]])Iterable[Iterable[scales.xml.package.XmlPath]]">++</span> <a href="#90428" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99966" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="(f: Iterable[scales.xml.package.XmlPath] =&gt; scala.collection.GenTraversableOnce[scales.xml.package.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]])Iterable[scales.xml.package.XmlPath]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]]" class="delimiter">{</span> <a href="#103784" title="(xmlPath: Iterable[scales.xml.package.XmlPath])List[scales.xml.package.XmlPath]">recUnpack</a><span class="delimiter">(</span><a href="#103854" title="Iterable[scales.xml.package.XmlPath]">_</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span></span>
<a href="l327"></a><span id="l327">    <span class="delimiter">}</span> </span>
<a href="l328"></a><span id="l328"></span>
<a href="l329"></a><span id="l329">    <span class="comment">/** all descendants on the basis that we are probably lazy */</span></span>
<a href="l330"></a><span id="l330">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[Axis.this.T]" id="90438">l_\\</a> : <a href="#11897" title="scales.xml.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l331"></a><span id="l331">      <span class="comment">// can't be tail recursive :&lt;</span></span>
<a href="l332"></a><span id="l332">      <span class="comment">//			@scala.annotation.tailrec</span></span>
<a href="l333"></a><span id="l333">      <span class="keyword">def</span> <a title="(xmlPath: Iterable[scales.xml.package.XmlPath])Iterable[scales.xml.package.XmlPath]" id="103905">recUnpack</a><span class="delimiter">(</span><a title="Iterable[scales.xml.package.XmlPath]" id="103906">xmlPath</a>: <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> =</span>
<a href="l334"></a><span id="l334">        <a href="#103906" title="Iterable[scales.xml.package.XmlPath]">xmlPath</a>.<span title="(f: scales.xml.package.XmlPath =&gt; scala.collection.GenTraversableOnce[scales.xml.package.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.package.XmlPath],scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]])Iterable[scales.xml.package.XmlPath]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]]" class="delimiter">{</span> <a title="scales.xml.package.XmlPath" id="103923">child</a> =&gt;</span>
<a href="l335"></a><span id="l335">          <span title="Iterable[scales.xml.package.XmlPath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#103923" title="scales.xml.package.XmlPath">child</a>.<a href="../utils/Paths.scala.html#39603" title="=&gt; Boolean">isItem</a><span class="delimiter">)</span> <a href="#90432" title="(only: scales.xml.package.XmlPath)Iterable[scales.xml.package.XmlPath]">just</a><span class="delimiter">(</span><a href="#103923" title="scales.xml.package.XmlPath">child</a><span class="delimiter">)</span> </span>
<a href="l336"></a><span id="l336">	  <span class="keyword">else</span> <span class="delimiter">{</span></span>
<a href="l337"></a><span id="l337">            <span class="comment">// child first then its kids</span></span>
<a href="l338"></a><span id="l338">            <a href="#90432" title="(only: scales.xml.package.XmlPath)Iterable[scales.xml.package.XmlPath]">just</a><span class="delimiter">(</span><a href="#103923" title="scales.xml.package.XmlPath">child</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[scales.xml.package.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.package.XmlPath],scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]])Iterable[scales.xml.package.XmlPath]">++</span></span>
<a href="l339"></a><span id="l339">              <a href="#103905" title="(xmlPath: Iterable[scales.xml.package.XmlPath])Iterable[scales.xml.package.XmlPath]">recUnpack</a><span class="delimiter">(</span><a href="#103923" title="scales.xml.package.XmlPath">child</a>: <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">)</span></span>
<a href="l340"></a><span id="l340">          <span class="delimiter">}</span></span>
<a href="l341"></a><span id="l341">        <span class="delimiter">}</span></span>
<a href="l342"></a><span id="l342"></span>
<a href="l343"></a><span id="l343">      <a href="#90430" title="(nodes: Iterable[Iterable[scales.xml.package.XmlPath]], performSort: Boolean, filterDuplicates: Boolean)scales.xml.XPath[Axis.this.T]">process</a><span class="delimiter">(</span></span>
<a href="l344"></a><span id="l344">        <span class="delimiter">(</span><span title="Iterable[Iterable[scales.xml.package.XmlPath]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#90428" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99969" title="=&gt; Boolean">initialNode</a><span class="delimiter">)</span> <a href="#90428" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99966" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a> <span class="comment">// crazy initial expression thing 3.2 in http://www.w3.org/TR/xpath20/#id-path-expressions</span></span>
<a href="l345"></a><span id="l345">        <span class="keyword">else</span> List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l346"></a><span id="l346">          <span title="(that: scala.collection.GenTraversableOnce[Iterable[scales.xml.package.XmlPath]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]])Iterable[Iterable[scales.xml.package.XmlPath]]">++</span> <a href="#90428" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99966" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="(f: Iterable[scales.xml.package.XmlPath] =&gt; scala.collection.GenTraversableOnce[scales.xml.package.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]])Iterable[scales.xml.package.XmlPath]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]]" class="delimiter">{</span> <a href="#103905" title="(xmlPath: Iterable[scales.xml.package.XmlPath])Iterable[scales.xml.package.XmlPath]">recUnpack</a><span class="delimiter">(</span><a href="#104041" title="Iterable[scales.xml.package.XmlPath]">_</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span></span>
<a href="l347"></a><span id="l347">    <span class="delimiter">}</span></span>
<a href="l348"></a><span id="l348"></span>
<a href="l349"></a><span id="l349">    <span class="comment">/**</span>
<a href="l350"></a><span id="l350">     * All descendants, uses XPathInfo eager to choose an implementation</span>
<a href="l351"></a><span id="l351">     */</span> </span>
<a href="l352"></a><span id="l352">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[Axis.this.T]" id="90439">\\</a> : <a href="#11897" title="scales.xml.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l353"></a><span id="l353">      <span title="scales.xml.XPath[Axis.this.T]" class="keyword">if</span> <span class="delimiter">(</span><a href="#90428" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99970" title="=&gt; Boolean">eager</a><span class="delimiter">)</span> <a href="#90437" title="=&gt; scales.xml.XPath[Axis.this.T]">e_\\</a></span>
<a href="l354"></a><span id="l354">      <span class="keyword">else</span> <a href="#90438" title="=&gt; scales.xml.XPath[Axis.this.T]">l_\\</a></span>
<a href="l355"></a><span id="l355"></span>
<a href="l356"></a><span id="l356"></span>
<a href="l357"></a><span id="l357">    <span class="comment">/** filter through the current matches */</span></span>
<a href="l358"></a><span id="l358">    <span class="keyword">def</span> <a title="(pred: scales.xml.package.XmlPath =&gt; Boolean)scales.xml.XPath[Axis.this.T]" id="90440">filter</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath =&gt; Boolean" id="104092">pred</a>: XmlPath =&gt; Boolean<span class="delimiter">)</span>: <a href="#11897" title="scales.xml.XPath[Axis.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l359"></a><span id="l359">      <a href="#90430" title="(nodes: Iterable[Iterable[scales.xml.package.XmlPath]], performSort: Boolean, filterDuplicates: Boolean)scales.xml.XPath[Axis.this.T]">process</a><span class="delimiter">(</span><a href="#90428" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99966" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="(f: Iterable[scales.xml.package.XmlPath] =&gt; Iterable[scales.xml.package.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]])Iterable[Iterable[scales.xml.package.XmlPath]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]]" class="delimiter">{</span> <a title="Iterable[scales.xml.package.XmlPath]" id="104110">path</a> =&gt; <a href="#104110" title="Iterable[scales.xml.package.XmlPath]">path</a>.<span title="(p: scales.xml.package.XmlPath =&gt; Boolean)Iterable[scales.xml.package.XmlPath]">filter</span><span class="delimiter">(</span><a href="#104092" title="scales.xml.package.XmlPath =&gt; Boolean">pred</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span></span>
<a href="l360"></a><span id="l360"></span>
<a href="l361"></a><span id="l361">  <span class="delimiter">}</span></span>
<a href="l362"></a><span id="l362"></span>
<a href="l363"></a><span id="l363">  <span class="comment">/**</span>
<a href="l364"></a><span id="l364">   * Unlike XPath spec no reverse axis are directly provided by the dsl</span>
<a href="l365"></a><span id="l365">   */</span></span>
<a href="l366"></a><span id="l366">  <span class="keyword">trait</span> <a title="trait SiblingsAxis extends java.lang.Object with XmlPaths.this.Axis" id="12474">SiblingsAxis</a> <span class="keyword">extends</span> <a href="#12473" title="XmlPaths.this.Axis">Axis</a> <span class="delimiter">{</span></span>
<a href="l367"></a><span id="l367"></span>
<a href="l368"></a><span id="l368">    <span class="comment">/**</span>
<a href="l369"></a><span id="l369">     * Unlike XPath spec returns all children in document order</span>
<a href="l370"></a><span id="l370">     * /</span>
<a href="l371"></a><span id="l371">     * def preceding_sibling_:: : XPath[T] =</span>
<a href="l372"></a><span id="l372">     * process(path.nodes.flatMap{ path =&gt;</span>
<a href="l373"></a><span id="l373">     * // each preceding</span>
<a href="l374"></a><span id="l374">     * val pos = path.node.index</span>
<a href="l375"></a><span id="l375">     * path.zipUp.splitAt(pos)._1</span>
<a href="l376"></a><span id="l376">     * })</span>
<a href="l377"></a><span id="l377">     *</span>
<a href="l378"></a><span id="l378">     * def following_sibling_:: : XPath[T] =</span>
<a href="l379"></a><span id="l379">     * process(path.nodes.flatMap{ path =&gt;</span>
<a href="l380"></a><span id="l380">     * // each preceding</span>
<a href="l381"></a><span id="l381">     * val pos = path.node.index</span>
<a href="l382"></a><span id="l382">     * path.zipUp.splitAt(pos)._2.drop(1)</span>
<a href="l383"></a><span id="l383">     * })</span>
<a href="l384"></a><span id="l384">     *</span>
<a href="l385"></a><span id="l385">     * //filter(_.hasPreviousSibling == false))</span>
<a href="l386"></a><span id="l386">     */</span></span>
<a href="l387"></a><span id="l387">    <span class="comment">/**</span>
<a href="l388"></a><span id="l388">     * predicates are in reverse doc order</span>
<a href="l389"></a><span id="l389">     */</span></span>
<a href="l390"></a><span id="l390">    <span class="comment">//def preceding_sibling( pred )</span></span>
<a href="l391"></a><span id="l391">  <span class="delimiter">}</span></span>
<a href="l392"></a><span id="l392"></span>
<a href="l393"></a><span id="l393">  <span class="comment">/** The * and @ must be swapped otherwise its an annotation */</span></span>
<a href="l394"></a><span id="l394">  <span class="keyword">trait</span> <a title="trait AttributeAxis extends java.lang.Object with XmlPaths.this.Axis with ScalaObject" id="12475">AttributeAxis</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12473" title="XmlPaths.this.Axis">Axis</a> <span class="delimiter">{</span></span>
<a href="l395"></a><span id="l395"></span>
<a href="l396"></a><span id="l396">    <span class="keyword">def</span> <a title="=&gt; Iterable[scales.xml.AttributePath]" id="90475">i_*@</a> : <span title="Iterable[scales.xml.AttributePath]">Iterable</span><span class="delimiter">[</span>AttributePath<span class="delimiter">]</span> =</span>
<a href="l397"></a><span id="l397">      <a href="#90428" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99966" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="(f: Iterable[scales.xml.package.XmlPath] =&gt; scala.collection.GenTraversableOnce[scales.xml.AttributePath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],scales.xml.AttributePath,Iterable[scales.xml.AttributePath]])Iterable[scales.xml.AttributePath]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.AttributePath,Iterable[scales.xml.AttributePath]]" class="delimiter">{</span></span>
<a href="l398"></a><span id="l398">        <a href="#104158" title="Iterable[scales.xml.package.XmlPath]">_</a>.<span title="(f: scales.xml.package.XmlPath =&gt; scala.collection.GenTraversableOnce[scales.xml.AttributePath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.package.XmlPath],scales.xml.AttributePath,Iterable[scales.xml.AttributePath]])Iterable[scales.xml.AttributePath]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.AttributePath,Iterable[scales.xml.AttributePath]]" class="delimiter">{</span> <a title="scales.xml.package.XmlPath" id="104175">child</a> =&gt; <span class="comment">// we are looking only for immediate attribs, not kids</span></span>
<a href="l399"></a><span id="l399">          <span title="Iterable[scales.xml.AttributePath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#104175" title="scales.xml.package.XmlPath">child</a>.<a href="../utils/Paths.scala.html#39603" title="=&gt; Boolean">isItem</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span title="object Nil">Nil</span></span>
<a href="l400"></a><span id="l400">          <span class="keyword">else</span> <a href="#104175" title="scales.xml.package.XmlPath">child</a>.<a href="../utils/Paths.scala.html#39608" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67494" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88396" title="=&gt; scales.xml.package.Attributes">attributes</a>.<span title="(f: scales.xml.Attribute =&gt; scales.xml.AttributePath)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.Attribute],scales.xml.AttributePath,Iterable[scales.xml.AttributePath]])Iterable[scales.xml.AttributePath]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.AttributePath,Iterable[scales.xml.AttributePath]]" class="delimiter">{</span> <a title="scales.xml.Attribute" id="104201">x</a> =&gt;</span>
<a href="l401"></a><span id="l401">            <a href="#105965" title="(attribute: scales.xml.Attribute, parent: scales.xml.package.XmlPath)scales.xml.AttributePath">AttributePath</a><span class="delimiter">(</span><a href="#104201" title="scales.xml.Attribute">x</a>, <a href="#104175" title="scales.xml.package.XmlPath">child</a><span class="delimiter">)</span>;</span>
<a href="l402"></a><span id="l402">          <span class="delimiter">}</span></span>
<a href="l403"></a><span id="l403">        <span class="delimiter">}</span></span>
<a href="l404"></a><span id="l404">      <span class="delimiter">}</span></span>
<a href="l405"></a><span id="l405">    </span>
<a href="l406"></a><span id="l406"></span>
<a href="l407"></a><span id="l407">    <span class="comment">/** All immediate attributes */</span></span>
<a href="l408"></a><span id="l408">    <span class="keyword">def</span> <a title="=&gt; scales.xml.AttributePaths[AttributeAxis.this.T]" id="90476">*@</a> : <a href="#105953" title="scales.xml.AttributePaths[AttributeAxis.this.T]">AttributePaths</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l409"></a><span id="l409">      <a href="#105953" title="(attributes: Iterable[scales.xml.AttributePath], path: scales.xml.XPathInfo, cbf: scala.collection.generic.CanBuildFrom[AttributeAxis.this.T,scales.xml.package.XmlPath,AttributeAxis.this.T])scales.xml.AttributePaths[AttributeAxis.this.T]">AttributePaths</a><span class="delimiter">(</span><a href="#90475" title="=&gt; Iterable[scales.xml.AttributePath]">i_*@</a>, <a href="#90428" title="=&gt; scales.xml.XPathInfo">path</a>, <a href="#90427" title="=&gt; scala.collection.generic.CanBuildFrom[AttributeAxis.this.T,scales.xml.package.XmlPath,AttributeAxis.this.T]">cbf</a><span class="delimiter">)</span></span>
<a href="l410"></a><span id="l410"></span>
<a href="l411"></a><span id="l411">    <span class="comment">/** Search for all immediate attributes with a matching predicate (allows localName only searches for example) */</span></span>
<a href="l412"></a><span id="l412">    <span class="keyword">def</span> <a title="(pred: scales.xml.AttributePath =&gt; Boolean)scales.xml.AttributePaths[AttributeAxis.this.T]" id="90477">*@</a><span class="delimiter">(</span><a title="scales.xml.AttributePath =&gt; Boolean" id="104300">pred</a>: AttributePath =&gt; Boolean<span class="delimiter">)</span>: <a href="#105953" title="scales.xml.AttributePaths[AttributeAxis.this.T]">AttributePaths</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l413"></a><span id="l413">      <a href="#105953" title="(attributes: Iterable[scales.xml.AttributePath], path: scales.xml.XPathInfo, cbf: scala.collection.generic.CanBuildFrom[AttributeAxis.this.T,scales.xml.package.XmlPath,AttributeAxis.this.T])scales.xml.AttributePaths[AttributeAxis.this.T]">AttributePaths</a><span class="delimiter">(</span><a href="#90475" title="=&gt; Iterable[scales.xml.AttributePath]">i_*@</a>.<span title="(p: scales.xml.AttributePath =&gt; Boolean)Iterable[scales.xml.AttributePath]">filter</span> <span class="delimiter">{</span> <a href="#104300" title="(v1: scales.xml.AttributePath)Boolean">pred</a><span class="delimiter">(</span><a href="#104312" title="scales.xml.AttributePath">_</a><span class="delimiter">)</span> <span class="delimiter">}</span>, <a href="#90428" title="=&gt; scales.xml.XPathInfo">path</a>, <a href="#90427" title="=&gt; scala.collection.generic.CanBuildFrom[AttributeAxis.this.T,scales.xml.package.XmlPath,AttributeAxis.this.T]">cbf</a><span class="delimiter">)</span></span>
<a href="l414"></a><span id="l414"></span>
<a href="l415"></a><span id="l415">    <span class="comment">/** Special case for AttributeQNames, only local and namespace match */</span></span>
<a href="l416"></a><span id="l416">    <span class="keyword">def</span> <a title="[QT](attrQname: QT)(implicit evidence$1: QT =&gt; scales.xml.package.AttributeQName)scales.xml.AttributePaths[AttributeAxis.this.T]" id="104318">*@</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="90480">QT</a> &lt;% AttributeQName<span class="delimiter">]</span><span class="delimiter">(</span><a title="QT" id="104317">attrQname</a>: <a href="#90480" title="QT">QT</a><span class="delimiter">)</span>: <a href="#105953" title="scales.xml.AttributePaths[AttributeAxis.this.T]">AttributePaths</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l417"></a><span id="l417">      <a href="#90477" title="(pred: scales.xml.AttributePath =&gt; Boolean)scales.xml.AttributePaths[AttributeAxis.this.T]">*@</a><span class="delimiter">(</span><span class="delimiter">{</span> attributePath: <a href="#105965" title="scales.xml.AttributePath">AttributePath</a> =&gt; <a href="XmlTypes.scala.html#87809" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">toQName</a><span class="delimiter">(</span><a href="#104342" title="scales.xml.AttributePath">attributePath</a>.<a href="#104202" title="=&gt; scales.xml.Attribute">attribute</a>.<a href="XmlTypes.scala.html#87901" title="=&gt; scales.xml.package.AttributeQName">name</a><span class="delimiter">)</span> <a href="QName.scala.html#87944" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="XmlTypes.scala.html#87809" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">toQName</a><span class="delimiter">(</span><a href="#104318" title="(v1: QT)scales.xml.package.AttributeQName">attrQname</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span></span>
<a href="l418"></a><span id="l418"></span>
<a href="l419"></a><span id="l419">    <span class="comment">/** Loose match for UnprefixedQNames only, only matches local and namespace */</span></span>
<a href="l420"></a><span id="l420">    <span class="keyword">def</span> <a title="(qname: scales.xml.UnprefixedQName)scales.xml.AttributePaths[AttributeAxis.this.T]" id="90481">*@</a><span class="delimiter">(</span><a title="scales.xml.UnprefixedQName" id="104326">qname</a>: <a href="QName.scala.html#11805" title="scales.xml.UnprefixedQName">UnprefixedQName</a><span class="delimiter">)</span>: <a href="#105953" title="scales.xml.AttributePaths[AttributeAxis.this.T]">AttributePaths</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l421"></a><span id="l421">      <a href="#90477" title="(pred: scales.xml.AttributePath =&gt; Boolean)scales.xml.AttributePaths[AttributeAxis.this.T]">*@</a><span class="delimiter">(</span><span class="delimiter">{</span> attributePath: <a href="#105965" title="scales.xml.AttributePath">AttributePath</a> =&gt; <a href="XmlTypes.scala.html#87809" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">toQName</a><span class="delimiter">(</span><a href="#104383" title="scales.xml.AttributePath">attributePath</a>.<a href="#104202" title="=&gt; scales.xml.Attribute">attribute</a>.<a href="XmlTypes.scala.html#87901" title="=&gt; scales.xml.package.AttributeQName">name</a><span class="delimiter">)</span> <a href="QName.scala.html#87944" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#104326" title="scales.xml.UnprefixedQName">qname</a> <span class="delimiter">}</span><span class="delimiter">)</span></span>
<a href="l422"></a><span id="l422"></span>
<a href="l423"></a><span id="l423">  <span class="delimiter">}</span></span>
<a href="l424"></a><span id="l424"></span>
<a href="l425"></a><span id="l425">  <span class="keyword">trait</span> <a title="trait ElementStep extends java.lang.Object with XmlPaths.this.Axis with ScalaObject" id="12476">ElementStep</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12473" title="XmlPaths.this.Axis">Axis</a> <span class="delimiter">{</span></span>
<a href="l426"></a><span id="l426"></span>
<a href="l427"></a><span id="l427">    <span class="comment">/** all element children */</span></span>
<a href="l428"></a><span id="l428">    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[ElementStep.this.T]" id="90442">\*-</a> : <a href="#11897" title="scales.xml.XPath[ElementStep.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l429"></a><span id="l429">      <a href="#90430" title="(nodes: Iterable[Iterable[scales.xml.package.XmlPath]], performSort: Boolean, filterDuplicates: Boolean)scales.xml.XPath[ElementStep.this.T]">process</a><span class="delimiter">(</span><a href="#90428" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99966" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="(f: Iterable[scales.xml.package.XmlPath] =&gt; scala.collection.GenTraversableOnce[scales.xml.package.XmlPath])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],scales.xml.package.XmlPath,Iterable[Iterable[scales.xml.package.XmlPath]]])Iterable[Iterable[scales.xml.package.XmlPath]]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]]" class="delimiter">{</span></span>
<a href="l430"></a><span id="l430">	<a href="#104419" title="Iterable[scales.xml.package.XmlPath]">_</a>.<span title="(p: scales.xml.package.XmlPath =&gt; Boolean)Iterable[scales.xml.package.XmlPath]">filter</span> <span class="delimiter">{</span><span title="=&gt; Boolean">!</span><a href="#104423" title="scales.xml.package.XmlPath">_</a>.<a href="../utils/Paths.scala.html#39603" title="=&gt; Boolean">isItem</a><span class="delimiter">}</span></span>
<a href="l431"></a><span id="l431">      <span class="delimiter">}</span><span class="delimiter">)</span></span>
<a href="l432"></a><span id="l432"></span>
<a href="l433"></a><span id="l433">    <span class="comment">/** Search for all immediate child elements with a matching qname */</span></span>
<a href="l434"></a><span id="l434">    <span class="keyword">def</span> <a title="(qname: scales.xml.QName)scales.xml.XPath[ElementStep.this.T]" id="90443">*</a><span class="delimiter">(</span><a title="scales.xml.QName" id="104448">qname</a>: <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a><span class="delimiter">)</span>: <a href="#11897" title="scales.xml.XPath[ElementStep.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#90440" title="(pred: scales.xml.package.XmlPath =&gt; Boolean)scales.xml.XPath[ElementStep.this.T]">filter</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="104451">x</a> =&gt; <a href="#104451" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#39603" title="=&gt; Boolean">isItem</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(false)" class="keyword">false</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#104448" title="scales.xml.QName">qname</a> <a href="QName.scala.html#87944" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#104451" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#39608" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#67494" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#88395" title="=&gt; scales.xml.QName">name</a><span class="delimiter">)</span></span>
<a href="l435"></a><span id="l435"></span>
<a href="l436"></a><span id="l436">    <span class="keyword">def</span> <a title="(qname: scales.xml.QName)scales.xml.XPath[ElementStep.this.T]" id="90444">\*</a><span class="delimiter">(</span><a title="scales.xml.QName" id="104457">qname</a>: <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a><span class="delimiter">)</span>: <a href="#11897" title="scales.xml.XPath[ElementStep.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = </span>
<a href="l437"></a><span id="l437">       <a href="#90442" title="=&gt; scales.xml.XPath[ElementStep.this.T]">\*-</a>.<a href="#90443" title="(qname: scales.xml.QName)scales.xml.XPath[ElementStep.this.T]">*</a><span class="delimiter">(</span><a href="#104457" title="scales.xml.QName">qname</a><span class="delimiter">)</span></span>
<a href="l438"></a><span id="l438"></span>
<a href="l439"></a><span id="l439">    <span class="comment">/** Search for all immediate child elements matching the predicate*/</span></span>
<a href="l440"></a><span id="l440">    <span class="keyword">def</span> <a title="(pred: scales.xml.package.XmlPath =&gt; Boolean)scales.xml.XPath[ElementStep.this.T]" id="90445">*</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath =&gt; Boolean" id="104469">pred</a>: XmlPath =&gt; Boolean<span class="delimiter">)</span>: <a href="#11897" title="scales.xml.XPath[ElementStep.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#90440" title="(pred: scales.xml.package.XmlPath =&gt; Boolean)scales.xml.XPath[ElementStep.this.T]">filter</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="104479">x</a> =&gt; <a href="#104479" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#39603" title="=&gt; Boolean">isItem</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(false)" class="keyword">false</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#104469" title="(v1: scales.xml.package.XmlPath)Boolean">pred</a><span class="delimiter">(</span><a href="#104479" title="scales.xml.package.XmlPath">x</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l441"></a><span id="l441"></span>
<a href="l442"></a><span id="l442">    <span class="keyword">def</span> <a title="(pred: scales.xml.package.XmlPath =&gt; Boolean)scales.xml.XPath[ElementStep.this.T]" id="90446">\*</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath =&gt; Boolean" id="104486">pred</a>: XmlPath =&gt; Boolean<span class="delimiter">)</span>: <a href="#11897" title="scales.xml.XPath[ElementStep.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#90442" title="=&gt; scales.xml.XPath[ElementStep.this.T]">\*-</a>.<a href="#90445" title="(pred: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]] =&gt; Boolean)scales.xml.XPath[ElementStep.this.T]">*</a><span class="delimiter">(</span><a href="#104486" title="scales.xml.package.XmlPath =&gt; Boolean">pred</a><span class="delimiter">)</span></span>
<a href="l443"></a><span id="l443"></span>
<a href="l444"></a><span id="l444">    <span class="comment">/** Immediate child with position pos, should only be an element. NOTE this will always be evaluated in place and is 1 indexed */</span></span>
<a href="l445"></a><span id="l445">    <span class="keyword">def</span> <a title="(pos: Int)scales.xml.XPath[ElementStep.this.T]" id="90447">*</a><span class="delimiter">(</span><a title="Int" id="104465">pos</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#11897" title="scales.xml.XPath[ElementStep.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l446"></a><span id="l446">      <span class="keyword">val</span> <a title="Iterable[Iterable[scales.xml.package.XmlPath]]" id="104496">res</a> = <a href="#90428" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99966" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="(f: Iterable[scales.xml.package.XmlPath] =&gt; scala.collection.GenTraversableOnce[Iterable[scales.xml.package.XmlPath]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]])Iterable[Iterable[scales.xml.package.XmlPath]]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]]" class="delimiter">{</span> <a title="Iterable[scales.xml.package.XmlPath]" id="104507">path</a> =&gt;</span>
<a href="l447"></a><span id="l447">        <span class="keyword">val</span> <a title="Iterable[scales.xml.package.XmlPath]" id="104508">n</a> = <a href="#104507" title="Iterable[scales.xml.package.XmlPath]">path</a>.<span title="(p: scales.xml.package.XmlPath =&gt; Boolean)Iterable[scales.xml.package.XmlPath]">filter</span><span class="delimiter">(</span><a href="#104512" title="scales.xml.package.XmlPath">_</a>.<a href="../utils/Paths.scala.html#39603" title="=&gt; Boolean">isItem</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<span title="(n: Int)Iterable[scales.xml.package.XmlPath]">take</span><span class="delimiter">(</span><a href="#104465" title="Int">pos</a><span class="delimiter">)</span></span>
<a href="l448"></a><span id="l448">        <span title="Iterable[Iterable[scales.xml.package.XmlPath]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#104508" title="Iterable[scales.xml.package.XmlPath]">n</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">!=</span> <a href="#104465" title="Int">pos</a><span class="delimiter">)</span> <a href="#90431" title="=&gt; Iterable[scales.xml.package.XmlPath]">empty</a></span>
<a href="l449"></a><span id="l449">        <span class="keyword">else</span> <a href="../utils/package.scala.html#12069" title="(i: Iterable[scales.xml.package.XmlPath])List[Iterable[scales.xml.package.XmlPath]]">one</a><span class="delimiter">(</span><a href="#90432" title="(only: scales.xml.package.XmlPath)Iterable[scales.xml.package.XmlPath]">just</a><span class="delimiter">(</span><a href="#104508" title="Iterable[scales.xml.package.XmlPath]">n</a>.<span title="=&gt; scales.xml.package.XmlPath">last</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l450"></a><span id="l450">      <span class="delimiter">}</span></span>
<a href="l451"></a><span id="l451">      <a href="#90430" title="(nodes: Iterable[Iterable[scales.xml.package.XmlPath]], performSort: Boolean, filterDuplicates: Boolean)scales.xml.XPath[ElementStep.this.T]">process</a><span class="delimiter">(</span><a href="#104496" title="Iterable[Iterable[scales.xml.package.XmlPath]]">res</a><span class="delimiter">)</span></span>
<a href="l452"></a><span id="l452">    <span class="delimiter">}</span></span>
<a href="l453"></a><span id="l453"></span>
<a href="l454"></a><span id="l454">    <span class="keyword">def</span> <a title="(pos: Int)scales.xml.XPath[ElementStep.this.T]" id="90448">\*</a><span class="delimiter">(</span><a title="Int" id="105365">pos</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#11897" title="scales.xml.XPath[ElementStep.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#90442" title="=&gt; scales.xml.XPath[ElementStep.this.T]">\*-</a>.<a href="#90447" title="(pos: Int)scales.xml.XPath[ElementStep.this.T]">*</a><span class="delimiter">(</span><a href="#105365" title="Int">pos</a><span class="delimiter">)</span></span>
<a href="l455"></a><span id="l455"></span>
<a href="l456"></a><span id="l456">    <span class="comment">/** all child elements */</span></span>
<a href="l457"></a><span id="l457">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[ElementStep.this.T]" id="90449">*</a> : <a href="#11897" title="scales.xml.XPath[ElementStep.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l458"></a><span id="l458">      <a href="#90440" title="(pred: scales.xml.package.XmlPath =&gt; Boolean)scales.xml.XPath[ElementStep.this.T]">filter</a><span class="delimiter">(</span><a href="#105372" title="scales.xml.package.XmlPath">_</a>.<a href="../utils/Paths.scala.html#39603" title="=&gt; Boolean">isItem</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span></span>
<a href="l459"></a><span id="l459">    <span class="comment">//process(path.nodes.flatMap{ _.filter(_.isItem == false) })</span></span>
<a href="l460"></a><span id="l460"></span>
<a href="l461"></a><span id="l461">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[ElementStep.this.T]" id="90450">\*</a> : <a href="#11897" title="scales.xml.XPath[ElementStep.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#90442" title="=&gt; scales.xml.XPath[ElementStep.this.T]">\*-</a>.<a href="#90449" title="=&gt; scales.xml.XPath[ElementStep.this.T]">*</a></span>
<a href="l462"></a><span id="l462">  <span class="delimiter">}</span></span>
<a href="l463"></a><span id="l463"></span>
<a href="l464"></a><span id="l464">  <span class="comment">/**</span>
<a href="l465"></a><span id="l465">   * Little depature from standard, rather than duplicate all of the \ and \\ nodes, just a simple \\*() comment() will do</span>
<a href="l466"></a><span id="l466">   *</span>
<a href="l467"></a><span id="l467">   * NOTE these have a large performance hit as the must sort and filter the results in order to get doc order.  Better to use specific nodes</span>
<a href="l468"></a><span id="l468">   * avoiding \\ etc, then use the s for simple functions, sutext etc for simple useful.  Additionally using the non simple versions incurs the cost</span>
<a href="l469"></a><span id="l469">   * of adding adjacent text node processing as per standard datamodel (all adjacent text nodes are joined and any resulting nodes that are &quot;the zero-length string&quot; '' are removed).</span>
<a href="l470"></a><span id="l470">   *</span>
<a href="l471"></a><span id="l471">   * TODO xpath adjacent text node handling</span>
<a href="l472"></a><span id="l472">   *</span>
<a href="l473"></a><span id="l473">   * @author Chris</span>
<a href="l474"></a><span id="l474">   *</span>
<a href="l475"></a><span id="l475">   */</span></span>
<a href="l476"></a><span id="l476">  <span class="keyword">trait</span> <a title="trait OtherNodeTypes extends java.lang.Object with XmlPaths.this.Axis with ScalaObject" id="12477">OtherNodeTypes</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12473" title="XmlPaths.this.Axis">Axis</a> <span class="delimiter">{</span></span>
<a href="l477"></a><span id="l477">    <span class="comment">/** all text child elements - not including cdata nodes, neither sorted nor dup filtered */</span></span>
<a href="l478"></a><span id="l478">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[OtherNodeTypes.this.T]" id="90469">textOnly</a>: <a href="#11897" title="scales.xml.XPath[OtherNodeTypes.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l479"></a><span id="l479">      <a href="#90440" title="(pred: scales.xml.package.XmlPath =&gt; Boolean)scales.xml.XPath[OtherNodeTypes.this.T]">filter</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="105387">x</a> =&gt; <a href="#105387" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#39603" title="=&gt; Boolean">isItem</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(true)" class="keyword">true</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105387" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#39609" title="()scales.xml.XmlItem">item</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="XmlTypes.scala.html#11999" title="scales.xml.Text">Text</a><span class="delimiter">]</span><span class="delimiter">)</span></span>
<a href="l480"></a><span id="l480"></span>
<a href="l481"></a><span id="l481">    <span class="comment">/** all text child elements - xpath standard way, including cdata nodes, filtered to join adjacent text nodes */</span></span>
<a href="l482"></a><span id="l482">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[OtherNodeTypes.this.T]" id="90470">text</a>: <a href="#11897" title="scales.xml.XPath[OtherNodeTypes.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l483"></a><span id="l483">      <a href="#90440" title="(pred: scales.xml.package.XmlPath =&gt; Boolean)scales.xml.XPath[OtherNodeTypes.this.T]">filter</a><span class="delimiter">(</span><a href="#12463" title="=&gt; scales.xml.package.XmlPath =&gt; Boolean">isText</a><span class="delimiter">)</span></span>
<a href="l484"></a><span id="l484"></span>
<a href="l485"></a><span id="l485">    <span class="comment">/** all cdata child elements */</span></span>
<a href="l486"></a><span id="l486">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[OtherNodeTypes.this.T]" id="90471">cdata</a>: <a href="#11897" title="scales.xml.XPath[OtherNodeTypes.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l487"></a><span id="l487">      <a href="#90440" title="(pred: scales.xml.package.XmlPath =&gt; Boolean)scales.xml.XPath[OtherNodeTypes.this.T]">filter</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="105398">x</a> =&gt; <a href="#105398" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#39603" title="=&gt; Boolean">isItem</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(true)" class="keyword">true</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105398" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#39609" title="()scales.xml.XmlItem">item</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="XmlTypes.scala.html#12005" title="scales.xml.CData">CData</a><span class="delimiter">]</span><span class="delimiter">)</span></span>
<a href="l488"></a><span id="l488"></span>
<a href="l489"></a><span id="l489">    <span class="comment">/** all commnent child elements */</span></span>
<a href="l490"></a><span id="l490">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[OtherNodeTypes.this.T]" id="90472">comment</a>: <a href="#11897" title="scales.xml.XPath[OtherNodeTypes.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l491"></a><span id="l491">      <a href="#90440" title="(pred: scales.xml.package.XmlPath =&gt; Boolean)scales.xml.XPath[OtherNodeTypes.this.T]">filter</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="105407">x</a> =&gt; <a href="#105407" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#39603" title="=&gt; Boolean">isItem</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(true)" class="keyword">true</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105407" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#39609" title="()scales.xml.XmlItem">item</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="XmlTypes.scala.html#12002" title="scales.xml.Comment">Comment</a><span class="delimiter">]</span><span class="delimiter">)</span></span>
<a href="l492"></a><span id="l492"></span>
<a href="l493"></a><span id="l493">    <span class="comment">/** all pi child elements */</span></span>
<a href="l494"></a><span id="l494">    <span class="keyword">def</span> <a title="=&gt; scales.xml.XPath[OtherNodeTypes.this.T]" id="90473">pi</a>: <a href="#11897" title="scales.xml.XPath[OtherNodeTypes.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l495"></a><span id="l495">      <a href="#90440" title="(pred: scales.xml.package.XmlPath =&gt; Boolean)scales.xml.XPath[OtherNodeTypes.this.T]">filter</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="105416">x</a> =&gt; <a href="#105416" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#39603" title="=&gt; Boolean">isItem</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(true)" class="keyword">true</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105416" title="scales.xml.package.XmlPath">x</a>.<a href="../utils/Paths.scala.html#39609" title="()scales.xml.XmlItem">item</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="XmlTypes.scala.html#12008" title="scales.xml.PI">PI</a><span class="delimiter">]</span><span class="delimiter">)</span></span>
<a href="l496"></a><span id="l496">  <span class="delimiter">}</span></span>
<a href="l497"></a><span id="l497"></span>
<a href="l498"></a><span id="l498"><span class="delimiter">}</span></span>
<a href="l499"></a><span id="l499"></span>
<a href="l500"></a><span id="l500"><span class="comment">/**</span>
<a href="l501"></a><span id="l501"> * In contrast to the specs reverse axis are not supported.  This puts</span>
<a href="l502"></a><span id="l502"> * an extra effort on the user for translating, but I don't agree with</span>
<a href="l503"></a><span id="l503"> * the design anyway.  It adds both ambiguity for an embedded dsl:</span>
<a href="l504"></a><span id="l504"> *</span>
<a href="l505"></a><span id="l505"> * //a:ShouldRedeclare/../text()[5]/preceding-sibling::text()[1]</span>
<a href="l506"></a><span id="l506"> *</span>
<a href="l507"></a><span id="l507"> * is in reverse order (above is previousSibling in Path), whereas</span>
<a href="l508"></a><span id="l508"> *</span>
<a href="l509"></a><span id="l509"> * (//a:ShouldRedeclare/../text()[5]/preceding-sibling::text())[1]</span>
<a href="l510"></a><span id="l510"> *</span>
<a href="l511"></a><span id="l511"> * is in doc order (the first text child of the parent).  Such an arbritary decision does nothing but irritate.  A simpler design as found in this implementation is that the user can simply use full scala data functions to reverse as needed.</span>
<a href="l512"></a><span id="l512"> *</span>
<a href="l513"></a><span id="l513"> * (Temptation is to provide the base type as SeqLike instead of Iterable as it should be in a sequence with a defined order, also then providing .reverse and friends)</span>
<a href="l514"></a><span id="l514"> */</span></span>
<a href="l515"></a><span id="l515"><span class="keyword">class</span> <a title="class XPath[PT &lt;: Iterable[scales.xml.package.XmlPath]] extends java.lang.Object with scales.xml.package.ElementStep with scales.xml.package.OtherNodeTypes with scales.xml.package.AttributeAxis with scales.xml.package.SiblingsAxis with ScalaObject" id="11897">XPath</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Iterable[scales.xml.package.XmlPath]" id="11898">PT</a> &lt;: Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><a href="#11897" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="scales.xml.XPathInfo" id="99951">path</a>: <a href="#105946" title="scales.xml.XPathInfo">XPathInfo</a>, <span class="keyword">val</span> <a title="scala.collection.generic.CanBuildFrom[PT,scales.xml.package.XmlPath,PT]" id="99952">cbf</a>: <span title="scala.collection.generic.CanBuildFrom[PT,scales.xml.package.XmlPath,PT]">CanBuildFrom</span><span class="delimiter">[</span>PT, XmlPath, PT<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#12476" title="scales.xml.package.ElementStep">ElementStep</a> <span class="keyword">with</span> <a href="#12477" title="scales.xml.package.OtherNodeTypes">OtherNodeTypes</a> <span class="keyword">with</span> <a href="#12475" title="scales.xml.package.AttributeAxis">AttributeAxis</a> <span class="keyword">with</span> <a href="#12474" title="scales.xml.package.SiblingsAxis">SiblingsAxis</a> <span class="delimiter">{</span></span>
<a href="l516"></a><span id="l516"></span>
<a href="l517"></a><span id="l517">  <span class="keyword">type</span> <a title="PT" id="90458">T</a> = <a href="#11898" title="PT">PT</a></span>
<a href="l518"></a><span id="l518"></span>
<a href="l519"></a><span id="l519">  <span class="keyword">def</span> <a title="(xpathInfo: scales.xml.XPathInfo)scales.xml.XPath[XPath.this.T]" id="90459">newThis</a><span class="delimiter">(</span><a title="scales.xml.XPathInfo" id="105425">xpathInfo</a>: <a href="#105946" title="scales.xml.XPathInfo">XPathInfo</a><span class="delimiter">)</span>: <a href="#11897" title="scales.xml.XPath[XPath.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l520"></a><span id="l520">    <span title="scales.xml.XPath[XPath.this.T]" class="keyword">new</span> <a href="#11897" title="scales.xml.XPath[XPath.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#105425" title="scales.xml.XPathInfo">xpathInfo</a>, <a href="#99952" title="=&gt; scala.collection.generic.CanBuildFrom[PT,scales.xml.package.XmlPath,PT]">cbf</a><span class="delimiter">)</span></span>
<a href="l521"></a><span id="l521"></span>
<a href="l522"></a><span id="l522">  <span class="keyword">def</span> <a title="=&gt; Iterable[scales.xml.package.XmlPath]" id="90460">empty</a>: <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> = <a href="#99952" title="()scala.collection.mutable.Builder[scales.xml.package.XmlPath,PT]">cbf</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()PT">result</span></span>
<a href="l523"></a><span id="l523">  <span class="keyword">def</span> <a title="(only: scales.xml.package.XmlPath)Iterable[scales.xml.package.XmlPath]" id="90461">just</a><span class="delimiter">(</span><a title="scales.xml.package.XmlPath" id="105506">only</a>: <a href="../utils/Paths.scala.html#10533" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span>: <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> = <span class="delimiter">(</span><a href="#99952" title="()scala.collection.mutable.Builder[scales.xml.package.XmlPath,PT]">cbf</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(elem: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]])scala.collection.mutable.Builder[scales.xml.package.XmlPath,PT]">+=</span> <a href="#105506" title="scales.xml.package.XmlPath">only</a><span class="delimiter">)</span>.<span title="()PT">result</span></span>
<a href="l524"></a><span id="l524"></span>
<a href="l525"></a><span id="l525">  <span class="comment">/**</span>
<a href="l526"></a><span id="l526">   * Allow working within the XPath, easily extend and test</span>
<a href="l527"></a><span id="l527">   */</span></span>
<a href="l528"></a><span id="l528">  <span class="keyword">def</span> <a title="(f: scales.xml.XPath[XPath.this.T] =&gt; scales.xml.XPath[XPath.this.T])scales.xml.XPath[XPath.this.T]" id="90462">in</a><span class="delimiter">(</span><a title="scales.xml.XPath[XPath.this.T] =&gt; scales.xml.XPath[XPath.this.T]" id="105604">f</a>: <span class="delimiter">(</span>XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#11897" title="scales.xml.XPath[XPath.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =</span>
<a href="l529"></a><span id="l529">    <a href="#105604" title="(v1: scales.xml.XPath[XPath.this.T])scales.xml.XPath[XPath.this.T]">f</a><span class="delimiter">(</span><a href="#11897" title="scales.xml.XPath[PT]" class="keyword">this</a><span class="delimiter">)</span></span>
<a href="l530"></a><span id="l530"></span>
<a href="l531"></a><span id="l531">  <span class="comment">/**</span>
<a href="l532"></a><span id="l532">   * Allow working within the XPath, easily extend and test</span>
<a href="l533"></a><span id="l533">   */</span></span>
<a href="l534"></a><span id="l534">  <span class="keyword">def</span> <a title="(f: scales.xml.XPath[XPath.this.T] =&gt; scales.xml.XPath[XPath.this.T])scales.xml.XPath[XPath.this.T]" id="90463">|&gt;</a><span class="delimiter">(</span><a title="scales.xml.XPath[XPath.this.T] =&gt; scales.xml.XPath[XPath.this.T]" id="105607">f</a>: <span class="delimiter">(</span>XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#90462" title="(f: scales.xml.XPath[XPath.this.T] =&gt; scales.xml.XPath[XPath.this.T])scales.xml.XPath[XPath.this.T]">in</a><span class="delimiter">(</span><a href="#105607" title="scales.xml.XPath[XPath.this.T] =&gt; scales.xml.XPath[XPath.this.T]">f</a><span class="delimiter">)</span></span>
<a href="l535"></a><span id="l535"></span>
<a href="l536"></a><span id="l536">  <span class="comment">/**</span>
<a href="l537"></a><span id="l537">   * Some when its only one in the result set</span>
<a href="l538"></a><span id="l538">   */</span></span>
<a href="l539"></a><span id="l539">  <span class="keyword">def</span> <a title="=&gt; Iterable[scales.xml.package.XmlPath]" id="90464">one</a>: <span title="Iterable[scales.xml.package.XmlPath]">Iterable</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l540"></a><span id="l540">    <span class="keyword">val</span> <a title="Iterable[scales.xml.package.XmlPath]" id="105612">nodes</a> = <a href="ScalesXml.scala.html#11813" title="object scales.xml.ScalesXml">ScalesXml</a>.<a href="#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]">fromXPathToIterable</a><span class="delimiter">(</span><a href="#11897" title="scales.xml.XPath[PT]" class="keyword">this</a><span class="delimiter">)</span></span>
<a href="l541"></a><span id="l541">    <span title="Iterable[scales.xml.package.XmlPath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#105612" title="Iterable[scales.xml.package.XmlPath]">nodes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="object Nil">Nil</span></span>
<a href="l542"></a><span id="l542">    <span class="keyword">else</span> scales.utils.<a href="../utils/package.scala.html#12069" title="(i: scales.xml.package.XmlPath)List[scales.xml.package.XmlPath]">one</a><span class="delimiter">(</span><a href="#105612" title="Iterable[scales.xml.package.XmlPath]">nodes</a>.<span title="=&gt; scales.xml.package.XmlPath">head</span><span class="delimiter">)</span></span>
<a href="l543"></a><span id="l543">  <span class="delimiter">}</span></span>
<a href="l544"></a><span id="l544"></span>
<a href="l545"></a><span id="l545">  <span class="keyword">def</span> <a title="(handler: scales.xml.XPath[XPath.this.T] =&gt; Iterable[scales.xml.package.XmlPath])Iterable[scales.xml.package.XmlPath]" id="90465">oneOr</a><span class="delimiter">(</span><a title="scales.xml.XPath[XPath.this.T] =&gt; Iterable[scales.xml.package.XmlPath]" id="105622">handler</a>: XPath<span class="delimiter">[</span>T<span class="delimiter">]</span> =&gt; Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span></span>
<a href="l546"></a><span id="l546">    <span class="keyword">val</span> <a title="Iterable[scales.xml.package.XmlPath]" id="105625">nodes</a> = <a href="ScalesXml.scala.html#11813" title="object scales.xml.ScalesXml">ScalesXml</a>.<a href="#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]">fromXPathToIterable</a><span class="delimiter">(</span><a href="#11897" title="scales.xml.XPath[PT]" class="keyword">this</a><span class="delimiter">)</span></span>
<a href="l547"></a><span id="l547">    <span title="Iterable[scales.xml.package.XmlPath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#105625" title="Iterable[scales.xml.package.XmlPath]">nodes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> scales.utils.<a href="../utils/package.scala.html#12069" title="(i: scales.xml.package.XmlPath)List[scales.xml.package.XmlPath]">one</a><span class="delimiter">(</span><a href="#105625" title="Iterable[scales.xml.package.XmlPath]">nodes</a>.<span title="=&gt; scales.xml.package.XmlPath">head</span><span class="delimiter">)</span></span>
<a href="l548"></a><span id="l548">    <span class="keyword">else</span> <a href="#105622" title="(v1: scales.xml.XPath[XPath.this.T])Iterable[scales.xml.package.XmlPath]">handler</a><span class="delimiter">(</span><a href="#11897" title="scales.xml.XPath[PT]" class="keyword">this</a><span class="delimiter">)</span></span>
<a href="l549"></a><span id="l549">  <span class="delimiter">}</span></span>
<a href="l550"></a><span id="l550"></span>
<a href="l551"></a><span id="l551">  <span class="comment">/**</span>
<a href="l552"></a><span id="l552">   * Union of the two paths, they must use the same type however</span>
<a href="l553"></a><span id="l553">   *</span>
<a href="l554"></a><span id="l554">   * x | x === x but only when apply fromXPathToIterable (default behaviour anyway)</span>
<a href="l555"></a><span id="l555">   *</span>
<a href="l556"></a><span id="l556">   * For attribute paths only ++ on an iterable is supported.</span>
<a href="l557"></a><span id="l557">   */</span></span>
<a href="l558"></a><span id="l558">  <span class="keyword">def</span> <a title="(other: scales.xml.XPath[XPath.this.T])scales.xml.XPath[XPath.this.T]" id="90466">|</a><span class="delimiter">(</span> <a title="scales.xml.XPath[XPath.this.T]" id="105636">other</a> : <a href="#11897" title="scales.xml.XPath[XPath.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">)</span> : <a href="#11897" title="scales.xml.XPath[XPath.this.T]">XPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = </span>
<a href="l559"></a><span id="l559">    <span title="scales.xml.XPath[PT]" class="keyword">new</span> <a href="#11897" title="scales.xml.XPath[PT]">XPath</a><span class="delimiter">(</span><a href="#105946" title="(nodes: Iterable[Iterable[scales.xml.package.XmlPath]], mustBeSorted: Boolean, filterDuplicates: Boolean, initialNode: Boolean, eager: Boolean)scales.xml.XPathInfo">XPathInfo</a><span class="delimiter">(</span> </span>
<a href="l560"></a><span id="l560">      nodes = <a href="#99951" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99966" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a> <span title="(that: scala.collection.GenTraversableOnce[Iterable[scales.xml.package.XmlPath]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Iterable[scales.xml.package.XmlPath]],Iterable[scales.xml.package.XmlPath],Iterable[Iterable[scales.xml.package.XmlPath]]])Iterable[Iterable[scales.xml.package.XmlPath]]">++</span> <a href="#105636" title="scales.xml.XPath[XPath.this.T]">other</a>.<a href="#99951" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99966" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>, </span>
<a href="l561"></a><span id="l561">      mustBeSorted = <span title="Boolean(true)" class="keyword">true</span>, filterDuplicates = <span title="Boolean(true)" class="keyword">true</span>, initialNode = <span title="Boolean(false)" class="keyword">false</span>, eager = <a href="#99951" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99970" title="=&gt; Boolean">eager</a> <span title="(x: Boolean)Boolean">|</span> <a href="#105636" title="scales.xml.XPath[XPath.this.T]">other</a>.<a href="#99951" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#99970" title="=&gt; Boolean">eager</a><span class="delimiter">)</span>, <a href="#99952" title="=&gt; scala.collection.generic.CanBuildFrom[PT,scales.xml.package.XmlPath,PT]">cbf</a><span class="delimiter">)</span></span>
<a href="l562"></a><span id="l562">  </span>
<a href="l563"></a><span id="l563">  <span class="comment">// TODO figure out unions of other paths (namespaces / attributes)</span></span>
<a href="l564"></a><span id="l564"><span class="delimiter">}</span></span>
<a href="l565"></a><span id="l565"></span>
<a href="l566"></a><span id="l566"><span class="comment">/** Attributes that have been selected */</span></span>
<a href="l567"></a><span id="l567">case <span class="keyword">class</span> <a title="class AttributePaths[PT &lt;: Iterable[scales.xml.package.XmlPath]] extends java.lang.Object with ScalaObject with Product with Serializable" id="105953">AttributePaths</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Iterable[scales.xml.package.XmlPath]" id="104282">PT</a> &lt;: Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><a href="#105953" title="ScalaObject" class="delimiter">(</a><a title="Iterable[scales.xml.AttributePath]" id="104286">attributes</a>: <span title="Iterable[scales.xml.AttributePath]">Iterable</span><span class="delimiter">[</span>AttributePath<span class="delimiter">]</span>, <a title="scales.xml.XPathInfo" id="104287">path</a>: <a href="#105946" title="scales.xml.XPathInfo">XPathInfo</a>, <a title="scala.collection.generic.CanBuildFrom[PT,scales.xml.package.XmlPath,PT]" id="104288">cbf</a>: <span title="scala.collection.generic.CanBuildFrom[PT,scales.xml.package.XmlPath,PT]">CanBuildFrom</span><span class="delimiter">[</span>PT, XmlPath, PT<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l568"></a><span id="l568">  <span class="keyword">import</span> <a href="ScalesXml.scala.html#11813" title="object scales.xml.ScalesXml">ScalesXml</a>._</span>
<a href="l569"></a><span id="l569">  <span class="comment">/** Parents of the attributepaths */</span></span>
<a href="l570"></a><span id="l570">  <span class="keyword">def</span> <a title="()scales.xml.XPath[PT]" id="90414">\^</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="#11897" title="scales.xml.XPath[PT]">XPath</a><span class="delimiter">[</span>PT<span class="delimiter">]</span> = <span title="scales.xml.XPath[PT]" class="keyword">new</span> <a href="#11897" title="scales.xml.XPath[PT]">XPath</a><span class="delimiter">[</span>PT<span class="delimiter">]</span><span class="delimiter">(</span><a href="#104287" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="#105946" title="(nodes: Iterable[Iterable[scales.xml.package.XmlPath]], mustBeSorted: Boolean, filterDuplicates: Boolean, initialNode: Boolean, eager: Boolean)scales.xml.XPathInfo">copy</a><span class="delimiter">(</span>nodes = <span title="(xs: Iterable[scales.xml.package.XmlPath]*)List[Iterable[scales.xml.package.XmlPath]]">List</span><span class="delimiter">(</span><a href="#104286" title="=&gt; Iterable[scales.xml.AttributePath]">attributes</a>.<span title="(f: scales.xml.AttributePath =&gt; scales.xml.package.XmlPath)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scales.xml.AttributePath],scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]])Iterable[scales.xml.package.XmlPath]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,scales.xml.package.XmlPath,Iterable[scales.xml.package.XmlPath]]" class="delimiter">(</span><a href="#105717" title="scales.xml.AttributePath">_</a>.<a href="#104203" title="=&gt; scales.xml.package.XmlPath">parent</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#104288" title="=&gt; scala.collection.generic.CanBuildFrom[PT,scales.xml.package.XmlPath,PT]">cbf</a><span class="delimiter">)</span></span>
<a href="l571"></a><span id="l571"></span>
<a href="l572"></a><span id="l572">  <span class="comment">/**</span>
<a href="l573"></a><span id="l573">   * Some if there is one, else none</span>
<a href="l574"></a><span id="l574">   */</span></span>
<a href="l575"></a><span id="l575">  <span class="keyword">def</span> <a title="=&gt; Iterable[scales.xml.AttributePath]" id="90415">one</a>: <span title="Iterable[scales.xml.AttributePath]">Iterable</span><span class="delimiter">[</span>AttributePath<span class="delimiter">]</span> = <span title="Iterable[scales.xml.AttributePath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#104286" title="=&gt; Iterable[scales.xml.AttributePath]">attributes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="object Nil">Nil</span> <span class="keyword">else</span> scales.utils.<a href="../utils/package.scala.html#12069" title="(i: scales.xml.AttributePath)List[scales.xml.AttributePath]">one</a><span class="delimiter">(</span><a href="#104286" title="=&gt; Iterable[scales.xml.AttributePath]">attributes</a>.<span title="=&gt; scales.xml.AttributePath">head</span><span class="delimiter">)</span></span>
<a href="l576"></a><span id="l576"></span>
<a href="l577"></a><span id="l577">  <span class="comment">/**</span>
<a href="l578"></a><span id="l578">   * Some if there is one, else calls handler (allows decisions based on more than one etc.</span>
<a href="l579"></a><span id="l579">   */</span></span>
<a href="l580"></a><span id="l580">  <span class="keyword">def</span> <a title="(handler: Iterable[scales.xml.AttributePath] =&gt; Iterable[scales.xml.AttributePath])Iterable[scales.xml.AttributePath]" id="90416">oneOr</a><span class="delimiter">(</span><a title="Iterable[scales.xml.AttributePath] =&gt; Iterable[scales.xml.AttributePath]" id="105754">handler</a>: Iterable<span class="delimiter">[</span>AttributePath<span class="delimiter">]</span> =&gt; Iterable<span class="delimiter">[</span>AttributePath<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="Iterable[scales.xml.AttributePath]" class="keyword">if</span> <span class="delimiter">(</span><a href="#104286" title="=&gt; Iterable[scales.xml.AttributePath]">attributes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> scales.utils.<a href="../utils/package.scala.html#12069" title="(i: scales.xml.AttributePath)List[scales.xml.AttributePath]">one</a><span class="delimiter">(</span><a href="#104286" title="=&gt; Iterable[scales.xml.AttributePath]">attributes</a>.<span title="=&gt; scales.xml.AttributePath">head</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#105754" title="(v1: Iterable[scales.xml.AttributePath])Iterable[scales.xml.AttributePath]">handler</a><span class="delimiter">(</span><a href="#104286" title="=&gt; Iterable[scales.xml.AttributePath]">attributes</a><span class="delimiter">)</span></span>
<a href="l581"></a><span id="l581"></span>
<a href="l582"></a><span id="l582"><span class="delimiter">}</span></span>
<a href="l583"></a><span id="l583"></span>
<a href="l584"></a><span id="l584"><span class="comment">/**</span>
<a href="l585"></a><span id="l585"> * XPaths need sorting upon unions etc, and duplicate filtering on \^ parents</span>
<a href="l586"></a><span id="l586"> */</span></span>
<a href="l587"></a><span id="l587">case <span class="keyword">class</span> <a title="class XPathInfo extends java.lang.Object with ScalaObject with Product with Serializable" id="105946">XPathInfo</a><a href="#105946" title="ScalaObject" class="delimiter">(</a><a title="Iterable[Iterable[scales.xml.package.XmlPath]]" id="99966">nodes</a>: <span title="Iterable[Iterable[scales.xml.package.XmlPath]]">Iterable</span><span class="delimiter">[</span>Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Boolean" id="99967">mustBeSorted</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="99968">filterDuplicates</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="99969">initialNode</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="99970">eager</a> : <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span></span>
<a href="l588"></a><span id="l588"></span>
<a href="l589"></a><span id="l589">        </span>
</pre>
    </body>
</html>