<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\utils\ImmutableArray.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    
<style id="linesStyle">
.lineHighlight {
  background-color: #a5a5a5;
}
</style>
<script type="text/javascript">
function selectedLine() {
    var loca = /^.*#l(.*)/.exec(location.href);
    return loca ? loca[1] : '0';
}

function highlightLine(ln){
  $('#l'+ln).toggleClass('lineHighlight');
}

function gotoLine(ln){
  $('#l'+ln).focus();
}

$(function(){
  var line = selectedLine();
  if (line != '0') highlightLine(line)
});
</script></head>
    <body>
        <pre>
<!-- SXR_LINES --><a href="l1"></a><span id="l1"><span class="keyword">package</span> scales.utils</span>
<a href="l2"></a><span id="l2"></span>
<a href="l3"></a><span id="l3"><span class="keyword">import</span> collection.<span class="delimiter">{</span>IndexedSeqOptimized, IndexedSeqLike, IndexedSeq<span class="delimiter">}</span></span>
<a href="l4"></a><span id="l4"><span class="keyword">import</span> collection.mutable.Builder <span class="comment">//{ArrayBuilder, Builder}</span></span>
<a href="l5"></a><span id="l5"><span class="keyword">import</span> collection.generic.<span class="delimiter">{</span>CanBuildFrom, GenericTraversableTemplate, SeqFactory, GenericCompanion<span class="delimiter">}</span></span>
<a href="l6"></a><span id="l6"></span>
<a href="l7"></a><span id="l7"><span class="comment">//import scales.collection.immutable.Vector</span></span>
<a href="l8"></a><span id="l8"></span>
<a href="l9"></a><span id="l9"><span class="keyword">object</span> <a title="object scales.utils.ImmutableArray" id="43432">ImmutableArray</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l10"></a><span id="l10">  <span class="keyword">val</span> <a title="scales.utils.ImmutableArray[Nothing]" id="43130">emptyImmutableArray</a> = <span title="scales.utils.ImmutableArray[Nothing]" class="keyword">new</span> <a href="#46473" title="scales.utils.ImmutableArray[Nothing]">ImmutableArray</a><span class="delimiter">[</span>Nothing<span class="delimiter">]</span><span class="delimiter">(</span><span title="[T](xs: T*)(implicit evidence$2: scala.reflect.ClassManifest[T])Array[T]">Array</span><span title="(xs: AnyRef*)(implicit evidence$2: scala.reflect.ClassManifest[AnyRef])Array[AnyRef]" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span title="=&gt; scala.reflect.Manifest[java.lang.Object]" class="delimiter">(</span><span class="delimiter">)</span>,<span title="Int(0)" class="int">0</span>,<span title="Int(0)" class="int">0</span><span class="delimiter">)</span></span>
<a href="l11"></a><span id="l11"><span class="delimiter">}</span></span>
<a href="l12"></a><span id="l12"></span>
<a href="l13"></a><span id="l13"><span class="comment">/**</span>
<a href="l14"></a><span id="l14"> * Behaves like an ArrayList/ArrayBuffer, growing an internal array as necessary</span>
<a href="l15"></a><span id="l15"> */</span></span>
<a href="l16"></a><span id="l16">case <span class="keyword">class</span> <a title="class ImmutableArrayBuilder[A] extends java.lang.Object with scala.collection.mutable.Builder[A,scales.utils.ImmutableArray[A]] with ScalaObject with Product with Serializable" id="58049">ImmutableArrayBuilder</a><span class="delimiter">[</span> <a title="&gt;: Nothing &lt;: Any" id="45207">A</a> <span class="delimiter">]</span><a href="#58049" title="ScalaObject" class="delimiter">(</a><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="scala.collection.mutable.Builder[A,scales.utils.ImmutableArray[A]]">Builder</span><span class="delimiter">[</span>A, ImmutableArray<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">{</span></span>
<a href="l17"></a><span id="l17"></span>
<a href="l18"></a><span id="l18">  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Double(0.1)" id="43468">gf</a> = <span title="Double(0.1)" class="double">0.10</span></span>
<a href="l19"></a><span id="l19">  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Double(0.95)" id="43470">gp</a> = <span title="Double(0.95)" class="double">0.95</span></span>
<a href="l20"></a><span id="l20"></span>
<a href="l21"></a><span id="l21">  <span class="keyword">def</span> <a title="(orig: Array[AnyRef], newCapacity: Int, len: Int)Array[AnyRef]" id="43472">resize</a><span class="delimiter">(</span> <a title="Array[AnyRef]" id="45100">orig</a> : <span title="Array[AnyRef]">Array</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span>, <a title="Int" id="45101">newCapacity</a> : <span title="Int">Int</span>, <a title="Int" id="45102">len</a> : <span title="Int">Int</span> <span class="delimiter">)</span> = <span class="delimiter">{</span> </span>
<a href="l22"></a><span id="l22">    <span class="keyword">val</span> <a title="Array[AnyRef]" id="45105">ar</a> = <span title="object Array">Array</span>.<span title="[T](n1: Int)(implicit evidence$3: scala.reflect.ClassManifest[T])Array[T]">ofDim</span><span title="(n1: Int)(implicit evidence$3: scala.reflect.ClassManifest[AnyRef])Array[AnyRef]" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span title="=&gt; scala.reflect.Manifest[java.lang.Object]" class="delimiter">(</span><a href="#45101" title="Int">newCapacity</a><span class="delimiter">)</span></span>
<a href="l23"></a><span id="l23">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#45102" title="Int">len</a> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span></span>
<a href="l24"></a><span id="l24">      <span title="object Array">Array</span>.<span title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</span><span class="delimiter">(</span><a href="#45100" title="Array[AnyRef]">orig</a>, <span title="Int(0)" class="int">0</span>, <a href="#45105" title="Array[AnyRef]">ar</a>, <span title="Int(0)" class="int">0</span>, <a href="#45102" title="Int">len</a><span class="delimiter">)</span></span>
<a href="l25"></a><span id="l25"></span>
<a href="l26"></a><span id="l26">    <a href="#45105" title="Array[AnyRef]">ar</a></span>
<a href="l27"></a><span id="l27">  <span class="delimiter">}</span></span>
<a href="l28"></a><span id="l28"></span>
<a href="l29"></a><span id="l29">  <span class="keyword">var</span> <a title="Array[AnyRef]" id="43474">buf</a> : <span title="Array[AnyRef]">Array</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span> = _</span>
<a href="l30"></a><span id="l30">  </span>
<a href="l31"></a><span id="l31">  <span class="keyword">var</span> <a title="Int" id="43477">len</a> = <span title="Int(0)" class="int">0</span></span>
<a href="l32"></a><span id="l32"></span>
<a href="l33"></a><span id="l33">  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(size: Int)Unit" id="43479">ensureSize</a><span class="delimiter">(</span> <a title="Int" id="45120">size</a> : <span title="Int">Int</span> <span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l34"></a><span id="l34">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#43474" title="=&gt; Array[AnyRef]">buf</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#45120" title="Int">size</a> <span title="(x: Int)Boolean">&gt;</span> <a href="#43474" title="=&gt; Array[AnyRef]">buf</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l35"></a><span id="l35">      <a href="#43474" title="(x$1: Array[AnyRef])Unit">buf</a> = <a href="#43472" title="(orig: Array[AnyRef], newCapacity: Int, len: Int)Array[AnyRef]">resize</a><span class="delimiter">(</span> <a href="#43474" title="=&gt; Array[AnyRef]">buf</a>, <a href="#45120" title="Int">size</a>, <a href="#43477" title="=&gt; Int">len</a> <span class="delimiter">)</span></span>
<a href="l36"></a><span id="l36">    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#45120" title="Int">size</a> <span title="(x: Int)Boolean">&gt;</span> <span class="delimiter">(</span><a href="#43474" title="=&gt; Array[AnyRef]">buf</a>.<span title="=&gt; Int">length</span> <span title="(x: Double)Double">*</span> <span title="Double(0.95)">gp</span><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l37"></a><span id="l37">      <a href="#43474" title="(x$1: Array[AnyRef])Unit">buf</a> = <a href="#43472" title="(orig: Array[AnyRef], newCapacity: Int, len: Int)Array[AnyRef]">resize</a><span class="delimiter">(</span> <a href="#43474" title="=&gt; Array[AnyRef]">buf</a>, <a href="#43474" title="=&gt; Array[AnyRef]">buf</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">+</span> <span class="delimiter">(</span><a href="#43474" title="=&gt; Array[AnyRef]">buf</a>.<span title="=&gt; Int">length</span>.<span title="=&gt; Double">toDouble</span> <span title="(x: Double)Double">*</span> <span title="Double(0.1)">gf</span><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span>, <a href="#43477" title="=&gt; Int">len</a> <span class="delimiter">)</span></span>
<a href="l38"></a><span id="l38">    <span class="delimiter">}</span></span>
<a href="l39"></a><span id="l39">  <span class="delimiter">}</span></span>
<a href="l40"></a><span id="l40"></span>
<a href="l41"></a><span id="l41">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(size: Int)Unit" id="43480">sizeHint</a><span class="delimiter">(</span> <a title="Int" id="45143">size</a> : <span title="Int">Int</span> <span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l42"></a><span id="l42">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#43474" title="=&gt; Array[AnyRef]">buf</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#45143" title="Int">size</a> <span title="(x: Int)Boolean">&gt;</span> <a href="#43474" title="=&gt; Array[AnyRef]">buf</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span class="comment">// don't grow unless necessary</span></span>
<a href="l43"></a><span id="l43">      <a href="#43474" title="(x$1: Array[AnyRef])Unit">buf</a> = <a href="#43472" title="(orig: Array[AnyRef], newCapacity: Int, len: Int)Array[AnyRef]">resize</a><span class="delimiter">(</span> <a href="#43474" title="=&gt; Array[AnyRef]">buf</a>, <a href="#45143" title="Int">size</a>, <a href="#43477" title="=&gt; Int">len</a> <span class="delimiter">)</span></span>
<a href="l44"></a><span id="l44">  <span class="delimiter">}</span></span>
<a href="l45"></a><span id="l45"></span>
<a href="l46"></a><span id="l46">  <span class="keyword">def</span> <a title="()scales.utils.ImmutableArray[A]" id="43481">result</a> : <a href="#46473" title="scales.utils.ImmutableArray[A]">ImmutableArray</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = </span>
<a href="l47"></a><span id="l47">    <span title="scales.utils.ImmutableArray[A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#43477" title="=&gt; Int">len</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span></span>
<a href="l48"></a><span id="l48">      <a href="#43432" title="object scales.utils.ImmutableArray">ImmutableArray</a>.<a href="#43130" title="=&gt; scales.utils.ImmutableArray[Nothing]">emptyImmutableArray</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scales.utils.ImmutableArray[A]" class="delimiter">[</span><a href="#46473" title="scales.utils.ImmutableArray[A]">ImmutableArray</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span></span>
<a href="l49"></a><span id="l49">    <span class="keyword">else</span></span>
<a href="l50"></a><span id="l50">      <a href="#46473" title="(base: Array[AnyRef], offset: Int, len: Int)scales.utils.ImmutableArray[Nothing]">ImmutableArray</a><span class="delimiter">(</span><a href="#43474" title="=&gt; Array[AnyRef]">buf</a>, <span title="Int(0)" class="int">0</span>, <a href="#43477" title="=&gt; Int">len</a><span class="delimiter">)</span></span>
<a href="l51"></a><span id="l51"></span>
<a href="l52"></a><span id="l52">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(xs: TraversableOnce[A])ImmutableArrayBuilder.this.type" id="43482">++=</a><span class="delimiter">(</span><a title="TraversableOnce[A]" id="45158">xs</a>: <span title="TraversableOnce[A]">TraversableOnce</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span class="keyword">this</span>.<span class="keyword">type</span> = <a href="#45158" title="TraversableOnce[A]">xs</a> <span title="ImmutableArrayBuilder.this.type" class="keyword">match</span> <span class="delimiter">{</span></span>
<a href="l53"></a><span id="l53">    <span class="keyword">case</span> <span title="ImmutableArrayBuilder.this.type">ImmutableArray</span><span class="delimiter">(</span> <a title="Array[AnyRef]" id="45161">base</a>, <a title="Int" id="45162">offset</a>, <a title="Int" id="45163">slen</a><span class="delimiter">)</span> =&gt;</span>
<a href="l54"></a><span id="l54">      <a href="#43479" title="(size: Int)Unit">ensureSize</a><span class="delimiter">(</span><a href="#43477" title="=&gt; Int">len</a> <span title="(x: Int)Int">+</span> <a href="#45163" title="Int">slen</a><span class="delimiter">)</span></span>
<a href="l55"></a><span id="l55">      <span title="object Array">Array</span>.<span title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</span><span class="delimiter">(</span><a href="#45161" title="Array[AnyRef]">base</a>, <a href="#45162" title="Int">offset</a>, <a href="#43474" title="=&gt; Array[AnyRef]">buf</a>, <a href="#43477" title="=&gt; Int">len</a>, <a href="#45163" title="Int">slen</a><span class="delimiter">)</span></span>
<a href="l56"></a><span id="l56">      <a href="#43477" title="(x$1: Int)Unit">len</a> <span title="(x: Int)Int">+=</span> <a href="#45163" title="Int">slen</a></span>
<a href="l57"></a><span id="l57">      <a href="#58049" title="ImmutableArrayBuilder.this.type" class="keyword">this</a></span>
<a href="l58"></a><span id="l58">    <span class="keyword">case</span> <span title="ImmutableArrayBuilder.this.type">_</span> =&gt;</span>
<a href="l59"></a><span id="l59">      <a href="#58049" title="scales.utils.ImmutableArrayBuilder[A]" class="keyword">super</a>.<span title="(xs: scala.collection.TraversableOnce[A])ImmutableArrayBuilder.this.type">++=</span><span class="delimiter">(</span><a href="#45158" title="TraversableOnce[A]">xs</a><span class="delimiter">)</span></span>
<a href="l60"></a><span id="l60">  <span class="delimiter">}</span></span>
<a href="l61"></a><span id="l61"></span>
<a href="l62"></a><span id="l62">  <span class="keyword">def</span> <a title="(elem: A)ImmutableArrayBuilder.this.type" id="43483">+=</a><span class="delimiter">(</span> <a title="A" id="45176">elem</a> : <a href="#45207" title="A">A</a><span class="delimiter">)</span> : <span class="keyword">this</span>.<span class="keyword">type</span> = <span class="delimiter">{</span></span>
<a href="l63"></a><span id="l63">    <a href="#43479" title="(size: Int)Unit">ensureSize</a><span class="delimiter">(</span><a href="#43477" title="=&gt; Int">len</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span></span>
<a href="l64"></a><span id="l64">    <span class="comment">// we know its big enough</span></span>
<a href="l65"></a><span id="l65">    <a href="#43474" title="(i: Int, x: AnyRef)Unit">buf</a><span class="delimiter">(</span><a href="#43477" title="=&gt; Int">len</a><span class="delimiter">)</span> = <a href="#45176" title="A">elem</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span></span>
<a href="l66"></a><span id="l66">    <a href="#43477" title="(x$1: Int)Unit">len</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span></span>
<a href="l67"></a><span id="l67">    <a href="#58049" title="ImmutableArrayBuilder.this.type" class="keyword">this</a></span>
<a href="l68"></a><span id="l68">  <span class="delimiter">}</span></span>
<a href="l69"></a><span id="l69"></span>
<a href="l70"></a><span id="l70">  <span class="keyword">def</span> <a title="()Unit" id="43484">clear</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l71"></a><span id="l71">    <a href="#43477" title="(x$1: Int)Unit">len</a> = <span title="Int(0)" class="int">0</span></span>
<a href="l72"></a><span id="l72">  <span class="delimiter">}</span></span>
<a href="l73"></a><span id="l73"><span class="delimiter">}</span></span>
<a href="l74"></a><span id="l74"></span>
<a href="l75"></a><span id="l75">case <span class="keyword">class</span> <a href="#45360" title="class IAEmpty[+A] extends java.lang.Object with scales.utils.ImmutableArrayProxy[A] with ScalaObject with Product with Serializable" id="58044">IAEmpty</a><span class="delimiter">[</span> +<a title="&gt;: Nothing &lt;: Any" id="46482">A</a> <span class="delimiter">]</span><a href="#58044" title="ScalaObject" class="delimiter">(</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10380" title="scales.utils.ImmutableArrayProxy[A]">ImmutableArrayProxy</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span></span>
<a href="l76"></a><span id="l76">  <span class="keyword">def</span> <a title="=&gt; Int" id="45224">length</a> = <span title="Int(0)" class="int">0</span></span>
<a href="l77"></a><span id="l77"></span>
<a href="l78"></a><span id="l78">  <span class="keyword">def</span> <a title="(idx: Int)Nothing" id="45225">apply</a><span class="delimiter">(</span><a title="Int" id="45265">idx</a> : <span title="Int">Int</span><span class="delimiter">)</span> = <a href="package.scala.html#12052" title="(str: String)Nothing">error</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Can\'t return an item, as we are empty&quot;)" class="string">&quot;Can't return an item, as we are empty&quot;</span><span class="delimiter">)</span></span>
<a href="l79"></a><span id="l79"></span>
<a href="l80"></a><span id="l80">  <span class="keyword">def</span> <a title="=&gt; scales.utils.IAEmpty[A]" id="45226">ar</a> = <a href="#58044" title="scales.utils.IAEmpty[A]" class="keyword">this</a>  </span>
<a href="l81"></a><span id="l81"></span>
<a href="l82"></a><span id="l82">  @inline <span class="keyword">override</span> <span class="keyword">def</span> <a title="[B &gt;: A, That](elem: B)(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That])That" id="45227">:+</a><span class="delimiter">[</span><a title="&gt;: A &lt;: Any" id="45230">B</a> &gt;: A, <a title="&gt;: Nothing &lt;: Any" id="45231">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="B" id="45275">elem</a>: <a href="#45230" title="B">B</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]" id="45276">bf</a>: <span title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]">CanBuildFrom</span><span class="delimiter">[</span>ImmutableArrayProxy<span class="delimiter">[</span>A<span class="delimiter">]</span>, B, That<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#45231" title="That">That</a> =</span>
<a href="l83"></a><span id="l83">    <a href="#58036" title="(one: B)scales.utils.IAOne[B]">IAOne</a><span class="delimiter">(</span><a href="#45275" title="B">elem</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="That" class="delimiter">[</span><a href="#45231" title="That">That</a><span class="delimiter">]</span></span>
<a href="l84"></a><span id="l84"></span>
<a href="l85"></a><span id="l85"><span class="delimiter">}</span></span>
<a href="l86"></a><span id="l86"></span>
<a href="l87"></a><span id="l87">case <span class="keyword">class</span> <a title="class IAOne[+A] extends java.lang.Object with scales.utils.ImmutableArrayProxy[A] with ScalaObject with Product with Serializable" id="58036">IAOne</a><span class="delimiter">[</span> +<a title="&gt;: Nothing &lt;: Any" id="45305">A</a> <span class="delimiter">]</span><a href="#58036" title="ScalaObject" class="delimiter">(</a> <a title="A" id="45329">one</a> : <a href="#45305" title="A">A</a> <span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10380" title="scales.utils.ImmutableArrayProxy[A]">ImmutableArrayProxy</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span></span>
<a href="l88"></a><span id="l88"></span>
<a href="l89"></a><span id="l89">  <span class="keyword">def</span> <a title="(idx: Int)A" id="45310">apply</a><span class="delimiter">(</span><a title="Int" id="45366">idx</a> : <span title="Int">Int</span><span class="delimiter">)</span> = <a href="#45329" title="=&gt; A">one</a></span>
<a href="l90"></a><span id="l90"></span>
<a href="l91"></a><span id="l91">  <span class="keyword">def</span> <a title="=&gt; Int" id="45311">length</a> = <span title="Int(1)" class="int">1</span></span>
<a href="l92"></a><span id="l92"></span>
<a href="l93"></a><span id="l93">  <span class="keyword">def</span> <a title="=&gt; scales.utils.IAOne[A]" id="45312">ar</a> = <a href="#58036" title="scales.utils.IAOne[A]" class="keyword">this</a></span>
<a href="l94"></a><span id="l94"></span>
<a href="l95"></a><span id="l95">  @inline <span class="keyword">override</span> <span class="keyword">def</span> <a title="[B &gt;: A, That](elem: B)(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That])That" id="45313">:+</a><span class="delimiter">[</span><a title="&gt;: A &lt;: Any" id="45316">B</a> &gt;: A, <a title="&gt;: Nothing &lt;: Any" id="45317">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="B" id="45384">elem</a>: <a href="#45316" title="B">B</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]" id="45385">bf</a>: <span title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]">CanBuildFrom</span><span class="delimiter">[</span>ImmutableArrayProxy<span class="delimiter">[</span>A<span class="delimiter">]</span>, B, That<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#45317" title="That">That</a> =</span>
<a href="l96"></a><span id="l96">    <a href="#58013" title="(one: B, two: B)scales.utils.IATwo[B]">IATwo</a><span class="delimiter">(</span><a href="#45329" title="=&gt; A">one</a>, <a href="#45384" title="B">elem</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="That" class="delimiter">[</span><a href="#45317" title="That">That</a><span class="delimiter">]</span></span>
<a href="l97"></a><span id="l97"></span>
<a href="l98"></a><span id="l98">  @inline <span class="keyword">override</span> <span class="keyword">def</span> <a title="[B &gt;: A, That](index: Int, elem: B)(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That])That" id="45318">updated</a><span class="delimiter">[</span><a title="&gt;: A &lt;: Any" id="45321">B</a> &gt;: A, <a title="&gt;: Nothing &lt;: Any" id="45322">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Int" id="45473">index</a>: <span title="Int">Int</span>, <a title="B" id="45474">elem</a>: <a href="#45321" title="B">B</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]" id="45475">bf</a>: <span title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]">CanBuildFrom</span><span class="delimiter">[</span>ImmutableArrayProxy<span class="delimiter">[</span>A<span class="delimiter">]</span>, B, That<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#45322" title="That">That</a> =</span>
<a href="l99"></a><span id="l99">    <a href="#58036" title="(one: B)scales.utils.IAOne[B]">IAOne</a><span class="delimiter">(</span><a href="#45474" title="B">elem</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="That" class="delimiter">[</span><a href="#45322" title="That">That</a><span class="delimiter">]</span></span>
<a href="l100"></a><span id="l100"></span>
<a href="l101"></a><span id="l101"><span class="delimiter">}</span></span>
<a href="l102"></a><span id="l102"></span>
<a href="l103"></a><span id="l103"><span class="keyword">import</span> scala.annotation.switch</span>
<a href="l104"></a><span id="l104"></span>
<a href="l105"></a><span id="l105">case <span class="keyword">class</span> <a title="class IATwo[+A] extends java.lang.Object with scales.utils.ImmutableArrayProxy[A] with ScalaObject with Product with Serializable" id="58013">IATwo</a><span class="delimiter">[</span> +<a title="&gt;: Nothing &lt;: Any" id="45414">A</a> <span class="delimiter">]</span><a href="#58013" title="ScalaObject" class="delimiter">(</a> <a title="A" id="45441">one</a> : <a href="#45414" title="A">A</a>, <a title="A" id="45442">two</a> : <a href="#45414" title="A">A</a> <span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10380" title="scales.utils.ImmutableArrayProxy[A]">ImmutableArrayProxy</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span></span>
<a href="l106"></a><span id="l106"></span>
<a href="l107"></a><span id="l107">  <span class="keyword">def</span> <a title="(idx: Int)A" id="45422">apply</a><span class="delimiter">(</span><a title="Int" id="45531">idx</a> : <span title="Int">Int</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#45531" title="Int">idx</a> : @<span title="Int @scala.annotation.switch">switch</span><span class="delimiter">)</span> <span title="A" class="keyword">match</span> <span class="delimiter">{</span></span>
<a href="l108"></a><span id="l108">    <span class="keyword">case</span> <span title="IATwo.this.one.type" class="int">0</span> =&gt; <a href="#45441" title="=&gt; A">one</a></span>
<a href="l109"></a><span id="l109">    <span class="keyword">case</span> <span title="IATwo.this.two.type" class="int">1</span> =&gt; <a href="#45442" title="=&gt; A">two</a></span>
<a href="l110"></a><span id="l110">  <span class="delimiter">}</span></span>
<a href="l111"></a><span id="l111"></span>
<a href="l112"></a><span id="l112">  <span class="keyword">def</span> <a title="=&gt; Int" id="45423">length</a> = <span title="Int(2)" class="int">2</span></span>
<a href="l113"></a><span id="l113"></span>
<a href="l114"></a><span id="l114">  <span class="keyword">def</span> <a title="=&gt; scales.utils.IATwo[A]" id="45424">ar</a> = <a href="#58013" title="scales.utils.IATwo[A]" class="keyword">this</a></span>
<a href="l115"></a><span id="l115"></span>
<a href="l116"></a><span id="l116">  @inline <span class="keyword">override</span> <span class="keyword">def</span> <a title="[B &gt;: A, That](elem: B)(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That])That" id="45425">:+</a><span class="delimiter">[</span><a title="&gt;: A &lt;: Any" id="45428">B</a> &gt;: A, <a title="&gt;: Nothing &lt;: Any" id="45429">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="B" id="45550">elem</a>: <a href="#45428" title="B">B</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]" id="45551">bf</a>: <span title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]">CanBuildFrom</span><span class="delimiter">[</span>ImmutableArrayProxy<span class="delimiter">[</span>A<span class="delimiter">]</span>, B, That<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#45429" title="That">That</a> =</span>
<a href="l117"></a><span id="l117">    <a href="#57983" title="(one: B, two: B, three: B)scales.utils.IAThree[B]">IAThree</a><span class="delimiter">(</span><a href="#45441" title="=&gt; A">one</a>, <a href="#45442" title="=&gt; A">two</a>, <a href="#45550" title="B">elem</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="That" class="delimiter">[</span><a href="#45429" title="That">That</a><span class="delimiter">]</span></span>
<a href="l118"></a><span id="l118"></span>
<a href="l119"></a><span id="l119">  @inline <span class="keyword">override</span> <span class="keyword">def</span> <a title="[B &gt;: A, That](index: Int, elem: B)(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That])That" id="45430">updated</a><span class="delimiter">[</span><a title="&gt;: A &lt;: Any" id="45433">B</a> &gt;: A, <a title="&gt;: Nothing &lt;: Any" id="45434">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Int" id="45641">index</a>: <span title="Int">Int</span>, <a title="B" id="45642">elem</a>: <a href="#45433" title="B">B</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]" id="45643">bf</a>: <span title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]">CanBuildFrom</span><span class="delimiter">[</span>ImmutableArrayProxy<span class="delimiter">[</span>A<span class="delimiter">]</span>, B, That<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#45434" title="That">That</a> =</span>
<a href="l120"></a><span id="l120">     <span class="delimiter">(</span><span class="delimiter">(</span><a href="#45641" title="Int">index</a> : @<span title="Int @scala.annotation.switch">switch</span><span class="delimiter">)</span> <span title="scales.utils.IATwo[B]" class="keyword">match</span> <span class="delimiter">{</span></span>
<a href="l121"></a><span id="l121">       <span class="keyword">case</span> <span title="scales.utils.IATwo[B]" class="int">0</span> =&gt; <a href="#58013" title="(one: B, two: B)scales.utils.IATwo[B]">IATwo</a><span class="delimiter">(</span><a href="#45642" title="B">elem</a>, <a href="#45442" title="=&gt; A">two</a><span class="delimiter">)</span></span>
<a href="l122"></a><span id="l122">       <span class="keyword">case</span> <span title="scales.utils.IATwo[B]" class="int">1</span> =&gt; <a href="#58013" title="(one: B, two: B)scales.utils.IATwo[B]">IATwo</a><span class="delimiter">(</span><a href="#45441" title="=&gt; A">one</a>, <a href="#45642" title="B">elem</a><span class="delimiter">)</span></span>
<a href="l123"></a><span id="l123">     <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="That" class="delimiter">[</span><a href="#45434" title="That">That</a><span class="delimiter">]</span></span>
<a href="l124"></a><span id="l124"></span>
<a href="l125"></a><span id="l125"><span class="delimiter">}</span></span>
<a href="l126"></a><span id="l126"></span>
<a href="l127"></a><span id="l127">case <span class="keyword">class</span> <a title="class IAThree[+A] extends java.lang.Object with scales.utils.ImmutableArrayProxy[A] with ScalaObject with Product with Serializable" id="57983">IAThree</a><span class="delimiter">[</span> +<a title="&gt;: Nothing &lt;: Any" id="45580">A</a> <span class="delimiter">]</span><a href="#57983" title="ScalaObject" class="delimiter">(</a> <a title="A" id="45605">one</a> : <a href="#45580" title="A">A</a>, <a title="A" id="45606">two</a> : <a href="#45580" title="A">A</a>, <a title="A" id="45607">three</a> : <a href="#45580" title="A">A</a> <span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10380" title="scales.utils.ImmutableArrayProxy[A]">ImmutableArrayProxy</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span></span>
<a href="l128"></a><span id="l128"></span>
<a href="l129"></a><span id="l129">  <span class="keyword">def</span> <a title="(idx: Int)A" id="45591">apply</a><span class="delimiter">(</span><a title="Int" id="45727">idx</a> : <span title="Int">Int</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#45727" title="Int">idx</a> : @<span title="Int @scala.annotation.switch">switch</span><span class="delimiter">)</span> <span title="A" class="keyword">match</span> <span class="delimiter">{</span></span>
<a href="l130"></a><span id="l130">    <span class="keyword">case</span> <span title="IAThree.this.one.type" class="int">0</span> =&gt; <a href="#45605" title="=&gt; A">one</a></span>
<a href="l131"></a><span id="l131">    <span class="keyword">case</span> <span title="IAThree.this.two.type" class="int">1</span> =&gt; <a href="#45606" title="=&gt; A">two</a></span>
<a href="l132"></a><span id="l132">    <span class="keyword">case</span> <span title="IAThree.this.three.type" class="int">2</span> =&gt; <a href="#45607" title="=&gt; A">three</a></span>
<a href="l133"></a><span id="l133">  <span class="delimiter">}</span></span>
<a href="l134"></a><span id="l134"></span>
<a href="l135"></a><span id="l135">  <span class="keyword">def</span> <a title="=&gt; Int" id="45592">length</a> = <span title="Int(3)" class="int">3</span></span>
<a href="l136"></a><span id="l136"></span>
<a href="l137"></a><span id="l137">  <span class="keyword">def</span> <a title="=&gt; scales.utils.IAThree[A]" id="45593">ar</a> = <a href="#57983" title="scales.utils.IAThree[A]" class="keyword">this</a></span>
<a href="l138"></a><span id="l138"></span>
<a href="l139"></a><span id="l139">  @inline <span class="keyword">override</span> <span class="keyword">def</span> <a title="[B &gt;: A, That](index: Int, elem: B)(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That])That" id="45594">updated</a><span class="delimiter">[</span><a title="&gt;: A &lt;: Any" id="45597">B</a> &gt;: A, <a title="&gt;: Nothing &lt;: Any" id="45598">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Int" id="45745">index</a>: <span title="Int">Int</span>, <a title="B" id="45746">elem</a>: <a href="#45597" title="B">B</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]" id="45747">bf</a>: <span title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]">CanBuildFrom</span><span class="delimiter">[</span>ImmutableArrayProxy<span class="delimiter">[</span>A<span class="delimiter">]</span>, B, That<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#45598" title="That">That</a> =</span>
<a href="l140"></a><span id="l140">     <span class="delimiter">(</span><span class="delimiter">(</span><a href="#45745" title="Int">index</a> : @<span title="Int @scala.annotation.switch">switch</span><span class="delimiter">)</span> <span title="scales.utils.IAThree[B]" class="keyword">match</span> <span class="delimiter">{</span></span>
<a href="l141"></a><span id="l141">       <span class="keyword">case</span> <span title="scales.utils.IAThree[B]" class="int">0</span> =&gt; <a href="#57983" title="(one: B, two: B, three: B)scales.utils.IAThree[B]">IAThree</a><span class="delimiter">(</span><a href="#45746" title="B">elem</a>, <a href="#45606" title="=&gt; A">two</a>, <a href="#45607" title="=&gt; A">three</a><span class="delimiter">)</span></span>
<a href="l142"></a><span id="l142">       <span class="keyword">case</span> <span title="scales.utils.IAThree[B]" class="int">1</span> =&gt; <a href="#57983" title="(one: B, two: B, three: B)scales.utils.IAThree[B]">IAThree</a><span class="delimiter">(</span><a href="#45605" title="=&gt; A">one</a>, <a href="#45746" title="B">elem</a>, <a href="#45607" title="=&gt; A">three</a><span class="delimiter">)</span></span>
<a href="l143"></a><span id="l143">       <span class="keyword">case</span> <span title="scales.utils.IAThree[B]" class="int">2</span> =&gt; <a href="#57983" title="(one: B, two: B, three: B)scales.utils.IAThree[B]">IAThree</a><span class="delimiter">(</span><a href="#45605" title="=&gt; A">one</a>, <a href="#45606" title="=&gt; A">two</a>, <a href="#45746" title="B">elem</a><span class="delimiter">)</span></span>
<a href="l144"></a><span id="l144">     <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="That" class="delimiter">[</span><a href="#45598" title="That">That</a><span class="delimiter">]</span></span>
<a href="l145"></a><span id="l145"></span>
<a href="l146"></a><span id="l146"><span class="delimiter">}</span></span>
<a href="l147"></a><span id="l147"></span>
<a href="l148"></a><span id="l148"></span>
<a href="l149"></a><span id="l149"><span class="comment">/**</span>
<a href="l150"></a><span id="l150"> * Object arrays are just faster, System.arraycopy doesn't trust you and will type check everything, we can let nsc do that job for us.</span>
<a href="l151"></a><span id="l151"> *</span>
<a href="l152"></a><span id="l152"> * Same as ImmutableArray but for when the base is the entire collection, no offset or len are then needed</span>
<a href="l153"></a><span id="l153"> */</span> </span>
<a href="l154"></a><span id="l154"><span class="keyword">trait</span> <a title="trait ImmutableArrayT[+A] extends java.lang.Object with scales.utils.ImmutableArrayProxy[A] with ScalaObject" id="10366">ImmutableArrayT</a><span class="delimiter">[</span> +<a title="&gt;: Nothing &lt;: Any" id="10367">A</a> <span class="delimiter">]</span> <span title="ScalaObject" class="keyword">extends</span> <a href="#10380" title="scales.utils.ImmutableArrayProxy[A]">ImmutableArrayProxy</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span></span>
<a href="l155"></a><span id="l155">  <span class="keyword">val</span> <a title="=&gt; Array[AnyRef]" id="43140">base</a> : <span title="Array[AnyRef]">Array</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span></span>
<a href="l156"></a><span id="l156">  <span class="keyword">def</span> <a title="=&gt; Int" id="43141">offset</a> : <span title="Int">Int</span></span>
<a href="l157"></a><span id="l157">  <span class="keyword">def</span> <a title="=&gt; Int" id="43142">len</a> : <span title="Int">Int</span></span>
<a href="l158"></a><span id="l158"></span>
<a href="l159"></a><span id="l159">  <span class="keyword">import</span> <a href="#46535" title="object scales.utils.ImmutableArrayProxyBuilder">ImmutableArrayProxyBuilder</a>._</span>
<a href="l160"></a><span id="l160"></span>
<a href="l161"></a><span id="l161">  <span class="keyword">def</span> <a title="(idx: Int)A" id="43144">apply</a><span class="delimiter">(</span><a title="Int" id="45879">idx</a> : <span title="Int">Int</span> <span class="delimiter">)</span> = <a href="#43140" title="(i: Int)AnyRef">base</a><span class="delimiter">(</span><a href="#45879" title="Int">idx</a> <span title="(x: Int)Int">+</span> <a href="#43141" title="=&gt; Int">offset</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="A" class="delimiter">[</span><a href="#10367" title="A">A</a><span class="delimiter">]</span></span>
<a href="l162"></a><span id="l162"> </span>
<a href="l163"></a><span id="l163">  <span class="keyword">def</span> <a title="=&gt; Int" id="43145">length</a> = <a href="#43142" title="=&gt; Int">len</a></span>
<a href="l164"></a><span id="l164">  </span>
<a href="l165"></a><span id="l165">  @inline <span class="keyword">override</span> <span class="keyword">def</span> <a title="[B &gt;: A, That](elem: B)(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That])That" id="43146">+:</a><span class="delimiter">[</span><a title="&gt;: A &lt;: Any" id="43149">B</a> &gt;: A, <a title="&gt;: Nothing &lt;: Any" id="43150">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="B" id="45898">elem</a>: <a href="#43149" title="B">B</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]" id="45899">bf</a>: <span title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]">CanBuildFrom</span><span class="delimiter">[</span>ImmutableArrayProxy<span class="delimiter">[</span>A<span class="delimiter">]</span>, B, That<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#43150" title="That">That</a> =</span>
<a href="l166"></a><span id="l166">    <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#43142" title="=&gt; Int">len</a> <span title="(x: Int)Boolean">==</span> <span title="Int(31)">vectorAfter</span><span class="delimiter">)</span> <a href="#10366" title="scales.utils.ImmutableArrayT[A]" class="keyword">super</a>.<span title="(elem: B)(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That])That">+:</span><a href="#45899" title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]" class="delimiter">(</a><a href="#45898" title="B">elem</a><span class="delimiter">)</span></span>
<a href="l167"></a><span id="l167">    <span class="keyword">else</span> <span class="delimiter">{</span></span>
<a href="l168"></a><span id="l168">      <span class="keyword">val</span> <a title="Array[AnyRef]" id="45953">ar</a> = <span title="object Array">Array</span>.<span title="[T](n1: Int)(implicit evidence$3: scala.reflect.ClassManifest[T])Array[T]">ofDim</span><span title="(n1: Int)(implicit evidence$3: scala.reflect.ClassManifest[AnyRef])Array[AnyRef]" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span title="=&gt; scala.reflect.Manifest[java.lang.Object]" class="delimiter">(</span><a href="#43142" title="=&gt; Int">len</a><span title="(x: Int)Int">+</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span></span>
<a href="l169"></a><span id="l169">      <span title="object Array">Array</span>.<span title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</span><span class="delimiter">(</span><a href="#43140" title="=&gt; Array[AnyRef]">base</a>, <a href="#43141" title="=&gt; Int">offset</a>, <a href="#45953" title="Array[AnyRef]">ar</a>, <span title="Int(1)" class="int">1</span>, <a href="#43142" title="=&gt; Int">len</a><span class="delimiter">)</span></span>
<a href="l170"></a><span id="l170">      <a href="#45953" title="(i: Int, x: AnyRef)Unit">ar</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> = <a href="#45898" title="B">elem</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span></span>
<a href="l171"></a><span id="l171">      <a href="#57949" title="[A](base: Array[AnyRef])scales.utils.ImmutableArrayAll[A]">ImmutableArrayAll</a><span title="(base: Array[AnyRef])scales.utils.ImmutableArrayAll[B]" class="delimiter">[</span><a href="#43149" title="B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#45953" title="Array[AnyRef]">ar</a><span class="delimiter">)</span></span>
<a href="l172"></a><span id="l172">    <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="That" class="delimiter">[</span><a href="#43150" title="That">That</a><span class="delimiter">]</span></span>
<a href="l173"></a><span id="l173">  </span>
<a href="l174"></a><span id="l174">  @inline <span class="keyword">override</span> <span class="keyword">def</span> <a title="[B &gt;: A, That](elem: B)(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That])That" id="43151">:+</a><span class="delimiter">[</span><a title="&gt;: A &lt;: Any" id="43154">B</a> &gt;: A, <a title="&gt;: Nothing &lt;: Any" id="43155">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="B" id="46051">elem</a>: <a href="#43154" title="B">B</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]" id="46052">bf</a>: <span title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]">CanBuildFrom</span><span class="delimiter">[</span>ImmutableArrayProxy<span class="delimiter">[</span>A<span class="delimiter">]</span>, B, That<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#43155" title="That">That</a> =</span>
<a href="l175"></a><span id="l175">    <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#43142" title="=&gt; Int">len</a> <span title="(x: Int)Boolean">==</span> <span title="Int(31)">vectorAfter</span><span class="delimiter">)</span> <a href="#10366" title="scales.utils.ImmutableArrayT[A]" class="keyword">super</a>.<span title="(elem: B)(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That])That">:+</span><a href="#46052" title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]" class="delimiter">(</a><a href="#46051" title="B">elem</a><span class="delimiter">)</span></span>
<a href="l176"></a><span id="l176">    <span class="keyword">else</span> <span class="delimiter">{</span></span>
<a href="l177"></a><span id="l177">      <span class="keyword">val</span> <a title="Array[AnyRef]" id="46106">ar</a> = <span title="object Array">Array</span>.<span title="[T](n1: Int)(implicit evidence$3: scala.reflect.ClassManifest[T])Array[T]">ofDim</span><span title="(n1: Int)(implicit evidence$3: scala.reflect.ClassManifest[AnyRef])Array[AnyRef]" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span title="=&gt; scala.reflect.Manifest[java.lang.Object]" class="delimiter">(</span><a href="#43142" title="=&gt; Int">len</a><span title="(x: Int)Int">+</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span></span>
<a href="l178"></a><span id="l178">      <span title="object Array">Array</span>.<span title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</span><span class="delimiter">(</span><a href="#43140" title="=&gt; Array[AnyRef]">base</a>, <a href="#43141" title="=&gt; Int">offset</a>, <a href="#46106" title="Array[AnyRef]">ar</a>, <span title="Int(0)" class="int">0</span>, <a href="#43142" title="=&gt; Int">len</a><span class="delimiter">)</span></span>
<a href="l179"></a><span id="l179">      <a href="#46106" title="(i: Int, x: AnyRef)Unit">ar</a><span class="delimiter">(</span><a href="#43142" title="=&gt; Int">len</a><span class="delimiter">)</span> = <a href="#46051" title="B">elem</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span></span>
<a href="l180"></a><span id="l180">      <a href="#57949" title="[A](base: Array[AnyRef])scales.utils.ImmutableArrayAll[A]">ImmutableArrayAll</a><span title="(base: Array[AnyRef])scales.utils.ImmutableArrayAll[B]" class="delimiter">[</span><a href="#43154" title="B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#46106" title="Array[AnyRef]">ar</a><span class="delimiter">)</span></span>
<a href="l181"></a><span id="l181">    <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="That" class="delimiter">[</span><a href="#43155" title="That">That</a><span class="delimiter">]</span></span>
<a href="l182"></a><span id="l182"></span>
<a href="l183"></a><span id="l183">  @inline <span class="keyword">override</span> <span class="keyword">def</span> <a title="(n: Int)scales.utils.ImmutableArray[Nothing]" id="43156">take</a><span class="delimiter">(</span> <a title="Int" id="46166">n</a> : <span title="Int">Int</span> <span class="delimiter">)</span> = </span>
<a href="l184"></a><span id="l184">    <a href="#46473" title="(base: Array[AnyRef], offset: Int, len: Int)scales.utils.ImmutableArray[Nothing]">ImmutableArray</a><span class="delimiter">(</span><a href="#43140" title="=&gt; Array[AnyRef]">base</a>, <a href="#43141" title="=&gt; Int">offset</a>, <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#43142" title="=&gt; Int">len</a> <span title="(x: Int)Int">-</span> <a href="#46166" title="Int">n</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#43142" title="=&gt; Int">len</a> <span class="keyword">else</span> <a href="#46166" title="Int">n</a><span class="delimiter">)</span></span>
<a href="l185"></a><span id="l185"></span>
<a href="l186"></a><span id="l186">  @inline <span class="keyword">override</span> <span class="keyword">def</span> <a title="(n: Int)scales.utils.ImmutableArray[Nothing]" id="43157">drop</a><span class="delimiter">(</span> <a title="Int" id="46178">n</a> : <span title="Int">Int</span> <span class="delimiter">)</span> = </span>
<a href="l187"></a><span id="l187">    <a href="#46473" title="(base: Array[AnyRef], offset: Int, len: Int)scales.utils.ImmutableArray[Nothing]">ImmutableArray</a><span class="delimiter">(</span><a href="#43140" title="=&gt; Array[AnyRef]">base</a>, <a href="#43141" title="=&gt; Int">offset</a> <span title="(x: Int)Int">+</span> <a href="#46178" title="Int">n</a>, <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#43142" title="=&gt; Int">len</a> <span title="(x: Int)Int">-</span> <a href="#46178" title="Int">n</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <span class="delimiter">(</span><a href="#43142" title="=&gt; Int">len</a> <span title="(x: Int)Int">-</span> <a href="#46178" title="Int">n</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l188"></a><span id="l188"></span>
<a href="l189"></a><span id="l189">  @inline <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scales.utils.ImmutableArray[Nothing]" id="43158">tail</a> = <a href="#43157" title="(n: Int)scales.utils.ImmutableArray[Nothing]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span></span>
<a href="l190"></a><span id="l190"></span>
<a href="l191"></a><span id="l191">  <span class="comment">/**</span>
<a href="l192"></a><span id="l192">   * we can do better - slice used by many functions in Optimized</span>
<a href="l193"></a><span id="l193">   */</span> </span>
<a href="l194"></a><span id="l194">  @inline <span class="keyword">override</span> <span class="keyword">def</span> <a title="(from: Int, until: Int)scales.utils.ImmutableArray[Nothing]" id="43159">slice</a><span class="delimiter">(</span><a title="Int" id="46201">from</a>: <span title="Int">Int</span>, <a title="Int" id="46202">until</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <span class="delimiter">{</span></span>
<a href="l195"></a><span id="l195">    <span class="keyword">val</span> <a title="Int" id="46205">lo</a>    = math.<span title="(x: Int, y: Int)Int">max</span><span class="delimiter">(</span><a href="#46201" title="Int">from</a>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span></span>
<a href="l196"></a><span id="l196">    <span class="keyword">val</span> <a title="Int" id="46206">hi</a>    = math.<span title="(x: Int, y: Int)Int">min</span><span class="delimiter">(</span><a href="#46202" title="Int">until</a>, <a href="#43142" title="=&gt; Int">len</a><span class="delimiter">)</span></span>
<a href="l197"></a><span id="l197">    <span class="keyword">val</span> <a title="Int" id="46207">elems</a> = math.<span title="(x: Int, y: Int)Int">max</span><span class="delimiter">(</span><a href="#46206" title="Int">hi</a> <span title="(x: Int)Int">-</span> <a href="#46205" title="Int">lo</a>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span></span>
<a href="l198"></a><span id="l198">    <a href="#46473" title="(base: Array[AnyRef], offset: Int, len: Int)scales.utils.ImmutableArray[Nothing]">ImmutableArray</a><span class="delimiter">(</span><a href="#43140" title="=&gt; Array[AnyRef]">base</a>, <a href="#43141" title="=&gt; Int">offset</a>, <a href="#46207" title="Int">elems</a><span class="delimiter">)</span></span>
<a href="l199"></a><span id="l199">  <span class="delimiter">}</span></span>
<a href="l200"></a><span id="l200"></span>
<a href="l201"></a><span id="l201">  <span class="comment">/**</span>
<a href="l202"></a><span id="l202">   * Basically optimised version for back, hint used directly, one new array creation</span>
<a href="l203"></a><span id="l203">   */</span> </span>
<a href="l204"></a><span id="l204">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[B &gt;: A, That](index: Int, elem: B)(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That])That" id="43160">updated</a><span class="delimiter">[</span><a title="&gt;: A &lt;: Any" id="43163">B</a> &gt;: A, <a title="&gt;: Nothing &lt;: Any" id="43164">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Int" id="46237">index</a>: <span title="Int">Int</span>, <a title="B" id="46238">elem</a>: <a href="#43163" title="B">B</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]" id="46239">bf</a>: <span title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]">CanBuildFrom</span><span class="delimiter">[</span>ImmutableArrayProxy<span class="delimiter">[</span>A<span class="delimiter">]</span>, B, That<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#43164" title="That">That</a> =</span>
<a href="l205"></a><span id="l205">    <span title="That" class="keyword">if</span> <span class="delimiter">(</span><a href="#46239" title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]">bf</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>ImmutableArrayProxy.<a href="#46285" title="scales.utils.ImmutableArrayProxy.ImmutableArrayProxyCBF[_]">ImmutableArrayProxyCBF</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l206"></a><span id="l206">      <span class="comment">// we know its objects underneath, we know the relationship is sound</span></span>
<a href="l207"></a><span id="l207">      <span class="keyword">val</span> <a title="Array[AnyRef]" id="46296">ar</a> = <span title="object Array">Array</span>.<span title="[T](n1: Int)(implicit evidence$3: scala.reflect.ClassManifest[T])Array[T]">ofDim</span><span title="(n1: Int)(implicit evidence$3: scala.reflect.ClassManifest[AnyRef])Array[AnyRef]" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span title="=&gt; scala.reflect.Manifest[java.lang.Object]" class="delimiter">(</span><a href="#43142" title="=&gt; Int">len</a><span class="delimiter">)</span></span>
<a href="l208"></a><span id="l208">      <span title="object Array">Array</span>.<span title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</span><span class="delimiter">(</span><a href="#43140" title="=&gt; Array[AnyRef]">base</a>, <a href="#43141" title="=&gt; Int">offset</a>, <a href="#46296" title="Array[AnyRef]">ar</a>, <span title="Int(0)" class="int">0</span>, <a href="#43142" title="=&gt; Int">len</a><span class="delimiter">)</span></span>
<a href="l209"></a><span id="l209">      <a href="#46296" title="(i: Int, x: AnyRef)Unit">ar</a><span class="delimiter">(</span><a href="#46237" title="Int">index</a><span class="delimiter">)</span> = <a href="#46238" title="B">elem</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span></span>
<a href="l210"></a><span id="l210">      <a href="#57949" title="[A](base: Array[AnyRef])scales.utils.ImmutableArrayAll[A]">ImmutableArrayAll</a><span title="(base: Array[AnyRef])scales.utils.ImmutableArrayAll[B]" class="delimiter">[</span><a href="#43163" title="B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#46296" title="Array[AnyRef]">ar</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="That" class="delimiter">[</span><a href="#43164" title="That">That</a><span class="delimiter">]</span></span>
<a href="l211"></a><span id="l211">    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span></span>
<a href="l212"></a><span id="l212">      <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[B,That]" id="46309">b</a> = <a href="#46239" title="(from: scales.utils.ImmutableArrayProxy[A])scala.collection.mutable.Builder[B,That]">bf</a><span class="delimiter">(</span><a href="#10366" title="=&gt; scales.utils.ImmutableArrayProxy[A]">repr</a><span class="delimiter">)</span></span>
<a href="l213"></a><span id="l213">      <span class="keyword">val</span> <a href="#46311" title="(scales.utils.ImmutableArrayProxy[A], scales.utils.ImmutableArrayProxy[A])" class="delimiter">(</a><a href="#46310" title="scales.utils.ImmutableArrayProxy[A]" id="46311">prefix</a>, <a href="#46310" title="scales.utils.ImmutableArrayProxy[A]" id="46312">rest</a><span class="delimiter">)</span> = <a href="#10366" title="ImmutableArrayT.this.type" class="keyword">this</a>.<span title="(n: Int)(scales.utils.ImmutableArrayProxy[A], scales.utils.ImmutableArrayProxy[A])">splitAt</span><span title="(scales.utils.ImmutableArrayProxy[A], scales.utils.ImmutableArrayProxy[A]) @unchecked" class="delimiter">(</span><a href="#46237" title="Int">index</a><span class="delimiter">)</span></span>
<a href="l214"></a><span id="l214">      <a href="#46309" title="scala.collection.mutable.Builder[B,That]">b</a>.<span title="(size: Int)Unit">sizeHint</span><span class="delimiter">(</span><a href="#43142" title="=&gt; Int">len</a><span class="delimiter">)</span></span>
<a href="l215"></a><span id="l215">      <a href="#46309" title="scala.collection.mutable.Builder[B,That]">b</a> <span title="(xs: scala.collection.TraversableOnce[B])b.type">++=</span> <a href="#10366" title="(repr: scales.utils.ImmutableArrayProxy[A])IndexedSeq[A]">toCollection</a><span class="delimiter">(</span><a href="#46311" title="scales.utils.ImmutableArrayProxy[A]">prefix</a><span class="delimiter">)</span></span>
<a href="l216"></a><span id="l216">      <a href="#46309" title="scala.collection.mutable.Builder[B,That]">b</a> <span title="(elem: B)b.type">+=</span> <a href="#46238" title="B">elem</a></span>
<a href="l217"></a><span id="l217">      <a href="#46309" title="scala.collection.mutable.Builder[B,That]">b</a> <span title="(xs: scala.collection.TraversableOnce[B])b.type">++=</span> <a href="#10366" title="(repr: scales.utils.ImmutableArrayProxy[A])IndexedSeq[A]">toCollection</a><span class="delimiter">(</span><a href="#46312" title="scales.utils.ImmutableArrayProxy[A]">rest</a>.<span title="=&gt; scales.utils.ImmutableArrayProxy[A]">tail</span><span class="delimiter">)</span></span>
<a href="l218"></a><span id="l218">      <a href="#46309" title="scala.collection.mutable.Builder[B,That]">b</a>.<span title="()That">result</span><span class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l219"></a><span id="l219">    <span class="delimiter">}</span></span>
<a href="l220"></a><span id="l220"></span>
<a href="l221"></a><span id="l221">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[U &gt;: A](implicit evidence$1: ClassManifest[U])Array[U]" id="46371">toArray</a><span class="delimiter">[</span><a title="&gt;: A &lt;: Any" id="43167">U</a> &gt;: A : ClassManifest<span class="delimiter">]</span>: <span title="Array[U]">Array</span><span class="delimiter">[</span>U<span class="delimiter">]</span> =</span>
<a href="l222"></a><span id="l222">    <span title="Array[U]" class="keyword">if</span> <span class="delimiter">(</span><span title="[T](implicit e: T)T">implicitly</span><a href="#46371" title="(implicit e: ClassManifest[U])ClassManifest[U]" class="delimiter">[</a><span title="ClassManifest[U]">ClassManifest</span><span class="delimiter">[</span>U<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="=&gt; java.lang.Class[_]">erasure</span> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#43140" title="=&gt; Array[AnyRef]">base</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.Class[_]">getComponentType</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l223"></a><span id="l223">      <span title="Array[U]" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#43141" title="=&gt; Int">offset</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#43142" title="=&gt; Int">len</a> <span title="(x: Int)Boolean">==</span> <a href="#43140" title="=&gt; Array[AnyRef]">base</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l224"></a><span id="l224">	<a href="#43140" title="=&gt; Array[AnyRef]">base</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Array[U]" class="delimiter">[</span><span title="Array[U]">Array</span><span class="delimiter">[</span>U<span class="delimiter">]</span><span class="delimiter">]</span></span>
<a href="l225"></a><span id="l225">      <span class="keyword">else</span> <span class="delimiter">{</span></span>
<a href="l226"></a><span id="l226">	<span class="keyword">val</span> <a title="Array[U]" id="46398">ar</a> = <span title="object Array">Array</span>.<span title="[T](n1: Int)(implicit evidence$3: scala.reflect.ClassManifest[T])Array[T]">ofDim</span><span title="(n1: Int)(implicit evidence$3: scala.reflect.ClassManifest[U])Array[U]" class="delimiter">[</span><a href="#43167" title="U">U</a><span class="delimiter">]</span><a href="#46371" title="ClassManifest[U]" class="delimiter">(</a><a href="#43142" title="=&gt; Int">len</a><span class="delimiter">)</span></span>
<a href="l227"></a><span id="l227">	<span title="object Array">Array</span>.<span title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</span><span class="delimiter">(</span><a href="#43140" title="=&gt; Array[AnyRef]">base</a>, <a href="#43141" title="=&gt; Int">offset</a>, <a href="#46398" title="Array[U]">ar</a>, <span title="Int(0)" class="int">0</span>, <a href="#43142" title="=&gt; Int">len</a><span class="delimiter">)</span></span>
<a href="l228"></a><span id="l228">	<a href="#46398" title="Array[U]">ar</a>	</span>
<a href="l229"></a><span id="l229">      <span class="delimiter">}</span></span>
<a href="l230"></a><span id="l230">    <span class="delimiter">}</span> <span class="keyword">else</span> </span>
<a href="l231"></a><span id="l231">      <a href="#10366" title="scales.utils.ImmutableArrayT[A]" class="keyword">super</a>.<span title="[B &gt;: A](implicit evidence$1: ClassManifest[B])Array[B]">toArray</span><a href="#46371" title="(implicit evidence$1: ClassManifest[U])Array[U]" class="delimiter">[</a><a href="#43167" title="U">U</a><span class="delimiter">]</span></span>
<a href="l232"></a><span id="l232"></span>
<a href="l233"></a><span id="l233"></span>
<a href="l234"></a><span id="l234">  <span class="keyword">def</span> <a title="=&gt; scales.utils.ImmutableArrayT[A]" id="43168">ar</a> = <a href="#10366" title="scales.utils.ImmutableArrayT[A]" class="keyword">this</a></span>
<a href="l235"></a><span id="l235"><span class="delimiter">}</span></span>
<a href="l236"></a><span id="l236"></span>
<a href="l237"></a><span id="l237"><span class="comment">/**</span>
<a href="l238"></a><span id="l238"> * Don't add the offset and length, for building a dom this save 8 per elem, only matters for large docs (can save 4mb from 54mb), but can't hurt small ones.</span>
<a href="l239"></a><span id="l239"> */</span> </span>
<a href="l240"></a><span id="l240">case <span class="keyword">class</span> <a title="class ImmutableArrayAll[+A] extends java.lang.Object with scales.utils.ImmutableArrayT[A] with ScalaObject with Product with Serializable" id="57949">ImmutableArrayAll</a><span class="delimiter">[</span> +<a title="&gt;: Nothing &lt;: Any" id="45974">A</a> <span class="delimiter">]</span><a href="#57949" title="ScalaObject" class="delimiter">(</a> <a title="Array[AnyRef]" id="45988">base</a> : <span title="Array[AnyRef]">Array</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10366" title="scales.utils.ImmutableArrayT[A]">ImmutableArrayT</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span></span>
<a href="l241"></a><span id="l241">  @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Int" id="45979">offset</a> = <span title="Int(0)" class="int">0</span></span>
<a href="l242"></a><span id="l242">  @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Int" id="45980">len</a> = <a href="#45988" title="=&gt; Array[AnyRef]">base</a>.<span title="=&gt; Int">length</span></span>
<a href="l243"></a><span id="l243">  @inline <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Int" id="45981">length</a> = <a href="#45988" title="=&gt; Array[AnyRef]">base</a>.<span title="=&gt; Int">length</span></span>
<a href="l244"></a><span id="l244"><span class="delimiter">}</span></span>
<a href="l245"></a><span id="l245"></span>
<a href="l246"></a><span id="l246"><span class="comment">/**</span>
<a href="l247"></a><span id="l247"> * Object arrays are just faster, System.arraycopy doesn't trust you and will type check everything, we can let nsc do that job for us.</span>
<a href="l248"></a><span id="l248"> */</span> </span>
<a href="l249"></a><span id="l249">case <span class="keyword">class</span> <a title="[A](x$0: scales.utils.ImmutableArray[A])Option[(Array[AnyRef], Int, Int)]" id="46473">ImmutableArray</a><span class="delimiter">[</span> +<a title="&gt;: Nothing &lt;: Any" id="46455">A</a> <span class="delimiter">]</span><a href="#46473" title="ScalaObject" class="delimiter">(</a> <a title="Array[AnyRef]" id="46453">base</a> : <span title="Array[AnyRef]">Array</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span>, <a title="Int" id="46456">offset</a> : <span title="Int">Int</span>, <a title="Int" id="46459">len</a> : <span title="Int">Int</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10366" title="scales.utils.ImmutableArrayT[A]">ImmutableArrayT</a><span class="delimiter">[</span>A<span class="delimiter">]</span></span>
<a href="l250"></a><span id="l250"></span>
<a href="l251"></a><span id="l251"><span class="comment">/**</span>
<a href="l252"></a><span id="l252"> * Starts an ImmutableArrayProxy and provides the CanBuildFrom</span>
<a href="l253"></a><span id="l253"> */</span> </span>
<a href="l254"></a><span id="l254"><span class="keyword">object</span> <a title="object scales.utils.ImmutableArrayProxy" id="10374">ImmutableArrayProxy</a> <span title="ScalaObject" class="keyword">extends</span> <span title="scala.collection.generic.SeqFactory[scales.utils.ImmutableArrayProxy]">SeqFactory</span><span class="delimiter">[</span>ImmutableArrayProxy<span class="delimiter">]</span> <span class="delimiter">{</span></span>
<a href="l255"></a><span id="l255">  <span class="keyword">val</span> <a title="scales.utils.IAEmpty[Nothing]" id="46274">emptyImmutableArray</a> = <a href="#58044" title="[A]()scales.utils.IAEmpty[A]">IAEmpty</a><span title="()scales.utils.IAEmpty[Nothing]" class="delimiter">[</span><span title="Nothing">Nothing</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l256"></a><span id="l256">    <span class="comment">//new ImmutableArray[Nothing](Array[AnyRef](),0,0)</span></span>
<a href="l257"></a><span id="l257"></span>
<a href="l258"></a><span id="l258">  @inline <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="[A]=&gt; scales.utils.ImmutableArrayProxy[A]" id="46276">empty</a><span class="delimiter">[</span> <a title="&gt;: Nothing &lt;: Any" id="46278">A</a> <span class="delimiter">]</span> : <a href="#10380" title="scales.utils.ImmutableArrayProxy[A]">ImmutableArrayProxy</a><span class="delimiter">[</span>A<span class="delimiter">]</span>  = <a href="#46274" title="=&gt; scales.utils.IAEmpty[Nothing]">emptyImmutableArray</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scales.utils.ImmutableArrayProxy[A]" class="delimiter">[</span><a href="#10380" title="scales.utils.ImmutableArrayProxy[A]">ImmutableArrayProxy</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span></span>
<a href="l259"></a><span id="l259"></span>
<a href="l260"></a><span id="l260">  @inline <span class="keyword">def</span> <a title="[A]=&gt; scala.collection.mutable.Builder[A,scales.utils.ImmutableArrayProxy[A]]" id="46279">newBuilder</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="46281">A</a><span class="delimiter">]</span></span>
<a href="l261"></a><span id="l261">  : <span title="scala.collection.mutable.Builder[A,scales.utils.ImmutableArrayProxy[A]]">Builder</span><span class="delimiter">[</span>A, ImmutableArrayProxy<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> =</span>
<a href="l262"></a><span id="l262">    <a href="#56951" title="()scales.utils.ImmutableArrayProxyBuilder[A]">ImmutableArrayProxyBuilder</a><span class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l263"></a><span id="l263">  </span>
<a href="l264"></a><span id="l264">  @inline <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[T](implicit ma: ClassManifest[T])scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[_],T,scales.utils.ImmutableArrayProxy[T]]" id="46282">canBuildFrom</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="46284">T</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="ClassManifest[T]" id="46493">ma</a>: <span title="ClassManifest[T]">ClassManifest</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[_],T,scales.utils.ImmutableArrayProxy[T]]">CanBuildFrom</span><span class="delimiter">[</span>ImmutableArrayProxy<span class="delimiter">[</span>_<span class="delimiter">]</span>, T, ImmutableArrayProxy<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#46500" title="java.lang.Object with scales.utils.ImmutableArrayProxy.ImmutableArrayProxyCBF[T]{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scales.utils.ImmutableArrayProxy.ImmutableArrayProxyCBF[T]" id="46500">ImmutableArrayProxyCBF</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">{</span> <span class="keyword">val</span> <a title="ClassManifest[T]" id="46504">m</a> = <a href="#46493" title="ClassManifest[T]">ma</a> <span class="delimiter">}</span></span>
<a href="l265"></a><span id="l265"></span>
<a href="l266"></a><span id="l266">  <span class="keyword">trait</span> <a title="trait ImmutableArrayProxyCBF[T] extends java.lang.Object with scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[_],T,scales.utils.ImmutableArrayProxy[T]] with ScalaObject" id="46285">ImmutableArrayProxyCBF</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="46286">T</a><span class="delimiter">]</span> <span title="ScalaObject" class="keyword">extends</span> <span title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[_],T,scales.utils.ImmutableArrayProxy[T]]">CanBuildFrom</span><span class="delimiter">[</span>ImmutableArrayProxy<span class="delimiter">[</span>_<span class="delimiter">]</span>, T, ImmutableArrayProxy<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span></span>
<a href="l267"></a><span id="l267">    </span>
<a href="l268"></a><span id="l268">    <span class="keyword">val</span> <a title="=&gt; ClassManifest[T]" id="46292">m</a> : <span title="ClassManifest[T]">ClassManifest</span><span class="delimiter">[</span>T<span class="delimiter">]</span></span>
<a href="l269"></a><span id="l269"></span>
<a href="l270"></a><span id="l270">    <span class="keyword">def</span> <a title="(from: scales.utils.ImmutableArrayProxy[_])scala.collection.mutable.Builder[T,scales.utils.ImmutableArrayProxy[T]]" id="46293">apply</a><span class="delimiter">(</span><a title="scales.utils.ImmutableArrayProxy[_]" id="46517">from</a>: <a href="#10380" title="scales.utils.ImmutableArrayProxy[_]">ImmutableArrayProxy</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.collection.mutable.Builder[T,scales.utils.ImmutableArrayProxy[T]]">Builder</span><span class="delimiter">[</span>T, ImmutableArrayProxy<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#46279" title="scala.collection.mutable.Builder[T,scales.utils.ImmutableArrayProxy[T]]">newBuilder</a></span>
<a href="l271"></a><span id="l271">    <span class="keyword">def</span> <a title="()scala.collection.mutable.Builder[T,scales.utils.ImmutableArrayProxy[T]]" id="46294">apply</a>: <span title="scala.collection.mutable.Builder[T,scales.utils.ImmutableArrayProxy[T]]">Builder</span><span class="delimiter">[</span>T, ImmutableArrayProxy<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#46279" title="scala.collection.mutable.Builder[T,scales.utils.ImmutableArrayProxy[T]]">newBuilder</a></span>
<a href="l272"></a><span id="l272">  <span class="delimiter">}</span></span>
<a href="l273"></a><span id="l273">    </span>
<a href="l274"></a><span id="l274"><span class="delimiter">}</span></span>
<a href="l275"></a><span id="l275"></span>
<a href="l276"></a><span id="l276"><span class="keyword">object</span> <a title="object scales.utils.ImmutableArrayProxyBuilder" id="46535">ImmutableArrayProxyBuilder</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l277"></a><span id="l277">  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(31)" id="45852">vectorAfter</a> = <span title="Int(31)" class="int">31</span></span>
<a href="l278"></a><span id="l278"><span class="delimiter">}</span></span>
<a href="l279"></a><span id="l279"></span>
<a href="l280"></a><span id="l280"><span class="comment">/**</span>
<a href="l281"></a><span id="l281"> * An attempt to be a little more efficient with ImmutableArray, should make up for update not working?</span>
<a href="l282"></a><span id="l282"> */</span></span>
<a href="l283"></a><span id="l283">case <span class="keyword">class</span> <a title="[A](x$0: scales.utils.ImmutableArrayProxyBuilder[A])Boolean" id="56951">ImmutableArrayProxyBuilder</a><span class="delimiter">[</span> <a title="&gt;: Nothing &lt;: Any" id="10379">A</a> <span class="delimiter">]</span><a href="#56951" title="ScalaObject" class="delimiter">(</a><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="scala.collection.mutable.Builder[A,scales.utils.ImmutableArrayProxy[A]]">Builder</span><span class="delimiter">[</span>A, ImmutableArrayProxy<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">{</span></span>
<a href="l284"></a><span id="l284">  <span class="keyword">import</span> <a href="#46535" title="object scales.utils.ImmutableArrayProxyBuilder">ImmutableArrayProxyBuilder</a>._</span>
<a href="l285"></a><span id="l285"></span>
<a href="l286"></a><span id="l286">  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scales.utils.ImmutableArrayBuilder[A]" id="45860">arrayBuilder</a> = <span title="scales.utils.ImmutableArrayBuilder[A]" class="keyword">new</span> <a href="#58049" title="scales.utils.ImmutableArrayBuilder[A]">ImmutableArrayBuilder</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l287"></a><span id="l287">  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[A,scala.collection.immutable.Vector[A]]" id="45862">vectorBuilder</a> = <span title="=&gt; collection.immutable.Vector.type">Vector</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Vector[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[A,scala.collection.immutable.Vector[A]]" class="delimiter">[</span><a href="#10379" title="A">A</a><span class="delimiter">]</span></span>
<a href="l288"></a><span id="l288">  </span>
<a href="l289"></a><span id="l289">  <span class="keyword">var</span> <a title="Boolean" id="45864">inVector</a> = <span title="Boolean(false)" class="keyword">false</span></span>
<a href="l290"></a><span id="l290">  <span class="keyword">var</span> <a title="Boolean" id="45867">haveChosen</a> = <span title="Boolean(false)" class="keyword">false</span></span>
<a href="l291"></a><span id="l291"></span>
<a href="l292"></a><span id="l292">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(size: Int)Unit" id="45869">sizeHint</a><span class="delimiter">(</span> <a title="Int" id="46670">size</a> : <span title="Int">Int</span> <span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l293"></a><span id="l293">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#46670" title="Int">size</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(31)">vectorAfter</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l294"></a><span id="l294">      <a href="#45864" title="(x$1: Boolean)Unit">inVector</a> = <span title="Boolean(true)" class="keyword">true</span></span>
<a href="l295"></a><span id="l295">      <a href="#45867" title="(x$1: Boolean)Unit">haveChosen</a> = <span title="Boolean(true)" class="keyword">true</span></span>
<a href="l296"></a><span id="l296">    <span class="delimiter">}</span></span>
<a href="l297"></a><span id="l297"></span>
<a href="l298"></a><span id="l298">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#45864" title="=&gt; Boolean">inVector</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l299"></a><span id="l299">      <a href="#45861" title="=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Vector[A]]">vectorBuilder</a>.<span title="(size: Int)Unit">sizeHint</span><span class="delimiter">(</span><a href="#46670" title="Int">size</a><span class="delimiter">)</span></span>
<a href="l300"></a><span id="l300">    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span></span>
<a href="l301"></a><span id="l301">      <a href="#45859" title="=&gt; scales.utils.ImmutableArrayBuilder[A]">arrayBuilder</a>.<a href="#43480" title="(size: Int)Unit">sizeHint</a><span class="delimiter">(</span><a href="#46670" title="Int">size</a><span class="delimiter">)</span></span>
<a href="l302"></a><span id="l302">    <span class="delimiter">}</span></span>
<a href="l303"></a><span id="l303">  <span class="delimiter">}</span></span>
<a href="l304"></a><span id="l304"></span>
<a href="l305"></a><span id="l305">  <span class="comment">// for the case when we were under 32 but are now over</span></span>
<a href="l306"></a><span id="l306">  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="45870">checkVB</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l307"></a><span id="l307">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#45864" title="=&gt; Boolean">inVector</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l308"></a><span id="l308">      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#45859" title="=&gt; scales.utils.ImmutableArrayBuilder[A]">arrayBuilder</a>.<a href="#43477" title="=&gt; Int">len</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(31)">vectorAfter</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l309"></a><span id="l309">	<a href="#45871" title="()Unit">moveToVector</a></span>
<a href="l310"></a><span id="l310">      <span class="delimiter">}</span></span>
<a href="l311"></a><span id="l311">    <span class="delimiter">}</span></span>
<a href="l312"></a><span id="l312">  <span class="delimiter">}</span></span>
<a href="l313"></a><span id="l313"></span>
<a href="l314"></a><span id="l314">  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="45871">moveToVector</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l315"></a><span id="l315">    <span class="comment">// copy over</span></span>
<a href="l316"></a><span id="l316">    <span class="keyword">val</span> <a title="scales.utils.ImmutableArray[A]" id="46699">r</a> = <a href="#45859" title="=&gt; scales.utils.ImmutableArrayBuilder[A]">arrayBuilder</a>.<a href="#43481" title="()scales.utils.ImmutableArray[A]">result</a></span>
<a href="l317"></a><span id="l317">    <a href="#45861" title="=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Vector[A]]">vectorBuilder</a>.<span title="(size: Int)Unit">sizeHint</span><span class="delimiter">(</span><a href="#46699" title="scales.utils.ImmutableArray[A]">r</a>.<a href="#46459" title="=&gt; Int">len</a><span class="delimiter">)</span></span>
<a href="l318"></a><span id="l318">    <a href="#45861" title="=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Vector[A]]">vectorBuilder</a>.<span title="(xs: scala.collection.TraversableOnce[A])ImmutableArrayProxyBuilder.this.vectorBuilder.type">++=</span><span class="delimiter">(</span><a href="#46699" title="scales.utils.ImmutableArray[A]">r</a><span class="delimiter">)</span></span>
<a href="l319"></a><span id="l319">    <a href="#45859" title="=&gt; scales.utils.ImmutableArrayBuilder[A]">arrayBuilder</a>.<a href="#43484" title="()Unit">clear</a></span>
<a href="l320"></a><span id="l320">    <a href="#45864" title="(x$1: Boolean)Unit">inVector</a> = <span title="Boolean(true)" class="keyword">true</span></span>
<a href="l321"></a><span id="l321">    <a href="#45867" title="(x$1: Boolean)Unit">haveChosen</a> = <span title="Boolean(true)" class="keyword">true</span></span>
<a href="l322"></a><span id="l322">  <span class="delimiter">}</span></span>
<a href="l323"></a><span id="l323"></span>
<a href="l324"></a><span id="l324">  <span class="keyword">def</span> <a title="()scales.utils.ImmutableArrayProxy[A]" id="45872">result</a> : <a href="#10380" title="scales.utils.ImmutableArrayProxy[A]">ImmutableArrayProxy</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =</span>
<a href="l325"></a><span id="l325">    <span title="scales.utils.ImmutableArrayProxy[A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#45864" title="=&gt; Boolean">inVector</a><span class="delimiter">)</span> <a href="#57927" title="(ar: Vector[A])scales.utils.VectorImpl[A]">VectorImpl</a><span class="delimiter">(</span><a href="#45861" title="=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Vector[A]]">vectorBuilder</a>.<span title="()scala.collection.immutable.Vector[A]">result</span><span class="delimiter">)</span></span>
<a href="l326"></a><span id="l326">    <span class="keyword">else</span> <span class="delimiter">{</span> <span class="comment">// do it here as this is the correct type</span></span>
<a href="l327"></a><span id="l327">      <span class="keyword">import</span> <a href="#45859" title="=&gt; scales.utils.ImmutableArrayBuilder[A]">arrayBuilder</a>.<span class="delimiter">{</span>buf, len<span class="delimiter">}</span></span>
<a href="l328"></a><span id="l328">      <span class="keyword">import</span> scala.annotation.switch	</span>
<a href="l329"></a><span id="l329"></span>
<a href="l330"></a><span id="l330">      <span class="delimiter">(</span><a href="#43477" title="=&gt; Int">len</a> : @<span title="Int @scala.annotation.switch">switch</span><span class="delimiter">)</span> <span title="scales.utils.ImmutableArrayProxy[A]" class="keyword">match</span> <span class="delimiter">{</span></span>
<a href="l331"></a><span id="l331">	<span class="keyword">case</span> <span title="scales.utils.ImmutableArrayProxy[A]" class="int">0</span> =&gt;</span>
<a href="l332"></a><span id="l332">	  <a href="#10374" title="object scales.utils.ImmutableArrayProxy">ImmutableArrayProxy</a>.<a href="#46274" title="=&gt; scales.utils.IAEmpty[Nothing]">emptyImmutableArray</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scales.utils.ImmutableArrayProxy[A]" class="delimiter">[</span><a href="#10380" title="scales.utils.ImmutableArrayProxy[A]">ImmutableArrayProxy</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span></span>
<a href="l333"></a><span id="l333">	<span class="keyword">case</span> <span title="scales.utils.IAOne[A]" class="int">1</span> =&gt; <span class="comment">//TODO this is way too much like optimisation strategy..</span></span>
<a href="l334"></a><span id="l334">	  <a href="#58036" title="(one: A)scales.utils.IAOne[A]">IAOne</a><span class="delimiter">(</span><a href="#43474" title="(i: Int)AnyRef">buf</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="A" class="delimiter">[</span><a href="#10379" title="A">A</a><span class="delimiter">]</span><span class="delimiter">)</span></span>
<a href="l335"></a><span id="l335">	<span class="keyword">case</span> <span title="scales.utils.IATwo[A]" class="int">2</span> =&gt;</span>
<a href="l336"></a><span id="l336">	  <a href="#58013" title="(one: A, two: A)scales.utils.IATwo[A]">IATwo</a><span class="delimiter">(</span><a href="#43474" title="(i: Int)AnyRef">buf</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="A" class="delimiter">[</span><a href="#10379" title="A">A</a><span class="delimiter">]</span>, <a href="#43474" title="(i: Int)AnyRef">buf</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="A" class="delimiter">[</span><a href="#10379" title="A">A</a><span class="delimiter">]</span><span class="delimiter">)</span></span>
<a href="l337"></a><span id="l337">	<span class="keyword">case</span> <span title="scales.utils.IAThree[A]" class="int">3</span> =&gt;</span>
<a href="l338"></a><span id="l338">	  <a href="#57983" title="(one: A, two: A, three: A)scales.utils.IAThree[A]">IAThree</a><span class="delimiter">(</span><a href="#43474" title="(i: Int)AnyRef">buf</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="A" class="delimiter">[</span><a href="#10379" title="A">A</a><span class="delimiter">]</span>, <a href="#43474" title="(i: Int)AnyRef">buf</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="A" class="delimiter">[</span><a href="#10379" title="A">A</a><span class="delimiter">]</span>, <a href="#43474" title="(i: Int)AnyRef">buf</a><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="A" class="delimiter">[</span><a href="#10379" title="A">A</a><span class="delimiter">]</span><span class="delimiter">)</span></span>
<a href="l339"></a><span id="l339">	<span class="keyword">case</span> <span title="scales.utils.ImmutableArrayProxy[A]">_</span> =&gt; </span>
<a href="l340"></a><span id="l340">	  <span title="scales.utils.ImmutableArrayProxy[A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#43477" title="=&gt; Int">len</a> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#43477" title="=&gt; Int">len</a> <span title="(x: Int)Boolean">==</span> <a href="#43474" title="=&gt; Array[AnyRef]">buf</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span></span>
<a href="l341"></a><span id="l341">	    <a href="#57949" title="[A](base: Array[AnyRef])scales.utils.ImmutableArrayAll[A]">ImmutableArrayAll</a><span title="(base: Array[AnyRef])scales.utils.ImmutableArrayAll[A]" class="delimiter">[</span><a href="#10379" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#43474" title="=&gt; Array[AnyRef]">buf</a><span class="delimiter">)</span></span>
<a href="l342"></a><span id="l342">	  <span class="keyword">else</span></span>
<a href="l343"></a><span id="l343">	    <a href="#45859" title="=&gt; scales.utils.ImmutableArrayBuilder[A]">arrayBuilder</a>.<a href="#43481" title="()scales.utils.ImmutableArray[A]">result</a></span>
<a href="l344"></a><span id="l344">      <span class="delimiter">}</span></span>
<a href="l345"></a><span id="l345">    <span class="delimiter">}</span></span>
<a href="l346"></a><span id="l346"></span>
<a href="l347"></a><span id="l347">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(xs: TraversableOnce[A])ImmutableArrayProxyBuilder.this.type" id="45873">++=</a><span class="delimiter">(</span><a title="TraversableOnce[A]" id="46965">xs</a>: <span title="TraversableOnce[A]">TraversableOnce</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span class="keyword">this</span>.<span class="keyword">type</span> = <span class="delimiter">{</span></span>
<a href="l348"></a><span id="l348">    <span class="comment">// if its already a vector don't start with arrays again</span></span>
<a href="l349"></a><span id="l349">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#45867" title="=&gt; Boolean">haveChosen</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#46965" title="TraversableOnce[A]">xs</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#57927" title="scales.utils.VectorImpl[A]">VectorImpl</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l350"></a><span id="l350">      <a href="#45864" title="(x$1: Boolean)Unit">inVector</a> = <span title="Boolean(true)" class="keyword">true</span></span>
<a href="l351"></a><span id="l351">      <a href="#45867" title="(x$1: Boolean)Unit">haveChosen</a> = <span title="Boolean(true)" class="keyword">true</span></span>
<a href="l352"></a><span id="l352">    <span class="delimiter">}</span></span>
<a href="l353"></a><span id="l353">    </span>
<a href="l354"></a><span id="l354">    <a href="#46965" title="TraversableOnce[A]">xs</a> <span title="scala.collection.mutable.Builder[A,IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable; def take(n: Int): IndexedSeq[A] with Serializable; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable; def tail: IndexedSeq[A] with Serializable}; def take(n: Int): IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable; def take(n: Int): IndexedSeq[A] with Serializable; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable; def tail: IndexedSeq[A] with Serializable}; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable; def take(n: Int): IndexedSeq[A] with Serializable; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable; def tail: IndexedSeq[A] with Serializable}; def tail: IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable; def take(n: Int): IndexedSeq[A] with Serializable; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable; def tail: IndexedSeq[A] with Serializable}}]" class="keyword">match</span> <span class="delimiter">{</span></span>
<a href="l355"></a><span id="l355">      <span class="keyword">case</span> <a title="scala.collection.mutable.Builder[A,IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable; def take(n: Int): IndexedSeq[A] with Serializable; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable; def tail: IndexedSeq[A] with Serializable}; def take(n: Int): IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable; def take(n: Int): IndexedSeq[A] with Serializable; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable; def tail: IndexedSeq[A] with Serializable}; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable; def take(n: Int): IndexedSeq[A] with Serializable; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable; def tail: IndexedSeq[A] with Serializable}; def tail: IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable; def take(n: Int): IndexedSeq[A] with Serializable; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable; def tail: IndexedSeq[A] with Serializable}}]" id="47004">p</a> : <a href="#10380" title="scales.utils.ImmutableArrayProxy[A]">ImmutableArrayProxy</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt; </span>
<a href="l356"></a><span id="l356">	<span title="scala.collection.mutable.Builder[A,IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable; def take(n: Int): IndexedSeq[A] with Serializable; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable; def tail: IndexedSeq[A] with Serializable}; def take(n: Int): IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable; def take(n: Int): IndexedSeq[A] with Serializable; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable; def tail: IndexedSeq[A] with Serializable}; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable; def take(n: Int): IndexedSeq[A] with Serializable; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable; def tail: IndexedSeq[A] with Serializable}; def tail: IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable; def take(n: Int): IndexedSeq[A] with Serializable; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable; def tail: IndexedSeq[A] with Serializable}}]" class="keyword">if</span> <span class="delimiter">(</span><a href="#45864" title="=&gt; Boolean">inVector</a><span class="delimiter">)</span> </span>
<a href="l357"></a><span id="l357">	  <a href="#45861" title="=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Vector[A]]">vectorBuilder</a>.<span title="(xs: scala.collection.TraversableOnce[A])ImmutableArrayProxyBuilder.this.vectorBuilder.type">++=</span><span class="delimiter">(</span><a href="#47004" title="scales.utils.ImmutableArrayProxy[A]">p</a>.<a href="#43138" title="=&gt; TraversableOnce[A]">ar</a><span class="delimiter">)</span> </span>
<a href="l358"></a><span id="l358">	<span class="keyword">else</span></span>
<a href="l359"></a><span id="l359">	  <a href="#45859" title="=&gt; scales.utils.ImmutableArrayBuilder[A]">arrayBuilder</a>.<a href="#43482" title="(xs: TraversableOnce[A])ImmutableArrayProxyBuilder.this.arrayBuilder.type">++=</a><span class="delimiter">(</span><a href="#47004" title="scales.utils.ImmutableArrayProxy[A]">p</a>.<a href="#43138" title="=&gt; TraversableOnce[A]">ar</a><span class="delimiter">)</span></span>
<a href="l360"></a><span id="l360">      <span class="keyword">case</span> <span title="scala.collection.mutable.Builder[A,IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable; def take(n: Int): IndexedSeq[A] with Serializable; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable; def tail: IndexedSeq[A] with Serializable}; def take(n: Int): IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable; def take(n: Int): IndexedSeq[A] with Serializable; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable; def tail: IndexedSeq[A] with Serializable}; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable; def take(n: Int): IndexedSeq[A] with Serializable; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable; def tail: IndexedSeq[A] with Serializable}; def tail: IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable; def take(n: Int): IndexedSeq[A] with Serializable; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable; def tail: IndexedSeq[A] with Serializable}}]">_</span> =&gt; </span>
<a href="l361"></a><span id="l361">	<span title="scala.collection.mutable.Builder[A,IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable; def take(n: Int): IndexedSeq[A] with Serializable; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable; def tail: IndexedSeq[A] with Serializable}; def take(n: Int): IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable; def take(n: Int): IndexedSeq[A] with Serializable; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable; def tail: IndexedSeq[A] with Serializable}; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable; def take(n: Int): IndexedSeq[A] with Serializable; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable; def tail: IndexedSeq[A] with Serializable}; def tail: IndexedSeq[A] with Serializable{def drop(n: Int): IndexedSeq[A] with Serializable; def take(n: Int): IndexedSeq[A] with Serializable; def slice(from: Int,until: Int): IndexedSeq[A] with Serializable; def tail: IndexedSeq[A] with Serializable}}]" class="keyword">if</span> <span class="delimiter">(</span><a href="#45864" title="=&gt; Boolean">inVector</a><span class="delimiter">)</span></span>
<a href="l362"></a><span id="l362">	  <a href="#45861" title="=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Vector[A]]">vectorBuilder</a>.<span title="(xs: scala.collection.TraversableOnce[A])ImmutableArrayProxyBuilder.this.vectorBuilder.type">++=</span><span class="delimiter">(</span><a href="#46965" title="TraversableOnce[A]">xs</a><span class="delimiter">)</span></span>
<a href="l363"></a><span id="l363">	<span class="keyword">else</span></span>
<a href="l364"></a><span id="l364">	  <a href="#45859" title="=&gt; scales.utils.ImmutableArrayBuilder[A]">arrayBuilder</a>.<a href="#43482" title="(xs: TraversableOnce[A])ImmutableArrayProxyBuilder.this.arrayBuilder.type">++=</a><span class="delimiter">(</span><a href="#46965" title="TraversableOnce[A]">xs</a><span class="delimiter">)</span></span>
<a href="l365"></a><span id="l365">    <span class="delimiter">}</span>      </span>
<a href="l366"></a><span id="l366"></span>
<a href="l367"></a><span id="l367">    <a href="#45870" title="()Unit">checkVB</a></span>
<a href="l368"></a><span id="l368">    <a href="#56951" title="ImmutableArrayProxyBuilder.this.type" class="keyword">this</a></span>
<a href="l369"></a><span id="l369">  <span class="delimiter">}</span></span>
<a href="l370"></a><span id="l370"></span>
<a href="l371"></a><span id="l371">  <span class="keyword">def</span> <a title="(elem: A)ImmutableArrayProxyBuilder.this.type" id="45874">+=</a><span class="delimiter">(</span> <a title="A" id="56913">elem</a> : <a href="#10379" title="A">A</a><span class="delimiter">)</span> : <span class="keyword">this</span>.<span class="keyword">type</span> =</span>
<a href="l372"></a><span id="l372">    <span title="ImmutableArrayProxyBuilder.this.type" class="keyword">if</span> <span class="delimiter">(</span><a href="#45864" title="=&gt; Boolean">inVector</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l373"></a><span id="l373">      <a href="#45861" title="=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Vector[A]]">vectorBuilder</a>.<span title="(elem: A)ImmutableArrayProxyBuilder.this.vectorBuilder.type">+=</span><span class="delimiter">(</span><a href="#56913" title="A">elem</a><span class="delimiter">)</span></span>
<a href="l374"></a><span id="l374">      <a href="#56951" title="ImmutableArrayProxyBuilder.this.type" class="keyword">this</a></span>
<a href="l375"></a><span id="l375">    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span></span>
<a href="l376"></a><span id="l376">      <a href="#45859" title="=&gt; scales.utils.ImmutableArrayBuilder[A]">arrayBuilder</a>.<a href="#43483" title="(elem: A)ImmutableArrayProxyBuilder.this.arrayBuilder.type">+=</a><span class="delimiter">(</span><a href="#56913" title="A">elem</a><span class="delimiter">)</span></span>
<a href="l377"></a><span id="l377">      <a href="#45870" title="()Unit">checkVB</a></span>
<a href="l378"></a><span id="l378">      <a href="#56951" title="ImmutableArrayProxyBuilder.this.type" class="keyword">this</a></span>
<a href="l379"></a><span id="l379">    <span class="delimiter">}</span></span>
<a href="l380"></a><span id="l380"></span>
<a href="l381"></a><span id="l381">  <span class="keyword">def</span> <a title="()Unit" id="45875">clear</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l382"></a><span id="l382">    <a href="#45861" title="=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Vector[A]]">vectorBuilder</a>.<span title="()Unit">clear</span></span>
<a href="l383"></a><span id="l383">    <a href="#45859" title="=&gt; scales.utils.ImmutableArrayBuilder[A]">arrayBuilder</a>.<a href="#43484" title="()Unit">clear</a></span>
<a href="l384"></a><span id="l384">    <a href="#45864" title="(x$1: Boolean)Unit">inVector</a> = <span title="Boolean(false)" class="keyword">false</span></span>
<a href="l385"></a><span id="l385">    <a href="#45867" title="(x$1: Boolean)Unit">haveChosen</a> = <span title="Boolean(false)" class="keyword">false</span></span>
<a href="l386"></a><span id="l386">  <span class="delimiter">}</span></span>
<a href="l387"></a><span id="l387"><span class="delimiter">}</span></span>
<a href="l388"></a><span id="l388"></span>
<a href="l389"></a><span id="l389"><span class="comment">/**</span>
<a href="l390"></a><span id="l390"> * Wraps behaviour of ImmutableArray like objects, when the array is greater than 31 it will be swapped to Vector.</span>
<a href="l391"></a><span id="l391"> *</span>
<a href="l392"></a><span id="l392"> */</span> </span>
<a href="l393"></a><span id="l393"><span class="keyword">trait</span> <a title="trait ImmutableArrayProxy[+A] extends java.lang.Object with IndexedSeq[A] with scala.collection.IndexedSeqOptimized[A,scales.utils.ImmutableArrayProxy[A]] with scala.collection.generic.GenericTraversableTemplate[A,scales.utils.ImmutableArrayProxy] with ScalaObject" id="10380">ImmutableArrayProxy</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="10381">A</a><span class="delimiter">]</span> <span title="ScalaObject" class="keyword">extends</span> <span title="IndexedSeq[A]">IndexedSeq</span><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="keyword">with</span> <span title="scala.collection.IndexedSeqOptimized[A,scales.utils.ImmutableArrayProxy[A]]">IndexedSeqOptimized</span><span class="delimiter">[</span>A, ImmutableArrayProxy<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="keyword">with</span> <span title="scala.collection.generic.GenericTraversableTemplate[A,scales.utils.ImmutableArrayProxy]">GenericTraversableTemplate</span><span class="delimiter">[</span>A, ImmutableArrayProxy<span class="delimiter">]</span> <span class="delimiter">{</span></span>
<a href="l394"></a><span id="l394"></span>
<a href="l395"></a><span id="l395">  @inline <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.generic.GenericCompanion[scales.utils.ImmutableArrayProxy]" id="43136">companion</a>: <span title="scala.collection.generic.GenericCompanion[scales.utils.ImmutableArrayProxy]">GenericCompanion</span><span class="delimiter">[</span>ImmutableArrayProxy<span class="delimiter">]</span> = <a href="#10374" title="object scales.utils.ImmutableArrayProxy">ImmutableArrayProxy</a></span>
<a href="l396"></a><span id="l396"></span>
<a href="l397"></a><span id="l397">  <span class="keyword">override</span> <span class="keyword">protected</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.mutable.Builder[A,scales.utils.ImmutableArrayProxy[A]]" id="43137">newBuilder</a>: <span title="scala.collection.mutable.Builder[A,scales.utils.ImmutableArrayProxy[A]]">Builder</span><span class="delimiter">[</span>A, ImmutableArrayProxy<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#10374" title="object scales.utils.ImmutableArrayProxy">ImmutableArrayProxy</a>.<a href="#46279" title="[A]=&gt; scala.collection.mutable.Builder[A,scales.utils.ImmutableArrayProxy[A]]">newBuilder</a><span title="scala.collection.mutable.Builder[A,scales.utils.ImmutableArrayProxy[A]]" class="delimiter">[</span><a href="#10381" title="A">A</a><span class="delimiter">]</span></span>
<a href="l398"></a><span id="l398"></span>
<a href="l399"></a><span id="l399">  <span class="keyword">def</span> <a title="=&gt; TraversableOnce[A]" id="43138">ar</a> : <span title="TraversableOnce[A]">TraversableOnce</span><span class="delimiter">[</span>A<span class="delimiter">]</span></span>
<a href="l400"></a><span id="l400"> </span>
<a href="l401"></a><span id="l401"><span class="delimiter">}</span></span>
<a href="l402"></a><span id="l402"></span>
<a href="l403"></a><span id="l403"><span class="comment">/**</span>
<a href="l404"></a><span id="l404"> * Proxy Vector.  When its in Vector it stays in Vector. </span>
<a href="l405"></a><span id="l405"> */</span> </span>
<a href="l406"></a><span id="l406">case <span class="keyword">class</span> <a title="class VectorImpl[+A] extends java.lang.Object with scales.utils.ImmutableArrayProxy[A] with ScalaObject with Product with Serializable" id="57927">VectorImpl</a><span class="delimiter">[</span> +<a title="&gt;: Nothing &lt;: Any" id="46715">A</a> <span class="delimiter">]</span><a href="#57927" title="ScalaObject" class="delimiter">(</a><a title="Vector[A]" id="46750">ar</a> : <span title="Vector[A]">Vector</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10380" title="scales.utils.ImmutableArrayProxy[A]">ImmutableArrayProxy</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span></span>
<a href="l407"></a><span id="l407"></span>
<a href="l408"></a><span id="l408">  <span class="keyword">def</span> <a title="(idx: Int)A" id="46720">apply</a><span class="delimiter">(</span><a title="Int" id="56966">idx</a> : <span title="Int">Int</span> <span class="delimiter">)</span> = <a href="#46750" title="=&gt; Vector[A]">ar</a>.<span title="(index: Int)A">apply</span><span class="delimiter">(</span><a href="#56966" title="Int">idx</a><span class="delimiter">)</span></span>
<a href="l409"></a><span id="l409"> </span>
<a href="l410"></a><span id="l410">  <span class="keyword">def</span> <a title="=&gt; Int" id="46721">length</a> = <a href="#46750" title="=&gt; Vector[A]">ar</a>.<span title="=&gt; Int">length</span></span>
<a href="l411"></a><span id="l411">  </span>
<a href="l412"></a><span id="l412">  @inline <span class="keyword">override</span> <span class="keyword">def</span> <a title="[B &gt;: A, That](elem: B)(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That])That" id="46722">+:</a><span class="delimiter">[</span><a title="&gt;: A &lt;: Any" id="46725">B</a> &gt;: A, <a title="&gt;: Nothing &lt;: Any" id="46726">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="B" id="56982">elem</a>: <a href="#46725" title="B">B</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]" id="56983">bf</a>: <span title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]">CanBuildFrom</span><span class="delimiter">[</span>ImmutableArrayProxy<span class="delimiter">[</span>A<span class="delimiter">]</span>, B, That<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#46726" title="That">That</a> = <a href="#57927" title="(ar: Vector[B])scales.utils.VectorImpl[B]">VectorImpl</a><span class="delimiter">(</span><a href="#46750" title="=&gt; Vector[A]">ar</a>.<span title="(elem: B)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Vector[A],B,scala.collection.immutable.Vector[B]])scala.collection.immutable.Vector[B]">+:</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Vector.Coll,B,scala.collection.immutable.Vector[B]]" class="delimiter">(</span><a href="#56982" title="B">elem</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="That" class="delimiter">[</span><a href="#46726" title="That">That</a><span class="delimiter">]</span></span>
<a href="l413"></a><span id="l413">  </span>
<a href="l414"></a><span id="l414">  @inline <span class="keyword">override</span> <span class="keyword">def</span> <a title="[B &gt;: A, That](elem: B)(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That])That" id="46727">:+</a><span class="delimiter">[</span><a title="&gt;: A &lt;: Any" id="46730">B</a> &gt;: A, <a title="&gt;: Nothing &lt;: Any" id="46731">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="B" id="57561">elem</a>: <a href="#46730" title="B">B</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]" id="57562">bf</a>: <span title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]">CanBuildFrom</span><span class="delimiter">[</span>ImmutableArrayProxy<span class="delimiter">[</span>A<span class="delimiter">]</span>, B, That<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#46731" title="That">That</a> = <a href="#57927" title="(ar: Vector[B])scales.utils.VectorImpl[B]">VectorImpl</a><span class="delimiter">(</span><a href="#46750" title="=&gt; Vector[A]">ar</a>.<span title="(elem: B)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Vector[A],B,scala.collection.immutable.Vector[B]])scala.collection.immutable.Vector[B]">:+</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Vector.Coll,B,scala.collection.immutable.Vector[B]]" class="delimiter">(</span><a href="#57561" title="B">elem</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="That" class="delimiter">[</span><a href="#46731" title="That">That</a><span class="delimiter">]</span></span>
<a href="l415"></a><span id="l415"></span>
<a href="l416"></a><span id="l416">  @inline <span class="keyword">override</span> <span class="keyword">def</span> <a title="(n: Int)scales.utils.VectorImpl[A]" id="46732">take</a><span class="delimiter">(</span> <a title="Int" id="57664">n</a> : <span title="Int">Int</span> <span class="delimiter">)</span> = <a href="#57927" title="(ar: Vector[A])scales.utils.VectorImpl[A]">VectorImpl</a><span class="delimiter">(</span><a href="#46750" title="=&gt; Vector[A]">ar</a>.<span title="(n: Int)scala.collection.immutable.Vector[A]">take</span><span class="delimiter">(</span><a href="#57664" title="Int">n</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l417"></a><span id="l417"></span>
<a href="l418"></a><span id="l418">  @inline <span class="keyword">override</span> <span class="keyword">def</span> <a title="(n: Int)scales.utils.VectorImpl[A]" id="46733">drop</a><span class="delimiter">(</span> <a title="Int" id="57687">n</a> : <span title="Int">Int</span> <span class="delimiter">)</span> = <a href="#57927" title="(ar: Vector[A])scales.utils.VectorImpl[A]">VectorImpl</a><span class="delimiter">(</span><a href="#46750" title="=&gt; Vector[A]">ar</a>.<span title="(n: Int)scala.collection.immutable.Vector[A]">drop</span><span class="delimiter">(</span><a href="#57687" title="Int">n</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l419"></a><span id="l419"></span>
<a href="l420"></a><span id="l420">  @inline <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scales.utils.VectorImpl[A]" id="46734">tail</a> = <a href="#57927" title="(ar: Vector[A])scales.utils.VectorImpl[A]">VectorImpl</a><span class="delimiter">(</span><a href="#46750" title="=&gt; Vector[A]">ar</a>.<span title="=&gt; scala.collection.immutable.Vector[A]">tail</span><span class="delimiter">)</span></span>
<a href="l421"></a><span id="l421"></span>
<a href="l422"></a><span id="l422">  @inline <span class="keyword">override</span> <span class="keyword">def</span> <a title="(from: Int, until: Int)scales.utils.VectorImpl[A]" id="46735">slice</a><span class="delimiter">(</span><a title="Int" id="57721">from</a>: <span title="Int">Int</span>, <a title="Int" id="57722">until</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <a href="#57927" title="(ar: Vector[A])scales.utils.VectorImpl[A]">VectorImpl</a><span class="delimiter">(</span><a href="#46750" title="=&gt; Vector[A]">ar</a>.<span title="(from: Int, until: Int)scala.collection.immutable.Vector[A]">slice</span><span class="delimiter">(</span><a href="#57721" title="Int">from</a>, <a href="#57722" title="Int">until</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l423"></a><span id="l423"></span>
<a href="l424"></a><span id="l424">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[B &gt;: A, That](index: Int, elem: B)(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That])That" id="46736">updated</a><span class="delimiter">[</span><a title="&gt;: A &lt;: Any" id="46739">B</a> &gt;: A, <a title="&gt;: Nothing &lt;: Any" id="46740">That</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Int" id="57739">index</a>: <span title="Int">Int</span>, <a title="B" id="57740">elem</a>: <a href="#46739" title="B">B</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]" id="57741">bf</a>: <span title="scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[A],B,That]">CanBuildFrom</span><span class="delimiter">[</span>ImmutableArrayProxy<span class="delimiter">[</span>A<span class="delimiter">]</span>, B, That<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#46740" title="That">That</a> = <a href="#57927" title="(ar: Vector[B])scales.utils.VectorImpl[B]">VectorImpl</a><span class="delimiter">(</span><a href="#46750" title="=&gt; Vector[A]">ar</a>.<span title="(index: Int, elem: B)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Vector[A],B,scala.collection.immutable.Vector[B]])scala.collection.immutable.Vector[B]">updated</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Vector.Coll,B,scala.collection.immutable.Vector[B]]" class="delimiter">(</span><a href="#57739" title="Int">index</a>, <a href="#57740" title="B">elem</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="That" class="delimiter">[</span><a href="#46740" title="That">That</a><span class="delimiter">]</span></span>
<a href="l425"></a><span id="l425"></span>
<a href="l426"></a><span id="l426">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[U &gt;: A](implicit evidence$2: ClassManifest[U])Array[U]" id="57855">toArray</a><span class="delimiter">[</span><a title="&gt;: A &lt;: Any" id="46743">U</a> &gt;: A : ClassManifest<span class="delimiter">]</span>: <span title="Array[U]">Array</span><span class="delimiter">[</span>U<span class="delimiter">]</span> = <a href="#46750" title="=&gt; Vector[A]">ar</a>.<a href="#57855" title="(implicit evidence$1: ClassManifest[U])Array[U]">toArray</a></span>
<a href="l427"></a><span id="l427"></span>
<a href="l428"></a><span id="l428"><span class="delimiter">}</span></span>
<a href="l429"></a><span id="l429"></span>
<a href="l430"></a><span id="l430"></span>
<a href="l431"></a><span id="l431">        </span>
</pre>
    </body>
</html>