<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\xml\XmlTypes.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    
<style id="linesStyle">
.lineHighlight {
  background-color: #a5a5a5;
}
</style>
<script type="text/javascript">
function selectedLine() {
    var loca = /^.*#l(.*)/.exec(location.href);
    return loca ? loca[1] : '0';
}

function highlightLine(ln){
  $('#l'+ln).toggleClass('lineHighlight');
}

function gotoLine(ln){
  $('#l'+ln).focus();
}

$(function(){
  var line = selectedLine();
  if (line != '0') highlightLine(line)
});
</script></head>
    <body>
        <pre>
<!-- SXR_LINES --><a href="l1"></a><span id="l1"><span class="keyword">package</span> scales.xml</span>
<a href="l2"></a><span id="l2"></span>
<a href="l3"></a><span id="l3"><span class="keyword">import</span> scala.collection.immutable.Map</span>
<a href="l4"></a><span id="l4"></span>
<a href="l5"></a><span id="l5"><span class="keyword">import</span> scala.collection.generic.CanBuildFrom</span>
<a href="l6"></a><span id="l6"></span>
<a href="l7"></a><span id="l7"><span class="keyword">import</span> scalaz._</span>
<a href="l8"></a><span id="l8"><span class="keyword">import</span> <span title="object scalaz.Scalaz">Scalaz</span>._</span>
<a href="l9"></a><span id="l9"></span>
<a href="l10"></a><span id="l10"><span class="keyword">import</span> scales.utils.<span class="delimiter">{</span>ListSet, MapSet, Key, ImmutableArray, EitherLike, LeftLike, Tree<span class="delimiter">}</span></span>
<a href="l11"></a><span id="l11"></span>
<a href="l12"></a><span id="l12"><span class="keyword">import</span> java.nio.charset.Charset</span>
<a href="l13"></a><span id="l13"></span>
<a href="l14"></a><span id="l14"><span class="comment">//import scales.collection.immutable.Vector</span></span>
<a href="l15"></a><span id="l15"></span>
<a href="l16"></a><span id="l16"><span class="keyword">trait</span> <a title="trait XmlTypesImplicits extends java.lang.Object with ScalaObject" id="11979">XmlTypesImplicits</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l17"></a><span id="l17"><span class="comment">//  implicit def toAttrQNameN(nons: NoNamespaceQName): AttributeQName = Right(nons)</span></span>
<a href="l18"></a><span id="l18"></span>
<a href="l19"></a><span id="l19"><span class="comment">//  implicit def toAttrQNameP(prens: PrefixedQName): AttributeQName = Left(prens)</span></span>
<a href="l20"></a><span id="l20"></span>
<a href="l21"></a><span id="l21">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlTypesImplicits.toAttrQNameN : (nons: scales.xml.NoNamespaceQName)scales.xml.package.AttributeQName" id="87796">toAttrQNameN</a><span class="delimiter">(</span><a title="scales.xml.NoNamespaceQName" id="89397">nons</a>: <a href="QName.scala.html#11799" title="scales.xml.NoNamespaceQName">NoNamespaceQName</a><span class="delimiter">)</span>: <a href="../utils/EitherLike.scala.html#10328" title="scales.xml.package.AttributeQName">AttributeQName</a> = <a href="#89397" title="scales.xml.NoNamespaceQName">nons</a></span>
<a href="l22"></a><span id="l22"></span>
<a href="l23"></a><span id="l23">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlTypesImplicits.toAttrQNameP : (prens: scales.xml.PrefixedQName)scales.xml.package.AttributeQName" id="87797">toAttrQNameP</a><span class="delimiter">(</span><a title="scales.xml.PrefixedQName" id="89399">prens</a>: <a href="QName.scala.html#11802" title="scales.xml.PrefixedQName">PrefixedQName</a><span class="delimiter">)</span>: <a href="../utils/EitherLike.scala.html#10328" title="scales.xml.package.AttributeQName">AttributeQName</a> = <a href="#89399" title="scales.xml.PrefixedQName">prens</a></span>
<a href="l24"></a><span id="l24"></span>
<a href="l25"></a><span id="l25"><span class="comment">//  implicit def toAttrQNameS(local: String)(implicit ver: XmlVersion): AttributeQName = toAttrQNameN(NoNamespaceQName(local))</span></span>
<a href="l26"></a><span id="l26"></span>
<a href="l27"></a><span id="l27"><span class="comment">//  implicit def toAttrQNameS(local: String)(implicit ver: XmlVersion, fromParser : FromParser): AttributeQName = NoNamespaceQName(local)(ver, fromParser)</span></span>
<a href="l28"></a><span id="l28"></span>
<a href="l29"></a><span id="l29">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlTypesImplicits.toAttr : (pair: (String, String))(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)scales.xml.Attribute" id="87798">toAttr</a><span class="delimiter">(</span><a title="(String, String)" id="89401">pair</a>: <span title="(String, String)" class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.XmlVersion" id="89402">ver</a>: <a href="QName.scala.html#11780" title="scales.xml.XmlVersion">XmlVersion</a>, <a title="scales.xml.FromParser" id="89403">fromParser</a> : <a href="#11984" title="scales.xml.FromParser">FromParser</a><span class="delimiter">)</span> = <a href="#116555" title="(name: scales.xml.package.AttributeQName, value: String)scales.xml.Attribute">Attribute</a><span class="delimiter">(</span><a href="QName.scala.html#87953" title="(locali: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.NoNamespaceQName">NoNamespaceQName</a><span class="delimiter">(</span><a href="#89401" title="(String, String)">pair</a>.<span title="=&gt; String">_1</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#89402" title="scales.xml.XmlVersion">ver</a>, <a href="#89403" title="scales.xml.FromParser">fromParser</a><span class="delimiter">)</span>, <a href="#89401" title="(String, String)">pair</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span></span>
<a href="l30"></a><span id="l30"></span>
<a href="l31"></a><span id="l31"><span class="comment">//  implicit def toAttrQNamePairN[T](pair: (NoNamespaceQName, T)) = (toAttrQNameN(pair._1), pair._2)</span></span>
<a href="l32"></a><span id="l32"></span>
<a href="l33"></a><span id="l33"><span class="comment">//  implicit def toAttrQNamePairP[T](pair: (PrefixedQName, T)) = (toAttrQNameP(pair._1), pair._2)</span></span>
<a href="l34"></a><span id="l34"></span>
<a href="l35"></a><span id="l35">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.Equal[scales.xml.Attribute]" id="87799">aqnameEqual</a> = <span title="(f: (scales.xml.Attribute, scales.xml.Attribute) =&gt; Boolean)scalaz.Equal[scales.xml.Attribute]">equal</span> <span class="delimiter">{</span> <span class="delimiter">(</span>a: <a href="#116555" title="scales.xml.Attribute">Attribute</a>, b: <a href="#116555" title="scales.xml.Attribute">Attribute</a><span class="delimiter">)</span> =&gt; <a href="#89409" title="scales.xml.Attribute">a</a>.<a href="#87809" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a> <a href="QName.scala.html#87943" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#89410" title="scales.xml.Attribute">b</a>.<a href="#87809" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a> <span class="delimiter">}</span></span>
<a href="l36"></a><span id="l36">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.Equal[scales.xml.QName]" id="87801">qnameEqual</a> = <span title="(f: (scales.xml.QName, scales.xml.QName) =&gt; Boolean)scalaz.Equal[scales.xml.QName]">equal</span> <span class="delimiter">{</span> <span class="delimiter">(</span>a: <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a>, b: <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a><span class="delimiter">)</span> =&gt; <a href="#89636" title="scales.xml.QName">a</a> <a href="QName.scala.html#87943" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#89637" title="scales.xml.QName">b</a> <span class="delimiter">}</span></span>
<a href="l37"></a><span id="l37"><span class="comment">//  implicit val toQNameF = (a: Attribute) =&gt; { toQName(a.name) }</span></span>
<a href="l38"></a><span id="l38">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scales.xml.Attribute =&gt; scales.xml.QName" id="87803">toQNameF</a> = <span class="delimiter">(</span>a: <a href="#116555" title="scales.xml.Attribute">Attribute</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span> <a href="#89640" title="scales.xml.Attribute">a</a>.<a href="#87809" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a> : <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a> <span class="delimiter">}</span></span>
<a href="l39"></a><span id="l39">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scales.xml.Attribute =&gt; scales.xml.package.AttributeQName" id="87805">toAQNameF</a> = <span class="delimiter">(</span>a: <a href="#116555" title="scales.xml.Attribute">Attribute</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span> <a href="#89665" title="scales.xml.Attribute">a</a>.<a href="#87914" title="=&gt; scales.xml.package.AttributeQName">name</a> <span class="delimiter">}</span></span>
<a href="l40"></a><span id="l40">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scales.utils.Equiv[scales.xml.QName]" id="87807">qnameEquiv</a> = <a href="#87801" title="scales.utils.Equiv[scales.xml.QName]" class="keyword">new</a> scales.utils.<a href="../utils/ListSet.scala.html#10454" title="scales.utils.Equiv[scales.xml.QName]">Equiv</a><span class="delimiter">[</span>QName<span class="delimiter">]</span></span>
<a href="l41"></a><span id="l41"></span>
<a href="l42"></a><span id="l42">  <span class="comment">/**</span>
<a href="l43"></a><span id="l43">   * which ever it is, is still a qname</span>
<a href="l44"></a><span id="l44">   */</span></span>
<a href="l45"></a><span id="l45"><span class="comment">//  implicit def toQName(attribQName: AttributeQName): QName = attribQName.fold({ x =&gt; x }, { x =&gt; x })</span></span>
<a href="l46"></a><span id="l46">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName" id="87809">toQName</a><span class="delimiter">(</span><a title="scales.xml.package.AttributeQName" id="89413">attribQName</a>: <a href="../utils/EitherLike.scala.html#10328" title="scales.xml.package.AttributeQName">AttributeQName</a><span class="delimiter">)</span>: <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a> = <a href="#89413" title="scales.xml.package.AttributeQName">attribQName</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scales.xml.QName" class="delimiter">[</span><a href="QName.scala.html#11797" title="scales.xml.QName">QName</a><span class="delimiter">]</span> <span class="comment">// otherwise it blows the stack calling itself</span></span>
<a href="l47"></a><span id="l47"></span>
<a href="l48"></a><span id="l48">  <span class="keyword">import</span> scales.utils._</span>
<a href="l49"></a><span id="l49"></span>
<a href="l50"></a><span id="l50"><span class="comment">//  implicit val childrenCBF// : CanBuildFrom[IndexedSeq[_], ItemOrTree[XmlItem,Elem], IndexedSeq[ItemOrTree[XmlItem,Elem]]] </span></span>
<a href="l51"></a><span id="l51"><span class="comment">//      = Rope.canBuildFrom(reflect.ClassManifest.classType[ItemOrTree[XmlItem,Elem]](Array[ItemOrTree[XmlItem,Elem]]().getClass.getComponentType)) </span></span>
<a href="l52"></a><span id="l52"></span>
<a href="l53"></a><span id="l53">  <span class="comment">/**</span>
<a href="l54"></a><span id="l54">   * Provided for those who don't care about the rest</span>
<a href="l55"></a><span id="l55">   */</span></span>
<a href="l56"></a><span id="l56">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlTypesImplicits.docToTree : (doc: scales.xml.Doc)scales.xml.package.XmlTree" id="87811">docToTree</a><span class="delimiter">(</span><a title="scales.xml.Doc" id="89427">doc</a>: <a href="#116506" title="scales.xml.Doc">Doc</a><span class="delimiter">)</span>: <a href="../utils/Trees.scala.html#10655" title="scales.xml.package.XmlTree">XmlTree</a> = <a href="#89427" title="scales.xml.Doc">doc</a>.<a href="#89986" title="=&gt; scales.xml.package.XmlTree">rootElem</a></span>
<a href="l57"></a><span id="l57"></span>
<a href="l58"></a><span id="l58">  <span class="comment">/**</span>
<a href="l59"></a><span id="l59">   * Default cbf for xml trees</span>
<a href="l60"></a><span id="l60">   */</span> </span>
<a href="l61"></a><span id="l61">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scales.xml.package.XmlCBF" id="87812">xmlCBF</a> = <span title="[T](implicit e: T)T">implicitly</span><a href="../utils/ImmutableArray.scala.html#46282" title="(implicit e: scales.xml.package.XmlCBF)scales.xml.package.XmlCBF" class="delimiter">[</a><span title="scales.xml.package.XmlCBF">XmlCBF</span><span class="delimiter">]</span><span class="comment">//defaultXmlCBF//</span></span>
<a href="l62"></a><span id="l62"></span>
<a href="l63"></a><span id="l63">  <span class="comment">/**</span>
<a href="l64"></a><span id="l64">   * Implicit manifest for sorting positions, big silent cpu eater otherwise, just like the builders.</span>
<a href="l65"></a><span id="l65">   */</span> </span>
<a href="l66"></a><span id="l66">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="ClassManifest[(scales.utils.Position[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], scales.xml.package.XmlPath)]" id="87814">xpathSortingClassManifest</a> = <span title="[T](implicit e: T)T">implicitly</span><span title="(implicit e: ClassManifest[(scales.utils.Position[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], scales.xml.package.XmlPath)])ClassManifest[(scales.utils.Position[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], scales.xml.package.XmlPath)]" class="delimiter">[</span><span title="ClassManifest[(scales.utils.Position[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], scales.xml.package.XmlPath)]">ClassManifest</span><span class="delimiter">[</span><span class="delimiter">(</span>scales.utils.Position<span class="delimiter">[</span>XmlItem,Elem,XCC<span class="delimiter">]</span>, XmlPath<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span></span>
<a href="l67"></a><span id="l67"></span>
<a href="l68"></a><span id="l68">  <span class="comment">/**</span>
<a href="l69"></a><span id="l69">   * Defaults to NotFromParser</span>
<a href="l70"></a><span id="l70">   */</span> </span>
<a href="l71"></a><span id="l71">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scales.xml.FromParser" id="87816">fromParserDefault</a> : <a href="#11984" title="scales.xml.FromParser">FromParser</a> = <a href="#12404" title="=&gt; scales.xml.package.NotFromParserO.type">NotFromParser</a></span>
<a href="l72"></a><span id="l72"></span>
<a href="l73"></a><span id="l73">  <span class="keyword">implicit</span> <span class="keyword">object</span> <a title="object XmlTypesImplicits.this.AttributeOrdering" id="87818">AttributeOrdering</a> <span title="ScalaObject" class="keyword">extends</span> scala.math.<span title="scala.math.Ordering[scales.xml.Attribute]">Ordering</span><span class="delimiter">[</span>Attribute<span class="delimiter">]</span> <span class="delimiter">{</span></span>
<a href="l74"></a><span id="l74">    <span class="keyword">def</span> <a title="(at1: scales.xml.Attribute, at2: scales.xml.Attribute)Int" id="90603">compare</a><span class="delimiter">(</span><a title="scales.xml.Attribute" id="112914">at1</a> : <a href="#116555" title="scales.xml.Attribute">Attribute</a>, <a title="scales.xml.Attribute" id="112915">at2</a> : <a href="#116555" title="scales.xml.Attribute">Attribute</a><span class="delimiter">)</span> : <span title="Int">Int</span> = <span class="delimiter">{</span></span>
<a href="l75"></a><span id="l75">      <span class="comment">// don't use toQName</span></span>
<a href="l76"></a><span id="l76">      <span class="keyword">val</span> <a title="scales.xml.QName" id="112923">aq1</a> = <a href="#112914" title="scales.xml.Attribute">at1</a>.<a href="#87809" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a> : <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a></span>
<a href="l77"></a><span id="l77">      <span class="keyword">val</span> <a title="scales.xml.QName" id="112924">aq2</a> = <a href="#112915" title="scales.xml.Attribute">at2</a>.<a href="#87809" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a> : <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a></span>
<a href="l78"></a><span id="l78"></span>
<a href="l79"></a><span id="l79">      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#112923" title="scales.xml.QName">aq1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#112924" title="scales.xml.QName">aq2</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#112923" title="scales.xml.QName">aq1</a> <a href="QName.scala.html#87943" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#112924" title="scales.xml.QName">aq2</a><span class="delimiter">)</span><span class="delimiter">)</span> </span>
<a href="l80"></a><span id="l80">	<span title="Int(0)" class="int">0</span></span>
<a href="l81"></a><span id="l81">      <span class="keyword">else</span> <span class="delimiter">{</span><span class="comment">// do each field seperately no string concats.., don't look at prefix, namespaces are likely shared across docs, so check local first</span></span>
<a href="l82"></a><span id="l82"><span class="comment">//	....</span></span>
<a href="l83"></a><span id="l83">	<span class="keyword">val</span> <a title="Int" id="112976">l</a> = <a href="#112923" title="scales.xml.QName">aq1</a>.<a href="QName.scala.html#87932" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">local</a>.<span title="(other: String)Int">compare</span><span class="delimiter">(</span> <a href="#112924" title="scales.xml.QName">aq2</a>.<a href="QName.scala.html#87932" title="=&gt; String">local</a> <span class="delimiter">)</span></span>
<a href="l84"></a><span id="l84">	<span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#112976" title="Int">l</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l85"></a><span id="l85">	  <a href="#112923" title="scales.xml.QName">aq1</a>.<a href="QName.scala.html#87933" title="=&gt; scales.xml.Namespace">namespace</a>.<a href="QName.scala.html#88274" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">uri</a>.<span title="(other: String)Int">compare</span><span class="delimiter">(</span> <a href="#112924" title="scales.xml.QName">aq2</a>.<a href="QName.scala.html#87933" title="=&gt; scales.xml.Namespace">namespace</a>.<a href="QName.scala.html#88274" title="=&gt; String">uri</a> <span class="delimiter">)</span></span>
<a href="l86"></a><span id="l86">	<span class="delimiter">}</span> <span class="keyword">else</span> <a href="#112976" title="Int">l</a></span>
<a href="l87"></a><span id="l87">      <span class="delimiter">}</span></span>
<a href="l88"></a><span id="l88">    <span class="delimiter">}</span></span>
<a href="l89"></a><span id="l89">  <span class="delimiter">}</span></span>
<a href="l90"></a><span id="l90"></span>
<a href="l91"></a><span id="l91">  <span class="comment">/**</span>
<a href="l92"></a><span id="l92">   * Only used for lookups</span>
<a href="l93"></a><span id="l93">   */</span></span>
<a href="l94"></a><span id="l94"><span class="comment">//  implicit val toAttrN = (nons: AttributeQName) =&gt; Attribute(nons, &quot;&quot;)</span></span>
<a href="l95"></a><span id="l95">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlTypesImplicits.toAttrS : (local: String)(implicit ver: scales.xml.XmlVersion)scales.xml.Attribute" id="87820">toAttrS</a><span class="delimiter">(</span><a title="String" id="89429">local</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.XmlVersion" id="89430">ver</a>: <a href="QName.scala.html#11780" title="scales.xml.XmlVersion">XmlVersion</a><span class="delimiter">)</span>: <a href="#116555" title="scales.xml.Attribute">Attribute</a> = <a href="#116555" title="(name: scales.xml.package.AttributeQName, value: String)scales.xml.Attribute">Attribute</a><span class="delimiter">(</span><a href="#87796" title="implicit scales.xml.XmlTypesImplicits.toAttrQNameN : (nons: scales.xml.NoNamespaceQName)scales.xml.package.AttributeQName">toAttrQNameN</a><span class="delimiter">(</span><a href="QName.scala.html#87953" title="(locali: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.NoNamespaceQName">NoNamespaceQName</a><a href="#89430" title="scales.xml.XmlVersion" class="delimiter">(</a><a href="#89429" title="String">local</a><span class="delimiter">)</span><span class="delimiter">)</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span></span>
<a href="l96"></a><span id="l96"></span>
<a href="l97"></a><span id="l97">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scales.xml.QName =&gt; scales.xml.Attribute" id="87821">toAttrQ</a> = <span class="delimiter">(</span>nons: <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a><span class="delimiter">)</span> =&gt; </span>
<a href="l98"></a><span id="l98">    <a href="#116555" title="(name: scales.xml.package.AttributeQName, value: String)scales.xml.Attribute">Attribute</a><span class="delimiter">(</span><a href="#90605" title="scales.xml.QName">nons</a>.<a href="QName.scala.html#87940" title="(prefix: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)scales.xml.PrefixedQName">withPrefix</a><span class="delimiter">(</span><span title="java.lang.String(&quot;f&quot;)" class="string">&quot;f&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="QName.scala.html#11783" title="object scales.xml.Xml10">Xml10</a>,<a href="#113543" title="object scales.xml.package.IsFromParser">IsFromParser</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span></span>
<a href="l99"></a><span id="l99"></span>
<a href="l100"></a><span id="l100">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlTypesImplicits.toAttrKS : (local: String)(implicit ver: scales.xml.XmlVersion)scales.utils.Key[scales.xml.Attribute]" id="87823">toAttrKS</a><span class="delimiter">(</span><a title="String" id="89432">local</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.XmlVersion" id="89433">ver</a>: <a href="QName.scala.html#11780" title="scales.xml.XmlVersion">XmlVersion</a><span class="delimiter">)</span>: <a href="../utils/MapSet.scala.html#10496" title="scales.utils.Key[scales.xml.Attribute]">Key</a><span class="delimiter">[</span>Attribute<span class="delimiter">]</span> = <span title="scales.xml.AttributeKey" class="keyword">new</span> <a href="#11980" title="scales.xml.AttributeKey">AttributeKey</a><span class="delimiter">(</span><a href="#89432" title="String">local</a>, <a href="QName.scala.html#11795" title="object scales.xml.Default">Default</a>.<a href="QName.scala.html#91589" title="=&gt; scales.xml.Namespace">noNamespace</a>.<a href="QName.scala.html#88274" title="=&gt; String">uri</a><span class="delimiter">)</span></span>
<a href="l101"></a><span id="l101"></span>
<a href="l102"></a><span id="l102">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlTypesImplicits.toAttrKQ : (q: scales.xml.QName)scales.utils.Key[scales.xml.Attribute]" id="87824">toAttrKQ</a><span class="delimiter">(</span><a title="scales.xml.QName" id="89435">q</a> : <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a><span class="delimiter">)</span> : <a href="../utils/MapSet.scala.html#10496" title="scales.utils.Key[scales.xml.Attribute]">Key</a><span class="delimiter">[</span>Attribute<span class="delimiter">]</span> =</span>
<a href="l103"></a><span id="l103">    <span title="scales.xml.AttributeKey" class="keyword">new</span> <a href="#11980" title="scales.xml.AttributeKey">AttributeKey</a><span class="delimiter">(</span><a href="#89435" title="scales.xml.QName">q</a>.<a href="QName.scala.html#87932" title="=&gt; String">local</a>, <a href="#89435" title="scales.xml.QName">q</a>.<a href="QName.scala.html#87933" title="=&gt; scales.xml.Namespace">namespace</a>.<a href="QName.scala.html#88274" title="=&gt; String">uri</a><span class="delimiter">)</span></span>
<a href="l104"></a><span id="l104"></span>
<a href="l105"></a><span id="l105">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scales.xml.Attribute =&gt; scales.xml.AttributeKey" id="87825">toAttrK</a> = <span class="delimiter">(</span>a : <a href="#116555" title="scales.xml.Attribute">Attribute</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span></span>
<a href="l106"></a><span id="l106">    <span class="keyword">val</span> <a title="scales.xml.QName" id="90524">q</a> = <a href="#90523" title="scales.xml.Attribute">a</a>.<a href="#87809" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a> : <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a></span>
<a href="l107"></a><span id="l107">    <span title="scales.xml.AttributeKey" class="keyword">new</span> <a href="#11980" title="scales.xml.AttributeKey">AttributeKey</a><span class="delimiter">(</span><a href="#90524" title="scales.xml.QName">q</a>.<a href="QName.scala.html#87932" title="=&gt; String">local</a>, <a href="#90524" title="scales.xml.QName">q</a>.<a href="QName.scala.html#87933" title="=&gt; scales.xml.Namespace">namespace</a>.<a href="QName.scala.html#88274" title="=&gt; String">uri</a><span class="delimiter">)</span></span>
<a href="l108"></a><span id="l108">  <span class="delimiter">}</span></span>
<a href="l109"></a><span id="l109"></span>
<a href="l110"></a><span id="l110"><span class="delimiter">}</span></span>
<a href="l111"></a><span id="l111"></span>
<a href="l112"></a><span id="l112"><span class="comment">// localName to avoid implicits</span></span>
<a href="l113"></a><span id="l113"><span class="keyword">class</span> <a title="class AttributeKey extends java.lang.Object with scales.utils.Key[scales.xml.Attribute] with ScalaObject" id="11980">AttributeKey</a><a href="#11980" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="90643">localName</a> : <span title="String">String</span>, <span class="keyword">val</span> <a title="String" id="90644">ns</a> : <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../utils/MapSet.scala.html#10496" title="scales.utils.Key[scales.xml.Attribute]">Key</a><span class="delimiter">[</span>Attribute<span class="delimiter">]</span> <span class="delimiter">{</span></span>
<a href="l114"></a><span id="l114">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="90641">equals</a><span class="delimiter">(</span> <a title="Any" id="113118">other</a> : <span title="Any">Any</span> <span class="delimiter">)</span> = <a href="#113118" title="Any">other</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span></span>
<a href="l115"></a><span id="l115">    <span class="keyword">case</span> <a title="Boolean" id="113121">o</a> : <a href="#11980" title="scales.xml.AttributeKey">AttributeKey</a> =&gt; </span>
<a href="l116"></a><span id="l116">      <span class="delimiter">(</span><a href="#90643" title="=&gt; String">localName</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#113121" title="scales.xml.AttributeKey">o</a>.<a href="#90643" title="=&gt; String">localName</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#90644" title="=&gt; String">ns</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#113121" title="scales.xml.AttributeKey">o</a>.<a href="#90644" title="=&gt; String">ns</a><span class="delimiter">)</span></span>
<a href="l117"></a><span id="l117">    <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span></span>
<a href="l118"></a><span id="l118">  <span class="delimiter">}</span></span>
<a href="l119"></a><span id="l119"></span>
<a href="l120"></a><span id="l120">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="90642">hashCode</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Int">Int</span> = <span class="delimiter">{</span></span>
<a href="l121"></a><span id="l121">    <span class="keyword">var</span> <a title="Int" id="113131">hs</a> = <span title="Int(1)" class="int">1</span></span>
<a href="l122"></a><span id="l122">    <a href="#113131" title="Int">hs</a> = <span class="delimiter">(</span><a href="#113131" title="Int">hs</a> <span title="(x: Int)Int">*</span> <span title="Int(31)" class="int">31</span><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <a href="#90643" title="=&gt; String">localName</a>.<span title="()Int">hashCode</span></span>
<a href="l123"></a><span id="l123">    <a href="#113131" title="Int">hs</a> = <span class="delimiter">(</span><a href="#113131" title="Int">hs</a> <span title="(x: Int)Int">*</span> <span title="Int(31)" class="int">31</span><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <a href="#90644" title="=&gt; String">ns</a>.<span title="()Int">hashCode</span></span>
<a href="l124"></a><span id="l124">    <a href="#113131" title="Int">hs</a></span>
<a href="l125"></a><span id="l125">  <span class="delimiter">}</span></span>
<a href="l126"></a><span id="l126"><span class="delimiter">}</span></span>
<a href="l127"></a><span id="l127"></span>
<a href="l128"></a><span id="l128"><span class="keyword">object</span> <a title="object scales.xml.ExtraTypesImplicits" id="11981">ExtraTypesImplicits</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l129"></a><span id="l129">  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scales.xml.package.AttributeQName =&gt; scales.xml.Attribute" id="113517">toAttrN</a> = <span class="delimiter">(</span>nons: <a href="../utils/EitherLike.scala.html#10328" title="scales.xml.package.AttributeQName">AttributeQName</a><span class="delimiter">)</span> =&gt; <a href="#116555" title="(name: scales.xml.package.AttributeQName, value: String)scales.xml.Attribute">Attribute</a><span class="delimiter">(</span><a href="#113522" title="scales.xml.package.AttributeQName">nons</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span></span>
<a href="l130"></a><span id="l130"></span>
<a href="l131"></a><span id="l131">  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.ExtraTypesImplicits.toAttrKAQ : (aq: scales.xml.package.AttributeQName)scales.utils.Key[scales.xml.Attribute]" id="113519">toAttrKAQ</a><span class="delimiter">(</span><a title="scales.xml.package.AttributeQName" id="113523">aq</a> : <a href="../utils/EitherLike.scala.html#10328" title="scales.xml.package.AttributeQName">AttributeQName</a><span class="delimiter">)</span> : <a href="../utils/MapSet.scala.html#10496" title="scales.utils.Key[scales.xml.Attribute]">Key</a><span class="delimiter">[</span>Attribute<span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l132"></a><span id="l132">    <span class="keyword">val</span> <a title="scales.xml.QName" id="113525">q</a> = <a href="#113523" title="scales.xml.package.AttributeQName">aq</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scales.xml.QName" class="delimiter">[</span><a href="QName.scala.html#11797" title="scales.xml.QName">QName</a><span class="delimiter">]</span></span>
<a href="l133"></a><span id="l133">    <span title="scales.xml.AttributeKey" class="keyword">new</span> <a href="#11980" title="scales.xml.AttributeKey">AttributeKey</a><span class="delimiter">(</span><a href="#113525" title="scales.xml.QName">q</a>.<a href="QName.scala.html#87932" title="=&gt; String">local</a>, <a href="#113525" title="scales.xml.QName">q</a>.<a href="QName.scala.html#87933" title="=&gt; scales.xml.Namespace">namespace</a>.<a href="QName.scala.html#88274" title="=&gt; String">uri</a><span class="delimiter">)</span></span>
<a href="l134"></a><span id="l134">  <span class="delimiter">}</span></span>
<a href="l135"></a><span id="l135"></span>
<a href="l136"></a><span id="l136"></span>
<a href="l137"></a><span id="l137"><span class="delimiter">}</span></span>
<a href="l138"></a><span id="l138"></span>
<a href="l139"></a><span id="l139"><span class="keyword">import</span> <a href="ScalesXml.scala.html#11813" title="object scales.xml.ScalesXml">ScalesXml</a>._</span>
<a href="l140"></a><span id="l140"></span>
<a href="l141"></a><span id="l141"><span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait FromParser extends java.lang.Object" id="11984">FromParser</a></span>
<a href="l142"></a><span id="l142"></span>
<a href="l143"></a><span id="l143"><span class="keyword">trait</span> <a title="trait XmlTypes extends java.lang.Object with ScalaObject" id="11985">XmlTypes</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l144"></a><span id="l144"></span>
<a href="l145"></a><span id="l145">  <span class="keyword">private</span><span class="delimiter">[</span>xml<span class="delimiter">]</span> case <span class="keyword">object</span> <a href="#113540" title="object XmlTypes.this.IsFromParser" id="113543">IsFromParser</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11984" title="scales.xml.FromParser">FromParser</a></span>
<a href="l146"></a><span id="l146"></span>
<a href="l147"></a><span id="l147"><span class="comment">//  private[xml] case object NotFromParser extends FromParser</span></span>
<a href="l148"></a><span id="l148">  <span class="keyword">private</span><span class="delimiter">[</span>xml<span class="delimiter">]</span> case <span class="keyword">object</span> <a href="#113551" title="object XmlTypes.this.NotFromParserO" id="113554">NotFromParserO</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11984" title="scales.xml.FromParser">FromParser</a></span>
<a href="l149"></a><span id="l149">  <span class="keyword">private</span><span class="delimiter">[</span>xml<span class="delimiter">]</span> <span class="keyword">val</span> <a title="XmlTypes.this.NotFromParserO.type" id="12404">NotFromParser</a> = <a href="#113554" title="object XmlTypes.this.NotFromParserO">NotFromParserO</a> </span>
<a href="l150"></a><span id="l150"></span>
<a href="l151"></a><span id="l151"><span class="comment">//  private[XmlTypes] implicit val xmlCBF = 1 // kill the implicit</span></span>
<a href="l152"></a><span id="l152"></span>
<a href="l153"></a><span id="l153">  <span class="keyword">import</span> scales.utils.<span class="delimiter">{</span> Tree, ItemOrTree, subtree, item, top, noPath =&gt; fno, Path, TreeCBF, ImmutableArrayProxy <span class="delimiter">}</span></span>
<a href="l154"></a><span id="l154"></span>
<a href="l155"></a><span id="l155">  <span class="keyword">type</span> <a title="scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="12407">XmlCBF</a> = <span title="scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">TreeCBF</span><span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span></span>
<a href="l156"></a><span id="l156"></span>
<a href="l157"></a><span id="l157"><span class="comment">/*  val defaultXmlCBF : XmlCBF = </span>
<a href="l158"></a><span id="l158">    new CanBuildFrom[XCC[_], ItemOrElem, XmlChildren] {</span>
<a href="l159"></a><span id="l159">      import collection.mutable.Builder</span>
<a href="l160"></a><span id="l160"></span>
<a href="l161"></a><span id="l161">      def apply(from : XCC[_]): Builder[ItemOrElem, XmlChildren] = apply()</span>
<a href="l162"></a><span id="l162">      def apply() : Builder[ItemOrElem, XmlChildren] = new RopeBuilder[ItemOrElem].mapResult(wrapRope(_))</span>
<a href="l163"></a><span id="l163">    }</span>
<a href="l164"></a><span id="l164">*/</span></span>
<a href="l165"></a><span id="l165"><span class="comment">/*  import ImmutableArray._</span>
<a href="l166"></a><span id="l166"></span>
<a href="l167"></a><span id="l167">  val defaultXmlCBF : XmlCBF = </span>
<a href="l168"></a><span id="l168">    new CanBuildFrom[XCC[_], ItemOrElem, XmlChildren] {</span>
<a href="l169"></a><span id="l169">      import collection.mutable.Builder</span>
<a href="l170"></a><span id="l170"></span>
<a href="l171"></a><span id="l171">      def apply(from : XCC[_]): Builder[ItemOrElem, XmlChildren] = apply()</span>
<a href="l172"></a><span id="l172">      def apply() : Builder[ItemOrElem, XmlChildren] = ImmutableArray.newBuilder[ItemOrElem](reflect.ClassManifest.classType[ItemOrElem](Array[ItemOrElem]().getClass.getComponentType)).mapResult(wrapArray(_))</span>
<a href="l173"></a><span id="l173">    }</span>
<a href="l174"></a><span id="l174">*/</span></span>
<a href="l175"></a><span id="l175"><span class="comment">//  type AttributeQName = Either[PrefixedQName, NoNamespaceQName]</span></span>
<a href="l176"></a><span id="l176">  <span class="keyword">type</span> <a title="scales.utils.EitherLike[scales.xml.PrefixedQName,scales.xml.NoNamespaceQName]" id="12408">AttributeQName</a> = <a href="../utils/EitherLike.scala.html#10328" title="scales.utils.EitherLike[scales.xml.PrefixedQName,scales.xml.NoNamespaceQName]">EitherLike</a><span class="delimiter">[</span>PrefixedQName, NoNamespaceQName<span class="delimiter">]</span></span>
<a href="l177"></a><span id="l177"></span>
<a href="l178"></a><span id="l178">  <span class="keyword">type</span> <a title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="12409">XmlTree</a> = <a href="../utils/Trees.scala.html#10655" title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Tree</a><span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span></span>
<a href="l179"></a><span id="l179">  <span class="keyword">type</span> <a title="scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="12410">ItemOrElem</a> = <a href="../utils/EitherLike.scala.html#10328" title="scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">ItemOrTree</a><span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span></span>
<a href="l180"></a><span id="l180"></span>
<a href="l181"></a><span id="l181">  <span class="keyword">type</span> <a title="XmlTypes.this.XCC[XmlTypes.this.ItemOrElem]" id="12411">XmlChildren</a> = <a href="../utils/ImmutableArray.scala.html#10380" title="XmlTypes.this.XCC[XmlTypes.this.ItemOrElem]">XCC</a><span class="delimiter">[</span>ItemOrElem<span class="delimiter">]</span></span>
<a href="l182"></a><span id="l182"></span>
<a href="l183"></a><span id="l183">  <span class="keyword">type</span> <a title="[T]scales.utils.ImmutableArrayProxy[T]" id="12412">XCC</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12413">T</a><span class="delimiter">]</span> = <a href="../utils/ImmutableArray.scala.html#10380" title="scales.utils.ImmutableArrayProxy[T]">ImmutableArrayProxy</a><span class="delimiter">[</span>T<span class="delimiter">]</span></span>
<a href="l184"></a><span id="l184"><span class="comment">//  type XCC[T] = ImmutableArray[T]</span></span>
<a href="l185"></a><span id="l185"><span class="comment">//  type XCC[T] = WrappedRope[T]</span></span>
<a href="l186"></a><span id="l186"><span class="comment">//  type XCC[T] = Vector[T]</span></span>
<a href="l187"></a><span id="l187"><span class="comment">//  type XCC[T] = WrappedImmutableArray[T]</span></span>
<a href="l188"></a><span id="l188"></span>
<a href="l189"></a><span id="l189">  <span class="keyword">type</span> <a title="Either[scales.xml.Comment,scales.xml.PI]" id="12414">Misc</a> = <span title="Either[scales.xml.Comment,scales.xml.PI]">Either</span><span class="delimiter">[</span>Comment, PI<span class="delimiter">]</span></span>
<a href="l190"></a><span id="l190">  <span class="keyword">type</span> <a title="Seq[XmlTypes.this.Misc]" id="12415">Miscs</a> = <span title="Seq[XmlTypes.this.Misc]">Seq</span><span class="delimiter">[</span>Misc<span class="delimiter">]</span></span>
<a href="l191"></a><span id="l191"></span>
<a href="l192"></a><span id="l192">  <span class="keyword">type</span> <a title="scales.utils.ListSet[scales.xml.Attribute]" id="12416">Attributes</a> = <a href="../utils/ListSet.scala.html#10456" title="scales.utils.ListSet[scales.xml.Attribute]">ListSet</a><span class="delimiter">[</span>Attribute<span class="delimiter">]</span></span>
<a href="l193"></a><span id="l193"></span>
<a href="l194"></a><span id="l194">  <span class="keyword">val</span> <a title="List[Either[scales.xml.Comment,scales.xml.PI]]" id="12417">emptyMiscs</a> = List<span class="delimiter">[</span>Misc<span class="delimiter">]</span><span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l195"></a><span id="l195"></span>
<a href="l196"></a><span id="l196">  <span class="keyword">val</span> <a title="scales.utils.ListSet[scales.xml.Attribute]" id="12419">emptyAttributes</a> = <a href="../utils/ListSet.scala.html#10452" title="object scales.utils.ListSet">ListSet</a>.<a href="../utils/ListSet.scala.html#70282" title="[A](implicit evidence$1: scalaz.Equal[A])scales.utils.ListSet[A]">empty</a><a href="#87799" title="(implicit evidence$1: scalaz.Equal[scales.xml.Attribute])scales.utils.ListSet[scales.xml.Attribute]" class="delimiter">[</a><a href="#116555" title="scales.xml.Attribute">Attribute</a><span class="delimiter">]</span></span>
<a href="l197"></a><span id="l197"><span class="comment">//  val emptyAttributes = ListSet.empty[Attribute]</span></span>
<a href="l198"></a><span id="l198">  <span class="keyword">val</span> <a title="scala.collection.immutable.Map[String,String]" id="12421">emptyNamespaces</a>: <span title="scala.collection.immutable.Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (String, String)*)scala.collection.immutable.Map[String,String]" class="delimiter">[</span><span title="String">String</span>, <span title="String">String</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l199"></a><span id="l199"></span>
<a href="l200"></a><span id="l200">  <span class="keyword">val</span> <a title="Int" id="12423">emptyAttributesHash</a> = <a href="#12419" title="=&gt; scales.utils.ListSet[scales.xml.Attribute]">emptyAttributes</a>.<span title="()Int">hashCode</span></span>
<a href="l201"></a><span id="l201">  <span class="keyword">val</span> <a title="Int" id="12425">emptyNamespacesHash</a> = <a href="#12421" title="=&gt; scala.collection.immutable.Map[String,String]">emptyNamespaces</a>.<span title="()Int">hashCode</span></span>
<a href="l202"></a><span id="l202"></span>
<a href="l203"></a><span id="l203"><span class="comment">//  val emptyChildren = Vector[ItemOrElem]()</span></span>
<a href="l204"></a><span id="l204"><span class="comment">//  val emptyChildren = ImmutableArray[ItemOrElem]()</span></span>
<a href="l205"></a><span id="l205">  <span class="keyword">val</span> <a title="scales.utils.ImmutableArrayProxy[scales.utils.EitherLike[scales.xml.XmlItem,scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]" id="12427">emptyChildren</a> = <a href="../utils/ImmutableArray.scala.html#10374" title="[A](elems: A*)scales.utils.ImmutableArrayProxy[A]">ImmutableArrayProxy</a><span title="(elems: XmlTypes.this.ItemOrElem*)scales.utils.ImmutableArrayProxy[XmlTypes.this.ItemOrElem]" class="delimiter">[</span><a href="../utils/EitherLike.scala.html#10328" title="XmlTypes.this.ItemOrElem">ItemOrElem</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l206"></a><span id="l206"></span>
<a href="l207"></a><span id="l207">  <span class="comment">//val emptyChildren = wrapArray(fromArray[ItemOrElem](Array[ItemOrElem]()))</span></span>
<a href="l208"></a><span id="l208"></span>
<a href="l209"></a><span id="l209"><span class="comment">//  private[XmlTypes] val wrapped = wrapRope(Rope.empty(reflect.ClassManifest.classType[ItemOrElem](Array[ItemOrElem]().getClass.getComponentType)))</span></span>
<a href="l210"></a><span id="l210"></span>
<a href="l211"></a><span id="l211"><span class="comment">//  val emptyChildren : XmlChildren = wrapped</span></span>
<a href="l212"></a><span id="l212"></span>
<a href="l213"></a><span id="l213">  <span class="comment">/**</span>
<a href="l214"></a><span id="l214">   * Use to signify a &quot;null object&quot;, tree/path shouldn't work like this its a smell</span>
<a href="l215"></a><span id="l215">   */</span></span>
<a href="l216"></a><span id="l216">  <span class="keyword">val</span> <a title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="12429">noXmlPath</a> = <a href="../utils/Paths.scala.html#12204" title="[Item &lt;: scales.utils.LeftLike[Item,scales.utils.Tree[Item,Section,CC]], Section, CC[X] &lt;: scala.collection.IndexedSeqLike[X,CC[X]]](implicit cbf: scales.utils.package.TreeCBF[Item,Section,CC])scales.utils.Path[Item,Section,CC]">fno</a><a href="#87812" title="(implicit cbf: scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" class="delimiter">[</a><a href="#11998" title="scales.xml.XmlItem">XmlItem</a>, <a href="#11994" title="scales.xml.Elem">Elem</a>, <a href="../utils/ImmutableArray.scala.html#10380" title="XmlTypes.this.XCC">XCC</a><span class="delimiter">]</span></span>
<a href="l217"></a><span id="l217"></span>
<a href="l218"></a><span id="l218">  <span class="keyword">type</span> <a title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="12431">XmlPath</a> = <a href="../utils/Paths.scala.html#10533" title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Path</a><span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span></span>
<a href="l219"></a><span id="l219"></span>
<a href="l220"></a><span id="l220">  <span class="comment">/**</span>
<a href="l221"></a><span id="l221">   * Will match if the QNames are the same =:= and if the attributes are present (not requiring that these are the only attributes).</span>
<a href="l222"></a><span id="l222">   * What is returned is either a Seq of attribute values or a simple boolean</span>
<a href="l223"></a><span id="l223">   */</span></span>
<a href="l224"></a><span id="l224">  <span class="keyword">def</span> <a title="(name: scales.xml.QName, attributes: XmlTypes.this.AttributeQName*)java.lang.Object{def matchAttribs(elem: scales.xml.Elem): Seq[scales.xml.Attribute]; def unapply(elem: scales.xml.Elem): Option[(scales.xml.Elem, List[scales.xml.Attribute])]}" id="12432">ElemMatcher</a><span class="delimiter">(</span><a title="scales.xml.QName" id="113557">name</a>: <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a>, <a title="XmlTypes.this.AttributeQName*" id="113558">attributes</a>: <span title="XmlTypes.this.AttributeQName*">AttributeQName</span>*<span class="delimiter">)</span> = <a href="#113561" title="java.lang.Object{def matchAttribs(elem: scales.xml.Elem): Seq[scales.xml.Attribute]; def unapply(elem: scales.xml.Elem): Option[(scales.xml.Elem, List[scales.xml.Attribute])]}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object" id="113561" class="delimiter">{</a></span>
<a href="l225"></a><span id="l225">    <span class="keyword">import</span> <a href="#11981" title="object scales.xml.ExtraTypesImplicits">ExtraTypesImplicits</a>._</span>
<a href="l226"></a><span id="l226"></span>
<a href="l227"></a><span id="l227">    <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)Seq[scales.xml.Attribute]" id="113564">matchAttribs</a><span class="delimiter">(</span><a title="scales.xml.Elem" id="113566">elem</a>: <a href="#11994" title="scales.xml.Elem">Elem</a><span class="delimiter">)</span> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="XmlTypes.this.AttributeQName" id="113583">attribute</a> &lt;- <a href="#113558" title="(f: XmlTypes.this.AttributeQName =&gt; scala.collection.GenTraversableOnce[scales.xml.Attribute])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[XmlTypes.this.AttributeQName],scales.xml.Attribute,Seq[scales.xml.Attribute]])Seq[scales.xml.Attribute]">attributes</a>; <a title="scales.xml.Attribute" id="113678">matches</a> &lt;- <a href="#113566" title="scales.xml.Elem">elem</a>.<a href="../utils/ListSet.scala.html#70313" title="(b: XmlTypes.this.AttributeQName)(implicit equiv: scales.utils.Equiv[scales.xml.QName], implicit viewA: scales.xml.Attribute =&gt; scales.xml.QName, implicit viewB: XmlTypes.this.AttributeQName =&gt; scales.xml.QName)Option[scales.xml.Attribute]">attributes</a><a href="#87807" title="(f: scales.xml.Attribute =&gt; scales.xml.Attribute)Option[scales.xml.Attribute]" class="delimiter">(</a><a href="#113583" title="XmlTypes.this.AttributeQName">attribute</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#113678" title="scales.xml.Attribute">matches</a></span>
<a href="l228"></a><span id="l228"></span>
<a href="l229"></a><span id="l229">    <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)Option[(scales.xml.Elem, List[scales.xml.Attribute])]" id="113565">unapply</a><span class="delimiter">(</span><a title="scales.xml.Elem" id="113778">elem</a>: <a href="#11994" title="scales.xml.Elem">Elem</a><span class="delimiter">)</span>: <span title="Option[(scales.xml.Elem, List[scales.xml.Attribute])]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>Elem, List<span class="delimiter">[</span>Attribute<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l230"></a><span id="l230">      <span class="keyword">val</span> <a title="Seq[scales.xml.Attribute]" id="113780">matched</a> = <a href="#113564" title="(elem: scales.xml.Elem)Seq[scales.xml.Attribute]">matchAttribs</a><span class="delimiter">(</span><a href="#113778" title="scales.xml.Elem">elem</a><span class="delimiter">)</span></span>
<a href="l231"></a><span id="l231">      <span title="Option[(scales.xml.Elem, List[scales.xml.Attribute])]" class="keyword">if</span> <span class="delimiter">(</span><a href="#113778" title="scales.xml.Elem">elem</a>.<a href="#88394" title="=&gt; scales.xml.QName">name</a> <a href="QName.scala.html#87943" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#113557" title="scales.xml.QName">name</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#113780" title="Seq[scales.xml.Attribute]">matched</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#113558" title="XmlTypes.this.AttributeQName*">attributes</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span></span>
<a href="l232"></a><span id="l232">        <span title="(x: (scales.xml.Elem, List[scales.xml.Attribute]))Some[(scales.xml.Elem, List[scales.xml.Attribute])]">Some</span><span class="delimiter">(</span><span title="(_1: scales.xml.Elem, _2: List[scales.xml.Attribute])(scales.xml.Elem, List[scales.xml.Attribute])" class="delimiter">(</span><a href="#113778" title="scales.xml.Elem">elem</a>, <a href="#113780" title="Seq[scales.xml.Attribute]">matched</a>.<span title="=&gt; List[scales.xml.Attribute]">toList</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l233"></a><span id="l233">      <span class="keyword">else</span></span>
<a href="l234"></a><span id="l234">        <span title="object None">None</span></span>
<a href="l235"></a><span id="l235">    <span class="delimiter">}</span></span>
<a href="l236"></a><span id="l236">  <span class="delimiter">}</span></span>
<a href="l237"></a><span id="l237"></span>
<a href="l238"></a><span id="l238">  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(path: XmlTypes.this.XmlPath, elem: scales.xml.Elem, dchildren: XmlTypes.this.XmlChildren)scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="12433">addAndFocus</a><span class="delimiter">(</span><a title="XmlTypes.this.XmlPath" id="110917">path</a>: <a href="../utils/Paths.scala.html#10533" title="XmlTypes.this.XmlPath">XmlPath</a>, <a title="scales.xml.Elem" id="110918">elem</a>: <a href="#11994" title="scales.xml.Elem">Elem</a>, <a title="XmlTypes.this.XmlChildren" id="110922">dchildren</a> : <a href="../utils/ImmutableArray.scala.html#10380" title="XmlTypes.this.XmlChildren">XmlChildren</a> = <a href="#12427" title="=&gt; scales.utils.ImmutableArrayProxy[scales.utils.EitherLike[scales.xml.XmlItem,scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">emptyChildren</a><span class="delimiter">)</span> =</span>
<a href="l239"></a><span id="l239">    <span class="comment">// start it off</span></span>
<a href="l240"></a><span id="l240">    <span title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" class="keyword">if</span> <span class="delimiter">(</span><a href="#110917" title="XmlTypes.this.XmlPath">path</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#12429" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">noXmlPath</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l241"></a><span id="l241">      <a href="../utils/Paths.scala.html#12295" title="(tree: scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])(implicit cbf: scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">top</a><a href="#87812" title="=&gt; scales.xml.package.XmlCBF" class="delimiter">(</a><a href="../utils/Trees.scala.html#80175" title="(section: scales.xml.Elem, children: XmlTypes.this.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]])scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Tree</a><span class="delimiter">(</span></span>
<a href="l242"></a><span id="l242">        <a href="#110918" title="scales.xml.Elem">elem</a>, <a href="#110922" title="XmlTypes.this.XmlChildren">dchildren</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l243"></a><span id="l243">    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span></span>
<a href="l244"></a><span id="l244">      <span class="comment">// using a Function1 causes 2% of the cost for init alone</span></span>
<a href="l245"></a><span id="l245">      </span>
<a href="l246"></a><span id="l246">      <span class="comment">// cache it here as we are going to fudge the path</span></span>
<a href="l247"></a><span id="l247">      <span class="keyword">val</span> <a title="XmlTypes.this.ItemOrElem" id="110982">n</a> : <a href="../utils/EitherLike.scala.html#10328" title="XmlTypes.this.ItemOrElem">ItemOrElem</a> = <a href="../utils/package.scala.html#12062" title="(section: scales.xml.Elem, children: XmlTypes.this.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]])(implicit cbf: scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">subtree</a><a href="#87812" title="=&gt; scales.xml.package.XmlCBF" class="delimiter">(</a><a href="#110918" title="scales.xml.Elem">elem</a>, <a href="#110922" title="XmlTypes.this.XmlChildren">dchildren</a><span class="delimiter">)</span></span>
<a href="l248"></a><span id="l248">      <span class="keyword">var</span> <a title="Int" id="110983">size</a> = <span title="Int(0)" class="int">0</span></span>
<a href="l249"></a><span id="l249"></span>
<a href="l250"></a><span id="l250">      <span class="keyword">import</span> <a href="#110917" title="XmlTypes.this.XmlPath">path</a>.<a href="../utils/Paths.scala.html#39595" title="=&gt; scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">node</a>.focus</span>
<a href="l251"></a><span id="l251">      <span class="keyword">val</span> <a title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="110985">parent</a> = <a href="../utils/Paths.scala.html#67425" title="=&gt; scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">focus</a>.<a href="../utils/EitherLike.scala.html#39641" title="=&gt; scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">getRight</a></span>
<a href="l252"></a><span id="l252">      <span class="keyword">val</span> <a title="XmlTypes.this.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]" id="110986">c</a> = <a href="#110985" title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">parent</a>.<a href="../utils/Trees.scala.html#67496" title="=&gt; XmlTypes.this.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]">children</a></span>
<a href="l253"></a><span id="l253">      <a href="#110983" title="Int">size</a> = <a href="#110986" title="XmlTypes.this.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]">c</a>.<span title="=&gt; Int">length</span></span>
<a href="l254"></a><span id="l254">      </span>
<a href="l255"></a><span id="l255">      <span class="comment">// add a child, focus on it</span></span>
<a href="l256"></a><span id="l256">      <span class="keyword">val</span> <a title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="110987">tpath</a> = <a href="../utils/Paths.scala.html#67380" title="(top: scales.utils.EitherLike[scales.utils.Top[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC],scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]], node: scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])(implicit cbf: scala.collection.generic.CanBuildFrom[scales.xml.package.XCC[_],scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC],scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]])scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">Path</a><a href="#87812" title="=&gt; scales.xml.package.XmlCBF" class="delimiter">(</a> <a href="#110917" title="XmlTypes.this.XmlPath">path</a>.<a href="../utils/Paths.scala.html#39593" title="=&gt; scales.utils.EitherLike[scales.utils.Top[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]">top</a>, </span>
<a href="l257"></a><span id="l257">		       scales.utils.<a href="../utils/Paths.scala.html#67414" title="(index: Int, focus: scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">Node</a><span class="delimiter">(</span> <a href="#110917" title="XmlTypes.this.XmlPath">path</a>.<a href="../utils/Paths.scala.html#39595" title="=&gt; scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">node</a>.<a href="../utils/Paths.scala.html#67423" title="=&gt; Int">index</a>, </span>
<a href="l258"></a><span id="l258">			    <a href="../utils/Trees.scala.html#80175" title="(section: scales.xml.Elem, children: scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]])scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">Tree</a><span class="delimiter">(</span><a href="#110985" title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">parent</a>.<a href="../utils/Trees.scala.html#67494" title="=&gt; scales.xml.Elem">section</a>, <span class="comment">//Right()</span></span>
<a href="l259"></a><span id="l259">				       <a href="#110986" title="XmlTypes.this.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]">c</a> <a href="#87812" title="(elem: scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]],scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]])scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">:+</a> <a href="#110982" title="XmlTypes.this.ItemOrElem">n</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span></span>
<a href="l260"></a><span id="l260"></span>
<a href="l261"></a><span id="l261"><span class="comment">/*</span>
<a href="l262"></a><span id="l262">val tpath = path.modify { focus =&gt;</span>
<a href="l263"></a><span id="l263">        val parent = focus.right.get</span>
<a href="l264"></a><span id="l264">        val c = parent.children</span>
<a href="l265"></a><span id="l265">        size = c.length</span>
<a href="l266"></a><span id="l266">        Right(Tree(parent.section,</span>
<a href="l267"></a><span id="l267">          c :+ n))</span>
<a href="l268"></a><span id="l268">      }</span>
<a href="l269"></a><span id="l269"> */</span> </span>
<a href="l270"></a><span id="l270"></span>
<a href="l271"></a><span id="l271">      <span class="comment">// drill down to last child</span></span>
<a href="l272"></a><span id="l272">      <span class="comment">//tpath.lastChild().get</span></span>
<a href="l273"></a><span id="l273">      <a href="../utils/Paths.scala.html#67380" title="(top: scales.utils.EitherLike[scales.utils.Top[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]], node: scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])(implicit cbf: scala.collection.generic.CanBuildFrom[XmlTypes.this.XCC[_],scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],XmlTypes.this.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]])scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Path</a><a href="#87812" title="=&gt; scales.xml.package.XmlCBF" class="delimiter">(</a><a href="#110987" title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tpath</a>, scales.utils.<a href="../utils/Paths.scala.html#67414" title="(index: Int, focus: scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Node</a><span class="delimiter">(</span><a href="#110983" title="Int">size</a>, <a href="#110982" title="XmlTypes.this.ItemOrElem">n</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l274"></a><span id="l274">    <span class="delimiter">}</span></span>
<a href="l275"></a><span id="l275"></span>
<a href="l276"></a><span id="l276">  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(path: XmlTypes.this.XmlPath, child: scales.xml.XmlItem)scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="12434">addChild</a><span class="delimiter">(</span><a title="XmlTypes.this.XmlPath" id="111289">path</a>: <a href="../utils/Paths.scala.html#10533" title="XmlTypes.this.XmlPath">XmlPath</a>, <a title="scales.xml.XmlItem" id="111290">child</a>: <a href="#11998" title="scales.xml.XmlItem">XmlItem</a><span class="delimiter">)</span> = <span class="delimiter">{</span></span>
<a href="l277"></a><span id="l277">    <span class="keyword">import</span> <a href="#111289" title="XmlTypes.this.XmlPath">path</a>.<a href="../utils/Paths.scala.html#39595" title="=&gt; scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">node</a>.focus</span>
<a href="l278"></a><span id="l278">    <span class="keyword">val</span> <a title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="111294">parent</a> = <a href="../utils/Paths.scala.html#67425" title="=&gt; scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">focus</a>.<a href="../utils/EitherLike.scala.html#39641" title="=&gt; scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">getRight</a></span>
<a href="l279"></a><span id="l279">    <a href="../utils/Paths.scala.html#67380" title="(top: scales.utils.EitherLike[scales.utils.Top[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC],scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]], node: scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])(implicit cbf: scala.collection.generic.CanBuildFrom[scales.xml.package.XCC[_],scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC],scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]])scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">Path</a><a href="#87812" title="=&gt; scales.xml.package.XmlCBF" class="delimiter">(</a> <a href="#111289" title="XmlTypes.this.XmlPath">path</a>.<a href="../utils/Paths.scala.html#39593" title="=&gt; scales.utils.EitherLike[scales.utils.Top[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]">top</a>, </span>
<a href="l280"></a><span id="l280">	       scales.utils.<a href="../utils/Paths.scala.html#67414" title="(index: Int, focus: scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">Node</a><span class="delimiter">(</span> <a href="#111289" title="XmlTypes.this.XmlPath">path</a>.<a href="../utils/Paths.scala.html#39595" title="=&gt; scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">node</a>.<a href="../utils/Paths.scala.html#67423" title="=&gt; Int">index</a>,</span>
<a href="l281"></a><span id="l281">		     <a href="../utils/Trees.scala.html#80175" title="(section: scales.xml.Elem, children: scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]])scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">Tree</a><span class="delimiter">(</span><a href="#111294" title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">parent</a>.<a href="../utils/Trees.scala.html#67494" title="=&gt; scales.xml.Elem">section</a>,<span class="comment">//Right()</span></span>
<a href="l282"></a><span id="l282">        <a href="#111294" title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">parent</a>.<a href="../utils/Trees.scala.html#67496" title="=&gt; XmlTypes.this.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]">children</a> <a href="#87812" title="(elem: scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]],scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]])scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">:+</a> <a href="../utils/package.scala.html#12055" title="[Item &lt;: scales.utils.LeftLike[Item,scales.utils.Tree[Item,Section,CC]], Section, CC[X] &lt;: scala.collection.IndexedSeqLike[X,CC[X]]](item: Item)scales.utils.package.ItemOrTree[Item,Section,CC]">item</a><span title="(item: scales.xml.XmlItem)scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" class="delimiter">[</span><a href="#11998" title="scales.xml.XmlItem">XmlItem</a>, <a href="#11994" title="scales.xml.Elem">Elem</a>, <a href="../utils/ImmutableArray.scala.html#10380" title="XmlTypes.this.XCC">XCC</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#111290" title="scales.xml.XmlItem">child</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l283"></a><span id="l283">			       <span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l284"></a><span id="l284">  <span class="delimiter">}</span></span>
<a href="l285"></a><span id="l285"><span class="comment">/*    path.modify { focus =&gt;</span>
<a href="l286"></a><span id="l286">    </span>
<a href="l287"></a><span id="l287">      val parent = focus.right.get</span>
<a href="l288"></a><span id="l288">      Right(Tree(parent.section,</span>
<a href="l289"></a><span id="l289">        parent.children :+ item[XmlItem, Elem, XCC](child)))</span>
<a href="l290"></a><span id="l290">    }</span>
<a href="l291"></a><span id="l291">*/</span></span>
<a href="l292"></a><span id="l292"><span class="delimiter">}</span></span>
<a href="l293"></a><span id="l293"></span>
<a href="l294"></a><span id="l294"><span class="comment">/**</span>
<a href="l295"></a><span id="l295"> * Attributes can only work with either a prefixed qname or an empty ns name</span>
<a href="l296"></a><span id="l296"> */</span></span>
<a href="l297"></a><span id="l297">case <span class="keyword">class</span> <a title="class Attribute extends java.lang.Object with ScalaObject with Product with Serializable" id="116555">Attribute</a><a href="#116555" title="ScalaObject" class="delimiter">(</a><a title="scales.xml.package.AttributeQName" id="87914">name</a>: <a href="../utils/EitherLike.scala.html#10328" title="scales.xml.package.AttributeQName">AttributeQName</a>, <a title="String" id="87915">value</a>: <span title="String">String</span><span class="delimiter">)</span></span>
<a href="l298"></a><span id="l298"></span>
<a href="l299"></a><span id="l299"><span class="comment">/**</span>
<a href="l300"></a><span id="l300"> * Allows easy patterns for attribute values</span>
<a href="l301"></a><span id="l301"> */</span></span>
<a href="l302"></a><span id="l302"><span class="keyword">object</span> <a title="object scales.xml.Attr" id="11989">Attr</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l303"></a><span id="l303">  <span class="keyword">def</span> <a title="(attr: scales.xml.Attribute)Some[String]" id="113886">unapply</a><span class="delimiter">(</span><a title="scales.xml.Attribute" id="113888">attr</a>: <a href="#116555" title="scales.xml.Attribute">Attribute</a><span class="delimiter">)</span> = <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#113888" title="scales.xml.Attribute">attr</a>.<a href="#87915" title="=&gt; String">value</a><span class="delimiter">)</span></span>
<a href="l304"></a><span id="l304"><span class="delimiter">}</span></span>
<a href="l305"></a><span id="l305"></span>
<a href="l306"></a><span id="l306"><span class="comment">/**</span>
<a href="l307"></a><span id="l307"> * Basis for typed pull api</span>
<a href="l308"></a><span id="l308"> */</span></span>
<a href="l309"></a><span id="l309"><span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait XmlEvent extends java.lang.Object" id="11991">XmlEvent</a></span>
<a href="l310"></a><span id="l310"></span>
<a href="l311"></a><span id="l311"><span class="comment">/**</span>
<a href="l312"></a><span id="l312"> * The namespaces map refers to sax startPrefixMapping events before this element.  These are used</span>
<a href="l313"></a><span id="l313"> * in order to properly write the same XML back out, otherwise we end up with new xmlns:pre declarations</span>
<a href="l314"></a><span id="l314"> * for each step.</span>
<a href="l315"></a><span id="l315"> *</span>
<a href="l316"></a><span id="l316"> * The namespaces map may of course contain a DefaultNamespace.</span>
<a href="l317"></a><span id="l317"> *</span>
<a href="l318"></a><span id="l318"> * QName -&gt; Attribute as the map functions need the lowest QName to search for not an either</span>
<a href="l319"></a><span id="l319"> *</span>
<a href="l320"></a><span id="l320"> * @author Chris</span>
<a href="l321"></a><span id="l321"> *</span>
<a href="l322"></a><span id="l322"> */</span></span>
<a href="l323"></a><span id="l323"></span>
<a href="l324"></a><span id="l324"><span class="keyword">import</span> <a href="ScalesXml.scala.html#11813" title="object scales.xml.ScalesXml">ScalesXml</a>._</span>
<a href="l325"></a><span id="l325"><span class="keyword">import</span> xml._</span>
<a href="l326"></a><span id="l326"></span>
<a href="l327"></a><span id="l327"><span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait Elem extends java.lang.Object with scales.xml.XmlEvent with ScalaObject" id="11994">Elem</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11991" title="scales.xml.XmlEvent">XmlEvent</a> <span class="delimiter">{</span></span>
<a href="l328"></a><span id="l328">  <span class="keyword">val</span> <a title="=&gt; scales.xml.QName" id="88394">name</a> : <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a></span>
<a href="l329"></a><span id="l329">  <span class="keyword">val</span> <a title="=&gt; scales.xml.package.Attributes" id="88395">attributes</a> : <a href="../utils/ListSet.scala.html#10456" title="scales.xml.package.Attributes">Attributes</a></span>
<a href="l330"></a><span id="l330">  <span class="keyword">val</span> <a title="=&gt; scala.collection.immutable.Map[String,String]" id="88396">namespaces</a> : <span title="scala.collection.immutable.Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span></span>
<a href="l331"></a><span id="l331"></span>
<a href="l332"></a><span id="l332">  <span class="keyword">def</span> <a title="(name: scales.xml.QName, attributes: scales.xml.package.Attributes, namespaces: scala.collection.immutable.Map[String,String])(implicit fromParser: scales.xml.FromParser)scales.xml.Elem" id="88397">copy</a><span class="delimiter">(</span><a title="scales.xml.QName" id="96965">name</a>: <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a> = <a href="#96965" title="scales.xml.QName">name</a>, <a title="scales.xml.package.Attributes" id="96966">attributes</a>: <a href="../utils/ListSet.scala.html#10456" title="scales.xml.package.Attributes">Attributes</a> = <a href="#96966" title="scales.xml.package.Attributes">attributes</a>, <a title="scala.collection.immutable.Map[String,String]" id="96967">namespaces</a>: <span title="scala.collection.immutable.Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <a href="#96967" title="scala.collection.immutable.Map[String,String]">namespaces</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.FromParser" id="96963">fromParser</a> : <a href="#11984" title="scales.xml.FromParser">FromParser</a><span class="delimiter">)</span> : <a href="#11994" title="scales.xml.Elem">Elem</a></span>
<a href="l333"></a><span id="l333"></span>
<a href="l334"></a><span id="l334">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="88398">equals</a><span class="delimiter">(</span> <a title="Any" id="113897">other</a> : <span title="Any">Any</span> <span class="delimiter">)</span> = <a href="#113897" title="Any">other</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span></span>
<a href="l335"></a><span id="l335">    <span class="keyword">case</span> <a title="Boolean" id="113900">o</a> : <a href="#11994" title="scales.xml.Elem">Elem</a> =&gt; </span>
<a href="l336"></a><span id="l336">      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#88394" title="=&gt; scales.xml.QName">name</a> <a href="QName.scala.html#87942" title="(other: scales.xml.QName)Boolean">===</a> <a href="#113900" title="scales.xml.Elem">o</a>.<a href="#88394" title="=&gt; scales.xml.QName">name</a><span class="delimiter">)</span> <span class="comment">// exact match needed?? </span></span>
<a href="l337"></a><span id="l337">	  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#88395" title="=&gt; scales.xml.package.Attributes">attributes</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#113900" title="scales.xml.Elem">o</a>.<a href="#88395" title="=&gt; scales.xml.package.Attributes">attributes</a><span class="delimiter">)</span></span>
<a href="l338"></a><span id="l338">	  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#88396" title="=&gt; scala.collection.immutable.Map[String,String]">namespaces</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#113900" title="scales.xml.Elem">o</a>.<a href="#88396" title="=&gt; scala.collection.immutable.Map[String,String]">namespaces</a><span class="delimiter">)</span> <span class="delimiter">)</span></span>
<a href="l339"></a><span id="l339">	<span title="Boolean(true)" class="keyword">true</span></span>
<a href="l340"></a><span id="l340">      <span class="keyword">else</span></span>
<a href="l341"></a><span id="l341">	<span title="Boolean(false)" class="keyword">false</span></span>
<a href="l342"></a><span id="l342">    <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span></span>
<a href="l343"></a><span id="l343">  <span class="delimiter">}</span></span>
<a href="l344"></a><span id="l344"></span>
<a href="l345"></a><span id="l345">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="88399">hashCode</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Int">Int</span> = <span class="delimiter">{</span></span>
<a href="l346"></a><span id="l346">    <span class="keyword">var</span> <a title="Int" id="113910">hs</a> = <span title="Int(1)" class="int">1</span></span>
<a href="l347"></a><span id="l347">    <a href="#113910" title="Int">hs</a> = <span class="delimiter">(</span><a href="#113910" title="Int">hs</a> <span title="(x: Int)Int">*</span> <span title="Int(31)" class="int">31</span><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <a href="#88394" title="=&gt; scales.xml.QName">name</a>.<a href="QName.scala.html#87945" title="()Int">hashCode</a></span>
<a href="l348"></a><span id="l348">    <a href="#113910" title="Int">hs</a> = <span class="delimiter">(</span><a href="#113910" title="Int">hs</a> <span title="(x: Int)Int">*</span> <span title="Int(31)" class="int">31</span><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <span class="delimiter">(</span></span>
<a href="l349"></a><span id="l349">      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#12419" title="=&gt; scales.utils.ListSet[scales.xml.Attribute]">emptyAttributes</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#88395" title="=&gt; scales.xml.package.Attributes">attributes</a><span class="delimiter">)</span></span>
<a href="l350"></a><span id="l350">	<a href="#12423" title="=&gt; Int">emptyAttributesHash</a> <span class="comment">// don't do it more than once</span></span>
<a href="l351"></a><span id="l351">      <span class="keyword">else</span></span>
<a href="l352"></a><span id="l352">	<a href="#88395" title="=&gt; scales.xml.package.Attributes">attributes</a>.<span title="()Int">hashCode</span></span>
<a href="l353"></a><span id="l353">      <span class="delimiter">)</span></span>
<a href="l354"></a><span id="l354">    <a href="#113910" title="Int">hs</a> = <span class="delimiter">(</span><a href="#113910" title="Int">hs</a> <span title="(x: Int)Int">*</span> <span title="Int(31)" class="int">31</span><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <span class="delimiter">(</span></span>
<a href="l355"></a><span id="l355">      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#88396" title="=&gt; scala.collection.immutable.Map[String,String]">namespaces</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#12421" title="=&gt; scala.collection.immutable.Map[String,String]">emptyNamespaces</a><span class="delimiter">)</span></span>
<a href="l356"></a><span id="l356">	<a href="#12425" title="=&gt; Int">emptyNamespacesHash</a> <span class="comment">// don't do it more than once</span></span>
<a href="l357"></a><span id="l357">      <span class="keyword">else</span></span>
<a href="l358"></a><span id="l358">	<a href="#88396" title="=&gt; scala.collection.immutable.Map[String,String]">namespaces</a>.<span title="()Int">hashCode</span></span>
<a href="l359"></a><span id="l359">      <span class="delimiter">)</span></span>
<a href="l360"></a><span id="l360"></span>
<a href="l361"></a><span id="l361">    <a href="#113910" title="Int">hs</a>    </span>
<a href="l362"></a><span id="l362">  <span class="delimiter">}</span></span>
<a href="l363"></a><span id="l363"></span>
<a href="l364"></a><span id="l364"><span class="delimiter">}</span></span>
<a href="l365"></a><span id="l365"></span>
<a href="l366"></a><span id="l366"><span class="keyword">object</span> <a title="object scales.xml.Elem" id="11995">Elem</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l367"></a><span id="l367">  <span class="keyword">def</span> <a title="(namei: scales.xml.QName, attributesi: scales.xml.package.Attributes, namespacesi: scala.collection.immutable.Map[String,String])(implicit fromParser: scales.xml.FromParser)scales.xml.Elem" id="88402">apply</a><span class="delimiter">(</span><a title="scales.xml.QName" id="88404">namei</a>: <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a>, <a title="scales.xml.package.Attributes" id="88409">attributesi</a>: <a href="../utils/ListSet.scala.html#10456" title="scales.xml.package.Attributes">Attributes</a> = <a href="#12419" title="=&gt; scales.utils.ListSet[scales.xml.Attribute]">emptyAttributes</a>, <a title="scala.collection.immutable.Map[String,String]" id="88410">namespacesi</a>: <span title="scala.collection.immutable.Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <a href="#12421" title="=&gt; scala.collection.immutable.Map[String,String]">emptyNamespaces</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.FromParser" id="88407">fromParser</a> : <a href="#11984" title="scales.xml.FromParser">FromParser</a><span class="delimiter">)</span> : <a href="#11994" title="scales.xml.Elem">Elem</a> = <a href="#114654" title="java.lang.Object with scales.xml.Elem{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scales.xml.Elem" id="114654">Elem</a> <span class="delimiter">{</span></span>
<a href="l368"></a><span id="l368">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#88407" title="scales.xml.FromParser">fromParser</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#12404" title="=&gt; scales.xml.package.NotFromParserO.type">NotFromParser</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l369"></a><span id="l369">      <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#88404" title="scales.xml.QName">namei</a>.<a href="QName.scala.html#87934" title="=&gt; Option[String]">prefix</a>.<span title="(f: String =&gt; Boolean)Option[Boolean]">map</span> <span class="delimiter">{</span> <a title="String" id="114739">p</a> =&gt;</span>
<a href="l370"></a><span id="l370">	<span class="delimiter">(</span><a href="#114739" title="String">p</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="QName.scala.html#11793" title="object scales.xml.PrefixedNamespace">PrefixedNamespace</a>.<a href="QName.scala.html#88377" title="=&gt; java.lang.String">xmlPRE</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span></span>
<a href="l371"></a><span id="l371">				 <span class="delimiter">(</span><a href="#114739" title="String">p</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="QName.scala.html#11793" title="object scales.xml.PrefixedNamespace">PrefixedNamespace</a>.<a href="QName.scala.html#88375" title="=&gt; java.lang.String">xmlnsPRE</a><span class="delimiter">)</span></span>
<a href="l372"></a><span id="l372">			       <span class="delimiter">}</span>.<span title="(default: =&gt; Boolean)Boolean">getOrElse</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span>, <span title="java.lang.String(&quot;Prefixes (xmlns, xml) are not allowed for elements&quot;)" class="string">&quot;Prefixes (xmlns, xml) are not allowed for elements&quot;</span><span class="delimiter">)</span></span>
<a href="l373"></a><span id="l373">    <span class="delimiter">}</span></span>
<a href="l374"></a><span id="l374"></span>
<a href="l375"></a><span id="l375">    <span class="keyword">val</span> <a title="scales.xml.QName" id="114658">name</a> = <a href="#88404" title="scales.xml.QName">namei</a></span>
<a href="l376"></a><span id="l376">    <span class="keyword">val</span> <a title="scales.xml.package.Attributes" id="114660">attributes</a> = <a href="#88409" title="scales.xml.package.Attributes">attributesi</a></span>
<a href="l377"></a><span id="l377">    <span class="keyword">val</span> <a title="scala.collection.immutable.Map[String,String]" id="114662">namespaces</a> = <a href="#88410" title="scala.collection.immutable.Map[String,String]">namespacesi</a></span>
<a href="l378"></a><span id="l378"></span>
<a href="l379"></a><span id="l379">    <span class="keyword">def</span> <a title="(name: scales.xml.QName, attributes: scales.xml.package.Attributes, namespaces: scala.collection.immutable.Map[String,String])(implicit fromParseri: scales.xml.FromParser)scales.xml.Elem" id="114664">copy</a><span class="delimiter">(</span><a title="scales.xml.QName" id="114670">name</a>: <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a> = <a href="#114670" title="scales.xml.QName">name</a>, <a title="scales.xml.package.Attributes" id="114671">attributes</a>: <a href="../utils/ListSet.scala.html#10456" title="scales.xml.package.Attributes">Attributes</a> = <a href="#114671" title="scales.xml.package.Attributes">attributes</a>, <a title="scala.collection.immutable.Map[String,String]" id="114672">namespaces</a>: <span title="scala.collection.immutable.Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <a href="#114672" title="scala.collection.immutable.Map[String,String]">namespaces</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.FromParser" id="114668">fromParseri</a> : <a href="#11984" title="scales.xml.FromParser">FromParser</a><span class="delimiter">)</span> : <a href="#11994" title="scales.xml.Elem">Elem</a> =</span>
<a href="l380"></a><span id="l380">      <a href="#88402" title="(namei: scales.xml.QName, attributesi: scales.xml.package.Attributes, namespacesi: scala.collection.immutable.Map[String,String])(implicit fromParser: scales.xml.FromParser)scales.xml.Elem">apply</a><span class="delimiter">(</span><a href="#114670" title="scales.xml.QName">name</a>, <a href="#114671" title="scales.xml.package.Attributes">attributes</a>, <a href="#114672" title="scala.collection.immutable.Map[String,String]">namespaces</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#114668" title="scales.xml.FromParser">fromParseri</a><span class="delimiter">)</span></span>
<a href="l381"></a><span id="l381"></span>
<a href="l382"></a><span id="l382">  <span class="delimiter">}</span></span>
<a href="l383"></a><span id="l383"></span>
<a href="l384"></a><span id="l384">  <span class="keyword">def</span> <a title="(el: scales.xml.Elem)Some[(scales.xml.QName, scales.xml.package.Attributes, scala.collection.immutable.Map[String,String])]" id="88403">unapply</a><span class="delimiter">(</span> <a title="scales.xml.Elem" id="110880">el</a> : <a href="#11994" title="scales.xml.Elem">Elem</a><span class="delimiter">)</span> = <span title="(x: (scales.xml.QName, scales.xml.package.Attributes, scala.collection.immutable.Map[String,String]))Some[(scales.xml.QName, scales.xml.package.Attributes, scala.collection.immutable.Map[String,String])]">Some</span><span class="delimiter">(</span><span title="(_1: scales.xml.QName, _2: scales.xml.package.Attributes, _3: scala.collection.immutable.Map[String,String])(scales.xml.QName, scales.xml.package.Attributes, scala.collection.immutable.Map[String,String])" class="delimiter">(</span><a href="#110880" title="scales.xml.Elem">el</a>.<a href="#88394" title="=&gt; scales.xml.QName">name</a>, <a href="#110880" title="scales.xml.Elem">el</a>.<a href="#88395" title="=&gt; scales.xml.package.Attributes">attributes</a>, <a href="#110880" title="scales.xml.Elem">el</a>.<a href="#88396" title="=&gt; scala.collection.immutable.Map[String,String]">namespaces</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l385"></a><span id="l385"><span class="delimiter">}</span></span>
<a href="l386"></a><span id="l386"><span class="comment">/*</span>
<a href="l387"></a><span id="l387">case class Elem(name: QName, attributes: ListSet[Attribute] = emptyAttributes, namespaces: Map[String, String] = emptyNamespaces)(implicit fromParser : FromParser) extends XmlEvent {</span>
<a href="l388"></a><span id="l388">  if (fromParser eq NotFromParser) {</span>
<a href="l389"></a><span id="l389">    require(!(name.prefix.map { p =&gt;</span>
<a href="l390"></a><span id="l390">      (p eq PrefixedNamespace.xmlPRE) ||</span>
<a href="l391"></a><span id="l391">      (p eq PrefixedNamespace.xmlnsPRE)</span>
<a href="l392"></a><span id="l392">    }.getOrElse(false)), &quot;Prefixes (xmlns, xml) are not allowed for elements&quot;)</span>
<a href="l393"></a><span id="l393">  }</span>
<a href="l394"></a><span id="l394">}</span>
<a href="l395"></a><span id="l395">*/</span></span>
<a href="l396"></a><span id="l396"></span>
<a href="l397"></a><span id="l397"><span class="comment">/**</span>
<a href="l398"></a><span id="l398"> * Allows quick lookups without creating elements, only use via copy and then don't change it</span>
<a href="l399"></a><span id="l399"> */</span> </span>
<a href="l400"></a><span id="l400"><span class="keyword">class</span> <a title="class ElemKey extends java.lang.Object with ScalaObject" id="11997">ElemKey</a> <a href="#11997" title="ScalaObject" class="delimiter">{</a></span>
<a href="l401"></a><span id="l401">  <span class="keyword">var</span> <a title="scales.xml.QName" id="89151">name</a> : <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a> = _</span>
<a href="l402"></a><span id="l402">  <span class="keyword">var</span> <a title="Int" id="89154">nameHash</a> : <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span><span class="comment">// incase it can be passed in</span></span>
<a href="l403"></a><span id="l403">  <span class="keyword">var</span> <a title="scales.xml.package.Attributes" id="89157">attributes</a> : <a href="../utils/ListSet.scala.html#10456" title="scales.xml.package.Attributes">Attributes</a> = _</span>
<a href="l404"></a><span id="l404">  <span class="keyword">var</span> <a title="scala.collection.immutable.Map[String,String]" id="89160">namespaces</a> : <span title="scala.collection.immutable.Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = _</span>
<a href="l405"></a><span id="l405"></span>
<a href="l406"></a><span id="l406">  <span class="keyword">def</span> <a title="(name: scales.xml.QName, attributes: scales.xml.package.Attributes, namespaces: scala.collection.immutable.Map[String,String], nameHash: Int)scales.xml.ElemKey" id="89162">set</a><span class="delimiter">(</span><a title="scales.xml.QName" id="90645">name</a> : <a href="QName.scala.html#11797" title="scales.xml.QName">QName</a>, <a title="scales.xml.package.Attributes" id="90646">attributes</a> : <a href="../utils/ListSet.scala.html#10456" title="scales.xml.package.Attributes">Attributes</a>, <a title="scala.collection.immutable.Map[String,String]" id="90647">namespaces</a> : <span title="scala.collection.immutable.Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span>, <a title="Int" id="90651">nameHash</a> : <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> = <span class="delimiter">{</span></span>
<a href="l407"></a><span id="l407">    <a href="#11997" title="ElemKey.this.type" class="keyword">this</a>.<a href="#89151" title="(x$1: scales.xml.QName)Unit">name</a> = <a href="#90645" title="scales.xml.QName">name</a></span>
<a href="l408"></a><span id="l408">    <a href="#11997" title="ElemKey.this.type" class="keyword">this</a>.<a href="#89157" title="(x$1: scales.xml.package.Attributes)Unit">attributes</a> = <a href="#90646" title="scales.xml.package.Attributes">attributes</a></span>
<a href="l409"></a><span id="l409">    <a href="#11997" title="ElemKey.this.type" class="keyword">this</a>.<a href="#89160" title="(x$1: scala.collection.immutable.Map[String,String])Unit">namespaces</a> = <a href="#90647" title="scala.collection.immutable.Map[String,String]">namespaces</a></span>
<a href="l410"></a><span id="l410"></span>
<a href="l411"></a><span id="l411">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#90651" title="Int">nameHash</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span></span>
<a href="l412"></a><span id="l412">      <a href="#11997" title="ElemKey.this.type" class="keyword">this</a>.<a href="#89154" title="(x$1: Int)Unit">nameHash</a> = <a href="#90645" title="scales.xml.QName">name</a>.<a href="QName.scala.html#87945" title="()Int">hashCode</a></span>
<a href="l413"></a><span id="l413">    <span class="keyword">else</span></span>
<a href="l414"></a><span id="l414">      <a href="#11997" title="ElemKey.this.type" class="keyword">this</a>.<a href="#89154" title="(x$1: Int)Unit">nameHash</a> = <a href="#90651" title="Int">nameHash</a></span>
<a href="l415"></a><span id="l415">    </span>
<a href="l416"></a><span id="l416">    <a href="#89166" title="(x$1: Int)Unit">lastHash</a> = <span title="Int(0)" class="int">0</span></span>
<a href="l417"></a><span id="l417">    <span class="comment">// do it now</span></span>
<a href="l418"></a><span id="l418">    <a href="#89168" title="()Int">hashCode</a></span>
<a href="l419"></a><span id="l419">    <a href="#11997" title="scales.xml.ElemKey" class="keyword">this</a></span>
<a href="l420"></a><span id="l420">  <span class="delimiter">}</span></span>
<a href="l421"></a><span id="l421"></span>
<a href="l422"></a><span id="l422">  <span class="keyword">def</span> <a title="=&gt; scales.xml.ElemKey" id="89163">copy</a> = <span class="delimiter">{</span></span>
<a href="l423"></a><span id="l423">    <span class="keyword">val</span> <a title="scales.xml.ElemKey" id="89313">r</a> = <span title="scales.xml.ElemKey" class="keyword">new</span> <a href="#11997" title="scales.xml.ElemKey">ElemKey</a></span>
<a href="l424"></a><span id="l424">    <a href="#89313" title="scales.xml.ElemKey">r</a>.<a href="#89151" title="(x$1: scales.xml.QName)Unit">name</a> = <a href="#89151" title="=&gt; scales.xml.QName">name</a></span>
<a href="l425"></a><span id="l425">    <a href="#89313" title="scales.xml.ElemKey">r</a>.<a href="#89157" title="(x$1: scales.xml.package.Attributes)Unit">attributes</a> = <a href="#89157" title="=&gt; scales.xml.package.Attributes">attributes</a></span>
<a href="l426"></a><span id="l426">    <a href="#89313" title="scales.xml.ElemKey">r</a>.<a href="#89160" title="(x$1: scala.collection.immutable.Map[String,String])Unit">namespaces</a> = <a href="#89160" title="=&gt; scala.collection.immutable.Map[String,String]">namespaces</a></span>
<a href="l427"></a><span id="l427">    <a href="#89313" title="scales.xml.ElemKey">r</a>.<a href="#89166" title="(x$1: Int)Unit">lastHash</a> = <a href="#89166" title="=&gt; Int">lastHash</a></span>
<a href="l428"></a><span id="l428">    <a href="#89313" title="scales.xml.ElemKey">r</a></span>
<a href="l429"></a><span id="l429">  <span class="delimiter">}</span></span>
<a href="l430"></a><span id="l430"></span>
<a href="l431"></a><span id="l431">  <span class="comment">/**</span>
<a href="l432"></a><span id="l432">   * Why are we doing eq's as well? Defaults and caching, and having to recast every time when we already know what we are..</span>
<a href="l433"></a><span id="l433">   */</span> </span>
<a href="l434"></a><span id="l434">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="89164">equals</a><span class="delimiter">(</span> <a title="Any" id="114753">other</a> : <span title="Any">Any</span> <span class="delimiter">)</span> = <a href="#114753" title="Any">other</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span></span>
<a href="l435"></a><span id="l435">    <span class="keyword">case</span> <a title="Boolean" id="114756">oq</a> : <a href="#11997" title="scales.xml.ElemKey">ElemKey</a> =&gt;</span>
<a href="l436"></a><span id="l436">      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#89166" title="=&gt; Int">lastHash</a> <span title="(x: Int)Boolean">==</span> <a href="#114756" title="scales.xml.ElemKey">oq</a>.<a href="#89166" title="=&gt; Int">lastHash</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span></span>
<a href="l437"></a><span id="l437">	<span class="delimiter">(</span><span class="delimiter">(</span><a href="#89151" title="=&gt; scales.xml.QName">name</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#114756" title="scales.xml.ElemKey">oq</a>.<a href="#89151" title="=&gt; scales.xml.QName">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#89151" title="=&gt; scales.xml.QName">name</a> <a href="QName.scala.html#87942" title="(other: scales.xml.QName)Boolean">===</a> <a href="#114756" title="scales.xml.ElemKey">oq</a>.<a href="#89151" title="=&gt; scales.xml.QName">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> </span>
<a href="l438"></a><span id="l438">	  <span class="delimiter">(</span><span class="delimiter">(</span><a href="#89157" title="=&gt; scales.xml.package.Attributes">attributes</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#114756" title="scales.xml.ElemKey">oq</a>.<a href="#89157" title="=&gt; scales.xml.package.Attributes">attributes</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#89157" title="=&gt; scales.xml.package.Attributes">attributes</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#114756" title="scales.xml.ElemKey">oq</a>.<a href="#89157" title="=&gt; scales.xml.package.Attributes">attributes</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span></span>
<a href="l439"></a><span id="l439">	  <span class="delimiter">(</span><span class="delimiter">(</span><a href="#89160" title="=&gt; scala.collection.immutable.Map[String,String]">namespaces</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#114756" title="scales.xml.ElemKey">oq</a>.<a href="#89160" title="=&gt; scala.collection.immutable.Map[String,String]">namespaces</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#89160" title="=&gt; scala.collection.immutable.Map[String,String]">namespaces</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#114756" title="scales.xml.ElemKey">oq</a>.<a href="#89160" title="=&gt; scala.collection.immutable.Map[String,String]">namespaces</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// only checks after running equals == instanceof checks ++</span></span>
<a href="l440"></a><span id="l440">	<span class="delimiter">)</span></span>
<a href="l441"></a><span id="l441">	<span title="Boolean(true)" class="keyword">true</span></span>
<a href="l442"></a><span id="l442">      <span class="keyword">else</span></span>
<a href="l443"></a><span id="l443">	<span title="Boolean(false)" class="keyword">false</span></span>
<a href="l444"></a><span id="l444">    <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; scales.utils.<a href="../utils/package.scala.html#12052" title="(str: String)Nothing">error</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot compare an ElemKey to anything else other than a ElemKey&quot;)" class="string">&quot;Cannot compare an ElemKey to anything else other than a ElemKey&quot;</span><span class="delimiter">)</span></span>
<a href="l445"></a><span id="l445">  <span class="delimiter">}</span></span>
<a href="l446"></a><span id="l446"></span>
<a href="l447"></a><span id="l447">  <span class="comment">/**</span>
<a href="l448"></a><span id="l448">   * When non 0 it has been calculated</span>
<a href="l449"></a><span id="l449">   */</span> </span>
<a href="l450"></a><span id="l450">  <span class="keyword">var</span> <a title="Int" id="89166">lastHash</a> : <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span></span>
<a href="l451"></a><span id="l451"></span>
<a href="l452"></a><span id="l452">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="89168">hashCode</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Int">Int</span> = <span class="delimiter">{</span></span>
<a href="l453"></a><span id="l453">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#89166" title="=&gt; Int">lastHash</a> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#89166" title="=&gt; Int">lastHash</a></span>
<a href="l454"></a><span id="l454"></span>
<a href="l455"></a><span id="l455">    <span class="keyword">var</span> <a title="Int" id="114772">hs</a> = <span title="Int(1)" class="int">1</span></span>
<a href="l456"></a><span id="l456">    <a href="#114772" title="Int">hs</a> = <span class="delimiter">(</span><a href="#114772" title="Int">hs</a> <span title="(x: Int)Int">*</span> <span title="Int(31)" class="int">31</span><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <a href="#89154" title="=&gt; Int">nameHash</a></span>
<a href="l457"></a><span id="l457">    <a href="#114772" title="Int">hs</a> = <span class="delimiter">(</span><a href="#114772" title="Int">hs</a> <span title="(x: Int)Int">*</span> <span title="Int(31)" class="int">31</span><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <span class="delimiter">(</span></span>
<a href="l458"></a><span id="l458">      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#12419" title="=&gt; scales.utils.ListSet[scales.xml.Attribute]">emptyAttributes</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#89157" title="=&gt; scales.xml.package.Attributes">attributes</a><span class="delimiter">)</span></span>
<a href="l459"></a><span id="l459">	<a href="#12423" title="=&gt; Int">emptyAttributesHash</a> <span class="comment">// don't do it more than once</span></span>
<a href="l460"></a><span id="l460">      <span class="keyword">else</span></span>
<a href="l461"></a><span id="l461">	<a href="#89157" title="=&gt; scales.xml.package.Attributes">attributes</a>.<span title="()Int">hashCode</span></span>
<a href="l462"></a><span id="l462">      <span class="delimiter">)</span></span>
<a href="l463"></a><span id="l463">    <a href="#114772" title="Int">hs</a> = <span class="delimiter">(</span><a href="#114772" title="Int">hs</a> <span title="(x: Int)Int">*</span> <span title="Int(31)" class="int">31</span><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <span class="delimiter">(</span></span>
<a href="l464"></a><span id="l464">      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#89160" title="=&gt; scala.collection.immutable.Map[String,String]">namespaces</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#12421" title="=&gt; scala.collection.immutable.Map[String,String]">emptyNamespaces</a><span class="delimiter">)</span></span>
<a href="l465"></a><span id="l465">	<a href="#12425" title="=&gt; Int">emptyNamespacesHash</a> <span class="comment">// don't do it more than once</span></span>
<a href="l466"></a><span id="l466">      <span class="keyword">else</span></span>
<a href="l467"></a><span id="l467">	<a href="#89160" title="=&gt; scala.collection.immutable.Map[String,String]">namespaces</a>.<span title="()Int">hashCode</span></span>
<a href="l468"></a><span id="l468">      <span class="delimiter">)</span></span>
<a href="l469"></a><span id="l469"></span>
<a href="l470"></a><span id="l470">    <a href="#89166" title="(x$1: Int)Unit">lastHash</a> = <a href="#114772" title="Int">hs</a></span>
<a href="l471"></a><span id="l471">    <a href="#114772" title="Int">hs</a>    </span>
<a href="l472"></a><span id="l472">  <span class="delimiter">}</span></span>
<a href="l473"></a><span id="l473"><span class="delimiter">}</span></span>
<a href="l474"></a><span id="l474"></span>
<a href="l475"></a><span id="l475"><span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait XmlItem extends java.lang.Object with scales.utils.LeftLike[scales.xml.XmlItem,scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]] with scales.xml.XmlEvent with ScalaObject" id="11998">XmlItem</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../utils/EitherLike.scala.html#10331" title="scales.utils.LeftLike[scales.xml.XmlItem,scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">LeftLike</a><span class="delimiter">[</span>XmlItem, Tree<span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span><span class="delimiter">]</span> <span class="keyword">with</span> <a href="#11991" title="scales.xml.XmlEvent">XmlEvent</a> <span class="delimiter">{</span></span>
<a href="l476"></a><span id="l476">  <span class="keyword">val</span> <a title="=&gt; String" id="89670">value</a>: <span title="String">String</span></span>
<a href="l477"></a><span id="l477"></span>
<a href="l478"></a><span id="l478">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="89671">hashCode</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Int">Int</span> = </span>
<a href="l479"></a><span id="l479">    <a href="#89670" title="=&gt; String">value</a>.<span title="()Int">hashCode</span></span>
<a href="l480"></a><span id="l480"></span>
<a href="l481"></a><span id="l481">  <span class="keyword">def</span> <a title="(other: Any, clazz: Class[_])Boolean" id="89672">doEquals</a><span class="delimiter">(</span> <a title="Any" id="115524">other</a> : <span title="Any">Any</span>, <a title="Class[_]" id="115525">clazz</a> : <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span> <span class="delimiter">)</span> = </span>
<a href="l482"></a><span id="l482">    <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#115525" title="Class[_]">clazz</a>.<span title="(x$1: Any)Boolean">isInstance</span><span class="delimiter">(</span><a href="#115524" title="Any">other</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l483"></a><span id="l483">      <span class="keyword">val</span> <a title="scales.xml.XmlItem" id="115530">o</a> = <a href="#115524" title="Any">other</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scales.xml.XmlItem" class="delimiter">[</span><a href="#11998" title="scales.xml.XmlItem">XmlItem</a><span class="delimiter">]</span></span>
<a href="l484"></a><span id="l484">      <span class="delimiter">(</span><a href="#115530" title="scales.xml.XmlItem">o</a>.<a href="#89670" title="=&gt; String">value</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#89670" title="=&gt; String">value</a><span class="delimiter">)</span></span>
<a href="l485"></a><span id="l485">    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span></span>
<a href="l486"></a><span id="l486"></span>
<a href="l487"></a><span id="l487"><span class="delimiter">}</span></span>
<a href="l488"></a><span id="l488"></span>
<a href="l489"></a><span id="l489">case <span class="keyword">class</span> <a title="class Text extends java.lang.Object with scales.xml.XmlItem with ScalaObject with Product with Serializable" id="116551">Text</a><a href="#116551" title="ScalaObject" class="delimiter">(</a><a title="String" id="97467">value</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11998" title="scales.xml.XmlItem">XmlItem</a></span>
<a href="l490"></a><span id="l490"></span>
<a href="l491"></a><span id="l491"><span class="comment">/**</span>
<a href="l492"></a><span id="l492"> * Comments aren't escaped and will throw a CommentCannotBeEncoded error if the contents cannot be serialized, xalan just tries to serialize directly which can't work.</span>
<a href="l493"></a><span id="l493"> *</span>
<a href="l494"></a><span id="l494"> * Note: Will throw if &quot;--&quot; is found in the value</span>
<a href="l495"></a><span id="l495"> */</span></span>
<a href="l496"></a><span id="l496"><span class="keyword">trait</span> <a title="trait Comment extends java.lang.Object with scales.xml.XmlItem with ScalaObject" id="12002">Comment</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11998" title="scales.xml.XmlItem">XmlItem</a> <span class="delimiter">{</span></span>
<a href="l497"></a><span id="l497">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="95652">equals</a><span class="delimiter">(</span> <a title="Any" id="115562">other</a> : <span title="Any">Any</span> <span class="delimiter">)</span> = <a href="#89672" title="(other: Any, clazz: Class[_])Boolean">doEquals</a><span class="delimiter">(</span><a href="#115562" title="Any">other</a>, <a href="#12003" title="object scales.xml.Comment">Comment</a>.<a href="#99103" title="=&gt; java.lang.Class[_ &lt;: scales.xml.Comment]">commentClass</a><span class="delimiter">)</span></span>
<a href="l498"></a><span id="l498"><span class="delimiter">}</span></span>
<a href="l499"></a><span id="l499"></span>
<a href="l500"></a><span id="l500"><span class="keyword">object</span> <a title="object scales.xml.Comment" id="12003">Comment</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l501"></a><span id="l501"></span>
<a href="l502"></a><span id="l502">  <span class="keyword">val</span> <a title="java.lang.Class[_ &lt;: scales.xml.Comment]" id="99103">commentClass</a> = <a href="#99105" title="(valuei: String)(implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.Comment">Comment</a><span class="delimiter">(</span><span title="java.lang.String(&quot;a&quot;)" class="string">&quot;a&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#113543" title="object scales.xml.package.IsFromParser">IsFromParser</a><span class="delimiter">)</span>.<span title="()java.lang.Class[_]">getClass</span></span>
<a href="l503"></a><span id="l503"></span>
<a href="l504"></a><span id="l504">  <span class="keyword">def</span> <a title="(valuei: String)(implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.Comment" id="99105">apply</a><span class="delimiter">(</span><a title="String" id="99107">valuei</a> : <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.FromParser" id="99108">fromParser</a> : <a href="#11984" title="scales.xml.FromParser">FromParser</a><span class="delimiter">)</span> = <a href="#99111" title="java.lang.Object with scales.xml.Comment{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scales.xml.Comment" id="99111">Comment</a> <span class="delimiter">{</span></span>
<a href="l505"></a><span id="l505">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#99108" title="scales.xml.FromParser">fromParser</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#12404" title="=&gt; scales.xml.package.NotFromParserO.type">NotFromParser</a><span class="delimiter">)</span> </span>
<a href="l506"></a><span id="l506">      <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#99107" title="String">valuei</a>.<span title="(x$1: java.lang.String)Int">indexOf</span><span class="delimiter">(</span><span title="java.lang.String(&quot;--&quot;)" class="string">&quot;--&quot;</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span>, <span title="java.lang.String(&quot;Comments cannot contain the sequence --&quot;)" class="string">&quot;Comments cannot contain the sequence --&quot;</span><span class="delimiter">)</span></span>
<a href="l507"></a><span id="l507"></span>
<a href="l508"></a><span id="l508">    <span class="keyword">val</span> <a title="String" id="99113">value</a> = <a href="#99107" title="String">valuei</a></span>
<a href="l509"></a><span id="l509">  <span class="delimiter">}</span></span>
<a href="l510"></a><span id="l510"></span>
<a href="l511"></a><span id="l511">  <span class="keyword">def</span> <a title="(cmt: scales.xml.Comment)Some[String]" id="99106">unapply</a><span class="delimiter">(</span><a title="scales.xml.Comment" id="106067">cmt</a> : <a href="#12002" title="scales.xml.Comment">Comment</a><span class="delimiter">)</span> = <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#106067" title="scales.xml.Comment">cmt</a>.<a href="#89670" title="=&gt; String">value</a><span class="delimiter">)</span></span>
<a href="l512"></a><span id="l512"><span class="delimiter">}</span></span>
<a href="l513"></a><span id="l513"></span>
<a href="l514"></a><span id="l514"><span class="comment">/**</span>
<a href="l515"></a><span id="l515"> * Might be tempting to use, but think twice, XOM removes it for a</span>
<a href="l516"></a><span id="l516">good reason, and I'm sorely tempted to, but I've worked with enough</span>
<a href="l517"></a><span id="l517">applications that really thought they needed it.</span>
<a href="l518"></a><span id="l518"> * CData serialization is dependent on the encoding, if your CData contains</span>
<a href="l519"></a><span id="l519">umlauts etc but you choose US-ACSII you will receive a</span>
<a href="l520"></a><span id="l520">CDataCannotBeEncoded for your efforts.  Choose not to use CData in the</span>
<a href="l521"></a><span id="l521">first place.</span>
<a href="l522"></a><span id="l522"> * Note: Will throw if given the CData end sequence</span>
<a href="l523"></a><span id="l523"> */</span></span>
<a href="l524"></a><span id="l524"><span class="keyword">trait</span> <a title="trait CData extends java.lang.Object with scales.xml.XmlItem with ScalaObject" id="12005">CData</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11998" title="scales.xml.XmlItem">XmlItem</a> <span class="delimiter">{</span></span>
<a href="l525"></a><span id="l525">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="95650">equals</a><span class="delimiter">(</span> <a title="Any" id="115575">other</a> : <span title="Any">Any</span> <span class="delimiter">)</span> = <a href="#89672" title="(other: Any, clazz: Class[_])Boolean">doEquals</a><span class="delimiter">(</span><a href="#115575" title="Any">other</a>, <a href="#12006" title="object scales.xml.CData">CData</a>.<a href="#99345" title="=&gt; java.lang.Class[_ &lt;: scales.xml.CData]">cdataClass</a><span class="delimiter">)</span></span>
<a href="l526"></a><span id="l526"><span class="delimiter">}</span></span>
<a href="l527"></a><span id="l527"></span>
<a href="l528"></a><span id="l528"><span class="keyword">object</span> <a title="object scales.xml.CData" id="12006">CData</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l529"></a><span id="l529">  <span class="keyword">val</span> <a title="java.lang.Class[_ &lt;: scales.xml.CData]" id="99345">cdataClass</a> = <a href="#99347" title="(valuei: String)(implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.CData">CData</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#113543" title="object scales.xml.package.IsFromParser">IsFromParser</a><span class="delimiter">)</span>.<span title="()java.lang.Class[_]">getClass</span></span>
<a href="l530"></a><span id="l530"></span>
<a href="l531"></a><span id="l531">  <span class="keyword">def</span> <a title="(valuei: String)(implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.CData" id="99347">apply</a><span class="delimiter">(</span><a title="String" id="99349">valuei</a> : <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.FromParser" id="99350">fromParser</a> : <a href="#11984" title="scales.xml.FromParser">FromParser</a><span class="delimiter">)</span> = <a href="#99353" title="java.lang.Object with scales.xml.CData{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scales.xml.CData" id="99353">CData</a> <span class="delimiter">{</span></span>
<a href="l532"></a><span id="l532">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#99350" title="scales.xml.FromParser">fromParser</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#12404" title="=&gt; scales.xml.package.NotFromParserO.type">NotFromParser</a><span class="delimiter">)</span></span>
<a href="l533"></a><span id="l533">      <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#99349" title="String">valuei</a>.<span title="(x$1: java.lang.String)Int">indexOf</span><span class="delimiter">(</span><span title="java.lang.String(&quot;]]&gt;&quot;)" class="string">&quot;]]&gt;&quot;</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span>, </span>
<a href="l534"></a><span id="l534">	<span title="java.lang.String(&quot;CData sections cannot contain the sequence ]]&gt;&quot;)" class="string">&quot;CData sections cannot contain the sequence ]]&gt;&quot;</span><span class="delimiter">)</span></span>
<a href="l535"></a><span id="l535"> </span>
<a href="l536"></a><span id="l536">    <span class="keyword">val</span> <a title="String" id="99355">value</a> = <a href="#99349" title="String">valuei</a></span>
<a href="l537"></a><span id="l537">  <span class="delimiter">}</span></span>
<a href="l538"></a><span id="l538"></span>
<a href="l539"></a><span id="l539">  <span class="keyword">def</span> <a title="(cmt: scales.xml.CData)Some[String]" id="99348">unapply</a><span class="delimiter">(</span><a title="scales.xml.CData" id="106059">cmt</a> : <a href="#12005" title="scales.xml.CData">CData</a><span class="delimiter">)</span> = <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#106059" title="scales.xml.CData">cmt</a>.<a href="#89670" title="=&gt; String">value</a><span class="delimiter">)</span></span>
<a href="l540"></a><span id="l540"><span class="delimiter">}</span></span>
<a href="l541"></a><span id="l541"></span>
<a href="l542"></a><span id="l542"><span class="keyword">trait</span> <a title="trait PI extends java.lang.Object with scales.xml.XmlItem with ScalaObject" id="12008">PI</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11998" title="scales.xml.XmlItem">XmlItem</a> <span class="delimiter">{</span></span>
<a href="l543"></a><span id="l543"></span>
<a href="l544"></a><span id="l544">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="95654">equals</a><span class="delimiter">(</span> <a title="Any" id="115588">other</a> : <span title="Any">Any</span> <span class="delimiter">)</span> = </span>
<a href="l545"></a><span id="l545">    <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#115588" title="Any">other</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#12008" title="scales.xml.PI">PI</a><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l546"></a><span id="l546">      <span class="keyword">val</span> <a title="scales.xml.PI" id="115591">o</a> = <a href="#115588" title="Any">other</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scales.xml.PI" class="delimiter">[</span><a href="#12008" title="scales.xml.PI">PI</a><span class="delimiter">]</span></span>
<a href="l547"></a><span id="l547">      <span class="delimiter">(</span><a href="#115591" title="scales.xml.PI">o</a>.<a href="#89670" title="=&gt; String">value</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#89670" title="=&gt; String">value</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#115591" title="scales.xml.PI">o</a>.<a href="#95656" title="=&gt; String">target</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#95656" title="=&gt; String">target</a><span class="delimiter">)</span></span>
<a href="l548"></a><span id="l548">    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span></span>
<a href="l549"></a><span id="l549"></span>
<a href="l550"></a><span id="l550">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="95655">hashCode</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Int">Int</span> = <span class="delimiter">{</span></span>
<a href="l551"></a><span id="l551">    <span class="keyword">var</span> <a title="Int" id="115601">hs</a> = <span title="Int(1)" class="int">1</span></span>
<a href="l552"></a><span id="l552">    <a href="#115601" title="Int">hs</a> = <span class="delimiter">(</span><a href="#115601" title="Int">hs</a> <span title="(x: Int)Int">*</span> <span title="Int(31)" class="int">31</span><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <a href="#89670" title="=&gt; String">value</a>.<span title="()Int">hashCode</span></span>
<a href="l553"></a><span id="l553">    <a href="#115601" title="Int">hs</a> = <span class="delimiter">(</span><a href="#115601" title="Int">hs</a> <span title="(x: Int)Int">*</span> <span title="Int(31)" class="int">31</span><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <a href="#95656" title="=&gt; String">target</a>.<span title="()Int">hashCode</span></span>
<a href="l554"></a><span id="l554">    <a href="#115601" title="Int">hs</a>    </span>
<a href="l555"></a><span id="l555">  <span class="delimiter">}</span></span>
<a href="l556"></a><span id="l556"></span>
<a href="l557"></a><span id="l557">  <span class="keyword">val</span> <a title="=&gt; String" id="95656">target</a> : <span title="String">String</span></span>
<a href="l558"></a><span id="l558"><span class="delimiter">}</span></span>
<a href="l559"></a><span id="l559"></span>
<a href="l560"></a><span id="l560"><span class="keyword">object</span> <a title="object scales.xml.PI" id="12009">PI</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l561"></a><span id="l561"></span>
<a href="l562"></a><span id="l562">  <span class="keyword">def</span> <a title="(targeti: String, valuei: String)(implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.PI" id="98544">apply</a><span class="delimiter">(</span><a title="String" id="98546">targeti</a> : <span title="String">String</span>, <a title="String" id="98547">valuei</a> : <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.FromParser" id="98548">fromParser</a> : <a href="#11984" title="scales.xml.FromParser">FromParser</a><span class="delimiter">)</span> = <a href="#98551" title="java.lang.Object with scales.xml.PI{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scales.xml.PI" id="98551">PI</a> <span class="delimiter">{</span></span>
<a href="l563"></a><span id="l563">    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#98548" title="scales.xml.FromParser">fromParser</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#12404" title="=&gt; scales.xml.package.NotFromParserO.type">NotFromParser</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l564"></a><span id="l564">      <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#98547" title="String">valuei</a>.<span title="(x$1: java.lang.String)Int">indexOf</span><span class="delimiter">(</span><span title="java.lang.String(&quot;?&gt;&quot;)" class="string">&quot;?&gt;&quot;</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span>, <span title="java.lang.String(&quot;PI Processing Instructions cannot contain the sequence ?&gt; in the value&quot;)" class="string">&quot;PI Processing Instructions cannot contain the sequence ?&gt; in the value&quot;</span><span class="delimiter">)</span></span>
<a href="l565"></a><span id="l565">      <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#98546" title="String">targeti</a>.<span title="(x$1: java.lang.String)Int">indexOf</span><span class="delimiter">(</span><span title="java.lang.String(&quot;?&gt;&quot;)" class="string">&quot;?&gt;&quot;</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span>, <span title="java.lang.String(&quot;PI Processing Instructions cannot contain the sequence ?&gt; in the value&quot;)" class="string">&quot;PI Processing Instructions cannot contain the sequence ?&gt; in the value&quot;</span><span class="delimiter">)</span></span>
<a href="l566"></a><span id="l566">      <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#98546" title="String">targeti</a>.<span title="()java.lang.String">toLowerCase</span>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;xml&quot;)" class="string">&quot;xml&quot;</span><span class="delimiter">)</span>, <span title="java.lang.String(&quot;PI Processing Instructions targets cannot start with ?&gt;&quot;)" class="string">&quot;PI Processing Instructions targets cannot start with ?&gt;&quot;</span><span class="delimiter">)</span></span>
<a href="l567"></a><span id="l567">    <span class="delimiter">}</span></span>
<a href="l568"></a><span id="l568"></span>
<a href="l569"></a><span id="l569">    <span class="keyword">val</span> <a title="String" id="98553">value</a> = <a href="#98547" title="String">valuei</a></span>
<a href="l570"></a><span id="l570">    <span class="keyword">val</span> <a title="String" id="98555">target</a> = <a href="#98546" title="String">targeti</a></span>
<a href="l571"></a><span id="l571">  <span class="delimiter">}</span></span>
<a href="l572"></a><span id="l572"></span>
<a href="l573"></a><span id="l573">  <span class="keyword">def</span> <a title="(pi: scales.xml.PI)Some[(String, String)]" id="98545">unapply</a><span class="delimiter">(</span><a title="scales.xml.PI" id="106075">pi</a> : <a href="#12008" title="scales.xml.PI">PI</a><span class="delimiter">)</span> = <span title="(x: (String, String))Some[(String, String)]">Some</span><span class="delimiter">(</span><span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><a href="#106075" title="scales.xml.PI">pi</a>.<a href="#95656" title="=&gt; String">target</a>, <a href="#106075" title="scales.xml.PI">pi</a>.<a href="#89670" title="=&gt; String">value</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l574"></a><span id="l574"><span class="delimiter">}</span></span>
<a href="l575"></a><span id="l575"></span>
<a href="l576"></a><span id="l576"><span class="comment">/**</span>
<a href="l577"></a><span id="l577"> * Xml declaration</span>
<a href="l578"></a><span id="l578"> */</span></span>
<a href="l579"></a><span id="l579">case <span class="keyword">class</span> <a title="class Declaration extends java.lang.Object with ScalaObject with Product with Serializable" id="116547">Declaration</a><a href="#116547" title="ScalaObject" class="delimiter">(</a><a title="scales.xml.XmlVersion" id="112871">version</a>: <a href="QName.scala.html#11780" title="scales.xml.XmlVersion">XmlVersion</a> = <a href="QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion">defaultVersion</a>, <a title="java.nio.charset.Charset" id="112872">encoding</a>: <span title="java.nio.charset.Charset">Charset</span> = scales.utils.<a href="../utils/Localisation.scala.html#12395" title="=&gt; java.nio.charset.Charset">defaultCharset</a>, <a title="Boolean" id="112873">standalone</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span></span>
<a href="l580"></a><span id="l580"></span>
<a href="l581"></a><span id="l581"><span class="comment">/**</span>
<a href="l582"></a><span id="l582"> * DTD is not part of the tree, nor a stream, it can only occur once and as such is neither an XmlEvent nor an XmlItem directly</span>
<a href="l583"></a><span id="l583"> */</span></span>
<a href="l584"></a><span id="l584">case <span class="keyword">class</span> <a title="class DTD extends java.lang.Object with ScalaObject with Product with Serializable" id="116537">DTD</a><a href="#116537" title="ScalaObject" class="delimiter">(</a><a title="String" id="98525">name</a>: <span title="String">String</span>, <a title="String" id="98526">publicId</a>: <span title="String">String</span>, <a title="String" id="98527">systemId</a>: <span title="String">String</span><span class="delimiter">)</span></span>
<a href="l585"></a><span id="l585"></span>
<a href="l586"></a><span id="l586"><span class="comment">/**</span>
<a href="l587"></a><span id="l587"> * Includes all information before the root elem</span>
<a href="l588"></a><span id="l588"> */</span></span>
<a href="l589"></a><span id="l589">case <span class="keyword">class</span> <a title="class Prolog extends java.lang.Object with ScalaObject with Product with Serializable" id="116533">Prolog</a><a href="#116533" title="ScalaObject" class="delimiter">(</a></span>
<a href="l590"></a><span id="l590">  <a title="scales.xml.Declaration" id="94377">decl</a>: <a href="#116547" title="scales.xml.Declaration">Declaration</a> = <a href="#116547" title="(version: scales.xml.XmlVersion, encoding: java.nio.charset.Charset, standalone: Boolean)scales.xml.Declaration">Declaration</a><span class="delimiter">(</span><span class="delimiter">)</span>,</span>
<a href="l591"></a><span id="l591">  <a title="scales.xml.package.Miscs" id="94378">misc</a>: <span title="scales.xml.package.Miscs">Miscs</span> = <a href="#12417" title="=&gt; List[Either[scales.xml.Comment,scales.xml.PI]]">emptyMiscs</a>,</span>
<a href="l592"></a><span id="l592">  <a title="Option[scales.xml.DTD]" id="94379">dtd</a>: <span title="Option[scales.xml.DTD]">Option</span><span class="delimiter">[</span>DTD<span class="delimiter">]</span> = <span title="object None">None</span><span class="delimiter">)</span></span>
<a href="l593"></a><span id="l593"></span>
<a href="l594"></a><span id="l594"><span class="comment">/**</span>
<a href="l595"></a><span id="l595"> * The information after the root elem</span>
<a href="l596"></a><span id="l596"> */</span></span>
<a href="l597"></a><span id="l597">case <span class="keyword">class</span> <a title="class EndMisc extends java.lang.Object with ScalaObject with Product with Serializable" id="116520">EndMisc</a><a href="#116520" title="ScalaObject" class="delimiter">(</a><a title="scales.xml.package.Miscs" id="94405">misc</a>: <span title="scales.xml.package.Miscs">Miscs</span> = <a href="#12417" title="=&gt; List[Either[scales.xml.Comment,scales.xml.PI]]">emptyMiscs</a><span class="delimiter">)</span></span>
<a href="l598"></a><span id="l598"></span>
<a href="l599"></a><span id="l599"><span class="comment">/**</span>
<a href="l600"></a><span id="l600"> * All documents look similar to this, even when stream</span>
<a href="l601"></a><span id="l601"> */</span></span>
<a href="l602"></a><span id="l602"><span class="keyword">trait</span> <a title="trait DocLike extends java.lang.Object" id="12023">DocLike</a> <span title="java.lang.Object" class="delimiter">{</span></span>
<a href="l603"></a><span id="l603">  <span class="keyword">def</span> <a title="=&gt; scales.xml.Prolog" id="89595">prolog</a>: <a href="#116533" title="scales.xml.Prolog">Prolog</a></span>
<a href="l604"></a><span id="l604">  <span class="keyword">def</span> <a title="=&gt; scales.xml.EndMisc" id="89596">end</a>: <a href="#116520" title="scales.xml.EndMisc">EndMisc</a></span>
<a href="l605"></a><span id="l605"><span class="delimiter">}</span></span>
<a href="l606"></a><span id="l606"></span>
<a href="l607"></a><span id="l607"><span class="comment">/**</span>
<a href="l608"></a><span id="l608"> * Provides a simple empty document for streams etc</span>
<a href="l609"></a><span id="l609"> */</span></span>
<a href="l610"></a><span id="l610">case <span class="keyword">class</span> <a title="class EmptyDoc extends java.lang.Object with scales.xml.DocLike with ScalaObject with Product with Serializable" id="116514">EmptyDoc</a><a href="#116514" title="ScalaObject" class="delimiter">(</a><a title="scales.xml.Prolog" id="94501">prolog</a>: <a href="#116533" title="scales.xml.Prolog">Prolog</a> = <a href="#116533" title="(decl: scales.xml.Declaration, misc: scales.xml.package.Miscs, dtd: Option[scales.xml.DTD])scales.xml.Prolog">Prolog</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="scales.xml.EndMisc" id="94502">end</a>: <a href="#116520" title="scales.xml.EndMisc">EndMisc</a> = <a href="#116520" title="(misc: scales.xml.package.Miscs)scales.xml.EndMisc">EndMisc</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#12023" title="scales.xml.DocLike">DocLike</a></span>
<a href="l611"></a><span id="l611"></span>
<a href="l612"></a><span id="l612"><span class="comment">/**</span>
<a href="l613"></a><span id="l613"> * Tree based document</span>
<a href="l614"></a><span id="l614"> */</span></span>
<a href="l615"></a><span id="l615">case <span class="keyword">class</span> <a title="class Doc extends java.lang.Object with scales.xml.DocLike with ScalaObject with Product with Serializable" id="116506">Doc</a><a href="#116506" title="ScalaObject" class="delimiter">(</a><a title="scales.xml.package.XmlTree" id="89986">rootElem</a>: <a href="../utils/Trees.scala.html#10655" title="scales.xml.package.XmlTree">XmlTree</a>, <a title="scales.xml.Prolog" id="89987">prolog</a>: <a href="#116533" title="scales.xml.Prolog">Prolog</a> = <a href="#116533" title="(decl: scales.xml.Declaration, misc: scales.xml.package.Miscs, dtd: Option[scales.xml.DTD])scales.xml.Prolog">Prolog</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="scales.xml.EndMisc" id="89988">end</a>: <a href="#116520" title="scales.xml.EndMisc">EndMisc</a> = <a href="#116520" title="(misc: scales.xml.package.Miscs)scales.xml.EndMisc">EndMisc</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#12023" title="scales.xml.DocLike">DocLike</a> <span class="delimiter">{</span></span>
<a href="l616"></a><span id="l616">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="89607">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="java.lang.String(&quot;scales.xml.doc&quot;)" class="string">&quot;scales.xml.doc&quot;</span></span>
<a href="l617"></a><span id="l617"><span class="delimiter">}</span></span>
<a href="l618"></a><span id="l618"></span>
<a href="l619"></a><span id="l619"></span>
<a href="l620"></a><span id="l620">        </span>
</pre>
    </body>
</html>