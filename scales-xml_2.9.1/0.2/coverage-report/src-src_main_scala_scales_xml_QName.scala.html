<table class="classes"><tbody><tr>
      <td class="barContainerLeft"><a href="#">&#x200B;scales/&#x200B;xml/<span class="header">&#x200B;QName.scala</span></a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">88 %</div>
        <div class="greenBar" style="width:176px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Object_scales_xml_Default"><img src="object.png"></img>Default</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">100 %</div>
        <div class="greenBar" style="width:200px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Trait_scales_xml_DefaultXmlVersion"><img src="trait.png"></img>DefaultXmlVersion</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">100 %</div>
        <div class="greenBar" style="width:200px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Class_scales_xml_FullEqualQNameKey"><img src="class.png"></img>FullEqualQNameKey</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">81 %</div>
        <div class="greenBar" style="width:162px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Class_scales_xml_Namespace"><img src="class.png"></img>Namespace</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">80 %</div>
        <div class="greenBar" style="width:160px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Object_scales_xml_Namespace"><img src="object.png"></img>Namespace</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">100 %</div>
        <div class="greenBar" style="width:200px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Trait_scales_xml_Namespace"><img src="trait.png"></img>Namespace</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">87 %</div>
        <div class="greenBar" style="width:174px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Class_scales_xml_NoNamespaceQName"><img src="class.png"></img>NoNamespaceQName</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">100 %</div>
        <div class="greenBar" style="width:200px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Object_scales_xml_NoNamespaceQName"><img src="object.png"></img>NoNamespaceQName</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">100 %</div>
        <div class="greenBar" style="width:200px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Trait_scales_xml_NoNamespaceQName"><img src="trait.png"></img>NoNamespaceQName</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">100 %</div>
        <div class="greenBar" style="width:200px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Class_scales_xml_PrefixedNamespace"><img src="class.png"></img>PrefixedNamespace</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">100 %</div>
        <div class="greenBar" style="width:200px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Object_scales_xml_PrefixedNamespace"><img src="object.png"></img>PrefixedNamespace</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">93 %</div>
        <div class="greenBar" style="width:186px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Trait_scales_xml_PrefixedNamespace"><img src="trait.png"></img>PrefixedNamespace</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">60 %</div>
        <div class="greenBar" style="width:120px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Class_scales_xml_PrefixedQName"><img src="class.png"></img>PrefixedQName</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">100 %</div>
        <div class="greenBar" style="width:200px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Object_scales_xml_PrefixedQName"><img src="object.png"></img>PrefixedQName</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">100 %</div>
        <div class="greenBar" style="width:200px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Trait_scales_xml_PrefixedQName"><img src="trait.png"></img>PrefixedQName</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">0 %</div>
        <div class="greenBar" style="width:0px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Trait_scales_xml_QName"><img src="trait.png"></img>QName</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">87 %</div>
        <div class="greenBar" style="width:174px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Object_scales_xml_QNameCharUtils"><img src="object.png"></img>QNameCharUtils</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">92 %</div>
        <div class="greenBar" style="width:184px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Class_scales_xml_QNameImplicits"><img src="class.png"></img>QNameImplicits</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">0 %</div>
        <div class="greenBar" style="width:0px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Trait_scales_xml_QNameImplicits"><img src="trait.png"></img>QNameImplicits</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">100 %</div>
        <div class="greenBar" style="width:200px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Class_scales_xml_UnprefixedQName"><img src="class.png"></img>UnprefixedQName</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">100 %</div>
        <div class="greenBar" style="width:200px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Object_scales_xml_UnprefixedQName"><img src="object.png"></img>UnprefixedQName</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">100 %</div>
        <div class="greenBar" style="width:200px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Trait_scales_xml_UnprefixedQName"><img src="trait.png"></img>UnprefixedQName</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">100 %</div>
        <div class="greenBar" style="width:200px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Object_scales_xml_Xml10"><img src="object.png"></img>Xml10</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">100 %</div>
        <div class="greenBar" style="width:200px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Object_scales_xml_Xml11"><img src="object.png"></img>Xml11</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">100 %</div>
        <div class="greenBar" style="width:200px;">&nbsp;</div>
      </div>
    </div></td>
    </tr><tr>
      <td class="barContainerLeft"><a href="src-src_main_scala_scales_xml_QName.scala.html#Trait_scales_xml_XmlVersion"><img src="trait.png"></img>XmlVersion</a></td>
      <td class="barContainerRight"><div class="percentages">
      <div class="bar">
        <div class="percentage">0 %</div>
        <div class="greenBar" style="width:0px;">&nbsp;</div>
      </div>
    </div></td>
    </tr></tbody></table><table class="source"><tbody><tr>
            <td class="black">1</td>
            <td>package scales.xml
</td>
          </tr><tr>
            <td class="black">2</td>
            <td>
</td>
          </tr><tr>
            <td class="black">3</td>
            <td>import scales.utils.error
</td>
          </tr><tr>
            <td class="black">4</td>
            <td>import scales.utils.{LeftLike, RightLike}
</td>
          </tr><tr>
            <td class="black">5</td>
            <td>
</td>
          </tr><tr>
            <td class="black">6</td>
            <td><a id="Trait_scales_xml_XmlVersion"></a>sealed trait XmlVersion{
</td>
          </tr><tr>
            <td class="black">7</td>
            <td>  val version : String
</td>
          </tr><tr>
            <td class="black">8</td>
            <td>}
</td>
          </tr><tr>
            <td class="black">9</td>
            <td><a id="Object_scales_xml_Xml11"></a>case object Xml11 extends XmlVersion {
</td>
          </tr><tr>
            <td class="green">10</td>
            <td>  val version = &quot;1.1&quot;
</td>
          </tr><tr>
            <td class="black">11</td>
            <td>}
</td>
          </tr><tr>
            <td class="black">12</td>
            <td><a id="Object_scales_xml_Xml10"></a>case object Xml10 extends XmlVersion {
</td>
          </tr><tr>
            <td class="green">13</td>
            <td>  val version = &quot;1.0&quot;
</td>
          </tr><tr>
            <td class="black">14</td>
            <td>}
</td>
          </tr><tr>
            <td class="black">15</td>
            <td>
</td>
          </tr><tr>
            <td class="black">16</td>
            <td><a id="Trait_scales_xml_DefaultXmlVersion"></a>trait DefaultXmlVersion {
</td>
          </tr><tr>
            <td class="green">17</td>
            <td>  implicit val defaultVersion : XmlVersion = Xml10
</td>
          </tr><tr>
            <td class="black">18</td>
            <td>}
</td>
          </tr><tr>
            <td class="black">19</td>
            <td>
</td>
          </tr><tr>
            <td class="black">20</td>
            <td>/**
</td>
          </tr><tr>
            <td class="black">21</td>
            <td> * Follows the XML 1.0 spec and XML 1.1 spec, all underlying code provided by a copied version of the Xerces libs.
</td>
          </tr><tr>
            <td class="black">22</td>
            <td> *
</td>
          </tr><tr>
            <td class="black">23</td>
            <td> * Throughout user QName code we default to XML 1.0, as all XML 1.0 docs are valid XML 1.1's but the reverse is not true.
</td>
          </tr><tr>
            <td class="black">24</td>
            <td> *
</td>
          </tr><tr>
            <td class="black">25</td>
            <td> * Also note that we do not accept :, we are namespace compliant first and foremost
</td>
          </tr><tr>
            <td class="black">26</td>
            <td> *
</td>
          </tr><tr>
            <td class="black">27</td>
            <td> * The reason I'm simply copying to another package is that the utils.XMLChar functions aren't then forcing a JAXP or
</td>
          </tr><tr>
            <td class="black">28</td>
            <td> * xerces version.
</td>
          </tr><tr>
            <td class="black">29</td>
            <td> */
</td>
          </tr><tr>
            <td class="black">30</td>
            <td><a id="Object_scales_xml_QNameCharUtils"></a>object QNameCharUtils {
</td>
          </tr><tr>
            <td class="black">31</td>
            <td>  import scales.org.apache.xerces.util._
</td>
          </tr><tr>
            <td class="black">32</td>
            <td>
</td>
          </tr><tr>
            <td class="black">33</td>
            <td>  def validLocalName( name : String )(implicit ver : XmlVersion) =
</td>
          </tr><tr>
            <td class="green">34</td>
            <td>    validXmlName(name) &amp;&amp; (
</td>
          </tr><tr>
            <td class="green">35</td>
            <td>      if (name.length &gt; 2) 
</td>
          </tr><tr>
            <td class="green">36</td>
            <td>  name.substring(0,2).toLowerCase != &quot;xml&quot;
</td>
          </tr><tr>
            <td class="black">37</td>
            <td>      else
</td>
          </tr><tr>
            <td class="green">38</td>
            <td>  true
</td>
          </tr><tr>
            <td class="black">39</td>
            <td>    ) &amp;&amp;
</td>
          </tr><tr>
            <td class="black">40</td>
            <td>    name.indexOf(':') == -1 // namespaces ftw
</td>
          </tr><tr>
            <td class="black">41</td>
            <td>
</td>
          </tr><tr>
            <td class="black">42</td>
            <td>  def validXmlName( name : String )(implicit ver : XmlVersion)  =
</td>
          </tr><tr>
            <td class="green">43</td>
            <td>    if (ver eq Xml10)
</td>
          </tr><tr>
            <td class="green">44</td>
            <td>      XMLChar.isValidName(name)
</td>
          </tr><tr>
            <td class="black">45</td>
            <td>    else
</td>
          </tr><tr>
            <td class="green">46</td>
            <td>      XML11Char.isXML11ValidName(name)
</td>
          </tr><tr>
            <td class="black">47</td>
            <td>
</td>
          </tr><tr>
            <td class="black">48</td>
            <td>  def validXmlPrefix( prefix : String )(implicit ver : XmlVersion) = 
</td>
          </tr><tr>
            <td class="green">49</td>
            <td>    validXmlName(prefix) &amp;&amp;// other xmlns etc validations must be done in the actual qnames and elements
</td>
          </tr><tr>
            <td class="black">50</td>
            <td>    prefix.indexOf(':') == -1
</td>
          </tr><tr>
            <td class="black">51</td>
            <td>
</td>
          </tr><tr>
            <td class="black">52</td>
            <td>  def validXmlNamespace( namespace : String )(implicit ver : XmlVersion) =
</td>
          </tr><tr>
            <td class="green">53</td>
            <td>    if ((ver eq Xml10) &amp;&amp; (namespace.trim.length == 0))
</td>
          </tr><tr>
            <td class="red">54</td>
            <td>      <span class="non">false // can't do empties in 1.0, only 1.1
</span></td>
          </tr><tr>
            <td class="black">55</td>
            <td>    else 
</td>
          </tr><tr>
            <td class="green">56</td>
            <td>      true
</td>
          </tr><tr>
            <td class="black">57</td>
            <td>
</td>
          </tr><tr>
            <td class="black">58</td>
            <td>  /**
</td>
          </tr><tr>
            <td class="black">59</td>
            <td>   * Validates and returns or throws
</td>
          </tr><tr>
            <td class="black">60</td>
            <td>   */
</td>
          </tr><tr>
            <td class="black">61</td>
            <td>  def validateLocalName( validLocal : String ) ( implicit ver : XmlVersion) = 
</td>
          </tr><tr>
            <td class="green">62</td>
            <td>    if (validLocalName(validLocal)) 
</td>
          </tr><tr>
            <td class="green">63</td>
            <td>      validLocal
</td>
          </tr><tr>
            <td class="black">64</td>
            <td>    else
</td>
          </tr><tr>
            <td class="green">65</td>
            <td>      error(&quot;The local name '&quot;+validLocal+&quot;' is not valid&quot;)
</td>
          </tr><tr>
            <td class="black">66</td>
            <td>
</td>
          </tr><tr>
            <td class="black">67</td>
            <td>}
</td>
          </tr><tr>
            <td class="black">68</td>
            <td>
</td>
          </tr><tr>
            <td class="black">69</td>
            <td>import QNameCharUtils._
</td>
          </tr><tr>
            <td class="black">70</td>
            <td>
</td>
          </tr><tr>
            <td class="black">71</td>
            <td>/**
</td>
          </tr><tr>
            <td class="black">72</td>
            <td> * Represents a XML Namespace spec compliant Namespace.
</td>
          </tr><tr>
            <td class="black">73</td>
            <td> *
</td>
          </tr><tr>
            <td class="black">74</td>
            <td> * NOTE Users are recommended to use the prefixed function and work with prefixes directly for qnames.
</td>
          </tr><tr>
            <td class="black">75</td>
            <td> */
</td>
          </tr><tr>
            <td class="black">76</td>
            <td><a id="Trait_scales_xml_Namespace"></a>sealed trait Namespace {
</td>
          </tr><tr>
            <td class="black">77</td>
            <td>  val uri : String
</td>
          </tr><tr>
            <td class="black">78</td>
            <td>
</td>
          </tr><tr>
            <td class="black">79</td>
            <td>  /**
</td>
          </tr><tr>
            <td class="black">80</td>
            <td>   * Create an UnprefixedQName 
</td>
          </tr><tr>
            <td class="black">81</td>
            <td>   */ 
</td>
          </tr><tr>
            <td class="green">82</td>
            <td>  def apply( local : String )(implicit ver : XmlVersion, fromParser : FromParser) = UnprefixedQName(local, this)
</td>
          </tr><tr>
            <td class="black">83</td>
            <td>
</td>
          </tr><tr>
            <td class="black">84</td>
            <td>  /**
</td>
          </tr><tr>
            <td class="black">85</td>
            <td>   * Create a PrefixedQName directly
</td>
          </tr><tr>
            <td class="black">86</td>
            <td>   */ 
</td>
          </tr><tr>
            <td class="green">87</td>
            <td>  def apply( prefix : String, local : String)(implicit ver : XmlVersion, fromParser : FromParser) = PrefixedQName(local, prefixed(prefix))
</td>
          </tr><tr>
            <td class="black">88</td>
            <td>
</td>
          </tr><tr>
            <td class="black">89</td>
            <td>  /**
</td>
          </tr><tr>
            <td class="black">90</td>
            <td>   * Create a PrefixedNamespace
</td>
          </tr><tr>
            <td class="black">91</td>
            <td>   */ 
</td>
          </tr><tr>
            <td class="green">92</td>
            <td>  def prefixed( prefix : String )(implicit ver : XmlVersion, fromParser : FromParser) = PrefixedNamespace(this, prefix)
</td>
          </tr><tr>
            <td class="black">93</td>
            <td>
</td>
          </tr><tr>
            <td class="black">94</td>
            <td>  /**
</td>
          </tr><tr>
            <td class="black">95</td>
            <td>   * Create a PrefixedQName directly
</td>
          </tr><tr>
            <td class="black">96</td>
            <td>   */ 
</td>
          </tr><tr>
            <td class="green">97</td>
            <td>  def prefixed( prefix : String, local : String)(implicit ver : XmlVersion, fromParser : FromParser) : PrefixedQName = PrefixedQName(local, prefixed(prefix))
</td>
          </tr><tr>
            <td class="black">98</td>
            <td>
</td>
          </tr><tr>
            <td class="green">99</td>
            <td>  override def hashCode = uri.hashCode
</td>
          </tr><tr>
            <td class="green">100</td>
            <td>  override def equals( other : Any ) = other match {
</td>
          </tr><tr>
            <td class="green">101</td>
            <td>    case ons : Namespace =&gt; uri == ons.uri 
</td>
          </tr><tr>
            <td class="red">102</td>
            <td>    case _ =&gt; <span class="non">false
</span></td>
          </tr><tr>
            <td class="black">103</td>
            <td>  }
</td>
          </tr><tr>
            <td class="black">104</td>
            <td>
</td>
          </tr><tr>
            <td class="black">105</td>
            <td>}
</td>
          </tr><tr>
            <td class="black">106</td>
            <td>
</td>
          </tr><tr>
            <td class="black">107</td>
            <td><a id="Object_scales_xml_Namespace"></a>object Namespace {
</td>
          </tr><tr>
            <td class="green">108</td>
            <td>  val xmlnsNS = &quot;http://www.w3.org/XML/1998/namespace&quot;
</td>
          </tr><tr>
            <td class="green">109</td>
            <td>  val xmlNS = &quot;http://www.w3.org/2000/xmlns/&quot;
</td>
          </tr><tr>
            <td class="black">110</td>
            <td>
</td>
          </tr><tr>
            <td class="black">111</td>
            <td>  private[xml] def swapForKnown( validUri : String ) =
</td>
          </tr><tr>
            <td class="green">112</td>
            <td>    validUri match {
</td>
          </tr><tr>
            <td class="green">113</td>
            <td>      case `xmlnsNS` =&gt; xmlnsNS
</td>
          </tr><tr>
            <td class="green">114</td>
            <td>      case `xmlNS` =&gt; xmlNS
</td>
          </tr><tr>
            <td class="green">115</td>
            <td>      case _ =&gt; validUri
</td>
          </tr><tr>
            <td class="black">116</td>
            <td>    }
</td>
          </tr><tr>
            <td class="black">117</td>
            <td>
</td>
          </tr><tr>
            <td class="black">118</td>
            <td>  /**
</td>
          </tr><tr>
            <td class="black">119</td>
            <td>   * parsers we trust, users we protect
</td>
          </tr><tr>
            <td class="black">120</td>
            <td>   */ 
</td>
          </tr><tr>
            <td class="green">121</td>
            <td><a id="Class_scales_xml_Namespace"></a>  def apply( validUri : String )(implicit ver : XmlVersion, fromParser : FromParser) : Namespace = new Namespace {
</td>
          </tr><tr>
            <td class="black">122</td>
            <td>    val uri = 
</td>
          </tr><tr>
            <td class="green">123</td>
            <td>      if (fromParser eq NotFromParser) 
</td>
          </tr><tr>
            <td class="green">124</td>
            <td>  if (validXmlNamespace(validUri))
</td>
          </tr><tr>
            <td class="green">125</td>
            <td>    swapForKnown(validUri)
</td>
          </tr><tr>
            <td class="black">126</td>
            <td>  else
</td>
          </tr><tr>
            <td class="red">127</td>
            <td>    <span class="non">error(&quot;Namespaces must have valid URIs, '&quot;+validUri+&quot;' is invalid&quot;)
</span></td>
          </tr><tr>
            <td class="black">128</td>
            <td>      else
</td>
          </tr><tr>
            <td class="green">129</td>
            <td>  swapForKnown(validUri)
</td>
          </tr><tr>
            <td class="black">130</td>
            <td>  }
</td>
          </tr><tr>
            <td class="black">131</td>
            <td>}
</td>
          </tr><tr>
            <td class="black">132</td>
            <td>
</td>
          </tr><tr>
            <td class="black">133</td>
            <td><a id="Trait_scales_xml_PrefixedNamespace"></a>sealed trait PrefixedNamespace  {
</td>
          </tr><tr>
            <td class="black">134</td>
            <td>  val ns : Namespace
</td>
          </tr><tr>
            <td class="black">135</td>
            <td>  val prefix : String
</td>
          </tr><tr>
            <td class="green">136</td>
            <td>  def apply( local : String )(implicit ver : XmlVersion, fromParser : FromParser) = PrefixedQName(local, this)
</td>
          </tr><tr>
            <td class="black">137</td>
            <td>
</td>
          </tr><tr>
            <td class="black">138</td>
            <td>  override def hashCode = 
</td>
          </tr><tr>
            <td class="red">139</td>
            <td>    (<span class="non">ns.hashCode * 31) + prefix.hashCode
</span></td>
          </tr><tr>
            <td class="black">140</td>
            <td>
</td>
          </tr><tr>
            <td class="green">141</td>
            <td>  override def equals( other : Any ) = other match {
</td>
          </tr><tr>
            <td class="green">142</td>
            <td>    case opns : PrefixedNamespace =&gt; ns == opns.ns &amp;&amp; prefix == opns.prefix
</td>
          </tr><tr>
            <td class="red">143</td>
            <td>    case _ =&gt; <span class="non">false
</span></td>
          </tr><tr>
            <td class="black">144</td>
            <td>  }
</td>
          </tr><tr>
            <td class="black">145</td>
            <td>}
</td>
          </tr><tr>
            <td class="black">146</td>
            <td>
</td>
          </tr><tr>
            <td class="black">147</td>
            <td><a id="Object_scales_xml_PrefixedNamespace"></a>object PrefixedNamespace {
</td>
          </tr><tr>
            <td class="black">148</td>
            <td>
</td>
          </tr><tr>
            <td class="green">149</td>
            <td>  val xmlnsPRE = &quot;xmlns&quot;
</td>
          </tr><tr>
            <td class="green">150</td>
            <td>  val xmlPRE = &quot;xml&quot;
</td>
          </tr><tr>
            <td class="black">151</td>
            <td>
</td>
          </tr><tr>
            <td class="black">152</td>
            <td>  private[xml] def swapForKnown( nsprefix : String ) = 
</td>
          </tr><tr>
            <td class="green">153</td>
            <td>    nsprefix match {
</td>
          </tr><tr>
            <td class="green">154</td>
            <td>      case `xmlnsPRE` =&gt; xmlnsPRE
</td>
          </tr><tr>
            <td class="green">155</td>
            <td>      case `xmlPRE` =&gt; xmlPRE
</td>
          </tr><tr>
            <td class="green">156</td>
            <td>      case _ =&gt; nsprefix
</td>
          </tr><tr>
            <td class="black">157</td>
            <td>    }
</td>
          </tr><tr>
            <td class="black">158</td>
            <td>
</td>
          </tr><tr>
            <td class="black">159</td>
            <td>  private[xml] def verifyConstraint( pre : String, ns : Namespace, 
</td>
          </tr><tr>
            <td class="black">160</td>
            <td>            agpre : String, agns : String) { 
</td>
          </tr><tr>
            <td class="green">161</td>
            <td>    if ((ns.uri eq agns) &amp;&amp; (pre ne agpre)) {
</td>
          </tr><tr>
            <td class="green">162</td>
            <td>  error(&quot;The namespace '&quot;+agns+&quot;' can only be bound to prefix '&quot;+agpre+&quot;'&quot;)
</td>
          </tr><tr>
            <td class="black">163</td>
            <td>    }
</td>
          </tr><tr>
            <td class="black">164</td>
            <td>  }
</td>
          </tr><tr>
            <td class="black">165</td>
            <td>
</td>
          </tr><tr>
            <td class="black">166</td>
            <td>  private[xml] def checkPrefix( nsprefix : String, ns : Namespace )(implicit ver : XmlVersion) = 
</td>
          </tr><tr>
            <td class="green">167</td>
            <td>    if (validXmlPrefix(nsprefix)) {
</td>
          </tr><tr>
            <td class="green">168</td>
            <td>      val x = swapForKnown(nsprefix)
</td>
          </tr><tr>
            <td class="green">169</td>
            <td>      verifyConstraint(x, ns, xmlPRE, Namespace.xmlNS)
</td>
          </tr><tr>
            <td class="green">170</td>
            <td>      verifyConstraint(x, ns, xmlnsPRE, Namespace.xmlnsNS)
</td>
          </tr><tr>
            <td class="green">171</td>
            <td>      x
</td>
          </tr><tr>
            <td class="red">172</td>
            <td>    } else <span class="non">error(&quot;The prefix '&quot;+nsprefix+&quot;' is not valid&quot;)
</span></td>
          </tr><tr>
            <td class="black">173</td>
            <td>
</td>
          </tr><tr>
            <td class="green">174</td>
            <td><a id="Class_scales_xml_PrefixedNamespace"></a>  def apply(namespace : Namespace, nsprefix : String)(implicit ver : XmlVersion, fromParser : FromParser) : PrefixedNamespace = new PrefixedNamespace {
</td>
          </tr><tr>
            <td class="green">175</td>
            <td>    val ns = namespace
</td>
          </tr><tr>
            <td class="black">176</td>
            <td>    val prefix =
</td>
          </tr><tr>
            <td class="green">177</td>
            <td>      if (fromParser eq NotFromParser) 
</td>
          </tr><tr>
            <td class="green">178</td>
            <td>  checkPrefix(nsprefix, namespace)
</td>
          </tr><tr>
            <td class="black">179</td>
            <td>      else 
</td>
          </tr><tr>
            <td class="green">180</td>
            <td>  swapForKnown(nsprefix)
</td>
          </tr><tr>
            <td class="black">181</td>
            <td>  }
</td>
          </tr><tr>
            <td class="black">182</td>
            <td>}
</td>
          </tr><tr>
            <td class="black">183</td>
            <td>
</td>
          </tr><tr>
            <td class="black">184</td>
            <td><a id="Object_scales_xml_Default"></a>object Default {
</td>
          </tr><tr>
            <td class="black">185</td>
            <td>  /**
</td>
          </tr><tr>
            <td class="black">186</td>
            <td>   * placeholder for the current element default namespace
</td>
          </tr><tr>
            <td class="black">187</td>
            <td>   */
</td>
          </tr><tr>
            <td class="green">188</td>
            <td>  val namespace = Namespace(&quot;&quot;)(Xml10,IsFromParser)
</td>
          </tr><tr>
            <td class="black">189</td>
            <td>  /**
</td>
          </tr><tr>
            <td class="black">190</td>
            <td>   * The no namespace namespace (xmlns=&quot;&quot;)
</td>
          </tr><tr>
            <td class="black">191</td>
            <td>   */
</td>
          </tr><tr>
            <td class="green">192</td>
            <td>  val noNamespace = namespace
</td>
          </tr><tr>
            <td class="black">193</td>
            <td>}
</td>
          </tr><tr>
            <td class="black">194</td>
            <td>
</td>
          </tr><tr>
            <td class="black">195</td>
            <td><a id="Trait_scales_xml_QName"></a>sealed trait QName {
</td>
          </tr><tr>
            <td class="black">196</td>
            <td>
</td>
          </tr><tr>
            <td class="black">197</td>
            <td>  val local : String
</td>
          </tr><tr>
            <td class="black">198</td>
            <td>  /**
</td>
          </tr><tr>
            <td class="black">199</td>
            <td>   * There is always a namespace, but it may be the noNamespace namespace
</td>
          </tr><tr>
            <td class="black">200</td>
            <td>   */ 
</td>
          </tr><tr>
            <td class="black">201</td>
            <td>  val namespace : Namespace
</td>
          </tr><tr>
            <td class="black">202</td>
            <td>  val prefix : Option[String]
</td>
          </tr><tr>
            <td class="black">203</td>
            <td>  
</td>
          </tr><tr>
            <td class="black">204</td>
            <td>  /**
</td>
          </tr><tr>
            <td class="black">205</td>
            <td>   * When the version is 1.1 it cannot be serialized to a 1.0 doc.
</td>
          </tr><tr>
            <td class="black">206</td>
            <td>   * This indicates with which version it is compatible
</td>
          </tr><tr>
            <td class="black">207</td>
            <td>   */ // to get here it must be valid so we only need to test for 1.0
</td>
          </tr><tr>
            <td class="black">208</td>
            <td>  def qNameVersion : XmlVersion = 
</td>
          </tr><tr>
            <td class="green">209</td>
            <td>    if (validLocalName(local)(Xml10) &amp;&amp; 
</td>
          </tr><tr>
            <td class="black">210</td>
            <td>  // treat non prefixed as Xml10 prefixes as they are compatible with both
</td>
          </tr><tr>
            <td class="green">211</td>
            <td>  (prefix.map{p =&gt; validXmlPrefix(p)(Xml10)}.getOrElse(true)))
</td>
          </tr><tr>
            <td class="green">212</td>
            <td>      Xml10
</td>
          </tr><tr>
            <td class="black">213</td>
            <td>    else 
</td>
          </tr><tr>
            <td class="green">214</td>
            <td>      Xml11
</td>
          </tr><tr>
            <td class="black">215</td>
            <td>
</td>
          </tr><tr>
            <td class="green">216</td>
            <td>  def hasPrefix = prefix.isDefined
</td>
          </tr><tr>
            <td class="black">217</td>
            <td>
</td>
          </tr><tr>
            <td class="black">218</td>
            <td>  /**
</td>
          </tr><tr>
            <td class="black">219</td>
            <td>   * local or prefix:local Namespaces QName, also XPath 2.0 functions version of a qualified name
</td>
          </tr><tr>
            <td class="black">220</td>
            <td>   */
</td>
          </tr><tr>
            <td class="black">221</td>
            <td>  def qName = 
</td>
          </tr><tr>
            <td class="green">222</td>
            <td>    if (prefix.isDefined) 
</td>
          </tr><tr>
            <td class="green">223</td>
            <td>      prefix.get + &quot;:&quot; + local
</td>
          </tr><tr>
            <td class="green">224</td>
            <td>    else local
</td>
          </tr><tr>
            <td class="black">225</td>
            <td>  
</td>
          </tr><tr>
            <td class="black">226</td>
            <td>  /**
</td>
          </tr><tr>
            <td class="black">227</td>
            <td>   * QName, pre:{namespace}localName JClark representation with prefix: on the front if it has a prefix.  CTw's own, for when you just really want that prefix.
</td>
          </tr><tr>
            <td class="black">228</td>
            <td>   */
</td>
          </tr><tr>
            <td class="green">229</td>
            <td>  def pqName = if (prefix.isDefined) prefix.get +&quot;:&quot; + qualifiedName else qualifiedName
</td>
          </tr><tr>
            <td class="black">230</td>
            <td>
</td>
          </tr><tr>
            <td class="black">231</td>
            <td>  /**
</td>
          </tr><tr>
            <td class="black">232</td>
            <td>   * QName, {namespace}localName JClark representation, as per everywhere else than w3c
</td>
          </tr><tr>
            <td class="black">233</td>
            <td>   */
</td>
          </tr><tr>
            <td class="green">234</td>
            <td>  def qualifiedName = &quot;{&quot; + namespace.uri + &quot;}&quot; + local
</td>
          </tr><tr>
            <td class="black">235</td>
            <td>
</td>
          </tr><tr>
            <td class="black">236</td>
            <td>  def withPrefix( prefix : String )(implicit ver : XmlVersion, fromParser: FromParser) : PrefixedQName =
</td>
          </tr><tr>
            <td class="red">237</td>
            <td>      <span class="non">PrefixedQName( local , namespace.prefixed(prefix))
</span></td>
          </tr><tr>
            <td class="black">238</td>
            <td>
</td>
          </tr><tr>
            <td class="green">239</td>
            <td>  override def toString = qualifiedName
</td>
          </tr><tr>
            <td class="black">240</td>
            <td>
</td>
          </tr><tr>
            <td class="black">241</td>
            <td>  /** 
</td>
          </tr><tr>
            <td class="black">242</td>
            <td>    * Will match namespace and local with other AND prefix if available
</td>
          </tr><tr>
            <td class="black">243</td>
            <td>    */
</td>
          </tr><tr>
            <td class="black">244</td>
            <td>  def ===( other : QName) = 
</td>
          </tr><tr>
            <td class="green">245</td>
            <td>    if (this eq other) true
</td>
          </tr><tr>
            <td class="black">246</td>
            <td>    else
</td>
          </tr><tr>
            <td class="green">247</td>
            <td>    if (this =:= other) {
</td>
          </tr><tr>
            <td class="green">248</td>
            <td>      val hp = hasPrefix
</td>
          </tr><tr>
            <td class="green">249</td>
            <td>      val ohp = other.hasPrefix
</td>
          </tr><tr>
            <td class="black">250</td>
            <td>
</td>
          </tr><tr>
            <td class="green">251</td>
            <td>      if (hp &amp;&amp; ohp)
</td>
          </tr><tr>
            <td class="green">252</td>
            <td>      prefix.get == other.prefix.get
</td>
          </tr><tr>
            <td class="black">253</td>
            <td>      else 
</td>
          </tr><tr>
            <td class="green">254</td>
            <td>  (hp == ohp) // both false
</td>
          </tr><tr>
            <td class="red">255</td>
            <td>    } else <span class="non">false   
</span></td>
          </tr><tr>
            <td class="black">256</td>
            <td>
</td>
          </tr><tr>
            <td class="black">257</td>
            <td>  /** 
</td>
          </tr><tr>
            <td class="black">258</td>
            <td>   * Will match namespace and local with other but not prefix === also does prefix
</td>
          </tr><tr>
            <td class="black">259</td>
            <td>   */
</td>
          </tr><tr>
            <td class="black">260</td>
            <td>  def =:=( other : QName) = 
</td>
          </tr><tr>
            <td class="green">261</td>
            <td>    (local == other.local &amp;&amp; namespace.uri == other.namespace.uri)
</td>
          </tr><tr>
            <td class="black">262</td>
            <td>  
</td>
          </tr><tr>
            <td class="black">263</td>
            <td>  /**
</td>
          </tr><tr>
            <td class="black">264</td>
            <td>   * Matches using =:= and does not work with === or prefixes
</td>
          </tr><tr>
            <td class="black">265</td>
            <td>   */ 
</td>
          </tr><tr>
            <td class="green">266</td>
            <td>  override def equals( other : Any ) = other match {
</td>
          </tr><tr>
            <td class="green">267</td>
            <td>    case oq : QName =&gt; (oq eq this) || (this =:= oq)
</td>
          </tr><tr>
            <td class="red">268</td>
            <td>    case _ =&gt; <span class="non">false
</span></td>
          </tr><tr>
            <td class="black">269</td>
            <td>  }
</td>
          </tr><tr>
            <td class="black">270</td>
            <td>
</td>
          </tr><tr>
            <td class="black">271</td>
            <td>  override def hashCode() : Int = {
</td>
          </tr><tr>
            <td class="green">272</td>
            <td>    var hs = 1
</td>
          </tr><tr>
            <td class="yellow">273</td>
            <td>    hs = (hs * 31) + prefix.map(<span class="non">_.hashCode).getOrElse(1) // None is good here too
</span></td>
          </tr><tr>
            <td class="green">274</td>
            <td>    hs = (hs * 31) + local.hashCode
</td>
          </tr><tr>
            <td class="green">275</td>
            <td>    hs = (hs * 31) + namespace.hashCode
</td>
          </tr><tr>
            <td class="green">276</td>
            <td>    hs    
</td>
          </tr><tr>
            <td class="black">277</td>
            <td>  }
</td>
          </tr><tr>
            <td class="black">278</td>
            <td>}
</td>
          </tr><tr>
            <td class="black">279</td>
            <td>
</td>
          </tr><tr>
            <td class="black">280</td>
            <td>/**
</td>
          </tr><tr>
            <td class="black">281</td>
            <td> * Provides a key that also checks ===, used in caching where you
</td>
          </tr><tr>
            <td class="black">282</td>
            <td> * want to remove all collision possibilities.
</td>
          </tr><tr>
            <td class="black">283</td>
            <td> *
</td>
          </tr><tr>
            <td class="black">284</td>
            <td> * Note to reduce allocation costs its very mutable, use QName directly when
</td>
          </tr><tr>
            <td class="black">285</td>
            <td> * possible.  Note here the allocation costs refer more to the gc hit of the
</td>
          </tr><tr>
            <td class="black">286</td>
            <td> * extra allocations that are then directly thrown away.
</td>
          </tr><tr>
            <td class="black">287</td>
            <td> *
</td>
          </tr><tr>
            <td class="black">288</td>
            <td> * No QNames were hurt during the use of this class.
</td>
          </tr><tr>
            <td class="black">289</td>
            <td> */
</td>
          </tr><tr>
            <td class="green">290</td>
            <td><a id="Class_scales_xml_FullEqualQNameKey"></a>final class FullEqualQNameKey() {
</td>
          </tr><tr>
            <td class="black">291</td>
            <td>  
</td>
          </tr><tr>
            <td class="black">292</td>
            <td>  // Some also adds creation cost
</td>
          </tr><tr>
            <td class="black">293</td>
            <td>  var prefix : String = _
</td>
          </tr><tr>
            <td class="black">294</td>
            <td>  var local : String = _
</td>
          </tr><tr>
            <td class="black">295</td>
            <td>  var namespace : String = _  
</td>
          </tr><tr>
            <td class="black">296</td>
            <td>
</td>
          </tr><tr>
            <td class="black">297</td>
            <td>  /**
</td>
          </tr><tr>
            <td class="black">298</td>
            <td>   * Makes a copy suitable for caching.
</td>
          </tr><tr>
            <td class="black">299</td>
            <td>   */ 
</td>
          </tr><tr>
            <td class="black">300</td>
            <td>  @inline def copy = {
</td>
          </tr><tr>
            <td class="green">301</td>
            <td>    val n = new FullEqualQNameKey()
</td>
          </tr><tr>
            <td class="green">302</td>
            <td>    n.prefix = prefix
</td>
          </tr><tr>
            <td class="green">303</td>
            <td>    n.local = local
</td>
          </tr><tr>
            <td class="green">304</td>
            <td>    n.namespace = namespace
</td>
          </tr><tr>
            <td class="green">305</td>
            <td>    n.lastHash = lastHash
</td>
          </tr><tr>
            <td class="green">306</td>
            <td>    n
</td>
          </tr><tr>
            <td class="black">307</td>
            <td>  }
</td>
          </tr><tr>
            <td class="black">308</td>
            <td>
</td>
          </tr><tr>
            <td class="black">309</td>
            <td>  @inline def set( qname : QName ) = {
</td>
          </tr><tr>
            <td class="red">310</td>
            <td>    <span class="non">prefix = qname.prefix.getOrElse(null:String)
</span></td>
          </tr><tr>
            <td class="red">311</td>
            <td>    <span class="non">local = qname.local
</span></td>
          </tr><tr>
            <td class="red">312</td>
            <td>    <span class="non">namespace = qname.namespace.uri
</span></td>
          </tr><tr>
            <td class="red">313</td>
            <td>    <span class="non">lastHash = 0
</span></td>
          </tr><tr>
            <td class="red">314</td>
            <td>    <span class="non">hashCode
</span></td>
          </tr><tr>
            <td class="red">315</td>
            <td>    <span class="non">this
</span></td>
          </tr><tr>
            <td class="black">316</td>
            <td>  }
</td>
          </tr><tr>
            <td class="black">317</td>
            <td>
</td>
          </tr><tr>
            <td class="black">318</td>
            <td>  @inline def setNoNamespaceQName( nlocal : String ) = {
</td>
          </tr><tr>
            <td class="green">319</td>
            <td>    prefix = null:String
</td>
          </tr><tr>
            <td class="green">320</td>
            <td>    local = nlocal
</td>
          </tr><tr>
            <td class="green">321</td>
            <td>    namespace = &quot;&quot;//Default.noNamespace
</td>
          </tr><tr>
            <td class="green">322</td>
            <td>    lastHash = 0
</td>
          </tr><tr>
            <td class="green">323</td>
            <td>    hashCode
</td>
          </tr><tr>
            <td class="green">324</td>
            <td>    this
</td>
          </tr><tr>
            <td class="black">325</td>
            <td>  }
</td>
          </tr><tr>
            <td class="black">326</td>
            <td>
</td>
          </tr><tr>
            <td class="black">327</td>
            <td>  @inline def setUnprefixedQName( nlocal : String, nnamespace : String ) = {
</td>
          </tr><tr>
            <td class="green">328</td>
            <td>    prefix = null:String
</td>
          </tr><tr>
            <td class="green">329</td>
            <td>    local = nlocal
</td>
          </tr><tr>
            <td class="green">330</td>
            <td>    namespace = nnamespace
</td>
          </tr><tr>
            <td class="green">331</td>
            <td>    lastHash = 0
</td>
          </tr><tr>
            <td class="green">332</td>
            <td>    hashCode
</td>
          </tr><tr>
            <td class="green">333</td>
            <td>    this
</td>
          </tr><tr>
            <td class="black">334</td>
            <td>  }
</td>
          </tr><tr>
            <td class="black">335</td>
            <td>
</td>
          </tr><tr>
            <td class="black">336</td>
            <td>  @inline def setPrefixedQName( nlocal : String, nnamespace : String, nprefix : String ) = {
</td>
          </tr><tr>
            <td class="green">337</td>
            <td>    prefix = nprefix
</td>
          </tr><tr>
            <td class="green">338</td>
            <td>    local = nlocal
</td>
          </tr><tr>
            <td class="green">339</td>
            <td>    namespace = nnamespace
</td>
          </tr><tr>
            <td class="green">340</td>
            <td>    lastHash = 0
</td>
          </tr><tr>
            <td class="green">341</td>
            <td>    hashCode
</td>
          </tr><tr>
            <td class="green">342</td>
            <td>    this
</td>
          </tr><tr>
            <td class="black">343</td>
            <td>  }
</td>
          </tr><tr>
            <td class="black">344</td>
            <td>
</td>
          </tr><tr>
            <td class="black">345</td>
            <td>  def =:=( other : FullEqualQNameKey ) =
</td>
          </tr><tr>
            <td class="yellow">346</td>
            <td>    if (this eq other) <span class="non">true
</span></td>
          </tr><tr>
            <td class="black">347</td>
            <td>    else
</td>
          </tr><tr>
            <td class="green">348</td>
            <td>    (other.local == local &amp;&amp; namespace == other.namespace)
</td>
          </tr><tr>
            <td class="black">349</td>
            <td>
</td>
          </tr><tr>
            <td class="green">350</td>
            <td>  override def equals( other : Any ) = other match {
</td>
          </tr><tr>
            <td class="black">351</td>
            <td>    case oq : FullEqualQNameKey =&gt;
</td>
          </tr><tr>
            <td class="yellow">352</td>
            <td>      if (this eq oq) <span class="non">true
</span></td>
          </tr><tr>
            <td class="black">353</td>
            <td>      else
</td>
          </tr><tr>
            <td class="green">354</td>
            <td>      if ((oq.lastHash == lastHash) &amp;&amp; (this =:= oq)) 
</td>
          </tr><tr>
            <td class="green">355</td>
            <td>  if ((oq.prefix ne null) &amp;&amp; (prefix ne null))
</td>
          </tr><tr>
            <td class="green">356</td>
            <td>    prefix == oq.prefix
</td>
          </tr><tr>
            <td class="black">357</td>
            <td>  else
</td>
          </tr><tr>
            <td class="green">358</td>
            <td>    ((oq.prefix eq null) &amp;&amp; (prefix eq null))
</td>
          </tr><tr>
            <td class="black">359</td>
            <td>      else 
</td>
          </tr><tr>
            <td class="red">360</td>
            <td>  <span class="non">false
</span></td>
          </tr><tr>
            <td class="red">361</td>
            <td>    case _ =&gt; <span class="non">error(&quot;Cannot compare a FullEqualQNameKey to anything else other than a FullEqualQNameKey&quot;)
</span></td>
          </tr><tr>
            <td class="black">362</td>
            <td>  }
</td>
          </tr><tr>
            <td class="black">363</td>
            <td>
</td>
          </tr><tr>
            <td class="black">364</td>
            <td>  /**
</td>
          </tr><tr>
            <td class="black">365</td>
            <td>   * If its non 0 then its the last caclulated hash since a setXX
</td>
          </tr><tr>
            <td class="black">366</td>
            <td>   */ 
</td>
          </tr><tr>
            <td class="green">367</td>
            <td>  var lastHash : Int = 0
</td>
          </tr><tr>
            <td class="black">368</td>
            <td>
</td>
          </tr><tr>
            <td class="black">369</td>
            <td>  override def hashCode() : Int = {
</td>
          </tr><tr>
            <td class="green">370</td>
            <td>    if (lastHash != 0) return lastHash
</td>
          </tr><tr>
            <td class="black">371</td>
            <td>
</td>
          </tr><tr>
            <td class="green">372</td>
            <td>    var hs = 1
</td>
          </tr><tr>
            <td class="green">373</td>
            <td>    hs = (hs * 31) + (
</td>
          </tr><tr>
            <td class="green">374</td>
            <td>      if (prefix eq null) 1
</td>
          </tr><tr>
            <td class="green">375</td>
            <td>      else prefix.hashCode
</td>
          </tr><tr>
            <td class="black">376</td>
            <td>      )
</td>
          </tr><tr>
            <td class="green">377</td>
            <td>    hs = (hs * 31) + local.hashCode
</td>
          </tr><tr>
            <td class="green">378</td>
            <td>    hs = (hs * 31) + namespace.hashCode
</td>
          </tr><tr>
            <td class="green">379</td>
            <td>    lastHash = hs
</td>
          </tr><tr>
            <td class="green">380</td>
            <td>    hs
</td>
          </tr><tr>
            <td class="black">381</td>
            <td>  }
</td>
          </tr><tr>
            <td class="black">382</td>
            <td>}
</td>
          </tr><tr>
            <td class="black">383</td>
            <td>
</td>
          </tr><tr>
            <td class="black">384</td>
            <td><a id="Trait_scales_xml_NoNamespaceQName"></a>trait NoNamespaceQName extends QName with RightLike[PrefixedQName, NoNamespaceQName] {
</td>
          </tr><tr>
            <td class="green">385</td>
            <td>  final val prefix = None
</td>
          </tr><tr>
            <td class="green">386</td>
            <td>  final val namespace = Default.noNamespace
</td>
          </tr><tr>
            <td class="black">387</td>
            <td>}
</td>
          </tr><tr>
            <td class="black">388</td>
            <td>
</td>
          </tr><tr>
            <td class="black">389</td>
            <td><a id="Object_scales_xml_NoNamespaceQName"></a>object NoNamespaceQName {
</td>
          </tr><tr>
            <td class="green">390</td>
            <td><a id="Class_scales_xml_NoNamespaceQName"></a>  def apply(locali : String)(implicit ver: XmlVersion, fromParser : FromParser) = new NoNamespaceQName {
</td>
          </tr><tr>
            <td class="green">391</td>
            <td>    if (fromParser eq NotFromParser) {
</td>
          </tr><tr>
            <td class="green">392</td>
            <td>      validateLocalName(locali)
</td>
          </tr><tr>
            <td class="black">393</td>
            <td>    }
</td>
          </tr><tr>
            <td class="black">394</td>
            <td>
</td>
          </tr><tr>
            <td class="green">395</td>
            <td>    final val local = locali
</td>
          </tr><tr>
            <td class="black">396</td>
            <td>  }
</td>
          </tr><tr>
            <td class="black">397</td>
            <td>}
</td>
          </tr><tr>
            <td class="black">398</td>
            <td>
</td>
          </tr><tr>
            <td class="black">399</td>
            <td><a id="Trait_scales_xml_PrefixedQName"></a>trait PrefixedQName extends QName with LeftLike[PrefixedQName, NoNamespaceQName]
</td>
          </tr><tr>
            <td class="black">400</td>
            <td>
</td>
          </tr><tr>
            <td class="black">401</td>
            <td><a id="Object_scales_xml_PrefixedQName"></a>object PrefixedQName {
</td>
          </tr><tr>
            <td class="green">402</td>
            <td><a id="Class_scales_xml_PrefixedQName"></a>  def apply( locali : String, prefixedNamespace : PrefixedNamespace)(implicit ver: XmlVersion, fromParser : FromParser) = new PrefixedQName {
</td>
          </tr><tr>
            <td class="green">403</td>
            <td>    if (fromParser eq NotFromParser) {
</td>
          </tr><tr>
            <td class="green">404</td>
            <td>      validateLocalName(locali)
</td>
          </tr><tr>
            <td class="black">405</td>
            <td>    }
</td>
          </tr><tr>
            <td class="green">406</td>
            <td>    final val local = locali
</td>
          </tr><tr>
            <td class="green">407</td>
            <td>    final val prefix = Some(prefixedNamespace.prefix)
</td>
          </tr><tr>
            <td class="green">408</td>
            <td>    final val namespace = prefixedNamespace.ns
</td>
          </tr><tr>
            <td class="black">409</td>
            <td>  }
</td>
          </tr><tr>
            <td class="black">410</td>
            <td>}
</td>
          </tr><tr>
            <td class="black">411</td>
            <td>
</td>
          </tr><tr>
            <td class="black">412</td>
            <td><a id="Trait_scales_xml_UnprefixedQName"></a>trait UnprefixedQName extends QName {
</td>
          </tr><tr>
            <td class="green">413</td>
            <td>  val prefix = None
</td>
          </tr><tr>
            <td class="black">414</td>
            <td>}
</td>
          </tr><tr>
            <td class="black">415</td>
            <td>
</td>
          </tr><tr>
            <td class="black">416</td>
            <td><a id="Object_scales_xml_UnprefixedQName"></a>object UnprefixedQName {
</td>
          </tr><tr>
            <td class="black">417</td>
            <td>
</td>
          </tr><tr>
            <td class="green">418</td>
            <td><a id="Class_scales_xml_UnprefixedQName"></a>  def apply(locali : String, namespacei : Namespace)(implicit ver: XmlVersion, fromParser : FromParser) = new UnprefixedQName {
</td>
          </tr><tr>
            <td class="green">419</td>
            <td>    if (fromParser eq NotFromParser) {
</td>
          </tr><tr>
            <td class="green">420</td>
            <td>      validateLocalName(locali)
</td>
          </tr><tr>
            <td class="black">421</td>
            <td>    }
</td>
          </tr><tr>
            <td class="green">422</td>
            <td>    final val local = locali
</td>
          </tr><tr>
            <td class="green">423</td>
            <td>    final val namespace = namespacei
</td>
          </tr><tr>
            <td class="black">424</td>
            <td>  }
</td>
          </tr><tr>
            <td class="black">425</td>
            <td>}
</td>
          </tr><tr>
            <td class="black">426</td>
            <td>
</td>
          </tr><tr>
            <td class="black">427</td>
            <td><a id="Trait_scales_xml_QNameImplicits"></a>trait QNameImplicits {
</td>
          </tr><tr>
            <td class="black">428</td>
            <td>
</td>
          </tr><tr>
            <td class="green">429</td>
            <td>  implicit def stringToNoNamespace( localOnly : String )(implicit ver : XmlVersion, fromParser: FromParser) = NoNamespaceQName(localOnly)
</td>
          </tr><tr>
            <td class="black">430</td>
            <td>
</td>
          </tr><tr>
            <td class="green">431</td>
            <td><a id="Class_scales_xml_QNameImplicits"></a>  implicit def localStringToNSBuilder( local : String)(implicit ver : XmlVersion, fromParser: FromParser) = new {
</td>
          </tr><tr>
            <td class="black">432</td>
            <td>    def ::( namespace : String ) = if ((namespace eq null) || namespace == &quot;&quot;) error(&quot;Namespace should not be non empty or null&quot;) else UnprefixedQName(local, Namespace(namespace))
</td>
          </tr><tr>
            <td class="black">433</td>
            <td>
</td>
          </tr><tr>
            <td class="black">434</td>
            <td>    /**
</td>
          </tr><tr>
            <td class="black">435</td>
            <td>     * When there are other implicits after the string conversion gold add an &quot;l&quot; for local only 
</td>
          </tr><tr>
            <td class="black">436</td>
            <td>     */
</td>
          </tr><tr>
            <td class="black">437</td>
            <td>    def l(implicit ver : XmlVersion, fromParser : FromParser) = NoNamespaceQName(local)
</td>
          </tr><tr>
            <td class="black">438</td>
            <td>  }
</td>
          </tr><tr>
            <td class="black">439</td>
            <td>}
</td>
          </tr></tbody></table>