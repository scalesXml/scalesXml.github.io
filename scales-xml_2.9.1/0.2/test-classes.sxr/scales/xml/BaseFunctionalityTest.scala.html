<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\xml\BaseFunctionalityTest.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    
<style id="linesStyle">
.lineHighlight {
  background-color: #a5a5a5;
}
</style>
<script type="text/javascript">
function selectedLine() {
    var loca = /^.*#l(.*)/.exec(location.href);
    return loca ? loca[1] : '0';
}

function highlightLine(ln){
  $('#l'+ln).toggleClass('lineHighlight');
}

function gotoLine(ln){
  $('#l'+ln).focus();
}

$(function(){
  var line = selectedLine();
  if (line != '0') highlightLine(line)
});
</script></head>
    <body>
        <pre>
<!-- SXR_LINES --><a href="l1"></a><span id="l1"><span class="keyword">package</span> scales.xml</span>
<a href="l2"></a><span id="l2"></span>
<a href="l3"></a><span id="l3"><span class="keyword">class</span> <a title="class BaseFunctionalityTest extends junit.framework.TestCase with ScalaObject" id="13500">BaseFunctionalityTest</a> <a href="#13500" title="ScalaObject" class="keyword">extends</a> junit.framework.<span title="junit.framework.TestCase">TestCase</span> <span class="delimiter">{</span></span>
<a href="l4"></a><span id="l4"></span>
<a href="l5"></a><span id="l5">  <span class="keyword">import</span> junit.framework.<span title="object junit.framework.Assert">Assert</span>._</span>
<a href="l6"></a><span id="l6">  <span class="keyword">import</span> java.io._</span>
<a href="l7"></a><span id="l7">  <span class="keyword">import</span> scales.utils._</span>
<a href="l8"></a><span id="l8">  <span class="keyword">import</span> <a href="../../../classes.sxr/scales/utils/ScalesUtils.scala.html#10619" title="object scales.utils.ScalesUtils">ScalesUtils</a>._</span>
<a href="l9"></a><span id="l9">  <span class="keyword">import</span> <a href="../../../classes.sxr/scales/xml/ScalesXml.scala.html#11813" title="object scales.xml.ScalesXml">ScalesXml</a>._</span>
<a href="l10"></a><span id="l10"></span>
<a href="l11"></a><span id="l11">  <span class="keyword">val</span> <a title="java.io.File" id="52338">xmlFile</a> = <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><span title="java.lang.String(&quot;./src/test/data/BaseXmlTest.xml&quot;)" class="string">&quot;./src/test/data/BaseXmlTest.xml&quot;</span><span class="delimiter">)</span></span>
<a href="l12"></a><span id="l12">  <span class="keyword">val</span> <a title="org.w3c.dom.Document" id="52340">dom</a> = <span class="delimiter">{</span></span>
<a href="l13"></a><span id="l13">    <span class="keyword">val</span> <a title="javax.xml.parsers.DocumentBuilderFactory" id="52593">dbf</a> = javax.xml.parsers.<span title="object javax.xml.parsers.DocumentBuilderFactory">DocumentBuilderFactory</span>.<span title="()javax.xml.parsers.DocumentBuilderFactory">newInstance</span></span>
<a href="l14"></a><span id="l14">    <a href="#52593" title="javax.xml.parsers.DocumentBuilderFactory">dbf</a>.<span title="(x$1: Boolean)Unit">setNamespaceAware</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span></span>
<a href="l15"></a><span id="l15">    <a href="#52593" title="javax.xml.parsers.DocumentBuilderFactory">dbf</a>.<span title="(x$1: Boolean)Unit">setIgnoringComments</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span></span>
<a href="l16"></a><span id="l16">    <a href="#52593" title="javax.xml.parsers.DocumentBuilderFactory">dbf</a>.<span title="(x$1: Boolean)Unit">setIgnoringElementContentWhitespace</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span></span>
<a href="l17"></a><span id="l17">    <span class="keyword">val</span> <a title="javax.xml.parsers.DocumentBuilder" id="52594">db</a> = <a href="#52593" title="javax.xml.parsers.DocumentBuilderFactory">dbf</a>.<span title="()javax.xml.parsers.DocumentBuilder">newDocumentBuilder</span></span>
<a href="l18"></a><span id="l18">    <a href="#52594" title="javax.xml.parsers.DocumentBuilder">db</a>.<span title="(x$1: org.xml.sax.InputSource)org.w3c.dom.Document">parse</span><span class="delimiter">(</span><span title="(x$1: java.io.Reader)org.xml.sax.InputSource" class="keyword">new</span> org.xml.sax.<span title="org.xml.sax.InputSource">InputSource</span><span class="delimiter">(</span><span title="java.io.InputStreamReader" class="keyword">new</span> <span title="java.io.InputStreamReader">InputStreamReader</span><span class="delimiter">(</span><span title="(x$1: java.io.File)java.io.FileInputStream" class="keyword">new</span> <span title="java.io.FileInputStream">FileInputStream</span><span class="delimiter">(</span><a href="#52338" title="=&gt; java.io.File">xmlFile</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l19"></a><span id="l19">  <span class="delimiter">}</span></span>
<a href="l20"></a><span id="l20"></span>
<a href="l21"></a><span id="l21">  <span class="keyword">val</span> <a title="scales.xml.Doc" id="52342">testXml</a> = <a href="../../../classes.sxr/scales/xml/XmlParser.scala.html#12442" title="(source: org.xml.sax.InputSource, strategy: scales.xml.PathOptimisationStrategy[scales.xml.ElemToken], parsers: scales.utils.Loaner[javax.xml.parsers.SAXParser])(implicit xmlVer: scales.xml.XmlVersion)scales.xml.Doc">loadXml</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><a href="../../../classes.sxr/scales/xml/XmlParser.scala.html#87865" title="implicit scales.xml.XmlParserImplicits.readerToSource : (source: java.io.Reader)org.xml.sax.InputSource" class="keyword">new</a> <span title="java.io.FileReader">FileReader</span><span class="delimiter">(</span><a href="#52338" title="=&gt; java.io.File">xmlFile</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l22"></a><span id="l22">  <span class="keyword">val</span> <a title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="52344">path</a> = <a href="../../../classes.sxr/scales/utils/Paths.scala.html#12295" title="(tree: scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])(implicit cbf: scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">top</a><a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#87812" title="=&gt; scales.xml.package.XmlCBF" class="delimiter">(</a><a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#87811" title="implicit scales.xml.XmlTypesImplicits.docToTree : (doc: scales.xml.Doc)scales.xml.package.XmlTree">testXml</a><span class="delimiter">)</span></span>
<a href="l23"></a><span id="l23"></span>
<a href="l24"></a><span id="l24">  <span class="comment">/* uncomment in times of need</span>
<a href="l25"></a><span id="l25">  def testPrint = {</span>
<a href="l26"></a><span id="l26">	  foldPrint(XmlOutput(System.out))(testXml)</span>
<a href="l27"></a><span id="l27">  }*/</span></span>
<a href="l28"></a><span id="l28"></span>
<a href="l29"></a><span id="l29">  <span class="keyword">val</span> <a title="scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]" id="52346">prefixed</a> = <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">path</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90421" title="(qname: scales.xml.QName)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\*</a><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/QName.scala.html#87861" title="implicit scales.xml.QNameImplicits.stringToNoNamespace : (localOnly: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.NoNamespaceQName" class="string">&quot;NoNamespace&quot;</a><span class="delimiter">)</span>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90423" title="(pred: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]] =&gt; Boolean)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\*</a><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12471" title="object scales.xml.package.Elements">Elements</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99694" title="(v1: String)scales.xml.package.XmlPath =&gt; Boolean">localName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;prefixed&quot;)" class="string">&quot;prefixed&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l30"></a><span id="l30"></span>
<a href="l31"></a><span id="l31">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52348">testLocalNamePredicate</a> = <span class="delimiter">{</span></span>
<a href="l32"></a><span id="l32">    <span title="(x$1: Boolean)Unit">assertTrue</span><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]">prefixed</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span></span>
<a href="l33"></a><span id="l33">    <span title="(x$1: java.lang.String, x$2: java.lang.String)Unit">assertEquals</span><span class="delimiter">(</span><span title="java.lang.String(&quot;ns1:{urn:prefix}prefixed&quot;)" class="string">&quot;ns1:{urn:prefix}prefixed&quot;</span>, <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12471" title="object scales.xml.package.Elements">Elements</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99690" title="object scales.xml.package.Elements.Functions">Functions</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99704" title="(implicit path: scales.xml.package.XmlPath)String">pqName</a><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]">prefixed</a>.<span title="=&gt; scales.xml.package.XmlPath">head</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l34"></a><span id="l34">  <span class="delimiter">}</span></span>
<a href="l35"></a><span id="l35"><span class="comment">/* */</span></span>
<a href="l36"></a><span id="l36">  <span class="keyword">def</span> <a title="(res: Iterable[scales.xml.AttributePath])Unit" id="52349">doAttrTest</a><span class="delimiter">(</span><a title="Iterable[scales.xml.AttributePath]" id="60530">res</a>: <span title="Iterable[scales.xml.AttributePath]">Iterable</span><span class="delimiter">[</span>AttributePath<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l37"></a><span id="l37">    <span title="(x$1: java.lang.String, x$2: Boolean)Unit">assertTrue</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Did not find attr&quot;)" class="string">&quot;Did not find attr&quot;</span>, <a href="#60530" title="Iterable[scales.xml.AttributePath]">res</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span></span>
<a href="l38"></a><span id="l38">    <span class="keyword">val</span> <a title="scales.xml.Attribute" id="60532">attrib</a> = <a href="#60530" title="Iterable[scales.xml.AttributePath]">res</a>.<span title="=&gt; scales.xml.AttributePath">head</span>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#104158" title="=&gt; scales.xml.Attribute">attribute</a></span>
<a href="l39"></a><span id="l39">    <span title="(x$1: java.lang.String, x$2: java.lang.String)Unit">assertEquals</span><span class="delimiter">(</span><span title="java.lang.String(&quot;ns1:{urn:prefix}attr&quot;)" class="string">&quot;ns1:{urn:prefix}attr&quot;</span>, <a href="#60532" title="scales.xml.Attribute">attrib</a>.<a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#87809" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a>.<a href="../../../classes.sxr/scales/xml/QName.scala.html#87938" title="=&gt; java.lang.String">pqName</a><span class="delimiter">)</span></span>
<a href="l40"></a><span id="l40">    <span title="(x$1: java.lang.String, x$2: java.lang.String)Unit">assertEquals</span><span class="delimiter">(</span><span title="java.lang.String(&quot;namespaced&quot;)" class="string">&quot;namespaced&quot;</span>, <a href="#60532" title="scales.xml.Attribute">attrib</a>.<a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#87915" title="=&gt; String">value</a><span class="delimiter">)</span></span>
<a href="l41"></a><span id="l41">  <span class="delimiter">}</span></span>
<a href="l42"></a><span id="l42">  <span class="comment">//  </span></span>
<a href="l43"></a><span id="l43">  <span class="comment">//  def testNSAttributes = {</span></span>
<a href="l44"></a><span id="l44">  <span class="comment">//	doAttrTest(prefixed \@ (&quot;urn:prefix&quot;::&quot;attr&quot;))</span></span>
<a href="l45"></a><span id="l45">  <span class="comment">//  }</span></span>
<a href="l46"></a><span id="l46">  <span class="comment">//  </span></span>
<a href="l47"></a><span id="l47">  <span class="comment">//  def testLocalNamePredicateAttributes = {</span></span>
<a href="l48"></a><span id="l48">  <span class="comment">//	doAttrTest(prefixed \@ Attributes.localName(&quot;attr&quot;))</span></span>
<a href="l49"></a><span id="l49">  <span class="comment">//  }</span></span>
<a href="l50"></a><span id="l50"></span>
<a href="l51"></a><span id="l51">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52350">testNSAttributes</a> = <span class="delimiter">{</span></span>
<a href="l52"></a><span id="l52">    <a href="#52349" title="(res: Iterable[scales.xml.AttributePath])Unit">doAttrTest</a><span class="delimiter">(</span><a href="#52346" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">prefixed</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90412" title="=&gt; scales.xml.XPath[BaseFunctionalityTest.this.prefixed.T]">\</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90458" title="(qname: scales.xml.UnprefixedQName)scales.xml.AttributePaths[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">*@</a><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87834" title="(attrs: scales.xml.AttributePaths[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]])Iterable[scales.xml.AttributePath]" class="delimiter">(</a><span title="java.lang.String(&quot;urn:prefix&quot;)" class="string">&quot;urn:prefix&quot;</span> <a href="#61018" title="(namespace: String)java.lang.Object with scales.xml.UnprefixedQName">::</a> <a href="../../../classes.sxr/scales/xml/QName.scala.html#87862" title="implicit scales.xml.QNameImplicits.localStringToNSBuilder : (local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object{def ::(namespace: String): java.lang.Object with scales.xml.UnprefixedQName; def l(implicit ver: scales.xml.XmlVersion,implicit fromParser: scales.xml.FromParser): java.lang.Object with scales.xml.NoNamespaceQName}" class="string">&quot;attr&quot;</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l53"></a><span id="l53">  <span class="delimiter">}</span></span>
<a href="l54"></a><span id="l54"></span>
<a href="l55"></a><span id="l55">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52351">testPrefixedExactAttributes</a> = <span class="delimiter">{</span></span>
<a href="l56"></a><span id="l56">    <a href="#52349" title="(res: Iterable[scales.xml.AttributePath])Unit">doAttrTest</a><span class="delimiter">(</span><a href="#52346" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">prefixed</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90412" title="=&gt; scales.xml.XPath[BaseFunctionalityTest.this.prefixed.T]">\</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90455" title="(attrQname: scales.xml.PrefixedQName)(implicit evidence$1: scales.xml.PrefixedQName =&gt; scales.utils.EitherLike[scales.xml.PrefixedQName,scales.xml.NoNamespaceQName])scales.xml.AttributePaths[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">*@</a><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87834" title="(attrs: scales.xml.AttributePaths[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]])Iterable[scales.xml.AttributePath]" class="delimiter">(</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#88303" title="(validUri: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)scales.xml.Namespace">Namespace</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><span title="java.lang.String(&quot;urn:prefix&quot;)" class="string">&quot;urn:prefix&quot;</span><span class="delimiter">)</span>.<a href="../../../classes.sxr/scales/xml/QName.scala.html#88278" title="(prefix: String, local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)scales.xml.PrefixedQName">prefixed</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><span title="java.lang.String(&quot;ns1&quot;)" class="string">&quot;ns1&quot;</span>, <span title="java.lang.String(&quot;attr&quot;)" class="string">&quot;attr&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l57"></a><span id="l57">  <span class="delimiter">}</span></span>
<a href="l58"></a><span id="l58"></span>
<a href="l59"></a><span id="l59">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52352">testLocalOnlyFails</a> = <span class="delimiter">{</span></span>
<a href="l60"></a><span id="l60">    <span title="(x$1: java.lang.String, x$2: Boolean)Unit">assertTrue</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Should not find an attribute, as this should only match for no namespace matches&quot;)" class="string">&quot;Should not find an attribute, as this should only match for no namespace matches&quot;</span>, <a href="#52346" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">prefixed</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90455" title="(attrQname: java.lang.String)(implicit evidence$1: java.lang.String =&gt; scales.xml.package.AttributeQName)scales.xml.AttributePaths[BaseFunctionalityTest.this.prefixed.T]">*@</a><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87834" title="(attrs: scales.xml.AttributePaths[BaseFunctionalityTest.this.prefixed.T])Iterable[scales.xml.AttributePath]" class="delimiter">(</a><span title="java.lang.String(&quot;attr&quot;)" class="string">&quot;attr&quot;</span><span class="delimiter">)</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span></span>
<a href="l61"></a><span id="l61">  <span class="delimiter">}</span></span>
<a href="l62"></a><span id="l62"></span>
<a href="l63"></a><span id="l63">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52353">testLocalNamePredicateAttributes</a> = <span class="delimiter">{</span></span>
<a href="l64"></a><span id="l64">    <a href="#52349" title="(res: Iterable[scales.xml.AttributePath])Unit">doAttrTest</a><span class="delimiter">(</span><a href="#52346" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">prefixed</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90412" title="=&gt; scales.xml.XPath[BaseFunctionalityTest.this.prefixed.T]">\</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90454" title="(pred: scales.xml.AttributePath =&gt; Boolean)scales.xml.AttributePaths[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">*@</a><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87834" title="(attrs: scales.xml.AttributePaths[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]])Iterable[scales.xml.AttributePath]" class="delimiter">(</a><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12465" title="object scales.xml.package.Attributes">Attributes</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99765" title="(v1: String)scales.xml.AttributePath =&gt; Boolean">localName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;attr&quot;)" class="string">&quot;attr&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l65"></a><span id="l65">  <span class="delimiter">}</span></span>
<a href="l66"></a><span id="l66"></span>
<a href="l67"></a><span id="l67">  <span class="keyword">def</span> <a title="(f: scales.xml.XPath[_] =&gt; scales.xml.XPath[_])Unit" id="52354">doExistsTest</a><span class="delimiter">(</span> <a title="scales.xml.XPath[_] =&gt; scales.xml.XPath[_]" id="61407">f</a> : <span class="delimiter">(</span>XPath<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; XPath<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span></span>
<a href="l68"></a><span id="l68">    <span class="keyword">val</span> <a title="scales.xml.XPath[_]" id="61410">res</a> = <a href="#61407" title="(v1: scales.xml.XPath[_])scales.xml.XPath[_]">f</a><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">path</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90421" title="(qname: scales.xml.QName)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\*</a><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/QName.scala.html#87861" title="implicit scales.xml.QNameImplicits.stringToNoNamespace : (localOnly: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.NoNamespaceQName" class="string">&quot;NoNamespace&quot;</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l69"></a><span id="l69">    <span title="(x$1: java.lang.String, x$2: Boolean)Unit">assertTrue</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Did not find the attr in an element&quot;)" class="string">&quot;Did not find the attr in an element&quot;</span>, <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]">res</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span></span>
<a href="l70"></a><span id="l70">    <span title="(x$1: java.lang.String, x$2: java.lang.String)Unit">assertEquals</span><span class="delimiter">(</span><span title="java.lang.String(&quot;prefixed&quot;)" class="string">&quot;prefixed&quot;</span>, <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12471" title="object scales.xml.package.Elements">Elements</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99690" title="object scales.xml.package.Elements.Functions">Functions</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99701" title="(implicit path: scales.xml.package.XmlPath)String">localName</a><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]">res</a>.<span title="=&gt; scales.xml.package.XmlPath">head</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l71"></a><span id="l71">  <span class="delimiter">}</span></span>
<a href="l72"></a><span id="l72"></span>
<a href="l73"></a><span id="l73">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52355">testExistsAttributes</a> = <span class="delimiter">{</span></span>
<a href="l74"></a><span id="l74">    <span class="keyword">import</span> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12465" title="object scales.xml.package.Attributes">Attributes</a>.*@</span>
<a href="l75"></a><span id="l75">    <a href="#52354" title="(f: scales.xml.XPath[_] =&gt; scales.xml.XPath[_])Unit">doExistsTest</a><span class="delimiter">{</span> <a href="#61622" title="scales.xml.XPath[_]">_</a> .<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90423" title="(pred: scales.xml.package.XmlPath =&gt; Boolean)scales.xml.XPath[Any]">\*</a><span class="delimiter">(</span> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99763" title="(v1: scales.xml.QName)scales.xml.package.XmlPath =&gt; Boolean">*@</a><span class="delimiter">(</span><span title="java.lang.String(&quot;urn:prefix&quot;)" class="string">&quot;urn:prefix&quot;</span> <a href="#61631" title="(namespace: String)java.lang.Object with scales.xml.UnprefixedQName">::</a> <a href="../../../classes.sxr/scales/xml/QName.scala.html#87862" title="implicit scales.xml.QNameImplicits.localStringToNSBuilder : (local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object{def ::(namespace: String): java.lang.Object with scales.xml.UnprefixedQName; def l(implicit ver: scales.xml.XmlVersion,implicit fromParser: scales.xml.FromParser): java.lang.Object with scales.xml.NoNamespaceQName}" class="string">&quot;attr&quot;</a><span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">}</span></span>
<a href="l76"></a><span id="l76">  <span class="delimiter">}</span></span>
<a href="l77"></a><span id="l77"></span>
<a href="l78"></a><span id="l78">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52356">testExistsAttributesMethod</a> = <span class="delimiter">{</span></span>
<a href="l79"></a><span id="l79">    <span class="keyword">import</span> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12465" title="object scales.xml.package.Attributes">Attributes</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99761" title="object scales.xml.package.Attributes.Functions">Functions</a>.*@</span>
<a href="l80"></a><span id="l80">    <a href="#52354" title="(f: scales.xml.XPath[_] =&gt; scales.xml.XPath[_])Unit">doExistsTest</a><span class="delimiter">(</span> <a href="#61646" title="scales.xml.XPath[_]">_</a> .<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90423" title="(pred: scales.xml.package.XmlPath =&gt; Boolean)scales.xml.XPath[Any]">\*</a><span class="delimiter">{</span> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99776" title="(qName: scales.xml.QName)(implicit path: scales.xml.package.XmlPath)Boolean">*@</a><span class="delimiter">(</span><span title="java.lang.String(&quot;urn:prefix&quot;)" class="string">&quot;urn:prefix&quot;</span> <a href="#61690" title="(namespace: String)java.lang.Object with scales.xml.UnprefixedQName">::</a> <a href="../../../classes.sxr/scales/xml/QName.scala.html#87862" title="implicit scales.xml.QNameImplicits.localStringToNSBuilder : (local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object{def ::(namespace: String): java.lang.Object with scales.xml.UnprefixedQName; def l(implicit ver: scales.xml.XmlVersion,implicit fromParser: scales.xml.FromParser): java.lang.Object with scales.xml.NoNamespaceQName}" class="string">&quot;attr&quot;</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#61689" title="scales.xml.package.XmlPath">_</a><span class="delimiter">)</span> <span class="delimiter">}</span> <span class="delimiter">)</span></span>
<a href="l81"></a><span id="l81">  <span class="delimiter">}</span></span>
<a href="l82"></a><span id="l82"> </span>
<a href="l83"></a><span id="l83">  <span class="keyword">import</span> <a href="../utils/TestUtils.scala.html#11479" title="object scales.utils.TestUtils">TestUtils</a>._</span>
<a href="l84"></a><span id="l84"></span>
<a href="l85"></a><span id="l85">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52358">testPositionAllKids</a> = <span class="delimiter">{</span></span>
<a href="l86"></a><span id="l86">    <span class="keyword">val</span> <a title="scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]" id="61702">pos</a> = <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">path</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90425" title="(pos: Int)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\*</a><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90427" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\*</a></span>
<a href="l87"></a><span id="l87">    <span class="keyword">val</span> <a title="List[java.lang.String]" id="61703">expected</a> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;{}DontRedeclare&quot;)" class="string">&quot;{}DontRedeclare&quot;</span>, <span title="java.lang.String(&quot;{}DontRedeclare&quot;)" class="string">&quot;{}DontRedeclare&quot;</span>,</span>
<a href="l88"></a><span id="l88">      <span title="java.lang.String(&quot;{urn:default}ShouldRedeclare&quot;)" class="string">&quot;{urn:default}ShouldRedeclare&quot;</span>, <span title="java.lang.String(&quot;ns1:{urn:prefix}prefixed&quot;)" class="string">&quot;ns1:{urn:prefix}prefixed&quot;</span><span class="delimiter">)</span>;</span>
<a href="l89"></a><span id="l89"></span>
<a href="l90"></a><span id="l90">    <a href="../utils/TestUtils.scala.html#52175" title="(expectVals: Iterable[java.lang.String], gotVals: Iterable[scales.xml.package.XmlPath])(convert: scales.xml.package.XmlPath =&gt; java.lang.String)Unit">compare</a><span class="delimiter">(</span><a href="#61703" title="List[java.lang.String]">expected</a>, <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12471" title="object scales.xml.package.Elements">Elements</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99690" title="object scales.xml.package.Elements.Functions">Functions</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99704" title="(implicit path: scales.xml.package.XmlPath)String">pqName</a><span class="delimiter">(</span><a href="#61802" title="scales.xml.package.XmlPath">_</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l91"></a><span id="l91">  <span class="delimiter">}</span></span>
<a href="l92"></a><span id="l92"></span>
<a href="l93"></a><span id="l93">  <span class="keyword">val</span> <a title="scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]" id="52359">dontRedeclares</a> = <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">path</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90416" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\\</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90422" title="(pred: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]] =&gt; Boolean)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">*</a><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12471" title="object scales.xml.package.Elements">Elements</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99694" title="(v1: String)scales.xml.package.XmlPath =&gt; Boolean">localName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;DontRedeclare&quot;)" class="string">&quot;DontRedeclare&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l94"></a><span id="l94"></span>
<a href="l95"></a><span id="l95">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52361">testDescendentLocalNamePredicate</a> = <span class="delimiter">{</span></span>
<a href="l96"></a><span id="l96">    <span class="keyword">val</span> <a title="List[java.lang.String]" id="61806">expected</a> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;{urn:default}DontRedeclare&quot;)" class="string">&quot;{urn:default}DontRedeclare&quot;</span>,</span>
<a href="l97"></a><span id="l97">      <span title="java.lang.String(&quot;{}DontRedeclare&quot;)" class="string">&quot;{}DontRedeclare&quot;</span>, <span title="java.lang.String(&quot;{}DontRedeclare&quot;)" class="string">&quot;{}DontRedeclare&quot;</span><span class="delimiter">)</span>;</span>
<a href="l98"></a><span id="l98"></span>
<a href="l99"></a><span id="l99">    <a href="../utils/TestUtils.scala.html#52175" title="(expectVals: Iterable[java.lang.String], gotVals: Iterable[scales.xml.package.XmlPath])(convert: scales.xml.package.XmlPath =&gt; java.lang.String)Unit">compare</a><span class="delimiter">(</span><a href="#61806" title="List[java.lang.String]">expected</a>, <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]">dontRedeclares</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12471" title="object scales.xml.package.Elements">Elements</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99690" title="object scales.xml.package.Elements.Functions">Functions</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99704" title="(implicit path: scales.xml.package.XmlPath)String">pqName</a><span class="delimiter">(</span><a href="#61844" title="scales.xml.package.XmlPath">_</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l100"></a><span id="l100">  <span class="delimiter">}</span></span>
<a href="l101"></a><span id="l101"></span>
<a href="l102"></a><span id="l102">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52362">testUnions</a> = <span class="delimiter">{</span></span>
<a href="l103"></a><span id="l103">    <span class="keyword">val</span> <a title="List[java.lang.String]" id="61848">expected</a> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;{urn:default}Default&quot;)" class="string">&quot;{urn:default}Default&quot;</span>, </span>
<a href="l104"></a><span id="l104">      <span title="java.lang.String(&quot;{urn:default}DontRedeclare&quot;)" class="string">&quot;{urn:default}DontRedeclare&quot;</span>,</span>
<a href="l105"></a><span id="l105">      <span title="java.lang.String(&quot;{}NoNamespace&quot;)" class="string">&quot;{}NoNamespace&quot;</span>,</span>
<a href="l106"></a><span id="l106">      <span title="java.lang.String(&quot;{}DontRedeclare&quot;)" class="string">&quot;{}DontRedeclare&quot;</span>, <span title="java.lang.String(&quot;{}DontRedeclare&quot;)" class="string">&quot;{}DontRedeclare&quot;</span><span class="delimiter">)</span>;</span>
<a href="l107"></a><span id="l107"></span>
<a href="l108"></a><span id="l108">    <a href="../utils/TestUtils.scala.html#52175" title="(expectVals: Iterable[java.lang.String], gotVals: Iterable[scales.xml.package.XmlPath])(convert: scales.xml.package.XmlPath =&gt; java.lang.String)Unit">compare</a><span class="delimiter">(</span><a href="#61848" title="List[java.lang.String]">expected</a>, <a href="#52359" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">dontRedeclares</a> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90443" title="(other: scales.xml.XPath[BaseFunctionalityTest.this.dontRedeclares.T])scales.xml.XPath[BaseFunctionalityTest.this.dontRedeclares.T]">|</a> <a href="#52359" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">dontRedeclares</a> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]">|</a> <span class="delimiter">(</span><a href="#52359" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">dontRedeclares</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90411" title="=&gt; scales.xml.XPath[BaseFunctionalityTest.this.dontRedeclares.T]">\^</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span></span>
<a href="l109"></a><span id="l109">      <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12471" title="object scales.xml.package.Elements">Elements</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99690" title="object scales.xml.package.Elements.Functions">Functions</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99704" title="(implicit path: scales.xml.package.XmlPath)String">pqName</a><span class="delimiter">(</span><a href="#61891" title="scales.xml.package.XmlPath">_</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l110"></a><span id="l110">  <span class="delimiter">}</span></span>
<a href="l111"></a><span id="l111"></span>
<a href="l112"></a><span id="l112">  <span class="comment">// without the duplicate filter it would have three results</span></span>
<a href="l113"></a><span id="l113">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52363">testParentsDuplicates</a> = <span class="delimiter">{</span></span>
<a href="l114"></a><span id="l114">    <span class="keyword">val</span> <a title="List[java.lang.String]" id="61895">expected</a> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;{urn:default}Default&quot;)" class="string">&quot;{urn:default}Default&quot;</span>,</span>
<a href="l115"></a><span id="l115">      <span title="java.lang.String(&quot;{}NoNamespace&quot;)" class="string">&quot;{}NoNamespace&quot;</span><span class="delimiter">)</span>;</span>
<a href="l116"></a><span id="l116"></span>
<a href="l117"></a><span id="l117">    <a href="../utils/TestUtils.scala.html#52175" title="(expectVals: Iterable[java.lang.String], gotVals: Iterable[scales.xml.package.XmlPath])(convert: scales.xml.package.XmlPath =&gt; java.lang.String)Unit">compare</a><span class="delimiter">(</span><a href="#61895" title="List[java.lang.String]">expected</a>, <a href="#52359" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">dontRedeclares</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]">\^</a> <span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12471" title="object scales.xml.package.Elements">Elements</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99690" title="object scales.xml.package.Elements.Functions">Functions</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99704" title="(implicit path: scales.xml.package.XmlPath)String">pqName</a><span class="delimiter">(</span><a href="#61933" title="scales.xml.package.XmlPath">_</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l118"></a><span id="l118">  <span class="delimiter">}</span></span>
<a href="l119"></a><span id="l119">    </span>
<a href="l120"></a><span id="l120">  <span class="keyword">val</span> <a title="scales.xml.AttributePaths[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]" id="52364">allAttribs</a> = <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">path</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90416" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\\</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90453" title="=&gt; scales.xml.AttributePaths[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">*@</a></span>
<a href="l121"></a><span id="l121">  <span class="comment">//  </span></span>
<a href="l122"></a><span id="l122">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52366">testAllAttributes</a> = <span class="delimiter">{</span></span>
<a href="l123"></a><span id="l123">    <span class="keyword">val</span> <a title="List[java.lang.String]" id="61937">expected</a> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;justHere:{urn:justHere}attr=only&quot;)" class="string">&quot;justHere:{urn:justHere}attr=only&quot;</span>, <span title="java.lang.String(&quot;{}type=interesting&quot;)" class="string">&quot;{}type=interesting&quot;</span>, </span>
<a href="l124"></a><span id="l124">  			<span title="java.lang.String(&quot;ns1:{urn:prefix}attr=namespaced&quot;)" class="string">&quot;ns1:{urn:prefix}attr=namespaced&quot;</span><span class="delimiter">)</span>;</span>
<a href="l125"></a><span id="l125">    <span class="keyword">import</span> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12465" title="object scales.xml.package.Attributes">Attributes</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99761" title="object scales.xml.package.Attributes.Functions">Functions</a>._</span>
<a href="l126"></a><span id="l126">    <a href="../utils/TestUtils.scala.html#52175" title="(expectVals: Iterable[java.lang.String], gotVals: Iterable[scales.xml.AttributePath])(convert: scales.xml.AttributePath =&gt; java.lang.String)Unit">compare</a><span class="delimiter">(</span> <a href="#61937" title="List[java.lang.String]">expected</a>, <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87834" title="(attrs: scales.xml.AttributePaths[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]])Iterable[scales.xml.AttributePath]">allAttribs</a> <span class="delimiter">)</span><span class="delimiter">{</span> <span class="keyword">implicit</span> <a title="scales.xml.AttributePath" id="61983">attr</a> =&gt; <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99773" title="(implicit attribute: scales.xml.AttributePath)String">pqName</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;=&quot;)" class="string">&quot;=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99774" title="(implicit attribute: scales.xml.AttributePath)String">value</a> <span class="delimiter">}</span></span>
<a href="l127"></a><span id="l127">  <span class="delimiter">}</span></span>
<a href="l128"></a><span id="l128">  </span>
<a href="l129"></a><span id="l129">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52367">testAllElementsWithAttributes</a> = <span class="delimiter">{</span></span>
<a href="l130"></a><span id="l130">    <span class="keyword">val</span> <a title="List[java.lang.String]" id="61987">expected</a> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;{}NoNamespace&quot;)" class="string">&quot;{}NoNamespace&quot;</span>, </span>
<a href="l131"></a><span id="l131">  			<span title="java.lang.String(&quot;ns1:{urn:prefix}prefixed&quot;)" class="string">&quot;ns1:{urn:prefix}prefixed&quot;</span><span class="delimiter">)</span>;</span>
<a href="l132"></a><span id="l132">    </span>
<a href="l133"></a><span id="l133">    <a href="../utils/TestUtils.scala.html#52175" title="(expectVals: Iterable[java.lang.String], gotVals: Iterable[scales.xml.package.XmlPath])(convert: scales.xml.package.XmlPath =&gt; java.lang.String)Unit">compare</a><span class="delimiter">(</span> <a href="#61987" title="List[java.lang.String]">expected</a>, <a href="#52364" title="=&gt; scales.xml.AttributePaths[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">allAttribs</a> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]">\^</a> <span class="delimiter">)</span><span class="delimiter">{</span> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12471" title="object scales.xml.package.Elements">Elements</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99690" title="object scales.xml.package.Elements.Functions">Functions</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99704" title="(implicit path: scales.xml.package.XmlPath)String">pqName</a><span class="delimiter">(</span><a href="#62025" title="scales.xml.package.XmlPath">_</a><span class="delimiter">)</span> <span class="delimiter">}</span></span>
<a href="l134"></a><span id="l134">  <span class="delimiter">}</span></span>
<a href="l135"></a><span id="l135">  </span>
<a href="l136"></a><span id="l136">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52368">testElementText</a> = <span class="delimiter">{</span></span>
<a href="l137"></a><span id="l137">    <span class="keyword">val</span> <a title="List[java.lang.String]" id="62029">expected</a> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;prefixed text&quot;)" class="string">&quot;prefixed text&quot;</span><span class="delimiter">)</span></span>
<a href="l138"></a><span id="l138">    <a href="../utils/TestUtils.scala.html#52175" title="(expectVals: Iterable[java.lang.String], gotVals: Iterable[scales.xml.package.XmlPath])(convert: scales.xml.package.XmlPath =&gt; java.lang.String)Unit">compare</a><span class="delimiter">(</span><a href="#62029" title="List[java.lang.String]">expected</a>, <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">path</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90416" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\\</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90420" title="(qname: scales.xml.QName)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">*</a><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]" class="delimiter">(</a><span title="java.lang.String(&quot;urn:prefix&quot;)" class="string">&quot;urn:prefix&quot;</span> <a href="#62099" title="(namespace: String)java.lang.Object with scales.xml.UnprefixedQName">::</a> <a href="../../../classes.sxr/scales/xml/QName.scala.html#87862" title="implicit scales.xml.QNameImplicits.localStringToNSBuilder : (local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object{def ::(namespace: String): java.lang.Object with scales.xml.UnprefixedQName; def l(implicit ver: scales.xml.XmlVersion,implicit fromParser: scales.xml.FromParser): java.lang.Object with scales.xml.NoNamespaceQName}" class="string">&quot;prefixed&quot;</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12471" title="object scales.xml.package.Elements">Elements</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99690" title="object scales.xml.package.Elements.Functions">Functions</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99705" title="(implicit path: scales.xml.package.XmlPath)String">text</a><span class="delimiter">(</span><a href="#62130" title="scales.xml.package.XmlPath">_</a><span class="delimiter">)</span> <span class="delimiter">}</span></span>
<a href="l139"></a><span id="l139">    <a href="../utils/TestUtils.scala.html#52175" title="(expectVals: Iterable[java.lang.String], gotVals: Iterable[BaseFunctionalityTest.this.DomNode])(convert: BaseFunctionalityTest.this.DomNode =&gt; java.lang.String)Unit">compare</a><span class="delimiter">(</span><a href="#62029" title="List[java.lang.String]">expected</a>, <a href="#52387" title="(path: String, in: AnyRef)java.lang.Object with Iterable[BaseFunctionalityTest.this.DomNode]{def iterator(): java.lang.Object with Iterator[BaseFunctionalityTest.this.DomNode]}">nodeSet</a><span class="delimiter">(</span><span title="java.lang.String(&quot;//*[local-name()=\'prefixed\' and namespace-uri()=\'urn:prefix\']&quot;)" class="string">&quot;//*[local-name()='prefixed' and namespace-uri()='urn:prefix']&quot;</span>, <a href="#52340" title="=&gt; org.w3c.dom.Document">dom</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#62995" title="BaseFunctionalityTest.this.DomNode">_</a>.<span title="()java.lang.String">getTextContent</span>.<span title="()java.lang.String">trim</span> <span class="delimiter">}</span></span>
<a href="l140"></a><span id="l140">  <span class="delimiter">}</span></span>
<a href="l141"></a><span id="l141"></span>
<a href="l142"></a><span id="l142">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52369">testElementPredicate</a> = <span class="delimiter">{</span></span>
<a href="l143"></a><span id="l143">    <span class="keyword">val</span> <a title="List[java.lang.String]" id="62999">expected</a> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;ns1:{urn:prefix}prefixed&quot;)" class="string">&quot;ns1:{urn:prefix}prefixed&quot;</span><span class="delimiter">)</span></span>
<a href="l144"></a><span id="l144">    <a href="../utils/TestUtils.scala.html#52175" title="(expectVals: Iterable[java.lang.String], gotVals: Iterable[scales.xml.package.XmlPath])(convert: scales.xml.package.XmlPath =&gt; java.lang.String)Unit">compare</a><span class="delimiter">(</span><a href="#62999" title="List[java.lang.String]">expected</a>, <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">path</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90416" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\\</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90422" title="(pred: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]] =&gt; Boolean)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">*</a><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]" class="delimiter">(</a><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87837" title="implicit scales.xml.XmlPathImplicits.fromPathToComparisoms : (path: scales.xml.package.XmlPath)scales.xml.XmlPathComparisoms">_</a> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90503" title="(other: String)Boolean">===</a> <span title="java.lang.String(&quot;prefixed text&quot;)" class="string">&quot;prefixed text&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12471" title="object scales.xml.package.Elements">Elements</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99690" title="object scales.xml.package.Elements.Functions">Functions</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99704" title="(implicit path: scales.xml.package.XmlPath)String">pqName</a><span class="delimiter">(</span><a href="#63142" title="scales.xml.package.XmlPath">_</a><span class="delimiter">)</span> <span class="delimiter">}</span></span>
<a href="l145"></a><span id="l145">    <a href="../utils/TestUtils.scala.html#52175" title="(expectVals: Iterable[java.lang.String], gotVals: Iterable[BaseFunctionalityTest.this.DomNode])(convert: BaseFunctionalityTest.this.DomNode =&gt; java.lang.String)Unit">compare</a><span class="delimiter">(</span><a href="#62999" title="List[java.lang.String]">expected</a>, <a href="#52387" title="(path: String, in: AnyRef)java.lang.Object with Iterable[BaseFunctionalityTest.this.DomNode]{def iterator(): java.lang.Object with Iterator[BaseFunctionalityTest.this.DomNode]}">nodeSet</a><span class="delimiter">(</span><span title="java.lang.String(&quot;//*[. = \'prefixed text\']&quot;)" class="string">&quot;//*[. = 'prefixed text']&quot;</span>, <a href="#52340" title="=&gt; org.w3c.dom.Document">dom</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="BaseFunctionalityTest.this.DomNode" id="63166">x</a> =&gt; <a href="#63166" title="BaseFunctionalityTest.this.DomNode">x</a>.<span title="()java.lang.String">getPrefix</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#52370" title="(node: org.w3c.dom.Node)java.lang.String">qname</a><span class="delimiter">(</span><a href="#63166" title="BaseFunctionalityTest.this.DomNode">x</a><span class="delimiter">)</span> <span class="delimiter">}</span></span>
<a href="l146"></a><span id="l146">  <span class="delimiter">}</span></span>
<a href="l147"></a><span id="l147"></span>
<a href="l148"></a><span id="l148">  <span class="keyword">def</span> <a title="(node: org.w3c.dom.Node)java.lang.String" id="52370">qname</a><span class="delimiter">(</span><a title="org.w3c.dom.Node" id="63167">node</a>: org.w3c.dom.<span title="org.w3c.dom.Node">Node</span><span class="delimiter">)</span> = <span class="delimiter">{</span></span>
<a href="l149"></a><span id="l149">    <span class="keyword">val</span> <a title="java.lang.String" id="63170">ns</a> = <a href="#63167" title="org.w3c.dom.Node">node</a>.<span title="()java.lang.String">getNamespaceURI</span></span>
<a href="l150"></a><span id="l150">    <span title="java.lang.String(&quot;{&quot;)" class="string">&quot;{&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#63170" title="java.lang.String">ns</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="#63170" title="java.lang.String">ns</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;}&quot;)" class="string">&quot;}&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#63167" title="org.w3c.dom.Node">node</a>.<span title="()java.lang.String">getLocalName</span></span>
<a href="l151"></a><span id="l151">  <span class="delimiter">}</span></span>
<a href="l152"></a><span id="l152"></span>
<a href="l153"></a><span id="l153">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52371">testNormalizePredicate</a> = <span class="delimiter">{</span></span>
<a href="l154"></a><span id="l154">    <span class="keyword">val</span> <a title="List[java.lang.String]" id="63174">expected</a> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;{}NoNamespace&quot;)" class="string">&quot;{}NoNamespace&quot;</span><span class="delimiter">)</span></span>
<a href="l155"></a><span id="l155">    <a href="../utils/TestUtils.scala.html#52175" title="(expectVals: Iterable[java.lang.String], gotVals: Iterable[scales.xml.package.XmlPath])(convert: scales.xml.package.XmlPath =&gt; java.lang.String)Unit">compare</a><span class="delimiter">(</span><a href="#63174" title="List[java.lang.String]">expected</a>, <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">path</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90416" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\\</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90422" title="(pred: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]] =&gt; Boolean)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">*</a><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]" class="delimiter">(</a><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12471" title="object scales.xml.package.Elements">Elements</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99690" title="object scales.xml.package.Elements.Functions">Functions</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99706" title="(implicit path: scales.xml.package.XmlPath)java.lang.String">normalizeSpace</a><span class="delimiter">(</span><a href="#63269" title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]">_</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;start mix mode prefixed text end mix mode&quot;)" class="string">&quot;start mix mode prefixed text end mix mode&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12471" title="object scales.xml.package.Elements">Elements</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99690" title="object scales.xml.package.Elements.Functions">Functions</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99704" title="(implicit path: scales.xml.package.XmlPath)String">pqName</a><span class="delimiter">(</span><a href="#63301" title="scales.xml.package.XmlPath">_</a><span class="delimiter">)</span> <span class="delimiter">}</span></span>
<a href="l156"></a><span id="l156">    <a href="../utils/TestUtils.scala.html#52175" title="(expectVals: Iterable[java.lang.String], gotVals: Iterable[BaseFunctionalityTest.this.DomNode])(convert: BaseFunctionalityTest.this.DomNode =&gt; java.lang.String)Unit">compare</a><span class="delimiter">(</span><a href="#63174" title="List[java.lang.String]">expected</a>, <a href="#52387" title="(path: String, in: AnyRef)java.lang.Object with Iterable[BaseFunctionalityTest.this.DomNode]{def iterator(): java.lang.Object with Iterator[BaseFunctionalityTest.this.DomNode]}">nodeSet</a><span class="delimiter">(</span><span title="java.lang.String(&quot;//*[normalize-space(.) = \'start mix mode prefixed text end mix mode\']&quot;)" class="string">&quot;//*[normalize-space(.) = 'start mix mode prefixed text end mix mode']&quot;</span>, <a href="#52340" title="=&gt; org.w3c.dom.Document">dom</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#52370" title="(node: org.w3c.dom.Node)java.lang.String">qname</a><span class="delimiter">(</span><a href="#63325" title="BaseFunctionalityTest.this.DomNode">_</a><span class="delimiter">)</span> <span class="delimiter">}</span></span>
<a href="l157"></a><span id="l157">    <span class="comment">// /*(fn:normalize-space(.) = 'start mix mode prefixed text end mix mode'</span></span>
<a href="l158"></a><span id="l158">  <span class="delimiter">}</span></span>
<a href="l159"></a><span id="l159"></span>
<a href="l160"></a><span id="l160">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52372">testCData</a> = <span class="delimiter">{</span></span>
<a href="l161"></a><span id="l161">    <span class="comment">// we have two nodes before so 3 whitespaces.  Of course we actually should be getting path as well I think...</span></span>
<a href="l162"></a><span id="l162">    <span class="keyword">val</span> <a title="List[java.lang.String]" id="63329">expected</a> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;should not have to be &amp; &lt; escaped @ all \&quot;\&quot;&amp;&quot;)" class="string">&quot;should not have to be &amp; &lt; escaped @ all \&quot;\&quot;&amp;&quot;</span><span class="delimiter">)</span></span>
<a href="l163"></a><span id="l163">    <a href="../utils/TestUtils.scala.html#52175" title="(expectVals: Iterable[java.lang.String], gotVals: Iterable[scales.xml.package.XmlPath])(convert: scales.xml.package.XmlPath =&gt; java.lang.String)Unit">compare</a><span class="delimiter">(</span><a href="#63329" title="List[java.lang.String]">expected</a>, <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">path</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90416" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\\</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]">cdata</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12467" title="object scales.xml.package.TextFunctions">TextFunctions</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#101434" title="(implicit xmlpath: scales.xml.package.XmlPath)String">value</a><span class="delimiter">(</span><a href="#63403" title="scales.xml.package.XmlPath">_</a><span class="delimiter">)</span>.<span title="()java.lang.String">trim</span> <span class="delimiter">}</span></span>
<a href="l164"></a><span id="l164">  <span class="delimiter">}</span></span>
<a href="l165"></a><span id="l165"></span>
<a href="l166"></a><span id="l166">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52373">testComments</a> = <span class="delimiter">{</span></span>
<a href="l167"></a><span id="l167">    <span class="keyword">val</span> <a title="List[java.lang.String]" id="63407">expected</a> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot; some comments are better than others &quot;)" class="string">&quot; some comments are better than others &quot;</span>,</span>
<a href="l168"></a><span id="l168">      <span title="java.lang.String(&quot; this wouldn\'t be one of them. &quot;)" class="string">&quot; this wouldn't be one of them. &quot;</span><span class="delimiter">)</span></span>
<a href="l169"></a><span id="l169">    <a href="../utils/TestUtils.scala.html#52175" title="(expectVals: Iterable[java.lang.String], gotVals: Iterable[scales.xml.package.XmlPath])(convert: scales.xml.package.XmlPath =&gt; java.lang.String)Unit">compare</a><span class="delimiter">(</span><a href="#63407" title="List[java.lang.String]">expected</a>, <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">path</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90413" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\+</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]">comment</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12467" title="object scales.xml.package.TextFunctions">TextFunctions</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#101434" title="(implicit xmlpath: scales.xml.package.XmlPath)String">value</a><span class="delimiter">(</span><a href="#63485" title="scales.xml.package.XmlPath">_</a><span class="delimiter">)</span> <span class="delimiter">}</span></span>
<a href="l170"></a><span id="l170">  <span class="delimiter">}</span></span>
<a href="l171"></a><span id="l171"></span>
<a href="l172"></a><span id="l172">  <span class="comment">/**</span>
<a href="l173"></a><span id="l173">   * //a:ShouldRedeclare/../text()[5]/preceding-sibling::text()[1]</span>
<a href="l174"></a><span id="l174">   *</span>
<a href="l175"></a><span id="l175">  def testPreviousSimple = {</span>
<a href="l176"></a><span id="l176">    val expected = List(&quot;start mix mode&quot;)</span>
<a href="l177"></a><span id="l177">    compare(expected, </span>
<a href="l178"></a><span id="l178">      path.\\.*(&quot;urn:default&quot;::&quot;ShouldRedeclare&quot;).\^.\+.text.pos(4).\.preceding_sibling_::.text |&gt; { x =&gt;</span>
<a href="l179"></a><span id="l179">	x.process( x.path.nodes.drop(3).take(1)) </span>
<a href="l180"></a><span id="l180">      }) { TextFunctions.value(_).trim }</span>
<a href="l181"></a><span id="l181">    compare(expected, </span>
<a href="l182"></a><span id="l182">      path.\\.*(&quot;urn:default&quot;::&quot;ShouldRedeclare&quot;).\^.\+.text.pos(4).\.preceding_sibling_::.text.pos(3)</span>
<a href="l183"></a><span id="l183">      ) { TextFunctions.value(_).trim }</span>
<a href="l184"></a><span id="l184">    /*compare(expected, </span>
<a href="l185"></a><span id="l185">      path.\\.*(&quot;urn:default&quot;::&quot;ShouldRedeclare&quot;).\^.\.text.pos(4).\.preceding_sibling_::.text.\.previous</span>
<a href="l186"></a><span id="l186">      ) { TextFunctions.value(_).trim }*/</span>
<a href="l187"></a><span id="l187">  } */</span></span>
<a href="l188"></a><span id="l188"></span>
<a href="l189"></a><span id="l189">  <span class="comment">/**</span>
<a href="l190"></a><span id="l190">   * //a:ShouldRedeclare/../text()[5]/preceding-sibling::text()[1]</span>
<a href="l191"></a><span id="l191">   */</span> </span>
<a href="l192"></a><span id="l192">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52374">testPreviousSimpleRepeats</a> = <span class="delimiter">{</span></span>
<a href="l193"></a><span id="l193">    <span class="keyword">val</span> <a title="scales.xml.Doc" id="63489">testXml</a> = <a href="../../../classes.sxr/scales/xml/XmlParser.scala.html#12442" title="(source: org.xml.sax.InputSource, strategy: scales.xml.PathOptimisationStrategy[scales.xml.ElemToken], parsers: scales.utils.Loaner[javax.xml.parsers.SAXParser])(implicit xmlVer: scales.xml.XmlVersion)scales.xml.Doc">loadXml</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><a href="../../../classes.sxr/scales/xml/XmlParser.scala.html#87865" title="implicit scales.xml.XmlParserImplicits.readerToSource : (source: java.io.Reader)org.xml.sax.InputSource" class="keyword">new</a> <span title="java.io.FileReader">FileReader</span><span class="delimiter">(</span><span title="java.lang.String(&quot;./src/test/data/BaseXmlTestRepeats.xml&quot;)" class="string">&quot;./src/test/data/BaseXmlTestRepeats.xml&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l194"></a><span id="l194">    <span class="keyword">val</span> <a title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="63490">path</a> = <a href="../../../classes.sxr/scales/utils/Paths.scala.html#12295" title="(tree: scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])(implicit cbf: scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">top</a><a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#87812" title="=&gt; scales.xml.package.XmlCBF" class="delimiter">(</a><a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#87811" title="implicit scales.xml.XmlTypesImplicits.docToTree : (doc: scales.xml.Doc)scales.xml.package.XmlTree">testXml</a><span class="delimiter">)</span></span>
<a href="l195"></a><span id="l195">    </span>
<a href="l196"></a><span id="l196">    <span class="keyword">val</span> <a title="List[java.lang.String]" id="63491">expected</a> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;start mix mode&quot;)" class="string">&quot;start mix mode&quot;</span>, <span title="java.lang.String(&quot;start mix mode&quot;)" class="string">&quot;start mix mode&quot;</span><span class="delimiter">)</span></span>
<a href="l197"></a><span id="l197"><span class="comment">/*    compare(expected, </span>
<a href="l198"></a><span id="l198">      path.\\.*(&quot;urn:default&quot;::&quot;ShouldRedeclare&quot;).\^.\+.text.pos(4).\.preceding_sibling_::.text |&gt; { x =&gt;</span>
<a href="l199"></a><span id="l199">	x.process( x.path.nodes.drop(3).take(1)) </span>
<a href="l200"></a><span id="l200">      }) { TextFunctions.value(_).trim } */</span></span>
<a href="l201"></a><span id="l201">    <a href="../utils/TestUtils.scala.html#52175" title="(expectVals: Iterable[java.lang.String], gotVals: Iterable[scales.xml.package.XmlPath])(convert: scales.xml.package.XmlPath =&gt; java.lang.String)Unit">compare</a><span class="delimiter">(</span><a href="#63491" title="List[java.lang.String]">expected</a>, </span>
<a href="l202"></a><span id="l202">      <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">path</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90416" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\\</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90420" title="(qname: scales.xml.QName)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">*</a><span class="delimiter">(</span><span title="java.lang.String(&quot;urn:default&quot;)" class="string">&quot;urn:default&quot;</span><a href="#63600" title="(namespace: String)java.lang.Object with scales.xml.UnprefixedQName">::</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87862" title="implicit scales.xml.QNameImplicits.localStringToNSBuilder : (local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object{def ::(namespace: String): java.lang.Object with scales.xml.UnprefixedQName; def l(implicit ver: scales.xml.XmlVersion,implicit fromParser: scales.xml.FromParser): java.lang.Object with scales.xml.NoNamespaceQName}" class="string">&quot;ShouldRedeclare&quot;</a><span class="delimiter">)</span>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90411" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\^</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90413" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\+</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90447" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">text</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90410" title="(pos: =&gt; Int)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">pos</a><span class="delimiter">(</span><span title="Int(4)" class="int">4</span><span class="delimiter">)</span> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]">|&gt;</a> <span class="delimiter">{</span> <a title="scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]" id="63620">x</a> =&gt; <span title="(x$1: java.lang.String, x$2: Int, x$3: Int)Unit">assertEquals</span><span class="delimiter">(</span><span title="java.lang.String(&quot;was not size 2fdsa&quot;)" class="string">&quot;was not size 2fdsa&quot;</span>, <span title="Int(2)" class="int">2</span>, <a href="#63620" title="scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">x</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99907" title="=&gt; scales.xml.XPathInfo">path</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99922" title="=&gt; Iterable[Iterable[scales.xml.package.XmlPath]]">nodes</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>;<a href="#63620" title="scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">x</a><span class="delimiter">}</span>  <span class="comment">//.pos(5)//.\.preceding_sibling_::.text.pos(3)</span></span>
<a href="l203"></a><span id="l203">      <span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12467" title="object scales.xml.package.TextFunctions">TextFunctions</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#101434" title="(implicit xmlpath: scales.xml.package.XmlPath)String">value</a><span class="delimiter">(</span><a href="#63705" title="scales.xml.package.XmlPath">_</a><span class="delimiter">)</span>.<span title="()java.lang.String">trim</span> <span class="delimiter">}</span></span>
<a href="l204"></a><span id="l204">    <span class="comment">/* compare(expected, </span>
<a href="l205"></a><span id="l205">      path.\\.*(&quot;urn:default&quot;::&quot;ShouldRedeclare&quot;).\^.\.text.pos(4).\.preceding_sibling_::.text.\.previous</span>
<a href="l206"></a><span id="l206">      ) { TextFunctions.value(_).trim }*/</span></span>
<a href="l207"></a><span id="l207">  <span class="delimiter">}</span></span>
<a href="l208"></a><span id="l208"></span>
<a href="l209"></a><span id="l209"></span>
<a href="l210"></a><span id="l210">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52375">testPreviousThenSibling</a> = <span title="Unit" class="delimiter">{</span></span>
<a href="l211"></a><span id="l211"><span class="comment">//    val res = path.\*(&quot;NoNamespace&quot;l).\*.\.preceding_sibling_::.*.\.following_sibling_::.*</span></span>
<a href="l212"></a><span id="l212">    <span class="comment">//res foreach println</span></span>
<a href="l213"></a><span id="l213">  <span class="delimiter">}</span></span>
<a href="l214"></a><span id="l214"></span>
<a href="l215"></a><span id="l215">  <span class="keyword">val</span> <a title="java.lang.String" id="52376">utf8</a> = <span class="delimiter">{</span></span>
<a href="l216"></a><span id="l216">    <span class="keyword">val</span> <a title="java.io.InputStreamReader" id="57015">reader</a> = <span title="(x$1: java.io.InputStream, x$2: java.lang.String)java.io.InputStreamReader" class="keyword">new</span> java.io.<span title="java.io.InputStreamReader">InputStreamReader</span><span class="delimiter">(</span><span title="java.io.FileInputStream" class="keyword">new</span> java.io.<span title="java.io.FileInputStream">FileInputStream</span><span class="delimiter">(</span><span title="java.lang.String(&quot;./src/test/data/BaseFunctionalityTestEntityTest.utf8&quot;)" class="string">&quot;./src/test/data/BaseFunctionalityTestEntityTest.utf8&quot;</span><span class="delimiter">)</span>, <span title="java.lang.String(&quot;UTF-8&quot;)" class="string">&quot;UTF-8&quot;</span><span class="delimiter">)</span></span>
<a href="l217"></a><span id="l217">    <span class="keyword">val</span> <a title="java.io.BufferedReader" id="57016">buffered</a> = <span title="(x$1: java.io.Reader)java.io.BufferedReader" class="keyword">new</span> java.io.<span title="java.io.BufferedReader">BufferedReader</span><span class="delimiter">(</span><a href="#57015" title="java.io.InputStreamReader">reader</a><span class="delimiter">)</span></span>
<a href="l218"></a><span id="l218">    <span class="keyword">val</span> <a title="java.lang.String" id="57017">rutf8</a> = <a href="#57016" title="java.io.BufferedReader">buffered</a>.<span title="()java.lang.String">readLine</span><span class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l219"></a><span id="l219">    <a href="#57016" title="java.io.BufferedReader">buffered</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l220"></a><span id="l220">    <a href="#57017" title="java.lang.String">rutf8</a></span>
<a href="l221"></a><span id="l221">  <span class="delimiter">}</span> </span>
<a href="l222"></a><span id="l222"></span>
<a href="l223"></a><span id="l223">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52378">testLazyViewed</a> : <span title="Unit">Unit</span> = <span class="delimiter">{</span></span>
<a href="l224"></a><span id="l224">    <span class="keyword">var</span> <a title="List[scales.xml.package.XmlPath]" id="63711">res</a> : <span title="List[scales.xml.package.XmlPath]">List</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> = <span title="object Nil">Nil</span></span>
<a href="l225"></a><span id="l225">    <span class="keyword">import</span> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12471" title="object scales.xml.package.Elements">Elements</a>.localName</span>
<a href="l226"></a><span id="l226"></span>
<a href="l227"></a><span id="l227">    <span class="keyword">val</span> <a title="scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]" id="63713">paths</a> = <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12460" title="(xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">viewed</a><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]]" class="delimiter">(</span><a href="#52344" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">path</a><span class="delimiter">)</span>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90416" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\\</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90422" title="(pred: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]] =&gt; Boolean)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">*</a><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99694" title="(v1: String)scales.xml.package.XmlPath =&gt; Boolean">localName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;DontRedeclare&quot;)" class="string">&quot;DontRedeclare&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.</span>
<a href="l228"></a><span id="l228">      <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90417" title="(pred: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]] =&gt; Boolean)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">filter</a><span class="delimiter">{</span></span>
<a href="l229"></a><span id="l229">	<a title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]" id="63771">path</a> =&gt; </span>
<a href="l230"></a><span id="l230">	  <a href="#63711" title="List[scales.xml.package.XmlPath]">res</a> = <a href="#63771" title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]">path</a> <a href="#63772" title="(x: scales.xml.package.XmlPath)List[scales.xml.package.XmlPath]">::</a> <a href="#63711" title="List[scales.xml.package.XmlPath]">res</a></span>
<a href="l231"></a><span id="l231">	  <span title="Boolean(true)" class="keyword">true</span></span>
<a href="l232"></a><span id="l232">      <span class="delimiter">}</span></span>
<a href="l233"></a><span id="l233"> </span>
<a href="l234"></a><span id="l234">    <span title="(x$1: Int, x$2: Int)Unit">assertEquals</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#63711" title="List[scales.xml.package.XmlPath]">res</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span></span>
<a href="l235"></a><span id="l235"></span>
<a href="l236"></a><span id="l236">    <span class="keyword">val</span> <a title="Iterable[scales.xml.package.XmlPath]" id="63714">bits</a> = <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12457" title="(xpath: scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]])Iterable[scales.xml.package.XmlPath]">lazyRaw</a><span class="delimiter">(</span><a href="#63713" title="scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">paths</a><span class="delimiter">)</span></span>
<a href="l237"></a><span id="l237">    <a href="#63714" title="Iterable[scales.xml.package.XmlPath]">bits</a>.<span title="=&gt; scales.xml.package.XmlPath">head</span></span>
<a href="l238"></a><span id="l238">    <span title="(x$1: Int, x$2: Int)Unit">assertEquals</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <a href="#63711" title="List[scales.xml.package.XmlPath]">res</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span></span>
<a href="l239"></a><span id="l239"></span>
<a href="l240"></a><span id="l240">    <a href="#63714" title="Iterable[scales.xml.package.XmlPath]">bits</a>.<span title="=&gt; scales.xml.package.XmlPath">head</span> <span class="comment">// lazy but based on stream, implementation details ftw?</span></span>
<a href="l241"></a><span id="l241">    <span title="(x$1: Int, x$2: Int)Unit">assertEquals</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <a href="#63711" title="List[scales.xml.package.XmlPath]">res</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span></span>
<a href="l242"></a><span id="l242">  <span class="delimiter">}</span></span>
<a href="l243"></a><span id="l243"></span>
<a href="l244"></a><span id="l244">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52379">testEager</a> : <span title="Unit">Unit</span> = <span class="delimiter">{</span></span>
<a href="l245"></a><span id="l245">    <span class="keyword">var</span> <a title="List[scales.xml.package.XmlPath]" id="63829">res</a> : <span title="List[scales.xml.package.XmlPath]">List</span><span class="delimiter">[</span>XmlPath<span class="delimiter">]</span> = <span title="object Nil">Nil</span></span>
<a href="l246"></a><span id="l246">    <span class="keyword">import</span> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12471" title="object scales.xml.package.Elements">Elements</a>.localName</span>
<a href="l247"></a><span id="l247"></span>
<a href="l248"></a><span id="l248">    <span class="keyword">val</span> <a title="scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]" id="63831">paths</a> = <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12462" title="(xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">eager</a><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]]" class="delimiter">(</span><a href="#52344" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">path</a><span class="delimiter">)</span>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90416" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\\</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90422" title="(pred: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]] =&gt; Boolean)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">*</a><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99694" title="(v1: String)scales.xml.package.XmlPath =&gt; Boolean">localName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;DontRedeclare&quot;)" class="string">&quot;DontRedeclare&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.</span>
<a href="l249"></a><span id="l249">      <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90417" title="(pred: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]] =&gt; Boolean)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">filter</a><span class="delimiter">{</span></span>
<a href="l250"></a><span id="l250">	<a title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]" id="63868">path</a> =&gt; </span>
<a href="l251"></a><span id="l251">	  <a href="#63829" title="List[scales.xml.package.XmlPath]">res</a> = <a href="#63868" title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]">path</a> <a href="#63869" title="(x: scales.xml.package.XmlPath)List[scales.xml.package.XmlPath]">::</a> <a href="#63829" title="List[scales.xml.package.XmlPath]">res</a></span>
<a href="l252"></a><span id="l252">	  <span title="Boolean(true)" class="keyword">true</span></span>
<a href="l253"></a><span id="l253">      <span class="delimiter">}</span></span>
<a href="l254"></a><span id="l254">    </span>
<a href="l255"></a><span id="l255">    <span title="(x$1: Int, x$2: Int)Unit">assertEquals</span><span class="delimiter">(</span><span title="Int(3)" class="int">3</span>, <a href="#63829" title="List[scales.xml.package.XmlPath]">res</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span></span>
<a href="l256"></a><span id="l256">  <span class="delimiter">}</span></span>
<a href="l257"></a><span id="l257"></span>
<a href="l258"></a><span id="l258">  <span class="comment">/** Can't do in normal xpath, as it needs to filter out the cdatas */</span></span>
<a href="l259"></a><span id="l259">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52380">testTextOnly</a> : <span title="Unit">Unit</span> = <span class="delimiter">{</span></span>
<a href="l260"></a><span id="l260">    <span class="keyword">val</span> <a title="tnj extends java.lang.Object with scales.xml.TextNodeJoiner[scales.xml.QNameToken] with scales.xml.QNameTokenF" id="63888">tnj</a> = <a href="#63892" title="java.lang.Object with scales.xml.TextNodeJoiner[scales.xml.QNameToken] with scales.xml.QNameTokenF" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scales.xml.TextNodeJoiner[scales.xml.QNameToken] with scales.xml.QNameTokenF" id="63892">TextNodeJoiner</a><span class="delimiter">[</span>QNameToken<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../../../classes.sxr/scales/xml/OptimisingStrategies.scala.html#10683" title="scales.xml.QNameTokenF">QNameTokenF</a> <span class="delimiter">{</span><span class="delimiter">}</span> </span>
<a href="l261"></a><span id="l261">    <span class="comment">// or indeed mixed in.</span></span>
<a href="l262"></a><span id="l262">    <span class="comment">//new MutableVectorLikeStrategy with ElemQNameOptimisationT with TextNodeJoiner {}</span></span>
<a href="l263"></a><span id="l263">    <span class="comment">// join up the text nodes</span></span>
<a href="l264"></a><span id="l264">    <span class="keyword">val</span> <a title="scales.xml.Doc" id="63889">testXml2</a> = <a href="../../../classes.sxr/scales/xml/XmlParser.scala.html#12442" title="(source: org.xml.sax.InputSource, strategy: scales.xml.PathOptimisationStrategy[scales.xml.QNameToken], parsers: scales.utils.Loaner[javax.xml.parsers.SAXParser])(implicit xmlVer: scales.xml.XmlVersion)scales.xml.Doc">loadXml</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><a href="../../../classes.sxr/scales/xml/XmlParser.scala.html#87865" title="implicit scales.xml.XmlParserImplicits.readerToSource : (source: java.io.Reader)org.xml.sax.InputSource" class="keyword">new</a> <span title="java.io.FileReader">FileReader</span><span class="delimiter">(</span><a href="#52338" title="=&gt; java.io.File">xmlFile</a><span class="delimiter">)</span>, strategy = <a href="#63888" title="tnj extends java.lang.Object with scales.xml.TextNodeJoiner[scales.xml.QNameToken] with scales.xml.QNameTokenF">tnj</a><span class="delimiter">)</span></span>
<a href="l265"></a><span id="l265">    <span class="keyword">val</span> <a title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="63890">path</a> = <a href="../../../classes.sxr/scales/utils/Paths.scala.html#12295" title="(tree: scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])(implicit cbf: scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">top</a><a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#87812" title="=&gt; scales.xml.package.XmlCBF" class="delimiter">(</a><a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#87811" title="implicit scales.xml.XmlTypesImplicits.docToTree : (doc: scales.xml.Doc)scales.xml.package.XmlTree">testXml2</a><span class="delimiter">)</span></span>
<a href="l266"></a><span id="l266"></span>
<a href="l267"></a><span id="l267">    <span class="comment">// we have two nodes before so 3 whitespaces.  Of course we actually should be getting path as well I think...</span></span>
<a href="l268"></a><span id="l268">    <span class="keyword">val</span> <a title="List[java.lang.String]" id="63891">expected</a> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;start mix mode&quot;)" class="string">&quot;start mix mode&quot;</span>, <span title="java.lang.String(&quot;prefixed text&quot;)" class="string">&quot;prefixed text&quot;</span>, <span title="java.lang.String(&quot;end mix mode&quot;)" class="string">&quot;end mix mode&quot;</span>,</span>
<a href="l269"></a><span id="l269">      <span title="java.lang.String(&quot;\&quot;\012\011&quot;)" class="string">&quot;\&quot;\n\t&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#52376" title="=&gt; java.lang.String">utf8</a>,</span>
<a href="l270"></a><span id="l270">      <span title="java.lang.String(&quot;mix it up some more&quot;)" class="string">&quot;mix it up some more&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span></span>
<a href="l271"></a><span id="l271">    <a href="../utils/TestUtils.scala.html#52175" title="(expectVals: Iterable[java.lang.String], gotVals: Iterable[scales.xml.package.XmlPath])(convert: scales.xml.package.XmlPath =&gt; java.lang.String)Unit">compare</a><span class="delimiter">(</span><a href="#63891" title="List[java.lang.String]">expected</a>, <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">path</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90416" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\\</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]">textOnly</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12467" title="object scales.xml.package.TextFunctions">TextFunctions</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#101434" title="(implicit xmlpath: scales.xml.package.XmlPath)String">value</a><span class="delimiter">(</span><a href="#64035" title="scales.xml.package.XmlPath">_</a><span class="delimiter">)</span>.<span title="()java.lang.String">trim</span> <span class="delimiter">}</span></span>
<a href="l272"></a><span id="l272">  <span class="delimiter">}</span></span>
<a href="l273"></a><span id="l273"></span>
<a href="l274"></a><span id="l274">  <span class="keyword">def</span> <a title="=&gt; Unit" id="52381">testText</a> = <span class="delimiter">{</span></span>
<a href="l275"></a><span id="l275">    <span class="comment">// we have two nodes before so 3 whitespaces.  Of course we actually should be getting path as well I think...</span></span>
<a href="l276"></a><span id="l276">    <span class="keyword">val</span> <a title="List[java.lang.String]" id="64039">expected</a> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;start mix mode&quot;)" class="string">&quot;start mix mode&quot;</span>, <span title="java.lang.String(&quot;prefixed text&quot;)" class="string">&quot;prefixed text&quot;</span>, <span title="java.lang.String(&quot;end mix mode&quot;)" class="string">&quot;end mix mode&quot;</span>,</span>
<a href="l277"></a><span id="l277">      <span title="java.lang.String(&quot;\&quot;\012\011&quot;)" class="string">&quot;\&quot;\n\t&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#52376" title="=&gt; java.lang.String">utf8</a>,</span>
<a href="l278"></a><span id="l278">      <span class="comment">//&quot;should not have to be &amp; &lt; escaped @ all \&quot;\&quot;&amp;&quot;,</span></span>
<a href="l279"></a><span id="l279">      <span class="comment">//&quot;mix it up some more&quot;,</span></span>
<a href="l280"></a><span id="l280">      <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span></span>
<a href="l281"></a><span id="l281">    <span class="comment">// can't use our version as it identifies two more text nodes</span></span>
<a href="l282"></a><span id="l282"><span class="comment">//     compare( expected, path .\\.text){ TextFunctions.value(_).trim }</span></span>
<a href="l283"></a><span id="l283">    <a href="../utils/TestUtils.scala.html#52175" title="(expectVals: Iterable[java.lang.String], gotVals: Iterable[BaseFunctionalityTest.this.DomNode])(convert: BaseFunctionalityTest.this.DomNode =&gt; java.lang.String)Unit">compare</a><span class="delimiter">(</span><a href="#64039" title="List[java.lang.String]">expected</a>, <a href="#52387" title="(path: String, in: AnyRef)java.lang.Object with Iterable[BaseFunctionalityTest.this.DomNode]{def iterator(): java.lang.Object with Iterator[BaseFunctionalityTest.this.DomNode]}">nodeSet</a><span class="delimiter">(</span><span title="java.lang.String(&quot;//text()&quot;)" class="string">&quot;//text()&quot;</span>, </span>
<a href="l284"></a><span id="l284">			      <span title="(x$1: java.io.InputStream)org.xml.sax.InputSource" class="keyword">new</span> org.xml.sax.<span title="org.xml.sax.InputSource">InputSource</span><span class="delimiter">(</span> <span title="(x$1: java.io.File)java.io.FileInputStream" class="keyword">new</span> <span title="java.io.FileInputStream">FileInputStream</span><span class="delimiter">(</span><a href="#52338" title="=&gt; java.io.File">xmlFile</a><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l285"></a><span id="l285"><span class="comment">//			      dom //  both stream and dom are incorrect :&lt;</span></span>
<a href="l286"></a><span id="l286">			    <span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#64078" title="BaseFunctionalityTest.this.DomNode">_</a>.<span title="()java.lang.String">getTextContent</span>.<span title="()java.lang.String">trim</span> <span class="delimiter">}</span></span>
<a href="l287"></a><span id="l287">  <span class="delimiter">}</span></span>
<a href="l288"></a><span id="l288"></span>
<a href="l289"></a><span id="l289">  <span class="keyword">val</span> <a title="net.sf.saxon.xpath.XPathFactoryImpl" id="52382">xfact</a> = <span title="net.sf.saxon.xpath.XPathFactoryImpl" class="keyword">new</span> net.sf.saxon.xpath.<span title="net.sf.saxon.xpath.XPathFactoryImpl">XPathFactoryImpl</span><span class="delimiter">(</span><span class="delimiter">)</span>;</span>
<a href="l290"></a><span id="l290"></span>
<a href="l291"></a><span id="l291">  <span class="keyword">type</span> <a title="org.w3c.dom.Node" id="52384">DomNode</a> = org.w3c.dom.<span title="org.w3c.dom.Node">Node</span></span>
<a href="l292"></a><span id="l292"></span>
<a href="l293"></a><span id="l293">  <span class="keyword">def</span> <a title="(path: String, in: AnyRef)java.lang.String" id="52385">xstring</a><span class="delimiter">(</span><a title="String" id="64079">path</a>: <span title="String">String</span>, <a title="AnyRef" id="64080">in</a>: <span title="AnyRef">AnyRef</span><span class="comment">/*org.w3c.dom.Document*/</span><span class="delimiter">)</span> = <span class="delimiter">{</span></span>
<a href="l294"></a><span id="l294">    <span class="keyword">val</span> <a title="javax.xml.xpath.XPath" id="64083">xpath</a> = <a href="#52382" title="=&gt; net.sf.saxon.xpath.XPathFactoryImpl">xfact</a>.<span title="()javax.xml.xpath.XPath">newXPath</span></span>
<a href="l295"></a><span id="l295"></span>
<a href="l296"></a><span id="l296">    <span class="keyword">val</span> <a title="javax.xml.xpath.XPathExpression" id="64084">texts</a> = <a href="#64083" title="javax.xml.xpath.XPath">xpath</a>.<span title="(x$1: java.lang.String)javax.xml.xpath.XPathExpression">compile</span><span class="delimiter">(</span><a href="#64079" title="String">path</a><span class="delimiter">)</span></span>
<a href="l297"></a><span id="l297"></span>
<a href="l298"></a><span id="l298">    <a href="#64084" title="javax.xml.xpath.XPathExpression">texts</a>.<span title="(x$1: Any, x$2: javax.xml.namespace.QName)java.lang.Object">evaluate</span><span class="delimiter">(</span></span>
<a href="l299"></a><span id="l299">      <a href="#64080" title="AnyRef">in</a>,</span>
<a href="l300"></a><span id="l300">      javax.xml.xpath.<span title="object javax.xml.xpath.XPathConstants">XPathConstants</span>.<span title="javax.xml.namespace.QName">STRING</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="java.lang.String" class="delimiter">[</span>java.lang.<span title="java.lang.String">String</span><span class="delimiter">]</span>;</span>
<a href="l301"></a><span id="l301">  <span class="delimiter">}</span></span>
<a href="l302"></a><span id="l302"></span>
<a href="l303"></a><span id="l303">  <span class="keyword">def</span> <a title="(path: String, in: AnyRef)org.w3c.dom.Node" id="52386">node</a><span class="delimiter">(</span><a title="String" id="64095">path</a>: <span title="String">String</span>, <a title="AnyRef" id="64096">in</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> = <span class="delimiter">{</span></span>
<a href="l304"></a><span id="l304">    <span class="keyword">val</span> <a title="javax.xml.xpath.XPath" id="64099">xpath</a> = <a href="#52382" title="=&gt; net.sf.saxon.xpath.XPathFactoryImpl">xfact</a>.<span title="()javax.xml.xpath.XPath">newXPath</span></span>
<a href="l305"></a><span id="l305"></span>
<a href="l306"></a><span id="l306">    <span class="keyword">val</span> <a title="javax.xml.xpath.XPathExpression" id="64100">texts</a> = <a href="#64099" title="javax.xml.xpath.XPath">xpath</a>.<span title="(x$1: java.lang.String)javax.xml.xpath.XPathExpression">compile</span><span class="delimiter">(</span><a href="#64095" title="String">path</a><span class="delimiter">)</span></span>
<a href="l307"></a><span id="l307"></span>
<a href="l308"></a><span id="l308">    <a href="#64100" title="javax.xml.xpath.XPathExpression">texts</a>.<span title="(x$1: Any, x$2: javax.xml.namespace.QName)java.lang.Object">evaluate</span><span class="delimiter">(</span></span>
<a href="l309"></a><span id="l309">      <a href="#52340" title="=&gt; org.w3c.dom.Document">dom</a>,</span>
<a href="l310"></a><span id="l310">      javax.xml.xpath.<span title="object javax.xml.xpath.XPathConstants">XPathConstants</span>.<span title="javax.xml.namespace.QName">NODE</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.w3c.dom.Node" class="delimiter">[</span>org.w3c.dom.<span title="org.w3c.dom.Node">Node</span><span class="delimiter">]</span>;</span>
<a href="l311"></a><span id="l311">  <span class="delimiter">}</span></span>
<a href="l312"></a><span id="l312"></span>
<a href="l313"></a><span id="l313">  <span class="keyword">def</span> <a title="(path: String, in: AnyRef)java.lang.Object with Iterable[BaseFunctionalityTest.this.DomNode]{def iterator(): java.lang.Object with Iterator[BaseFunctionalityTest.this.DomNode]}" id="52387">nodeSet</a><span class="delimiter">(</span><a title="String" id="62137">path</a>: <span title="String">String</span>, <a title="AnyRef" id="62138">in</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> = <span class="delimiter">{</span></span>
<a href="l314"></a><span id="l314">    <span class="keyword">val</span> <a title="javax.xml.xpath.XPath" id="62141">xpath</a> = <a href="#52382" title="=&gt; net.sf.saxon.xpath.XPathFactoryImpl">xfact</a>.<span title="()javax.xml.xpath.XPath">newXPath</span></span>
<a href="l315"></a><span id="l315"></span>
<a href="l316"></a><span id="l316">    <span class="keyword">val</span> <a title="javax.xml.xpath.XPathExpression" id="62142">texts</a> = <a href="#62141" title="javax.xml.xpath.XPath">xpath</a>.<span title="(x$1: java.lang.String)javax.xml.xpath.XPathExpression">compile</span><span class="delimiter">(</span><a href="#62137" title="String">path</a><span class="delimiter">)</span></span>
<a href="l317"></a><span id="l317"></span>
<a href="l318"></a><span id="l318">    <span class="keyword">val</span> <a title="org.w3c.dom.NodeList" id="62143">nodeList</a> = <a href="#62142" title="javax.xml.xpath.XPathExpression">texts</a>.<span title="(x$1: Any, x$2: javax.xml.namespace.QName)java.lang.Object">evaluate</span><span class="delimiter">(</span></span>
<a href="l319"></a><span id="l319">      <a href="#52340" title="=&gt; org.w3c.dom.Document">dom</a>,</span>
<a href="l320"></a><span id="l320">      javax.xml.xpath.<span title="object javax.xml.xpath.XPathConstants">XPathConstants</span>.<span title="javax.xml.namespace.QName">NODESET</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.w3c.dom.NodeList" class="delimiter">[</span>org.w3c.dom.<span title="org.w3c.dom.NodeList">NodeList</span><span class="delimiter">]</span>;</span>
<a href="l321"></a><span id="l321"></span>
<a href="l322"></a><span id="l322">    <a href="#62315" title="java.lang.Object with Iterable[BaseFunctionalityTest.this.DomNode]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with Iterable[BaseFunctionalityTest.this.DomNode]" id="62315">Iterable</a><span class="delimiter">[</span>DomNode<span class="delimiter">]</span> <span class="delimiter">{</span></span>
<a href="l323"></a><span id="l323">      <span class="keyword">def</span> <a title="()java.lang.Object with Iterator[BaseFunctionalityTest.this.DomNode]" id="62317">iterator</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#62332" title="java.lang.Object with Iterator[BaseFunctionalityTest.this.DomNode]{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with Iterator[BaseFunctionalityTest.this.DomNode]" id="62332">Iterator</a><span class="delimiter">[</span>DomNode<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l324"></a><span id="l324">        <span class="keyword">var</span> <a title="Int" id="62897">index</a> = <span title="Int(0)" class="int">0</span></span>
<a href="l325"></a><span id="l325">        <span class="keyword">override</span> <span class="keyword">val</span> <a title="Int" id="62899">size</a> = <a href="#62143" title="org.w3c.dom.NodeList">nodeList</a>.<span title="()Int">getLength</span></span>
<a href="l326"></a><span id="l326"></span>
<a href="l327"></a><span id="l327">        <span class="keyword">def</span> <a title="=&gt; Boolean" id="62901">hasNext</a> = <a href="#62897" title="=&gt; Int">index</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#62899" title="=&gt; Int">size</a></span>
<a href="l328"></a><span id="l328">        <span class="keyword">def</span> <a title="()BaseFunctionalityTest.this.DomNode" id="62902">next</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="BaseFunctionalityTest.this.DomNode">DomNode</span> = <span class="delimiter">{</span></span>
<a href="l329"></a><span id="l329">          <span class="keyword">val</span> <a title="org.w3c.dom.Node" id="62914">res</a> = <a href="#62143" title="org.w3c.dom.NodeList">nodeList</a>.<span title="(x$1: Int)org.w3c.dom.Node">item</span><span class="delimiter">(</span><a href="#62897" title="=&gt; Int">index</a><span class="delimiter">)</span></span>
<a href="l330"></a><span id="l330">          <a href="#62897" title="(x$1: Int)Unit">index</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>;</span>
<a href="l331"></a><span id="l331">          <a href="#62914" title="org.w3c.dom.Node">res</a></span>
<a href="l332"></a><span id="l332">        <span class="delimiter">}</span></span>
<a href="l333"></a><span id="l333">      <span class="delimiter">}</span></span>
<a href="l334"></a><span id="l334"></span>
<a href="l335"></a><span id="l335">    <span class="delimiter">}</span></span>
<a href="l336"></a><span id="l336">  <span class="delimiter">}</span></span>
<a href="l337"></a><span id="l337"></span>
<a href="l338"></a><span id="l338"><span class="delimiter">}</span></span>
<a href="l339"></a><span id="l339"></span>
<a href="l340"></a><span id="l340">        </span>
</pre>
    </body>
</html>