<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\xml\ParsingPerformance.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    
<style id="linesStyle">
.lineHighlight {
  background-color: #a5a5a5;
}
</style>
<script type="text/javascript">
function selectedLine() {
    var loca = /^.*#l(.*)/.exec(location.href);
    return loca ? loca[1] : '0';
}

function highlightLine(ln){
  $('#l'+ln).toggleClass('lineHighlight');
}

function gotoLine(ln){
  $('#l'+ln).focus();
}

$(function(){
  var line = selectedLine();
  if (line != '0') highlightLine(line)
});
</script></head>
    <body>
        <pre>
<!-- SXR_LINES --><a href="l1"></a><span id="l1"><span class="keyword">package</span> scales.xml</span>
<a href="l2"></a><span id="l2"></span>
<a href="l3"></a><span id="l3"><span class="keyword">import</span> scales.utils._</span>
<a href="l4"></a><span id="l4"><span class="keyword">import</span> <a href="../../../classes.sxr/scales/utils/ScalesUtils.scala.html#10619" title="object scales.utils.ScalesUtils">ScalesUtils</a>._</span>
<a href="l5"></a><span id="l5"><span class="keyword">import</span> scales.xml._</span>
<a href="l6"></a><span id="l6"><span class="keyword">import</span> <a href="../../../classes.sxr/scales/xml/ScalesXml.scala.html#11813" title="object scales.xml.ScalesXml">ScalesXml</a>._</span>
<a href="l7"></a><span id="l7"></span>
<a href="l8"></a><span id="l8"><span class="keyword">import</span> scalaz._</span>
<a href="l9"></a><span id="l9"><span class="keyword">import</span> <span title="object scalaz.Scalaz">Scalaz</span>._</span>
<a href="l10"></a><span id="l10"></span>
<a href="l11"></a><span id="l11"><span class="keyword">import</span> java.io.StringReader</span>
<a href="l12"></a><span id="l12"><span class="keyword">import</span> javax.xml.transform._</span>
<a href="l13"></a><span id="l13"><span class="keyword">import</span> dom._</span>
<a href="l14"></a><span id="l14"><span class="keyword">import</span> stream._</span>
<a href="l15"></a><span id="l15"></span>
<a href="l16"></a><span id="l16"><span class="keyword">object</span> <a title="object scales.xml.QNameAndAttr" id="13981">QNameAndAttr</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../classes.sxr/scales/xml/OptimisingStrategies.scala.html#10702" title="scales.xml.MutableVectorLikeStrategy[scales.xml.ElemToken]">MutableVectorLikeStrategy</a><span class="delimiter">[</span>ElemToken<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../../../classes.sxr/scales/xml/OptimisingStrategies.scala.html#10688" title="scales.xml.ElemQNameOptimisationT[scales.xml.ElemToken]">ElemQNameOptimisationT</a><span class="delimiter">[</span>ElemToken<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../../../classes.sxr/scales/xml/OptimisingStrategies.scala.html#10687" title="scales.xml.ElemTokenF">ElemTokenF</a> <span class="delimiter">{</span></span>
<a href="l17"></a><span id="l17"></span>
<a href="l18"></a><span id="l18">  <span class="comment">// register the qname for eq style</span></span>
<a href="l19"></a><span id="l19">  <span class="keyword">val</span> <a title="scales.xml.NoNamespaceQName" id="86773">tyype</a> = <span class="delimiter">{</span></span>
<a href="l20"></a><span id="l20">    <span class="keyword">val</span> <a title="scales.xml.ElemToken" id="86801">t</a> = <a href="../../../classes.sxr/scales/xml/OptimisingStrategies.scala.html#89175" title="(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)scales.xml.ElemToken">createToken</a></span>
<a href="l21"></a><span id="l21">    <a href="../../../classes.sxr/scales/xml/OptimisingStrategies.scala.html#88939" title="(local: String, token: scales.xml.ElemToken)scales.xml.NoNamespaceQName">noNamespaceQName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;type&quot;)" class="string">&quot;type&quot;</span>, <a href="#86801" title="scales.xml.ElemToken">t</a><span class="delimiter">)</span></span>
<a href="l22"></a><span id="l22">  <span class="delimiter">}</span></span>
<a href="l23"></a><span id="l23"></span>
<a href="l24"></a><span id="l24">  <span class="keyword">val</span> <a title="scales.xml.Attribute" id="86775">primary</a> = <a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#116555" title="(name: scales.xml.package.AttributeQName, value: String)scales.xml.Attribute">Attribute</a><span class="delimiter">(</span><a href="#86773" title="=&gt; scales.xml.NoNamespaceQName">tyype</a>, <span title="java.lang.String(&quot;primary&quot;)" class="string">&quot;primary&quot;</span><span class="delimiter">)</span></span>
<a href="l25"></a><span id="l25">  <span class="keyword">val</span> <a title="scales.xml.Attribute" id="86777">secondary</a> = <a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#116555" title="(name: scales.xml.package.AttributeQName, value: String)scales.xml.Attribute">Attribute</a><span class="delimiter">(</span><a href="#86773" title="=&gt; scales.xml.NoNamespaceQName">tyype</a>, <span title="java.lang.String(&quot;secondary&quot;)" class="string">&quot;secondary&quot;</span><span class="delimiter">)</span>  </span>
<a href="l26"></a><span id="l26"></span>
<a href="l27"></a><span id="l27">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(qname: scales.xml.package.AttributeQName, value: String, token: scales.xml.ElemToken)scales.xml.Attribute" id="86779">attribute</a><span class="delimiter">(</span> <a title="scales.xml.package.AttributeQName" id="92358">qname</a> : <a href="../../../classes.sxr/scales/utils/EitherLike.scala.html#10328" title="scales.xml.package.AttributeQName">AttributeQName</a>, <a title="String" id="92359">value</a> : <span title="String">String</span>, <a title="scales.xml.ElemToken" id="92360">token</a> : <a href="../../../classes.sxr/scales/xml/OptimisingStrategies.scala.html#10686" title="scales.xml.ElemToken">ElemToken</a><span class="delimiter">)</span> : <a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#116555" title="scales.xml.Attribute">Attribute</a> = </span>
<a href="l28"></a><span id="l28">    <span title="scales.xml.Attribute" class="keyword">if</span> <span class="delimiter">(</span><a href="#92358" title="scales.xml.package.AttributeQName">qname</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#86773" title="=&gt; scales.xml.NoNamespaceQName">tyype</a><span class="delimiter">)</span></span>
<a href="l29"></a><span id="l29">      <span title="scales.xml.Attribute" class="keyword">if</span> <span class="delimiter">(</span><a href="#92359" title="String">value</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;primary&quot;)" class="string">&quot;primary&quot;</span><span class="delimiter">)</span></span>
<a href="l30"></a><span id="l30">	<a href="#86775" title="=&gt; scales.xml.Attribute">primary</a></span>
<a href="l31"></a><span id="l31">      <span class="keyword">else</span></span>
<a href="l32"></a><span id="l32">	<a href="#86777" title="=&gt; scales.xml.Attribute">secondary</a></span>
<a href="l33"></a><span id="l33">    <span class="keyword">else</span></span>
<a href="l34"></a><span id="l34">      <a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#116555" title="(name: scales.xml.package.AttributeQName, value: String)scales.xml.Attribute">Attribute</a><span class="delimiter">(</span><a href="#92358" title="scales.xml.package.AttributeQName">qname</a>,<a href="#92359" title="String">value</a><span class="delimiter">)</span></span>
<a href="l35"></a><span id="l35">  </span>
<a href="l36"></a><span id="l36"><span class="delimiter">}</span></span>
<a href="l37"></a><span id="l37"></span>
<a href="l38"></a><span id="l38"><span class="keyword">object</span> <a title="object scales.xml.PerfData" id="13705">PerfData</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l39"></a><span id="l39">  <span class="keyword">val</span> <a title="scales.xml.Namespace" id="92370">ns</a> = <a href="../../../classes.sxr/scales/xml/QName.scala.html#88303" title="(validUri: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)scales.xml.Namespace">Namespace</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><span title="java.lang.String(&quot;uri:reconstyle&quot;)" class="string">&quot;uri:reconstyle&quot;</span><span class="delimiter">)</span></span>
<a href="l40"></a><span id="l40"></span>
<a href="l41"></a><span id="l41">  <span class="keyword">def</span> <a title="(i: Int)scalaz.EphemeralStream[scales.xml.package.PullType]" id="92372">itemVersion</a><span class="delimiter">(</span> <a title="Int" id="92377">i</a> : <span title="Int">Int</span> <span class="delimiter">)</span> : <span title="scalaz.EphemeralStream[scales.xml.package.PullType]">EphemeralStream</span><span class="delimiter">[</span>PullType<span class="delimiter">]</span> =</span>
<a href="l42"></a><span id="l42">    <span title="[A](as: A*)scalaz.EphemeralStream[A]">EphemeralStream</span><span title="(as: scales.xml.package.PullType*)scalaz.EphemeralStream[scales.xml.package.PullType]" class="delimiter">[</span><span title="scales.xml.package.PullType">PullType</span><span class="delimiter">]</span><span class="delimiter">(</span></span>
<a href="l43"></a><span id="l43">      <span title="(a: scales.xml.Elem)Left[scales.xml.Elem,Nothing]">Left</span><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#88402" title="(namei: scales.xml.QName, attributesi: scales.xml.package.Attributes, namespacesi: scala.collection.immutable.Map[String,String])(implicit fromParser: scales.xml.FromParser)scales.xml.Elem">Elem</a><a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#87816" title="=&gt; scales.xml.FromParser" class="delimiter">(</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#88275" title="(local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.UnprefixedQName">ns</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><span title="java.lang.String(&quot;id&quot;)" class="string">&quot;id&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,</span>
<a href="l44"></a><span id="l44">      <span title="(a: scales.xml.Text)Left[scales.xml.Text,Nothing]">Left</span><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#116551" title="(value: String)scales.xml.Text">Text</a><span class="delimiter">(</span><a href="#92377" title="Int">i</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span><span class="delimiter">)</span>,</span>
<a href="l45"></a><span id="l45">      <span title="(b: scales.xml.EndElem)Right[Nothing,scales.xml.EndElem]">Right</span><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlPull.scala.html#112907" title="(name: scales.xml.QName, namespaces: Map[String,String])scales.xml.EndElem">EndElem</a><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/QName.scala.html#88275" title="(local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.UnprefixedQName">ns</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><span title="java.lang.String(&quot;id&quot;)" class="string">&quot;id&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,</span>
<a href="l46"></a><span id="l46">      <span title="(a: scales.xml.Elem)Left[scales.xml.Elem,Nothing]">Left</span><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#88402" title="(namei: scales.xml.QName, attributesi: scales.xml.package.Attributes, namespacesi: scala.collection.immutable.Map[String,String])(implicit fromParser: scales.xml.FromParser)scales.xml.Elem">Elem</a><a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#87816" title="=&gt; scales.xml.FromParser" class="delimiter">(</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#88275" title="(local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.UnprefixedQName">ns</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><span title="java.lang.String(&quot;version&quot;)" class="string">&quot;version&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,</span>
<a href="l47"></a><span id="l47">      <span title="(a: scales.xml.Text)Left[scales.xml.Text,Nothing]">Left</span><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#116551" title="(value: String)scales.xml.Text">Text</a><span class="delimiter">(</span><a href="#92377" title="Int">i</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span><span class="delimiter">)</span>,</span>
<a href="l48"></a><span id="l48">      <span title="(b: scales.xml.EndElem)Right[Nothing,scales.xml.EndElem]">Right</span><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlPull.scala.html#112907" title="(name: scales.xml.QName, namespaces: Map[String,String])scales.xml.EndElem">EndElem</a><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/QName.scala.html#88275" title="(local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.UnprefixedQName">ns</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><span title="java.lang.String(&quot;version&quot;)" class="string">&quot;version&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l49"></a><span id="l49">    <span class="delimiter">)</span></span>
<a href="l50"></a><span id="l50"></span>
<a href="l51"></a><span id="l51">  <span class="keyword">def</span> <a title="(i: Int, max: Int, idtype: String)scalaz.EphemeralStream[scales.xml.package.PullType]" id="92373">wrapVersion</a><span class="delimiter">(</span> <a title="Int" id="92437">i</a> : <span title="Int">Int</span>, <a title="Int" id="92438">max</a> : <span title="Int">Int</span>, <a title="String" id="92439">idtype</a> : <span title="String">String</span> <span class="delimiter">)</span> : <span title="scalaz.EphemeralStream[scales.xml.package.PullType]">EphemeralStream</span><span class="delimiter">[</span>PullType<span class="delimiter">]</span> = </span>
<a href="l52"></a><span id="l52">    <span title="scalaz.EphemeralStream[scales.xml.package.PullType]" class="keyword">if</span> <span class="delimiter">(</span><a href="#92437" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#92438" title="Int">max</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l53"></a><span id="l53">      <span title="[A](as: A*)scalaz.EphemeralStream[A]">EphemeralStream</span><span title="(as: scales.xml.package.PullType*)scalaz.EphemeralStream[scales.xml.package.PullType]" class="delimiter">[</span><span title="scales.xml.package.PullType">PullType</span><span class="delimiter">]</span><span class="delimiter">(</span></span>
<a href="l54"></a><span id="l54">	<span title="(a: scales.xml.Elem)Left[scales.xml.Elem,Nothing]">Left</span><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#88402" title="(namei: scales.xml.QName, attributesi: scales.xml.package.Attributes, namespacesi: scala.collection.immutable.Map[String,String])(implicit fromParser: scales.xml.FromParser)scales.xml.Elem">Elem</a><a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#87816" title="=&gt; scales.xml.FromParser" class="delimiter">(</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#88275" title="(local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.UnprefixedQName">ns</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><a href="#92439" title="String">idtype</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l55"></a><span id="l55">      <span class="delimiter">)</span> <a href="../../../classes.sxr/scales/utils/IterableUtils.scala.html#59611" title="(e: scalaz.EphemeralStream[scales.xml.package.PullType])java.lang.Object{def append[A,B &gt;: A](a: scalaz.EphemeralStream[A],e: =&gt; scalaz.EphemeralStream[B]): scalaz.EphemeralStream[B]; def +:+[B &gt;: scales.xml.package.PullType](e1: =&gt; scalaz.EphemeralStream[B]): scalaz.EphemeralStream[B]}">++</a> <a href="#92372" title="(i: Int)scalaz.EphemeralStream[scales.xml.package.PullType]">itemVersion</a><span class="delimiter">(</span><a href="#92437" title="Int">i</a><span class="delimiter">)</span> <span title="(e1: =&gt; scalaz.EphemeralStream[scales.xml.package.PullType])scalaz.EphemeralStream[scales.xml.package.PullType]">+:+</span> </span>
<a href="l56"></a><span id="l56">      <span title="[A](as: A*)scalaz.EphemeralStream[A]">EphemeralStream</span><span title="(as: scales.xml.package.PullType*)scalaz.EphemeralStream[scales.xml.package.PullType]" class="delimiter">[</span><span title="scales.xml.package.PullType">PullType</span><span class="delimiter">]</span><span class="delimiter">(</span></span>
<a href="l57"></a><span id="l57">	<span title="(b: scales.xml.EndElem)Right[Nothing,scales.xml.EndElem]">Right</span><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlPull.scala.html#112907" title="(name: scales.xml.QName, namespaces: Map[String,String])scales.xml.EndElem">EndElem</a><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/QName.scala.html#88275" title="(local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.UnprefixedQName">ns</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><a href="#92439" title="String">idtype</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l58"></a><span id="l58">      <span class="delimiter">)</span> <span title="(e: =&gt; scalaz.EphemeralStream[scales.xml.package.PullType])scalaz.EphemeralStream[scales.xml.package.PullType]">++</span> <a href="#92373" title="(i: Int, max: Int, idtype: String)scalaz.EphemeralStream[scales.xml.package.PullType]">wrapVersion</a><span class="delimiter">(</span><a href="#92437" title="Int">i</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#92438" title="Int">max</a>, <a href="#92439" title="String">idtype</a><span class="delimiter">)</span></span>
<a href="l59"></a><span id="l59">    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="[A](as: A*)scalaz.EphemeralStream[A]">EphemeralStream</span><span title="(as: scales.xml.package.PullType*)scalaz.EphemeralStream[scales.xml.package.PullType]" class="delimiter">[</span><span title="scales.xml.package.PullType">PullType</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l60"></a><span id="l60"></span>
<a href="l61"></a><span id="l61">  <span class="keyword">def</span> <a title="(i: Int, max: Int, idtype: String)scalaz.EphemeralStream[scales.xml.package.PullType]" id="92374">wrapVersions</a><span class="delimiter">(</span> <a title="Int" id="94245">i</a> : <span title="Int">Int</span>, <a title="Int" id="94246">max</a> : <span title="Int">Int</span>, <a title="String" id="94247">idtype</a> : <span title="String">String</span> <span class="delimiter">)</span> : <span title="scalaz.EphemeralStream[scales.xml.package.PullType]">EphemeralStream</span><span class="delimiter">[</span>PullType<span class="delimiter">]</span> = <span class="delimiter">{</span></span>
<a href="l62"></a><span id="l62">    <span title="[A](as: A*)scalaz.EphemeralStream[A]">EphemeralStream</span><span title="(as: scales.xml.package.PullType*)scalaz.EphemeralStream[scales.xml.package.PullType]" class="delimiter">[</span><span title="scales.xml.package.PullType">PullType</span><span class="delimiter">]</span><span class="delimiter">(</span> <span title="(a: scales.xml.Elem)Left[scales.xml.Elem,Nothing]">Left</span><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#88402" title="(namei: scales.xml.QName, attributesi: scales.xml.package.Attributes, namespacesi: scala.collection.immutable.Map[String,String])(implicit fromParser: scales.xml.FromParser)scales.xml.Elem">Elem</a><a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#87816" title="=&gt; scales.xml.FromParser" class="delimiter">(</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#88275" title="(local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.UnprefixedQName">ns</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><a href="#94247" title="String">idtype</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;s&quot;)" class="string">&quot;s&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span> <span title="(e: =&gt; scalaz.EphemeralStream[scales.xml.package.PullType])scalaz.EphemeralStream[scales.xml.package.PullType]">++</span></span>
<a href="l63"></a><span id="l63">    <a href="#92373" title="(i: Int, max: Int, idtype: String)scalaz.EphemeralStream[scales.xml.package.PullType]">wrapVersion</a><span class="delimiter">(</span><a href="#94245" title="Int">i</a>, <a href="#94246" title="Int">max</a>, <a href="#94247" title="String">idtype</a><span class="delimiter">)</span> <span title="(e: =&gt; scalaz.EphemeralStream[scales.xml.package.PullType])scalaz.EphemeralStream[scales.xml.package.PullType]">++</span></span>
<a href="l64"></a><span id="l64">    <span title="[A](as: A*)scalaz.EphemeralStream[A]">EphemeralStream</span><span title="(as: scales.xml.package.PullType*)scalaz.EphemeralStream[scales.xml.package.PullType]" class="delimiter">[</span><span title="scales.xml.package.PullType">PullType</span><span class="delimiter">]</span><span class="delimiter">(</span> <span title="(b: scales.xml.EndElem)Right[Nothing,scales.xml.EndElem]">Right</span><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlPull.scala.html#112907" title="(name: scales.xml.QName, namespaces: Map[String,String])scales.xml.EndElem">EndElem</a><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/QName.scala.html#88275" title="(local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.UnprefixedQName">ns</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><a href="#94247" title="String">idtype</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;s&quot;)" class="string">&quot;s&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span></span>
<a href="l65"></a><span id="l65">  <span class="delimiter">}</span></span>
<a href="l66"></a><span id="l66"></span>
<a href="l67"></a><span id="l67">  <span class="keyword">def</span> <a title="(max: Int)scalaz.EphemeralStream[scales.xml.package.PullType]" id="92375">reconDoc</a><span class="delimiter">(</span> <a title="Int" id="94277">max</a> : <span title="Int">Int</span> <span class="delimiter">)</span> : <span title="scalaz.EphemeralStream[scales.xml.package.PullType]">EphemeralStream</span><span class="delimiter">[</span>PullType<span class="delimiter">]</span> = </span>
<a href="l68"></a><span id="l68">    <span class="delimiter">{</span></span>
<a href="l69"></a><span id="l69">      <span title="[A](as: A*)scalaz.EphemeralStream[A]">EphemeralStream</span><span title="(as: scales.xml.package.PullType*)scalaz.EphemeralStream[scales.xml.package.PullType]" class="delimiter">[</span><span title="scales.xml.package.PullType">PullType</span><span class="delimiter">]</span><span class="delimiter">(</span> <span title="(a: scales.xml.Elem)Left[scales.xml.Elem,Nothing]">Left</span><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#88402" title="(namei: scales.xml.QName, attributesi: scales.xml.package.Attributes, namespacesi: scala.collection.immutable.Map[String,String])(implicit fromParser: scales.xml.FromParser)scales.xml.Elem">Elem</a><a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#87816" title="=&gt; scales.xml.FromParser" class="delimiter">(</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#88275" title="(local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.UnprefixedQName">ns</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><span title="java.lang.String(&quot;Recon&quot;)" class="string">&quot;Recon&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span> <span title="(e: =&gt; scalaz.EphemeralStream[scales.xml.package.PullType])scalaz.EphemeralStream[scales.xml.package.PullType]">++</span></span>
<a href="l70"></a><span id="l70">      <a href="#92374" title="(i: Int, max: Int, idtype: String)scalaz.EphemeralStream[scales.xml.package.PullType]">wrapVersions</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#94277" title="Int">max</a>, <span title="java.lang.String(&quot;Part&quot;)" class="string">&quot;Part&quot;</span><span class="delimiter">)</span> <span title="(e: =&gt; scalaz.EphemeralStream[scales.xml.package.PullType])scalaz.EphemeralStream[scales.xml.package.PullType]">++</span></span>
<a href="l71"></a><span id="l71">      <a href="#92374" title="(i: Int, max: Int, idtype: String)scalaz.EphemeralStream[scales.xml.package.PullType]">wrapVersions</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#94277" title="Int">max</a>, <span title="java.lang.String(&quot;BOM&quot;)" class="string">&quot;BOM&quot;</span><span class="delimiter">)</span> <span title="(e: =&gt; scalaz.EphemeralStream[scales.xml.package.PullType])scalaz.EphemeralStream[scales.xml.package.PullType]">++</span></span>
<a href="l72"></a><span id="l72">      <a href="#92374" title="(i: Int, max: Int, idtype: String)scalaz.EphemeralStream[scales.xml.package.PullType]">wrapVersions</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#94277" title="Int">max</a>, <span title="java.lang.String(&quot;Record&quot;)" class="string">&quot;Record&quot;</span><span class="delimiter">)</span> <span title="(e: =&gt; scalaz.EphemeralStream[scales.xml.package.PullType])scalaz.EphemeralStream[scales.xml.package.PullType]">++</span></span>
<a href="l73"></a><span id="l73">      <span title="[A](as: A*)scalaz.EphemeralStream[A]">EphemeralStream</span><span title="(as: scales.xml.package.PullType*)scalaz.EphemeralStream[scales.xml.package.PullType]" class="delimiter">[</span><span title="scales.xml.package.PullType">PullType</span><span class="delimiter">]</span><span class="delimiter">(</span> <span title="(b: scales.xml.EndElem)Right[Nothing,scales.xml.EndElem]">Right</span><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlPull.scala.html#112907" title="(name: scales.xml.QName, namespaces: Map[String,String])scales.xml.EndElem">EndElem</a><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/QName.scala.html#88275" title="(local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.UnprefixedQName">ns</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><span title="java.lang.String(&quot;Recon&quot;)" class="string">&quot;Recon&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span></span>
<a href="l74"></a><span id="l74">    <span class="delimiter">}</span></span>
<a href="l75"></a><span id="l75"></span>
<a href="l76"></a><span id="l76"><span class="delimiter">}</span></span>
<a href="l77"></a><span id="l77"></span>
<a href="l78"></a><span id="l78"><span class="keyword">import</span> com.google.caliper.Param</span>
<a href="l79"></a><span id="l79"></span>
<a href="l80"></a><span id="l80"><span class="keyword">class</span> <a title="class SpecificFilePerformance extends com.google.caliper.SimpleBenchmark with scales.xml.SimpleScalaBenchmark with ScalaObject" id="14058">SpecificFilePerformance</a> <a href="#14058" title="ScalaObject" class="keyword">extends</a> <a href="PerfBase.scala.html#14046" title="scales.xml.SimpleScalaBenchmark">SimpleScalaBenchmark</a> <span class="delimiter">{</span></span>
<a href="l81"></a><span id="l81"></span>
<a href="l82"></a><span id="l82">  @Param</span>
<a href="l83"></a><span id="l83">  <span class="keyword">val</span> <a title="String" id="94650">fname</a> : <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span></span>
<a href="l84"></a><span id="l84"></span>
<a href="l85"></a><span id="l85">  <span class="keyword">var</span> <a title="String" id="94653">s</a> : <span title="String">String</span> = _</span>
<a href="l86"></a><span id="l86"></span>
<a href="l87"></a><span id="l87">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="94655">setUp</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l88"></a><span id="l88">    <span class="keyword">val</span> <a title="scala.io.BufferedSource" id="94723">sor</a> = scala.io.<span title="object scala.io.Source">Source</span>.<span title="(name: String, enc: String)scala.io.BufferedSource">fromFile</span><span class="delimiter">(</span><a href="#94650" title="=&gt; String">fname</a>,<span title="java.lang.String(&quot;UTF-8&quot;)" class="string">&quot;UTF-8&quot;</span><span class="delimiter">)</span></span>
<a href="l89"></a><span id="l89">    <a href="#94653" title="(x$1: String)Unit">s</a> = <a href="#94723" title="scala.io.BufferedSource">sor</a>.<span title="=&gt; String">mkString</span></span>
<a href="l90"></a><span id="l90">    <a href="#94723" title="scala.io.BufferedSource">sor</a>.<span title="()Unit">close</span></span>
<a href="l91"></a><span id="l91">  <span class="delimiter">}</span></span>
<a href="l92"></a><span id="l92"></span>
<a href="l93"></a><span id="l93">  <span class="keyword">def</span> <a title="[T &lt;: scales.xml.OptimisationToken](s: String, ostrategy: scales.xml.PathOptimisationStrategy[T])scales.xml.Doc" id="94656">loadXmlS</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: scales.xml.OptimisationToken" id="94658">T</a> &lt;: OptimisationToken<span class="delimiter">]</span><span class="delimiter">(</span> <a title="String" id="95370">s</a> : <span title="String">String</span>, <a title="scales.xml.PathOptimisationStrategy[T]" id="95371">ostrategy</a> : <a href="../../../classes.sxr/scales/xml/OptimisingStrategies.scala.html#10680" title="scales.xml.PathOptimisationStrategy[T]">PathOptimisationStrategy</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = </span>
<a href="l94"></a><span id="l94">    <a href="../../../classes.sxr/scales/xml/XmlParser.scala.html#12442" title="[Token &lt;: scales.xml.OptimisationToken](source: org.xml.sax.InputSource, strategy: scales.xml.PathOptimisationStrategy[Token], parsers: scales.utils.Loaner[javax.xml.parsers.SAXParser])(implicit xmlVer: scales.xml.XmlVersion)scales.xml.Doc">loadXml</a><a href="../../../classes.sxr/scales/xml/XmlParser.scala.html#98259" title="(source: org.xml.sax.InputSource, strategy: scales.xml.PathOptimisationStrategy[T], parsers: scales.utils.Loaner[javax.xml.parsers.SAXParser])(implicit xmlVer: scales.xml.XmlVersion)scales.xml.Doc" class="delimiter">[</a><a href="#94658" title="T">T</a><span class="delimiter">]</span><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><a href="../../../classes.sxr/scales/xml/XmlParser.scala.html#87865" title="implicit scales.xml.XmlParserImplicits.readerToSource : (source: java.io.Reader)org.xml.sax.InputSource" class="keyword">new</a> java.io.<span title="java.io.StringReader">StringReader</span><span class="delimiter">(</span><a href="#95370" title="String">s</a><span class="delimiter">)</span>, strategy = <a href="#95371" title="scales.xml.PathOptimisationStrategy[T]">ostrategy</a><span class="delimiter">)</span></span>
<a href="l95"></a><span id="l95"></span>
<a href="l96"></a><span id="l96"> <span class="comment">// def loadXmlP( s : String, ostrategy : PathOptimisationStrategy) = </span></span>
<a href="l97"></a><span id="l97">   <span class="comment">// pullXmlCompletely(new java.io.StringReader(s), strategy = ostrategy)</span></span>
<a href="l98"></a><span id="l98">  <span class="keyword">def</span> <a title="(reps: Int)scala.xml.Elem" id="94659">timeScala</a><span class="delimiter">(</span><a title="Int" id="95424">reps</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <a href="PerfBase.scala.html#94646" title="(reps: Int)(snippet: =&gt; scala.xml.Elem)scala.xml.Elem">repeat</a><span class="delimiter">(</span><a href="#95424" title="Int">reps</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l99"></a><span id="l99">    scala.xml.<span title="object scala.xml.XML">XML</span>.<span title="(string: String)scala.xml.Elem">loadString</span><span class="delimiter">(</span><a href="#94653" title="=&gt; String">s</a><span class="delimiter">)</span></span>
<a href="l100"></a><span id="l100">  <span class="delimiter">}</span>  </span>
<a href="l101"></a><span id="l101"></span>
<a href="l102"></a><span id="l102">  <span class="keyword">def</span> <a title="(reps: Int)scales.xml.Doc" id="94660">timeQNameAndSpeed</a><span class="delimiter">(</span><a title="Int" id="95561">reps</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <a href="PerfBase.scala.html#94646" title="(reps: Int)(snippet: =&gt; scales.xml.Doc)scales.xml.Doc">repeat</a><span class="delimiter">(</span><a href="#95561" title="Int">reps</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l103"></a><span id="l103">    <a href="#94656" title="(s: String, ostrategy: scales.xml.PathOptimisationStrategy[scales.xml.ElemToken])scales.xml.Doc">loadXmlS</a><span class="delimiter">(</span><a href="#94653" title="=&gt; String">s</a>, <a href="../../../classes.sxr/scales/xml/OptimisingStrategies.scala.html#10706" title="object scales.xml.QNameAndSpeedierStrategy">QNameAndSpeedierStrategy</a><span class="delimiter">)</span></span>
<a href="l104"></a><span id="l104">  <span class="delimiter">}</span></span>
<a href="l105"></a><span id="l105"><span class="comment">/*</span>
<a href="l106"></a><span id="l106">  def timeMemoryAndSpeed(reps: Int) = repeat(reps) {</span>
<a href="l107"></a><span id="l107">    loadXmlS(s, MemoryAndSpeedierStrategy)</span>
<a href="l108"></a><span id="l108">  }*/</span></span>
<a href="l109"></a><span id="l109">  <span class="keyword">def</span> <a title="(reps: Int)scales.xml.Doc" id="94661">timeTyped</a><span class="delimiter">(</span><a title="Int" id="95576">reps</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <a href="PerfBase.scala.html#94646" title="(reps: Int)(snippet: =&gt; scales.xml.Doc)scales.xml.Doc">repeat</a><span class="delimiter">(</span><a href="#95576" title="Int">reps</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l110"></a><span id="l110">    <a href="#94656" title="(s: String, ostrategy: scales.xml.PathOptimisationStrategy[scales.xml.ElemToken])scales.xml.Doc">loadXmlS</a><span class="delimiter">(</span><a href="#94653" title="=&gt; String">s</a>, <a href="#13981" title="object scales.xml.QNameAndAttr">QNameAndAttr</a><span class="delimiter">)</span></span>
<a href="l111"></a><span id="l111">  <span class="delimiter">}</span></span>
<a href="l112"></a><span id="l112"></span>
<a href="l113"></a><span id="l113"><span class="delimiter">}</span></span>
<a href="l114"></a><span id="l114"></span>
<a href="l115"></a><span id="l115"><span class="keyword">object</span> <a title="object scales.xml.Recon" id="96384">Recon</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l116"></a><span id="l116">  <span class="keyword">import</span> <a href="#13705" title="object scales.xml.PerfData">PerfData</a>.ns</span>
<a href="l117"></a><span id="l117"></span>
<a href="l118"></a><span id="l118">  <span class="keyword">val</span> <a title="Namespace extends java.lang.Object with scales.xml.UnprefixedQName" id="95592">ReconQ</a> = <a href="../../../classes.sxr/scales/xml/QName.scala.html#88275" title="(local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.UnprefixedQName">ns</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><span title="java.lang.String(&quot;Recon&quot;)" class="string">&quot;Recon&quot;</span><span class="delimiter">)</span></span>
<a href="l119"></a><span id="l119">  <span class="keyword">val</span> <a title="Namespace extends java.lang.Object with scales.xml.UnprefixedQName" id="95594">PartsQ</a> = <a href="../../../classes.sxr/scales/xml/QName.scala.html#88275" title="(local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.UnprefixedQName">ns</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><span title="java.lang.String(&quot;Parts&quot;)" class="string">&quot;Parts&quot;</span><span class="delimiter">)</span></span>
<a href="l120"></a><span id="l120">  <span class="keyword">val</span> <a title="Namespace extends java.lang.Object with scales.xml.UnprefixedQName" id="95596">PartQ</a> = <a href="../../../classes.sxr/scales/xml/QName.scala.html#88275" title="(local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.UnprefixedQName">ns</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><span title="java.lang.String(&quot;Part&quot;)" class="string">&quot;Part&quot;</span><span class="delimiter">)</span></span>
<a href="l121"></a><span id="l121">  <span class="keyword">val</span> <a title="Namespace extends java.lang.Object with scales.xml.UnprefixedQName" id="95598">BomsQ</a> = <a href="../../../classes.sxr/scales/xml/QName.scala.html#88275" title="(local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.UnprefixedQName">ns</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><span title="java.lang.String(&quot;BOMs&quot;)" class="string">&quot;BOMs&quot;</span><span class="delimiter">)</span></span>
<a href="l122"></a><span id="l122">  <span class="keyword">val</span> <a title="Namespace extends java.lang.Object with scales.xml.UnprefixedQName" id="95600">BomQ</a> = <a href="../../../classes.sxr/scales/xml/QName.scala.html#88275" title="(local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.UnprefixedQName">ns</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><span title="java.lang.String(&quot;BOM&quot;)" class="string">&quot;BOM&quot;</span><span class="delimiter">)</span></span>
<a href="l123"></a><span id="l123">  <span class="keyword">val</span> <a title="Namespace extends java.lang.Object with scales.xml.UnprefixedQName" id="95602">RecsQ</a> = <a href="../../../classes.sxr/scales/xml/QName.scala.html#88275" title="(local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.UnprefixedQName">ns</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><span title="java.lang.String(&quot;Records&quot;)" class="string">&quot;Records&quot;</span><span class="delimiter">)</span></span>
<a href="l124"></a><span id="l124">  <span class="keyword">val</span> <a title="Namespace extends java.lang.Object with scales.xml.UnprefixedQName" id="95604">RecQ</a> = <a href="../../../classes.sxr/scales/xml/QName.scala.html#88275" title="(local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.UnprefixedQName">ns</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><span title="java.lang.String(&quot;Record&quot;)" class="string">&quot;Record&quot;</span><span class="delimiter">)</span></span>
<a href="l125"></a><span id="l125"></span>
<a href="l126"></a><span id="l126">  <span class="keyword">val</span> <a title="List[java.lang.Object with scales.xml.UnprefixedQName]" id="95606">Part</a> = <span title="(xs: java.lang.Object with scales.xml.UnprefixedQName*)List[java.lang.Object with scales.xml.UnprefixedQName]">List</span><span class="delimiter">(</span><a href="#95592" title="=&gt; java.lang.Object with scales.xml.UnprefixedQName">ReconQ</a>, <a href="#95594" title="=&gt; java.lang.Object with scales.xml.UnprefixedQName">PartsQ</a>, <a href="#95596" title="=&gt; java.lang.Object with scales.xml.UnprefixedQName">PartQ</a><span class="delimiter">)</span></span>
<a href="l127"></a><span id="l127">  <span class="keyword">val</span> <a title="List[java.lang.Object with scales.xml.UnprefixedQName]" id="95608">Bom</a> = <span title="(xs: java.lang.Object with scales.xml.UnprefixedQName*)List[java.lang.Object with scales.xml.UnprefixedQName]">List</span><span class="delimiter">(</span><a href="#95592" title="=&gt; java.lang.Object with scales.xml.UnprefixedQName">ReconQ</a>, <a href="#95598" title="=&gt; java.lang.Object with scales.xml.UnprefixedQName">BomsQ</a>, <a href="#95600" title="=&gt; java.lang.Object with scales.xml.UnprefixedQName">BomQ</a><span class="delimiter">)</span></span>
<a href="l128"></a><span id="l128">  <span class="keyword">val</span> <a title="List[java.lang.Object with scales.xml.UnprefixedQName]" id="95610">Rec</a> = <span title="(xs: java.lang.Object with scales.xml.UnprefixedQName*)List[java.lang.Object with scales.xml.UnprefixedQName]">List</span><span class="delimiter">(</span><a href="#95592" title="=&gt; java.lang.Object with scales.xml.UnprefixedQName">ReconQ</a>, <a href="#95602" title="=&gt; java.lang.Object with scales.xml.UnprefixedQName">RecsQ</a>, <a href="#95604" title="=&gt; java.lang.Object with scales.xml.UnprefixedQName">RecQ</a><span class="delimiter">)</span></span>
<a href="l129"></a><span id="l129"></span>
<a href="l130"></a><span id="l130">  <span class="keyword">val</span> <a title="Namespace extends java.lang.Object with scales.xml.UnprefixedQName" id="95612">id</a> = <a href="../../../classes.sxr/scales/xml/QName.scala.html#88275" title="(local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.UnprefixedQName">ns</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><span title="java.lang.String(&quot;id&quot;)" class="string">&quot;id&quot;</span><span class="delimiter">)</span></span>
<a href="l131"></a><span id="l131">  <span class="keyword">val</span> <a title="Namespace extends java.lang.Object with scales.xml.UnprefixedQName" id="95614">version</a> = <a href="../../../classes.sxr/scales/xml/QName.scala.html#88275" title="(local: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.UnprefixedQName">ns</a><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><span title="java.lang.String(&quot;version&quot;)" class="string">&quot;version&quot;</span><span class="delimiter">)</span></span>
<a href="l132"></a><span id="l132"></span>
<a href="l133"></a><span id="l133">  <span class="keyword">val</span> <a title="scales.xml.package.XmlPath =&gt; (Int, Int)" id="95616">versionf</a> = <span class="delimiter">{</span></span>
<a href="l134"></a><span id="l134">    <span class="keyword">import</span> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12471" title="object scales.xml.package.Elements">Elements</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99690" title="object scales.xml.package.Elements.Functions">Functions</a>.text</span>
<a href="l135"></a><span id="l135"><span class="comment">//    (x : XmlPath) =&gt; (text(raw(x.\*(id)).head).toInt, text(raw(x.\*(version)).head).toInt)</span></span>
<a href="l136"></a><span id="l136">    <span class="delimiter">(</span>x : <a href="../../../classes.sxr/scales/utils/Paths.scala.html#84591" title="scales.xml.package.XmlPath">XmlPath</a><span class="delimiter">)</span> =&gt; <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99705" title="(implicit path: scales.xml.package.XmlPath)String">text</a><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">x</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90421" title="(qname: scales.xml.QName)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\*</a><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]" class="delimiter">(</a><a href="#95612" title="=&gt; java.lang.Object with scales.xml.UnprefixedQName">id</a><span class="delimiter">)</span>.<span title="=&gt; scales.xml.package.XmlPath">head</span><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span>, <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99705" title="(implicit path: scales.xml.package.XmlPath)String">text</a><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">x</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90421" title="(qname: scales.xml.QName)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\*</a><a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]" class="delimiter">(</a><a href="#95614" title="=&gt; java.lang.Object with scales.xml.UnprefixedQName">version</a><span class="delimiter">)</span>.<span title="=&gt; scales.xml.package.XmlPath">head</span><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span><span class="delimiter">)</span></span>
<a href="l137"></a><span id="l137">  <span class="delimiter">}</span></span>
<a href="l138"></a><span id="l138"></span>
<a href="l139"></a><span id="l139"><span class="delimiter">}</span></span>
<a href="l140"></a><span id="l140"></span>
<a href="l141"></a><span id="l141">case <span class="keyword">class</span> <a title="(x$0: scales.xml.Recon)Option[(Map[Int,Int], Map[Int,Int], Map[Int,Int])]" id="96433">Recon</a><a href="#96433" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="=&gt; Map[Int,Int]" id="96396">parts</a> : <span title="Map[Int,Int]">Map</span><span class="delimiter">[</span>Int, Int<span class="delimiter">]</span> = <span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (Int, Int)*)scala.collection.immutable.Map[Int,Int]" class="delimiter">[</span><span title="Int">Int</span>, <span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>,</span>
<a href="l142"></a><span id="l142">		 <span class="keyword">val</span> <a title="=&gt; Map[Int,Int]" id="96397">boms</a> : <span title="Map[Int,Int]">Map</span><span class="delimiter">[</span>Int, Int<span class="delimiter">]</span> = <span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (Int, Int)*)scala.collection.immutable.Map[Int,Int]" class="delimiter">[</span><span title="Int">Int</span>, <span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>,</span>
<a href="l143"></a><span id="l143">		 <span class="keyword">val</span> <a title="=&gt; Map[Int,Int]" id="96398">recs</a> : <span title="Map[Int,Int]">Map</span><span class="delimiter">[</span>Int, Int<span class="delimiter">]</span> = <span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (Int, Int)*)scala.collection.immutable.Map[Int,Int]" class="delimiter">[</span><span title="Int">Int</span>, <span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span></span>
<a href="l144"></a><span id="l144"></span>
<a href="l145"></a><span id="l145"></span>
<a href="l146"></a><span id="l146"><span class="comment">/**</span>
<a href="l147"></a><span id="l147"> * Timings for a &quot;typical&quot; recon style file</span>
<a href="l148"></a><span id="l148"> */</span> </span>
<a href="l149"></a><span id="l149"><span class="keyword">class</span> <a title="class ParsingPerformanceRecon extends com.google.caliper.SimpleBenchmark with scales.xml.SimpleScalaBenchmark with ScalaObject" id="13671">ParsingPerformanceRecon</a> <a href="#13671" title="ScalaObject" class="keyword">extends</a> <a href="PerfBase.scala.html#14046" title="scales.xml.SimpleScalaBenchmark">SimpleScalaBenchmark</a> <span class="delimiter">{</span></span>
<a href="l150"></a><span id="l150"></span>
<a href="l151"></a><span id="l151">  @Param<span class="delimiter">(</span>Array<span class="delimiter">(</span><span class="string">&quot;10000&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="comment">//&quot;10&quot;, &quot;100&quot;, &quot;1000&quot;, &quot;10000&quot;, &quot;40000&quot;))//</span></span>
<a href="l152"></a><span id="l152">  <span class="keyword">val</span> <a title="Int" id="96436">size</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span></span>
<a href="l153"></a><span id="l153">  </span>
<a href="l154"></a><span id="l154">  <span class="keyword">var</span> <a title="String" id="96439">s</a> : <span title="String">String</span> = _</span>
<a href="l155"></a><span id="l155"></span>
<a href="l156"></a><span id="l156">  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="96441">setUp</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l157"></a><span id="l157">    <a href="#96439" title="(x$1: String)Unit">s</a> = <a href="../../../classes.sxr/scales/xml/XmlPrinter.scala.html#12504" title="(xml: Iterator[scales.xml.package.PullType])(implicit serf: scales.xml.SerializerFactory, implicit sxml: scales.xml.package.SerializeableXml[Iterator[scales.xml.package.PullType]])String">asString</a><a href="../../../classes.sxr/scales/xml/XmlPrinter.scala.html#87870" title="=&gt; scales.xml.LSSerializerFactory.type" class="delimiter">(</a><a href="#13705" title="object scales.xml.PerfData">PerfData</a>.<a href="#92375" title="(max: Int)scalaz.EphemeralStream[scales.xml.package.PullType]">reconDoc</a><span title="(e: scalaz.EphemeralStream[scales.xml.package.PullType])Iterable[scales.xml.package.PullType]" class="delimiter">(</span><a href="#96436" title="=&gt; Int">size</a><span class="delimiter">)</span>.<span title="=&gt; Iterator[scales.xml.package.PullType]">iterator</span><span class="delimiter">)</span></span>
<a href="l158"></a><span id="l158">  <span class="delimiter">}</span></span>
<a href="l159"></a><span id="l159">  </span>
<a href="l160"></a><span id="l160">  <span class="keyword">def</span> <a title="[T &lt;: scales.xml.OptimisationToken](s: String, ostrategy: scales.xml.PathOptimisationStrategy[T])scales.xml.Doc" id="96442">loadXmlS</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: scales.xml.OptimisationToken" id="96444">T</a> &lt;: OptimisationToken<span class="delimiter">]</span><span class="delimiter">(</span> <a title="String" id="96575">s</a> : <span title="String">String</span>, <a title="scales.xml.PathOptimisationStrategy[T]" id="96576">ostrategy</a> : <a href="../../../classes.sxr/scales/xml/OptimisingStrategies.scala.html#10680" title="scales.xml.PathOptimisationStrategy[T]">PathOptimisationStrategy</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = </span>
<a href="l161"></a><span id="l161">    <a href="../../../classes.sxr/scales/xml/XmlParser.scala.html#12442" title="[Token &lt;: scales.xml.OptimisationToken](source: org.xml.sax.InputSource, strategy: scales.xml.PathOptimisationStrategy[Token], parsers: scales.utils.Loaner[javax.xml.parsers.SAXParser])(implicit xmlVer: scales.xml.XmlVersion)scales.xml.Doc">loadXml</a><a href="../../../classes.sxr/scales/xml/XmlParser.scala.html#98259" title="(source: org.xml.sax.InputSource, strategy: scales.xml.PathOptimisationStrategy[T], parsers: scales.utils.Loaner[javax.xml.parsers.SAXParser])(implicit xmlVer: scales.xml.XmlVersion)scales.xml.Doc" class="delimiter">[</a><a href="#96444" title="T">T</a><span class="delimiter">]</span><a href="../../../classes.sxr/scales/xml/QName.scala.html#87867" title="=&gt; scales.xml.XmlVersion" class="delimiter">(</a><a href="../../../classes.sxr/scales/xml/XmlParser.scala.html#87865" title="implicit scales.xml.XmlParserImplicits.readerToSource : (source: java.io.Reader)org.xml.sax.InputSource" class="keyword">new</a> java.io.<span title="java.io.StringReader">StringReader</span><span class="delimiter">(</span><a href="#96575" title="String">s</a><span class="delimiter">)</span>, strategy = <a href="#96576" title="scales.xml.PathOptimisationStrategy[T]">ostrategy</a><span class="delimiter">)</span></span>
<a href="l162"></a><span id="l162"></span>
<a href="l163"></a><span id="l163">  <span class="keyword">def</span> <a title="[T &lt;: scales.xml.OptimisationToken](s: String, ostrategy: scales.xml.PathOptimisationStrategy[T])scales.xml.Doc" id="96445">loadXmlP</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: scales.xml.OptimisationToken" id="96447">T</a> &lt;: OptimisationToken<span class="delimiter">]</span><span class="delimiter">(</span> <a title="String" id="96610">s</a> : <span title="String">String</span>, <a title="scales.xml.PathOptimisationStrategy[T]" id="96611">ostrategy</a> : <a href="../../../classes.sxr/scales/xml/OptimisingStrategies.scala.html#10680" title="scales.xml.PathOptimisationStrategy[T]">PathOptimisationStrategy</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = </span>
<a href="l164"></a><span id="l164">    <a href="../../../classes.sxr/scales/xml/XmlPull.scala.html#12516" title="[RToken &lt;: scales.xml.OptimisationToken](source: org.xml.sax.InputSource, strategy: scales.xml.PathOptimisationStrategy[RToken], parserFactoryPool: scales.utils.Pool[javax.xml.stream.XMLInputFactory], closeAfterUse: Boolean)scales.xml.Doc">pullXmlCompletely</a><a href="../../../classes.sxr/scales/xml/XmlPull.scala.html#109969" title="(source: org.xml.sax.InputSource, strategy: scales.xml.PathOptimisationStrategy[T], parserFactoryPool: scales.utils.Pool[javax.xml.stream.XMLInputFactory], closeAfterUse: Boolean)scales.xml.Doc" class="delimiter">[</a><a href="#96447" title="T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="../../../classes.sxr/scales/xml/XmlParser.scala.html#87865" title="implicit scales.xml.XmlParserImplicits.readerToSource : (source: java.io.Reader)org.xml.sax.InputSource" class="keyword">new</a> java.io.<span title="java.io.StringReader">StringReader</span><span class="delimiter">(</span><a href="#96610" title="String">s</a><span class="delimiter">)</span>, strategy = <a href="#96611" title="scales.xml.PathOptimisationStrategy[T]">ostrategy</a><span class="delimiter">)</span></span>
<a href="l165"></a><span id="l165"><span class="comment">/*  </span>
<a href="l166"></a><span id="l166">  def timeNoOptimisation(reps: Int) = repeat(reps) {</span>
<a href="l167"></a><span id="l167">    loadXmlS(s, NoOptimisation)</span>
<a href="l168"></a><span id="l168">  }</span>
<a href="l169"></a><span id="l169"></span>
<a href="l170"></a><span id="l170">  def timeScala(reps: Int) = repeat(reps) {</span>
<a href="l171"></a><span id="l171">    scala.xml.XML.loadString(s)</span>
<a href="l172"></a><span id="l172">  }  </span>
<a href="l173"></a><span id="l173"></span>
<a href="l174"></a><span id="l174">  def timeMemoryAndSpeed(reps: Int) = repeat(reps) {</span>
<a href="l175"></a><span id="l175">    loadXmlS(s, MemoryAndSpeedierStrategy)</span>
<a href="l176"></a><span id="l176">  }</span>
<a href="l177"></a><span id="l177"></span>
<a href="l178"></a><span id="l178">  def timeQNameAndSpeed(reps: Int) = repeat(reps) {</span>
<a href="l179"></a><span id="l179">    loadXmlS(s, QNameAndSpeedierStrategy)</span>
<a href="l180"></a><span id="l180">  }</span>
<a href="l181"></a><span id="l181">*/</span></span>
<a href="l182"></a><span id="l182"></span>
<a href="l183"></a><span id="l183">  <span class="comment">/**</span>
<a href="l184"></a><span id="l184">   * How long for pull based, low memory onqnames action</span>
<a href="l185"></a><span id="l185">   * </span>
<a href="l186"></a><span id="l186">  def timePullCollect(reps: Int) = repeat(reps) {</span>
<a href="l187"></a><span id="l187">    import Recon._</span>
<a href="l188"></a><span id="l188"></span>
<a href="l189"></a><span id="l189">    val xml = pullXml(new java.io.StringReader(s)).it</span>
<a href="l190"></a><span id="l190">    foldOnDone( xml )( Recon() , </span>
<a href="l191"></a><span id="l191">		      onDone( List(onQNames(Part), </span>
<a href="l192"></a><span id="l192">				   onQNames(Bom), </span>
<a href="l193"></a><span id="l193">				   onQNames(Rec)) )) {</span>
<a href="l194"></a><span id="l194">      (recon, qNamesMatch) =&gt; </span>
<a href="l195"></a><span id="l195">	if (qNamesMatch.size == 0)</span>
<a href="l196"></a><span id="l196">	  recon</span>
<a href="l197"></a><span id="l197">	else {</span>
<a href="l198"></a><span id="l198">	  // we expect only one to match in this pattern	  </span>
<a href="l199"></a><span id="l199">	  val matched = qNamesMatch.head</span>
<a href="l200"></a><span id="l200">	  val qnames = matched._1  // to get an onDone it must be defined</span>
<a href="l201"></a><span id="l201">	  val x = matched._2.get</span>
<a href="l202"></a><span id="l202">	  // only one child</span>
<a href="l203"></a><span id="l203">	  val pair = versionf(x)</span>
<a href="l204"></a><span id="l204">	  </span>
<a href="l205"></a><span id="l205">	  //recon</span>
<a href="l206"></a><span id="l206">	  qnames match {</span>
<a href="l207"></a><span id="l207">	    case Part =&gt; recon.copy( parts = recon.parts + pair )</span>
<a href="l208"></a><span id="l208">	    case Bom =&gt; recon.copy( boms = recon.boms + pair )</span>
<a href="l209"></a><span id="l209">	    case Rec =&gt; recon.copy( recs = recon.recs + pair )</span>
<a href="l210"></a><span id="l210">	  }/**/</span>
<a href="l211"></a><span id="l211">	}			   </span>
<a href="l212"></a><span id="l212">    </span>
<a href="l213"></a><span id="l213">    }</span>
<a href="l214"></a><span id="l214">  }*/</span></span>
<a href="l215"></a><span id="l215"></span>
<a href="l216"></a><span id="l216">  <span class="keyword">def</span> <a title="=&gt; (scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]], scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]], scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]])" id="96448">processFullParseCollect</a> = <span class="delimiter">{</span></span>
<a href="l217"></a><span id="l217">    <span class="keyword">import</span> <a href="#96384" title="object scales.xml.Recon">Recon</a>._</span>
<a href="l218"></a><span id="l218"></span>
<a href="l219"></a><span id="l219">    <span class="keyword">val</span> <a title="scales.xml.Doc" id="96727">doc</a> = <a href="#96442" title="(s: String, ostrategy: scales.xml.PathOptimisationStrategy[scales.xml.ElemToken])scales.xml.Doc">loadXmlS</a><span class="delimiter">(</span><a href="#96439" title="=&gt; String">s</a>, <a href="../../../classes.sxr/scales/xml/OptimisingStrategies.scala.html#10706" title="object scales.xml.QNameAndSpeedierStrategy">QNameAndSpeedierStrategy</a><span class="delimiter">)</span></span>
<a href="l220"></a><span id="l220"></span>
<a href="l221"></a><span id="l221">    <span class="keyword">val</span> <a title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="96728">root</a> = <a href="../../../classes.sxr/scales/utils/Paths.scala.html#12295" title="(tree: scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])(implicit cbf: scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">top</a><a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#87812" title="=&gt; scales.xml.package.XmlCBF" class="delimiter">(</a><a href="#96727" title="scales.xml.Doc">doc</a>.<a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#89986" title="=&gt; scales.xml.package.XmlTree">rootElem</a><span class="delimiter">)</span><span class="comment">//.\*(ReconQ)</span></span>
<a href="l222"></a><span id="l222">    <span class="keyword">val</span> <a title="scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]" id="96729">parts</a> = <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">root</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90421" title="(qname: scales.xml.QName)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\*</a><span class="delimiter">(</span><a href="#95594" title="=&gt; java.lang.Object with scales.xml.UnprefixedQName">PartsQ</a><span class="delimiter">)</span>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90421" title="(qname: scales.xml.QName)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\*</a><span class="delimiter">(</span><a href="#95596" title="=&gt; java.lang.Object with scales.xml.UnprefixedQName">PartQ</a><span class="delimiter">)</span></span>
<a href="l223"></a><span id="l223">    <span class="keyword">val</span> <a title="scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]" id="96730">boms</a> = <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">root</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90421" title="(qname: scales.xml.QName)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\*</a><span class="delimiter">(</span><a href="#95598" title="=&gt; java.lang.Object with scales.xml.UnprefixedQName">BomsQ</a><span class="delimiter">)</span>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90421" title="(qname: scales.xml.QName)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\*</a><span class="delimiter">(</span><a href="#95600" title="=&gt; java.lang.Object with scales.xml.UnprefixedQName">BomQ</a><span class="delimiter">)</span></span>
<a href="l224"></a><span id="l224">    <span class="keyword">val</span> <a title="scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]" id="96731">recs</a> = <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">root</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90421" title="(qname: scales.xml.QName)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\*</a><span class="delimiter">(</span><a href="#95602" title="=&gt; java.lang.Object with scales.xml.UnprefixedQName">RecsQ</a><span class="delimiter">)</span>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90421" title="(qname: scales.xml.QName)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\*</a><span class="delimiter">(</span><a href="#95604" title="=&gt; java.lang.Object with scales.xml.UnprefixedQName">RecQ</a><span class="delimiter">)</span></span>
<a href="l225"></a><span id="l225">    </span>
<a href="l226"></a><span id="l226">    <span title="(_1: scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]], _2: scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]], _3: scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]])(scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]], scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]], scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]])" class="delimiter">(</span><a href="#96729" title="scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">parts</a>, <a href="#96730" title="scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">boms</a>, <a href="#96731" title="scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">recs</a><span class="delimiter">)</span></span>
<a href="l227"></a><span id="l227">  <span class="delimiter">}</span></span>
<a href="l228"></a><span id="l228"></span>
<a href="l229"></a><span id="l229">  <span class="comment">/**</span>
<a href="l230"></a><span id="l230">   * How long does it take for a full parse and collect?</span>
<a href="l231"></a><span id="l231">  def timeFullParseCollect( reps: Int) = repeat(reps) {</span>
<a href="l232"></a><span id="l232">    import Recon._</span>
<a href="l233"></a><span id="l233"></span>
<a href="l234"></a><span id="l234">    val (parts, boms, recs) = processFullParseCollect</span>
<a href="l235"></a><span id="l235"></span>
<a href="l236"></a><span id="l236">    Recon((parts map versionf).toMap,</span>
<a href="l237"></a><span id="l237">	(boms map versionf).toMap,</span>
<a href="l238"></a><span id="l238">	(recs map versionf).toMap)</span>
<a href="l239"></a><span id="l239">  }</span>
<a href="l240"></a><span id="l240">   */</span> </span>
<a href="l241"></a><span id="l241"></span>
<a href="l242"></a><span id="l242">  <span class="comment">/**</span>
<a href="l243"></a><span id="l243">   * How long does it take for a full parse and collect?</span>
<a href="l244"></a><span id="l244">  def timeFullParseCollectRaw( reps: Int) = repeat(reps) {</span>
<a href="l245"></a><span id="l245">    import Recon._</span>
<a href="l246"></a><span id="l246"></span>
<a href="l247"></a><span id="l247">    val (parts, boms, recs) = processFullParseCollect</span>
<a href="l248"></a><span id="l248"></span>
<a href="l249"></a><span id="l249">    Recon((raw(parts) map versionf).toMap,</span>
<a href="l250"></a><span id="l250">	(raw(boms) map versionf).toMap,</span>
<a href="l251"></a><span id="l251">	(raw(recs) map versionf).toMap)</span>
<a href="l252"></a><span id="l252">  }</span>
<a href="l253"></a><span id="l253">   */</span> </span>
<a href="l254"></a><span id="l254"></span>
<a href="l255"></a><span id="l255"></span>
<a href="l256"></a><span id="l256">  <span class="comment">/**</span>
<a href="l257"></a><span id="l257">   * Full parse and collect lazily with lazy evaluation of results</span>
<a href="l258"></a><span id="l258">   * Doesn't even properly due to taking way to long to run for 40,000</span>
<a href="l259"></a><span id="l259">   * </span>
<a href="l260"></a><span id="l260">  def timeFullParseDLRV( reps: Int) = repeat(reps) {</span>
<a href="l261"></a><span id="l261">    import Elements.Functions.text</span>
<a href="l262"></a><span id="l262"></span>
<a href="l263"></a><span id="l263">    val doc = loadXmlS(s, QNameAndSpeedierStrategy)</span>
<a href="l264"></a><span id="l264"></span>
<a href="l265"></a><span id="l265">    val root = viewed(top(doc.rootElem))//.\*(ReconQ)</span>
<a href="l266"></a><span id="l266">    </span>
<a href="l267"></a><span id="l267">    // get all versions, sum em, silly but enough to see how deep works with and without views</span>
<a href="l268"></a><span id="l268">    val all = lazyRaw(root.\\.*(Recon.version))</span>
<a href="l269"></a><span id="l269">    all.foldLeft(0L){ (x,y) =&gt; text(y).toLong + x }.toString</span>
<a href="l270"></a><span id="l270">  }*/</span></span>
<a href="l271"></a><span id="l271"></span>
<a href="l272"></a><span id="l272">  <span class="comment">/**</span>
<a href="l273"></a><span id="l273">   * Test deep and filter, to evaluate differences in flatMap vs whileloop</span>
<a href="l274"></a><span id="l274">   */</span> </span>
<a href="l275"></a><span id="l275">  <span class="keyword">def</span> <a title="(reps: Int)java.lang.String" id="96449">timeFullParseDF</a><span class="delimiter">(</span> <a title="Int" id="97018">reps</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <a href="PerfBase.scala.html#94646" title="(reps: Int)(snippet: =&gt; java.lang.String)java.lang.String">repeat</a><span class="delimiter">(</span><a href="#97018" title="Int">reps</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l276"></a><span id="l276">    <span class="keyword">import</span> <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#12471" title="object scales.xml.package.Elements">Elements</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99690" title="object scales.xml.package.Elements.Functions">Functions</a>.text</span>
<a href="l277"></a><span id="l277">    </span>
<a href="l278"></a><span id="l278">    <span class="keyword">import</span> <a href="#96384" title="object scales.xml.Recon">Recon</a>._</span>
<a href="l279"></a><span id="l279"></span>
<a href="l280"></a><span id="l280">    <span class="keyword">val</span> <a title="scales.xml.Doc" id="97027">doc</a> = <a href="#96442" title="(s: String, ostrategy: scales.xml.PathOptimisationStrategy[scales.xml.ElemToken])scales.xml.Doc">loadXmlS</a><span class="delimiter">(</span><a href="#96439" title="=&gt; String">s</a>, <a href="../../../classes.sxr/scales/xml/OptimisingStrategies.scala.html#10706" title="object scales.xml.QNameAndSpeedierStrategy">QNameAndSpeedierStrategy</a><span class="delimiter">)</span></span>
<a href="l281"></a><span id="l281"></span>
<a href="l282"></a><span id="l282">    <span class="keyword">val</span> <a title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="97028">root</a> = <a href="../../../classes.sxr/scales/utils/Paths.scala.html#12295" title="(tree: scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])(implicit cbf: scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">top</a><a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#87812" title="=&gt; scales.xml.package.XmlCBF" class="delimiter">(</a><a href="#97027" title="scales.xml.Doc">doc</a>.<a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#89986" title="=&gt; scales.xml.package.XmlTree">rootElem</a><span class="delimiter">)</span></span>
<a href="l283"></a><span id="l283">    <span class="keyword">val</span> <a title="scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]" id="97029">parts</a> = <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">root</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90416" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\\</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90420" title="(qname: scales.xml.QName)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">*</a><span class="delimiter">(</span><a href="#95596" title="=&gt; java.lang.Object with scales.xml.UnprefixedQName">PartQ</a><span class="delimiter">)</span></span>
<a href="l284"></a><span id="l284">    <span class="keyword">val</span> <a title="scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]" id="97030">boms</a> = <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">root</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90416" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\\</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90420" title="(qname: scales.xml.QName)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">*</a><span class="delimiter">(</span><a href="#95600" title="=&gt; java.lang.Object with scales.xml.UnprefixedQName">BomQ</a><span class="delimiter">)</span></span>
<a href="l285"></a><span id="l285">    <span class="keyword">val</span> <a title="scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]" id="97031">recs</a> = <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87832" title="implicit scales.xml.XmlPathImplicits.fromXmlPathToXPath : (xmlPath: scales.xml.package.XmlPath)(implicit cbf: scala.collection.generic.CanBuildFrom[List[scales.xml.package.XmlPath],scales.xml.package.XmlPath,List[scales.xml.package.XmlPath]])scales.xml.XPath[List[scales.xml.package.XmlPath]]">root</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90416" title="=&gt; scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">\\</a>.<a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#90420" title="(qname: scales.xml.QName)scales.xml.XPath[List[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">*</a><span class="delimiter">(</span><a href="#95604" title="=&gt; java.lang.Object with scales.xml.UnprefixedQName">RecQ</a><span class="delimiter">)</span> <span class="comment">// gets progressively worse for deep as it must renavigate from the top again</span></span>
<a href="l286"></a><span id="l286">    </span>
<a href="l287"></a><span id="l287">    <span class="keyword">val</span> <a title="java.lang.String" id="97032">res</a> = <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#87833" title="implicit scales.xml.XmlPathImplicits.fromXPathToIterable : (xpath: scales.xml.XPath[_])Iterable[scales.xml.package.XmlPath]">recs</a>.<span title="(z: Long)(op: (Long, scales.xml.package.XmlPath) =&gt; Long)Long">foldLeft</span><span class="delimiter">(</span><span title="Long(0L)" class="long">0L</span><span class="delimiter">)</span><span class="delimiter">{</span> <span class="delimiter">(</span><a title="Long" id="97373">x</a>,<a title="scales.xml.package.XmlPath" id="97374">y</a><span class="delimiter">)</span> =&gt; <a href="../../../classes.sxr/scales/xml/XmlPaths.scala.html#99705" title="(implicit path: scales.xml.package.XmlPath)String">text</a><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><a href="#97374" title="scales.xml.package.XmlPath">y</a><span class="delimiter">)</span>.<span title="=&gt; Long">toLong</span> <span title="(x: Long)Long">+</span> <a href="#97373" title="Long">x</a> <span class="delimiter">}</span>.<span title="()java.lang.String">toString</span></span>
<a href="l288"></a><span id="l288">    <span class="comment">// 1000 is 495540450</span></span>
<a href="l289"></a><span id="l289">    <span class="comment">// 10000 is 495500035950</span></span>
<a href="l290"></a><span id="l290">    <span class="comment">//if (res != &quot;495500035950&quot;) sys.error(&quot;Was not the expected result but &quot;+res)</span></span>
<a href="l291"></a><span id="l291">    <a href="#97032" title="java.lang.String">res</a></span>
<a href="l292"></a><span id="l292">  <span class="delimiter">}</span></span>
<a href="l293"></a><span id="l293"></span>
<a href="l294"></a><span id="l294">  <span class="comment">/**</span>
<a href="l295"></a><span id="l295">   * Full parse and collect lazily but evaluate via raw</span>
<a href="l296"></a><span id="l296">   </span>
<a href="l297"></a><span id="l297">  def timeFullParseDRV( reps: Int) = repeat(reps) {</span>
<a href="l298"></a><span id="l298">    import Elements.Functions.text</span>
<a href="l299"></a><span id="l299"></span>
<a href="l300"></a><span id="l300">    val doc = loadXmlS(s, QNameAndSpeedierStrategy)</span>
<a href="l301"></a><span id="l301"></span>
<a href="l302"></a><span id="l302">    val root = viewed(top(doc.rootElem))//.\*(ReconQ)</span>
<a href="l303"></a><span id="l303">    </span>
<a href="l304"></a><span id="l304">    // get all versions, sum em, silly but enough to see how deep works with and without views</span>
<a href="l305"></a><span id="l305">    val all = raw(root.\\.*(Recon.version))</span>
<a href="l306"></a><span id="l306">    all.foldLeft(0L){ (x,y) =&gt; text(y).toLong + x }.toString</span>
<a href="l307"></a><span id="l307">  }</span>
<a href="l308"></a><span id="l308">*/</span></span>
<a href="l309"></a><span id="l309">  <span class="comment">/**</span>
<a href="l310"></a><span id="l310">   * Full parse and collect eagerly (default behaviour)</span>
<a href="l311"></a><span id="l311">  </span>
<a href="l312"></a><span id="l312">  def timeFullParseDRE( reps: Int) = repeat(reps) {</span>
<a href="l313"></a><span id="l313">    import Elements.Functions.text</span>
<a href="l314"></a><span id="l314"></span>
<a href="l315"></a><span id="l315">    val doc = loadXmlS(s, QNameAndSpeedierStrategy)</span>
<a href="l316"></a><span id="l316"></span>
<a href="l317"></a><span id="l317">    val root = top(doc.rootElem)//.\*(ReconQ)</span>
<a href="l318"></a><span id="l318">    </span>
<a href="l319"></a><span id="l319">    // get all versions, sum em, silly but enough to see how deep works with and without views</span>
<a href="l320"></a><span id="l320">    val all = raw(root.\\.*(Recon.version))</span>
<a href="l321"></a><span id="l321">    all.foldLeft(0L){ (x,y) =&gt; text(y).toLong + x }.toString</span>
<a href="l322"></a><span id="l322">  }</span>
<a href="l323"></a><span id="l323"> */</span></span>
<a href="l324"></a><span id="l324"><span class="comment">/*</span>
<a href="l325"></a><span id="l325">  def timeMutableVectorLike(reps: Int) = repeat(reps) {</span>
<a href="l326"></a><span id="l326">    object HighPerformanceStrategy extends MutableVectorLikeStrategy[BaseToken] with BaseTokenF</span>
<a href="l327"></a><span id="l327">    loadXmlS(s, HighPerformanceStrategy)</span>
<a href="l328"></a><span id="l328">  }</span>
<a href="l329"></a><span id="l329"></span>
<a href="l330"></a><span id="l330"></span>
<a href="l331"></a><span id="l331">  def timeQNameAndSpeedPull(reps: Int) = repeat(reps) {</span>
<a href="l332"></a><span id="l332">    loadXmlP(s, QNameAndSpeedierStrategy)</span>
<a href="l333"></a><span id="l333">  }</span>
<a href="l334"></a><span id="l334"></span>
<a href="l335"></a><span id="l335">  def timeJAXPParseDeferred(reps: Int) = repeat(reps) {</span>
<a href="l336"></a><span id="l336">    DefaultDOMFactoryPool.loan{ x =&gt; </span>
<a href="l337"></a><span id="l337">      x.setFeature(&quot;http://apache.org/xml/features/dom/defer-node-expansion&quot;,</span>
<a href="l338"></a><span id="l338">                    true);</span>
<a href="l339"></a><span id="l339">      x.newDocumentBuilder.parse(new StringReader(s)) }</span>
<a href="l340"></a><span id="l340">  }</span>
<a href="l341"></a><span id="l341"></span>
<a href="l342"></a><span id="l342">  def timeJAXPParseFully(reps: Int) = repeat(reps) {</span>
<a href="l343"></a><span id="l343">    DefaultDOMFactoryPool.loan{ x =&gt; </span>
<a href="l344"></a><span id="l344">      x.setFeature(&quot;http://apache.org/xml/features/dom/defer-node-expansion&quot;,</span>
<a href="l345"></a><span id="l345">                    false);</span>
<a href="l346"></a><span id="l346">      x.newDocumentBuilder.parse(new StringReader(s)) }</span>
<a href="l347"></a><span id="l347">  }</span>
<a href="l348"></a><span id="l348"></span>
<a href="l349"></a><span id="l349">  */</span></span>
<a href="l350"></a><span id="l350"></span>
<a href="l351"></a><span id="l351"></span>
<a href="l352"></a><span id="l352">  </span>
<a href="l353"></a><span id="l353"><span class="delimiter">}</span></span>
<a href="l354"></a><span id="l354"></span>
<a href="l355"></a><span id="l355"><span class="keyword">trait</span> <a title="trait RunTest extends java.lang.Object with ScalaObject" id="14040">RunTest</a> <span title="ScalaObject" class="delimiter">{</span></span>
<a href="l356"></a><span id="l356">  <span class="keyword">def</span> <a title="=&gt; Unit" id="97575">waitForTouch</a> <span class="delimiter">{</span></span>
<a href="l357"></a><span id="l357">    <span class="keyword">val</span> <a title="java.io.File" id="97583">f</a> = <span title="java.io.File" class="keyword">new</span> java.io.<span title="java.io.File">File</span><span class="delimiter">(</span><span title="java.lang.String(&quot;./continue.txt&quot;)" class="string">&quot;./continue.txt&quot;</span><span class="delimiter">)</span></span>
<a href="l358"></a><span id="l358">    <a href="#97583" title="java.io.File">f</a>.<span title="()Boolean">createNewFile</span></span>
<a href="l359"></a><span id="l359">    <span class="keyword">val</span> <a title="Long" id="97584">start</a> = <a href="#97583" title="java.io.File">f</a>.<span title="()Long">lastModified</span></span>
<a href="l360"></a><span id="l360">    <span class="keyword">var</span> <a title="Boolean" id="97585">touched</a> = <span title="Boolean(false)" class="keyword">false</span></span>
<a href="l361"></a><span id="l361">    <span title="Unit" class="keyword">while</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#97585" title="Boolean">touched</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l362"></a><span id="l362">      <a href="#97590" title="Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="#97583" title="java.io.File">f</a>.<span title="()Long">lastModified</span> <span title="(x: Long)Boolean">&gt;</span> <a href="#97584" title="Long">start</a><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l363"></a><span id="l363">	<a href="#97585" title="Boolean">touched</a> = <span title="Boolean(true)" class="keyword">true</span></span>
<a href="l364"></a><span id="l364">      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span></span>
<a href="l365"></a><span id="l365">	<span title="object java.lang.Thread">Thread</span>.<span title="(x$1: Long)Unit">sleep</span><span class="delimiter">(</span><span class="int">10</span> <span title="Long(10000L)">*</span> <span class="int">1000</span><span class="delimiter">)</span></span>
<a href="l366"></a><span id="l366">      <span class="delimiter">}</span></span>
<a href="l367"></a><span id="l367">    <span class="delimiter">}</span></span>
<a href="l368"></a><span id="l368">  <span class="delimiter">}</span></span>
<a href="l369"></a><span id="l369"></span>
<a href="l370"></a><span id="l370">  <span class="keyword">def</span> <a title="=&gt; Unit" id="97576">doTest</a> : <span title="Unit">Unit</span></span>
<a href="l371"></a><span id="l371"></span>
<a href="l372"></a><span id="l372">  <span class="keyword">def</span> <a title="(args: Array[String])Unit" id="97577">prepare</a><span class="delimiter">(</span><a title="Array[String]" id="98105">args</a>: <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> : <span title="Unit">Unit</span></span>
<a href="l373"></a><span id="l373"></span>
<a href="l374"></a><span id="l374">  <span class="keyword">def</span> <a title="(args: Array[String])Unit" id="97578">main</a><span class="delimiter">(</span><a title="Array[String]" id="98107">args</a>: <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l375"></a><span id="l375">    <a href="#97577" title="(args: Array[String])Unit">prepare</a><span class="delimiter">(</span><a href="#98107" title="Array[String]">args</a><span class="delimiter">)</span></span>
<a href="l376"></a><span id="l376"></span>
<a href="l377"></a><span id="l377">    <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Start profiling now - update continue.txt when ready to start the run...&quot;)" class="string">&quot;Start profiling now - update continue.txt when ready to start the run...&quot;</span><span class="delimiter">)</span></span>
<a href="l378"></a><span id="l378">    <a href="#97575" title="=&gt; Unit">waitForTouch</a></span>
<a href="l379"></a><span id="l379">    <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Starting Run.....&quot;)" class="string">&quot;Starting Run.....&quot;</span><span class="delimiter">)</span></span>
<a href="l380"></a><span id="l380">    <span class="comment">//p.timeHighPerformance(5)</span></span>
<a href="l381"></a><span id="l381">    <a href="#97576" title="=&gt; Unit">doTest</a></span>
<a href="l382"></a><span id="l382">    <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Run over, get snapshot - update continue.txt to end&quot;)" class="string">&quot;Run over, get snapshot - update continue.txt to end&quot;</span><span class="delimiter">)</span></span>
<a href="l383"></a><span id="l383">    <a href="#97575" title="=&gt; Unit">waitForTouch</a>    </span>
<a href="l384"></a><span id="l384">  <span class="delimiter">}</span></span>
<a href="l385"></a><span id="l385"><span class="delimiter">}</span></span>
<a href="l386"></a><span id="l386"></span>
<a href="l387"></a><span id="l387"><span class="keyword">trait</span> <a title="trait SpecificFileTest extends java.lang.Object with scales.xml.RunTest with ScalaObject" id="14064">SpecificFileTest</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#14040" title="scales.xml.RunTest">RunTest</a> <span class="delimiter">{</span></span>
<a href="l388"></a><span id="l388">  </span>
<a href="l389"></a><span id="l389">  <span class="keyword">val</span> <a title="scales.xml.SpecificFilePerformance" id="98116">p</a> = <span title="scales.xml.SpecificFilePerformance" class="keyword">new</span> <a href="#14058" title="scales.xml.SpecificFilePerformance">SpecificFilePerformance</a><span class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l390"></a><span id="l390"></span>
<a href="l391"></a><span id="l391">  <span class="keyword">def</span> <a title="(args: Array[String])Unit" id="98118">prepare</a><span class="delimiter">(</span><a title="Array[String]" id="98121">args</a>: <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l392"></a><span id="l392">    <span class="keyword">val</span> <a title="scala.io.BufferedSource" id="98123">sor</a> = scala.io.<span title="object scala.io.Source">Source</span>.<span title="(name: String, enc: String)scala.io.BufferedSource">fromFile</span><span class="delimiter">(</span><a href="#98121" title="(i: Int)String">args</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>,<span title="java.lang.String(&quot;UTF-8&quot;)" class="string">&quot;UTF-8&quot;</span><span class="delimiter">)</span></span>
<a href="l393"></a><span id="l393">    <a href="#98116" title="=&gt; scales.xml.SpecificFilePerformance">p</a>.<a href="#94653" title="(x$1: String)Unit">s</a> = <a href="#98123" title="scala.io.BufferedSource">sor</a>.<span title="=&gt; String">mkString</span></span>
<a href="l394"></a><span id="l394">    <a href="#98123" title="scala.io.BufferedSource">sor</a>.<span title="()Unit">close</span></span>
<a href="l395"></a><span id="l395">  <span class="delimiter">}</span></span>
<a href="l396"></a><span id="l396"><span class="delimiter">}</span></span>
<a href="l397"></a><span id="l397"></span>
<a href="l398"></a><span id="l398"><span class="keyword">trait</span> <a title="trait ReconTest extends java.lang.Object with scales.xml.RunTest with ScalaObject" id="13998">ReconTest</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#14040" title="scales.xml.RunTest">RunTest</a> <span class="delimiter">{</span></span>
<a href="l399"></a><span id="l399">  </span>
<a href="l400"></a><span id="l400">  <span class="keyword">val</span> <a title="scales.xml.ParsingPerformanceRecon" id="98287">p</a> = <span title="scales.xml.ParsingPerformanceRecon" class="keyword">new</span> <a href="#13671" title="scales.xml.ParsingPerformanceRecon">ParsingPerformanceRecon</a><span class="delimiter">(</span><span class="delimiter">)</span></span>
<a href="l401"></a><span id="l401"></span>
<a href="l402"></a><span id="l402">  <span class="keyword">val</span> <a title="Int" id="98289">size</a> = <span title="Int(40000)" class="int">40000</span></span>
<a href="l403"></a><span id="l403"></span>
<a href="l404"></a><span id="l404">  <span class="keyword">def</span> <a title="(args: Array[String])Unit" id="98291">prepare</a><span class="delimiter">(</span><a title="Array[String]" id="98294">args</a>: <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span></span>
<a href="l405"></a><span id="l405">    <a href="#98287" title="=&gt; scales.xml.ParsingPerformanceRecon">p</a>.<a href="#96439" title="(x$1: String)Unit">s</a> = <a href="../../../classes.sxr/scales/xml/XmlPrinter.scala.html#12504" title="(xml: Iterator[scales.xml.package.PullType])(implicit serf: scales.xml.SerializerFactory, implicit sxml: scales.xml.package.SerializeableXml[Iterator[scales.xml.package.PullType]])String">asString</a><a href="../../../classes.sxr/scales/xml/XmlPrinter.scala.html#87870" title="=&gt; scales.xml.LSSerializerFactory.type" class="delimiter">(</a><a href="#13705" title="object scales.xml.PerfData">PerfData</a>.<a href="#92375" title="(max: Int)scalaz.EphemeralStream[scales.xml.package.PullType]">reconDoc</a><span title="(e: scalaz.EphemeralStream[scales.xml.package.PullType])Iterable[scales.xml.package.PullType]" class="delimiter">(</span><a href="#98289" title="=&gt; Int">size</a><span class="delimiter">)</span>.<span title="=&gt; Iterator[scales.xml.package.PullType]">iterator</span><span class="delimiter">)</span></span>
<a href="l406"></a><span id="l406">  <span class="delimiter">}</span></span>
<a href="l407"></a><span id="l407"><span class="delimiter">}</span></span>
<a href="l408"></a><span id="l408"></span>
<a href="l409"></a><span id="l409"><span class="keyword">object</span> <a title="object scales.xml.RunHighPerf" id="14005">RunHighPerf</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#13998" title="scales.xml.ReconTest">ReconTest</a> <span class="delimiter">{</span></span>
<a href="l410"></a><span id="l410"></span>
<a href="l411"></a><span id="l411">  <span class="keyword">override</span> <span class="keyword">val</span> <a title="Int" id="98396">size</a> = <span title="Int(53000)" class="int">53000</span></span>
<a href="l412"></a><span id="l412"></span>
<a href="l413"></a><span id="l413">  <span class="keyword">var</span> <a title="scales.xml.DocLike" id="98399">doc</a> : <a href="../../../classes.sxr/scales/xml/XmlTypes.scala.html#12023" title="scales.xml.DocLike">DocLike</a> = _</span>
<a href="l414"></a><span id="l414"></span>
<a href="l415"></a><span id="l415">  <span class="keyword">def</span> <a title="=&gt; Unit" id="98401">doTest</a> <span title="Unit" class="delimiter">{</span></span>
<a href="l416"></a><span id="l416"><span class="comment">//    doc = p.timeQNameAndSpeed(5)</span></span>
<a href="l417"></a><span id="l417">  <span class="delimiter">}</span></span>
<a href="l418"></a><span id="l418"><span class="delimiter">}</span></span>
<a href="l419"></a><span id="l419"><span class="comment">/*</span>
<a href="l420"></a><span id="l420">object RunMemoryOptimised extends ReconTest {</span>
<a href="l421"></a><span id="l421"></span>
<a href="l422"></a><span id="l422">  def doTest {</span>
<a href="l423"></a><span id="l423">    p.timeMemoryAndSpeed(5)</span>
<a href="l424"></a><span id="l424">  }</span>
<a href="l425"></a><span id="l425">}</span>
<a href="l426"></a><span id="l426"></span>
<a href="l427"></a><span id="l427">object RunDeferred extends ReconTest {</span>
<a href="l428"></a><span id="l428"></span>
<a href="l429"></a><span id="l429">  override val size = 60000</span>
<a href="l430"></a><span id="l430"></span>
<a href="l431"></a><span id="l431">  def doTest {</span>
<a href="l432"></a><span id="l432">    p.timeJAXPParseDeferred(5)</span>
<a href="l433"></a><span id="l433">  }</span>
<a href="l434"></a><span id="l434">}</span>
<a href="l435"></a><span id="l435"></span>
<a href="l436"></a><span id="l436">object RunNonDeferred extends ReconTest {</span>
<a href="l437"></a><span id="l437"></span>
<a href="l438"></a><span id="l438">  def doTest {</span>
<a href="l439"></a><span id="l439">    p.timeJAXPParseFully(5)</span>
<a href="l440"></a><span id="l440">  }</span>
<a href="l441"></a><span id="l441">}</span>
<a href="l442"></a><span id="l442">*/</span></span>
<a href="l443"></a><span id="l443"><span class="keyword">object</span> <a title="object scales.xml.RunPullCollect" id="14035">RunPullCollect</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#13998" title="scales.xml.ReconTest">ReconTest</a> <span class="delimiter">{</span></span>
<a href="l444"></a><span id="l444"></span>
<a href="l445"></a><span id="l445">  <span class="keyword">var</span> <a title="scales.xml.Recon" id="98408">res</a> : <a href="#96433" title="scales.xml.Recon">Recon</a> = _</span>
<a href="l446"></a><span id="l446"></span>
<a href="l447"></a><span id="l447">  <span class="keyword">override</span> <span class="keyword">val</span> <a title="Int" id="98410">size</a> = <span title="Int(40000)" class="int">40000</span></span>
<a href="l448"></a><span id="l448"></span>
<a href="l449"></a><span id="l449">  <span class="keyword">def</span> <a title="=&gt; Unit" id="98412">doTest</a> <span title="Unit" class="delimiter">{</span></span>
<a href="l450"></a><span id="l450">    <span class="comment">//res = p.timePullCollect(5)</span></span>
<a href="l451"></a><span id="l451">  <span class="delimiter">}</span></span>
<a href="l452"></a><span id="l452"><span class="delimiter">}</span></span>
<a href="l453"></a><span id="l453"></span>
<a href="l454"></a><span id="l454"><span class="keyword">object</span> <a title="object scales.xml.RunParseCollect" id="14017">RunParseCollect</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#13998" title="scales.xml.ReconTest">ReconTest</a> <span class="delimiter">{</span></span>
<a href="l455"></a><span id="l455"></span>
<a href="l456"></a><span id="l456">  <span class="keyword">var</span> <a title="scales.xml.Recon" id="98419">res</a> : <a href="#96433" title="scales.xml.Recon">Recon</a> = _</span>
<a href="l457"></a><span id="l457"></span>
<a href="l458"></a><span id="l458">  <span class="keyword">override</span> <span class="keyword">val</span> <a title="Int" id="98421">size</a> = <span title="Int(40000)" class="int">40000</span></span>
<a href="l459"></a><span id="l459"></span>
<a href="l460"></a><span id="l460">  <span class="keyword">def</span> <a title="=&gt; Unit" id="98423">doTest</a> <span title="Unit" class="delimiter">{</span></span>
<a href="l461"></a><span id="l461"><span class="comment">//    res = p.timeFullParseCollect(5)</span></span>
<a href="l462"></a><span id="l462">  <span class="delimiter">}</span></span>
<a href="l463"></a><span id="l463"><span class="delimiter">}</span></span>
<a href="l464"></a><span id="l464"></span>
<a href="l465"></a><span id="l465"><span class="keyword">object</span> <a title="object scales.xml.RunParseCollectRaw" id="14023">RunParseCollectRaw</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#13998" title="scales.xml.ReconTest">ReconTest</a> <span class="delimiter">{</span></span>
<a href="l466"></a><span id="l466"></span>
<a href="l467"></a><span id="l467">  <span class="keyword">var</span> <a title="scales.xml.Recon" id="98430">res</a> : <a href="#96433" title="scales.xml.Recon">Recon</a> = _</span>
<a href="l468"></a><span id="l468"></span>
<a href="l469"></a><span id="l469">  <span class="keyword">override</span> <span class="keyword">val</span> <a title="Int" id="98432">size</a> = <span title="Int(40000)" class="int">40000</span></span>
<a href="l470"></a><span id="l470"></span>
<a href="l471"></a><span id="l471">  <span class="keyword">def</span> <a title="=&gt; Unit" id="98434">doTest</a> <span title="Unit" class="delimiter">{</span></span>
<a href="l472"></a><span id="l472"><span class="comment">//    res = p.timeFullParseCollectRaw(1)</span></span>
<a href="l473"></a><span id="l473">  <span class="delimiter">}</span></span>
<a href="l474"></a><span id="l474"><span class="delimiter">}</span></span>
<a href="l475"></a><span id="l475"></span>
<a href="l476"></a><span id="l476"><span class="keyword">object</span> <a title="object scales.xml.RunParseDeepRawEager" id="14029">RunParseDeepRawEager</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#13998" title="scales.xml.ReconTest">ReconTest</a> <span class="delimiter">{</span></span>
<a href="l477"></a><span id="l477"></span>
<a href="l478"></a><span id="l478">  <span class="keyword">var</span> <a title="Int" id="98441">res</a> : <span title="Int">Int</span> = _</span>
<a href="l479"></a><span id="l479"></span>
<a href="l480"></a><span id="l480">  <span class="keyword">override</span> <span class="keyword">val</span> <a title="Int" id="98443">size</a> = <span title="Int(40000)" class="int">40000</span></span>
<a href="l481"></a><span id="l481"></span>
<a href="l482"></a><span id="l482">  <span class="keyword">def</span> <a title="=&gt; Unit" id="98445">doTest</a> <span title="Unit" class="delimiter">{</span></span>
<a href="l483"></a><span id="l483"><span class="comment">//    res = p.timeFullParseDRE(1)</span></span>
<a href="l484"></a><span id="l484">  <span class="delimiter">}</span></span>
<a href="l485"></a><span id="l485"><span class="delimiter">}</span></span>
<a href="l486"></a><span id="l486"></span>
<a href="l487"></a><span id="l487"><span class="keyword">object</span> <a title="object scales.xml.RunMemoryOptimisedFile" id="14011">RunMemoryOptimisedFile</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#14064" title="scales.xml.SpecificFileTest">SpecificFileTest</a> <span class="delimiter">{</span></span>
<a href="l488"></a><span id="l488"></span>
<a href="l489"></a><span id="l489">  <span class="keyword">def</span> <a title="=&gt; Unit" id="98451">doTest</a> <span title="Unit" class="delimiter">{</span></span>
<a href="l490"></a><span id="l490">    <span class="comment">//p.timeQNameAndSpeed(2)</span></span>
<a href="l491"></a><span id="l491">  <span class="delimiter">}</span></span>
<a href="l492"></a><span id="l492"><span class="delimiter">}</span></span>
<a href="l493"></a><span id="l493"></span>
<a href="l494"></a><span id="l494">        </span>
</pre>
    </body>
</html>