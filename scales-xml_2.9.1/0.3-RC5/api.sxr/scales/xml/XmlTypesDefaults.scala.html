<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\xml\XmlTypesDefaults.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scales.xml

<span class="keyword">import</span> scala.collection.immutable.Map

<span class="keyword">import</span> scala.collection.generic.CanBuildFrom

<span class="keyword">import</span> scalaz._
<span class="keyword">import</span> <span title="object scalaz.Scalaz">Scalaz</span>._

<span class="keyword">import</span> scales.utils.<span class="delimiter">{</span>ListSet, MapSet, Key, ImmutableArray, EitherLike, LeftLike, Tree<span class="delimiter">}</span>

<span class="keyword">import</span> java.nio.charset.Charset

<span class="comment">/**
 * Needed to help with cyclic issues in multi threaded MODULE$ access, after startup no problem, but we can't gaurantee that.
 */</span> 
<span class="keyword">object</span> <a title="object scales.xml.EqualsHelpers" id="12466">EqualsHelpers</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.Equal[scales.xml.Attribute]" id="91897">aqnameEqual</a> = <span title="(f: (scales.xml.Attribute, scales.xml.Attribute) =&gt; Boolean)scalaz.Equal[scales.xml.Attribute]">equal</span> <span class="delimiter">{</span> <span class="delimiter">(</span>a: <a href="XmlTypes.scala.html#12126" title="scales.xml.Attribute">Attribute</a>, b: <a href="XmlTypes.scala.html#12126" title="scales.xml.Attribute">Attribute</a><span class="delimiter">)</span> =&gt; <a href="#93309" title="scales.xml.Attribute">a</a>.<a href="#91903" title="implicit scales.xml.EqualsHelpers.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a> <a href="QName.scala.html#91880" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#93310" title="scales.xml.Attribute">b</a>.<a href="#91903" title="implicit scales.xml.EqualsHelpers.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a> <span class="delimiter">}</span>
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.Equal[scales.xml.QName]" id="91899">qnameEqual</a> = <span title="(f: (scales.xml.QName, scales.xml.QName) =&gt; Boolean)scalaz.Equal[scales.xml.QName]">equal</span> <span class="delimiter">{</span> <span class="delimiter">(</span>a: <a href="QName.scala.html#12720" title="scales.xml.QName">QName</a>, b: <a href="QName.scala.html#12720" title="scales.xml.QName">QName</a><span class="delimiter">)</span> =&gt; <a href="#93512" title="scales.xml.QName">a</a> <a href="QName.scala.html#91880" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#93513" title="scales.xml.QName">b</a> <span class="delimiter">}</span>
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scales.utils.Equiv[scales.xml.QName]" id="91901">qnameEquiv</a> : <a href="../utils/ListSet.scala.html#10429" title="scales.utils.Equiv[scales.xml.QName]">scales</a>.utils.Equiv<span class="delimiter">[</span>QName<span class="delimiter">]</span> = <a href="#91899" title="scales.utils.Equiv[scales.xml.QName]" class="keyword">new</a> <a href="../utils/ListSet.scala.html#10429" title="scales.utils.Equiv[scales.xml.QName]">scales</a>.utils.Equiv<span class="delimiter">[</span>QName<span class="delimiter">]</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.EqualsHelpers.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName" id="91903">toQName</a><span class="delimiter">(</span><a title="scales.xml.package.AttributeQName" id="93313">attribQName</a>: <a href="../utils/EitherLike.scala.html#10426" title="scales.xml.package.AttributeQName">AttributeQName</a><span class="delimiter">)</span>: <a href="QName.scala.html#12720" title="scales.xml.QName">QName</a> = <a href="#93313" title="scales.xml.package.AttributeQName">attribQName</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scales.xml.QName" class="delimiter">[</span><a href="QName.scala.html#12720" title="scales.xml.QName">QName</a><span class="delimiter">]</span> <span class="comment">// otherwise it blows the stack calling itself</span>
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scales.xml.Attribute =&gt; scales.xml.QName" id="91904">toQNameF</a> = <span class="delimiter">(</span>a: <a href="XmlTypes.scala.html#12126" title="scales.xml.Attribute">Attribute</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span> <a href="#93304" title="scales.xml.Attribute">a</a>.<a href="#91903" title="implicit scales.xml.EqualsHelpers.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a> : <a href="QName.scala.html#12720" title="scales.xml.QName">QName</a> <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait XmlTypesImplicits extends java.lang.Object with ScalaObject" id="13128">XmlTypesImplicits</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlTypesImplicits.toAttrQNameN : (nons: scales.xml.NoNamespaceQName)scales.xml.package.AttributeQName" id="92274">toAttrQNameN</a><span class="delimiter">(</span><a title="scales.xml.NoNamespaceQName" id="95679">nons</a>: <a href="QName.scala.html#12519" title="scales.xml.NoNamespaceQName">NoNamespaceQName</a><span class="delimiter">)</span>: <a href="../utils/EitherLike.scala.html#10426" title="scales.xml.package.AttributeQName">AttributeQName</a> = <a href="#95679" title="scales.xml.NoNamespaceQName">nons</a>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlTypesImplicits.toAttrQNameP : (prens: scales.xml.PrefixedQName)scales.xml.package.AttributeQName" id="92275">toAttrQNameP</a><span class="delimiter">(</span><a title="scales.xml.PrefixedQName" id="95681">prens</a>: <a href="QName.scala.html#12585" title="scales.xml.PrefixedQName">PrefixedQName</a><span class="delimiter">)</span>: <a href="../utils/EitherLike.scala.html#10426" title="scales.xml.package.AttributeQName">AttributeQName</a> = <a href="#95681" title="scales.xml.PrefixedQName">prens</a>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlTypesImplicits.toAttr : (pair: (String, String))(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)scales.xml.Attribute" id="92276">toAttr</a><span class="delimiter">(</span><a title="(String, String)" id="95683">pair</a>: <span title="(String, String)" class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.XmlVersion" id="95684">ver</a>: <a href="Namespaces.scala.html#13146" title="scales.xml.XmlVersion">XmlVersion</a>, <a title="scales.xml.FromParser" id="95685">fromParser</a> : <a href="#12483" title="scales.xml.FromParser">FromParser</a><span class="delimiter">)</span> = <a href="XmlTypes.scala.html#92180" title="(name: scales.xml.package.AttributeQName, value: String)scales.xml.Attribute">Attribute</a><span class="delimiter">(</span><a href="QName.scala.html#92199" title="(locali: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.NoNamespaceQName">NoNamespaceQName</a><span class="delimiter">(</span><a href="#95683" title="(String, String)">pair</a>.<span title="=&gt; String">_1</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#95684" title="scales.xml.XmlVersion">ver</a>, <a href="#95685" title="scales.xml.FromParser">fromParser</a><span class="delimiter">)</span>, <a href="#95683" title="(String, String)">pair</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.Equal[scales.xml.Attribute]" id="92277">aqnameEqual</a> = <a href="#12466" title="object scales.xml.EqualsHelpers">EqualsHelpers</a>.<a href="#91897" title="=&gt; scalaz.Equal[scales.xml.Attribute]">aqnameEqual</a>
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.Equal[scales.xml.QName]" id="92279">qnameEqual</a> = <a href="#12466" title="object scales.xml.EqualsHelpers">EqualsHelpers</a>.<a href="#91899" title="=&gt; scalaz.Equal[scales.xml.QName]">qnameEqual</a>
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scales.xml.Attribute =&gt; scales.xml.QName" id="92281">toQNameF</a> = <a href="#12466" title="object scales.xml.EqualsHelpers">EqualsHelpers</a>.<a href="#91904" title="=&gt; scales.xml.Attribute =&gt; scales.xml.QName">toQNameF</a>
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scales.xml.Attribute =&gt; scales.xml.package.AttributeQName" id="92283">toAQNameF</a> = <span class="delimiter">(</span>a: <a href="XmlTypes.scala.html#12126" title="scales.xml.Attribute">Attribute</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span> <a href="#95689" title="scales.xml.Attribute">a</a>.<a href="XmlTypes.scala.html#92168" title="=&gt; scales.xml.package.AttributeQName">name</a> <span class="delimiter">}</span>
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scales.utils.Equiv[scales.xml.QName]" id="92285">qnameEquiv</a> : <a href="../utils/ListSet.scala.html#10429" title="scales.utils.Equiv[scales.xml.QName]">scales</a>.utils.Equiv<span class="delimiter">[</span>QName<span class="delimiter">]</span> = <a href="#12466" title="object scales.xml.EqualsHelpers">EqualsHelpers</a>.<a href="#91901" title="=&gt; scales.utils.Equiv[scales.xml.QName]">qnameEquiv</a>

  <span class="comment">/**
   * which ever it is, is still a qname
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName" id="92287">toQName</a><span class="delimiter">(</span><a title="scales.xml.package.AttributeQName" id="95690">attribQName</a>: <a href="../utils/EitherLike.scala.html#10426" title="scales.xml.package.AttributeQName">AttributeQName</a><span class="delimiter">)</span>: <a href="QName.scala.html#12720" title="scales.xml.QName">QName</a> = <a href="#12466" title="object scales.xml.EqualsHelpers">EqualsHelpers</a>.<a href="#91903" title="implicit scales.xml.EqualsHelpers.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">toQName</a><span class="delimiter">(</span><a href="#95690" title="scales.xml.package.AttributeQName">attribQName</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Converts AQN -&gt; String into an attribute
   */</span> 
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlTypesImplicits.aqpairToAttribute : (pair: (scales.xml.package.AttributeQName, String))scales.xml.Attribute" id="92288">aqpairToAttribute</a><span class="delimiter">(</span><a title="(scales.xml.package.AttributeQName, String)" id="95692">pair</a> : <span title="(scales.xml.package.AttributeQName, String)" class="delimiter">(</span>AttributeQName, String<span class="delimiter">)</span><span class="delimiter">)</span> = <a href="XmlTypes.scala.html#92180" title="(name: scales.xml.package.AttributeQName, value: String)scales.xml.Attribute">Attribute</a><span class="delimiter">(</span><a href="#95692" title="(scales.xml.package.AttributeQName, String)">pair</a>.<span title="=&gt; scales.xml.package.AttributeQName">_1</span>, <a href="#95692" title="(scales.xml.package.AttributeQName, String)">pair</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span>

  <span class="keyword">import</span> scales.utils._

  <span class="comment">/**
   * Provided for those who don't care about the rest
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlTypesImplicits.docToTree : (doc: scales.xml.Doc)scales.xml.package.XmlTree" id="92290">docToTree</a><span class="delimiter">(</span><a title="scales.xml.Doc" id="95695">doc</a>: <a href="XmlTypes.scala.html#12309" title="scales.xml.Doc">Doc</a><span class="delimiter">)</span>: <a href="../utils/Trees.scala.html#11329" title="scales.xml.package.XmlTree">XmlTree</a> = <a href="#95695" title="scales.xml.Doc">doc</a>.<a href="XmlTypes.scala.html#95420" title="=&gt; scales.xml.package.XmlTree">rootElem</a>

  <span class="comment">/**
   * Default cbf for xml trees
   */</span> 
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scales.xml.package.XmlCBF" id="92291">xmlCBF</a> = <span title="[T](implicit e: T)T">implicitly</span><a href="../utils/ImmutableArray.scala.html#50284" title="(implicit e: scales.xml.package.XmlCBF)scales.xml.package.XmlCBF" class="delimiter">[</a><span title="scales.xml.package.XmlCBF">XmlCBF</span><span class="delimiter">]</span>

  <span class="comment">/**
   * Implicit manifest for sorting positions, big silent cpu eater otherwise, just like the builders.
   */</span> 
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="ClassManifest[(scales.utils.Position[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], scales.xml.package.XmlPath)]" id="92293">xpathSortingClassManifest</a> = <span title="[T](implicit e: T)T">implicitly</span><span title="(implicit e: ClassManifest[(scales.utils.Position[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], scales.xml.package.XmlPath)])ClassManifest[(scales.utils.Position[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], scales.xml.package.XmlPath)]" class="delimiter">[</span><span title="ClassManifest[(scales.utils.Position[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], scales.xml.package.XmlPath)]">ClassManifest</span><span class="delimiter">[</span><span class="delimiter">(</span>scales.utils.Position<span class="delimiter">[</span>XmlItem,Elem,XCC<span class="delimiter">]</span>, XmlPath<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span>

  <span class="comment">/**
   * Defaults to NotFromParser
   */</span> 
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scales.xml.FromParser" id="92295">fromParserDefault</a> : <a href="#12483" title="scales.xml.FromParser">FromParser</a> = <a href="#15201" title="=&gt; scales.xml.package.NotFromParserO.type">NotFromParser</a>

  <span class="keyword">implicit</span> <span class="keyword">object</span> <a title="object XmlTypesImplicits.this.AttributeOrdering" id="92297">AttributeOrdering</a> <span title="ScalaObject" class="keyword">extends</span> <span title="scala.math.Ordering[scales.xml.Attribute]">scala</span>.math.Ordering<span class="delimiter">[</span>Attribute<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(at1: scales.xml.Attribute, at2: scales.xml.Attribute)Int" id="96480">compare</a><span class="delimiter">(</span><a title="scales.xml.Attribute" id="111530">at1</a> : <a href="XmlTypes.scala.html#12126" title="scales.xml.Attribute">Attribute</a>, <a title="scales.xml.Attribute" id="111531">at2</a> : <a href="XmlTypes.scala.html#12126" title="scales.xml.Attribute">Attribute</a><span class="delimiter">)</span> : <span title="Int">Int</span> = <span class="delimiter">{</span>
      <span class="comment">// don't use toQName</span>
      <span class="keyword">val</span> <a title="scales.xml.QName" id="111539">aq1</a> = <a href="#111530" title="scales.xml.Attribute">at1</a>.<a href="#92287" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a> : <a href="QName.scala.html#12720" title="scales.xml.QName">QName</a>
      <span class="keyword">val</span> <a title="scales.xml.QName" id="111540">aq2</a> = <a href="#111531" title="scales.xml.Attribute">at2</a>.<a href="#92287" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a> : <a href="QName.scala.html#12720" title="scales.xml.QName">QName</a>

      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#111539" title="scales.xml.QName">aq1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#111540" title="scales.xml.QName">aq2</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#111539" title="scales.xml.QName">aq1</a> <a href="QName.scala.html#91880" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#111540" title="scales.xml.QName">aq2</a><span class="delimiter">)</span><span class="delimiter">)</span> 
	<span title="Int(0)" class="int">0</span>
      <span class="keyword">else</span> <span class="delimiter">{</span><span class="comment">// do each field seperately no string concats.., don't look at prefix, namespaces are likely shared across docs, so check local first</span>
<span class="comment">//	....</span>
	<span class="keyword">val</span> <a title="Int" id="111589">l</a> = <a href="#111539" title="scales.xml.QName">aq1</a>.<a href="QName.scala.html#91870" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">local</a>.<span title="(other: String)Int">compare</span><span class="delimiter">(</span> <a href="#111540" title="scales.xml.QName">aq2</a>.<a href="QName.scala.html#91870" title="=&gt; String">local</a> <span class="delimiter">)</span>
	<span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#111589" title="Int">l</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
	  <a href="#111539" title="scales.xml.QName">aq1</a>.<a href="QName.scala.html#91871" title="=&gt; scales.xml.UnderlyingNamespace">namespace</a>.<a href="Namespaces.scala.html#91831" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">uri</a>.<span title="(other: String)Int">compare</span><span class="delimiter">(</span> <a href="#111540" title="scales.xml.QName">aq2</a>.<a href="QName.scala.html#91871" title="=&gt; scales.xml.UnderlyingNamespace">namespace</a>.<a href="Namespaces.scala.html#91831" title="=&gt; String">uri</a> <span class="delimiter">)</span>
	<span class="delimiter">}</span> <span class="keyword">else</span> <a href="#111589" title="Int">l</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Only used for lookups
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlTypesImplicits.toAttrS : (local: String)(implicit ver: scales.xml.XmlVersion)scales.xml.Attribute" id="92299">toAttrS</a><span class="delimiter">(</span><a title="String" id="95697">local</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.XmlVersion" id="95698">ver</a>: <a href="Namespaces.scala.html#13146" title="scales.xml.XmlVersion">XmlVersion</a><span class="delimiter">)</span>: <a href="XmlTypes.scala.html#12126" title="scales.xml.Attribute">Attribute</a> = <a href="XmlTypes.scala.html#92180" title="(name: scales.xml.package.AttributeQName, value: String)scales.xml.Attribute">Attribute</a><span class="delimiter">(</span><a href="#92274" title="implicit scales.xml.XmlTypesImplicits.toAttrQNameN : (nons: scales.xml.NoNamespaceQName)scales.xml.package.AttributeQName">toAttrQNameN</a><span class="delimiter">(</span><a href="QName.scala.html#92199" title="(locali: String)(implicit ver: scales.xml.XmlVersion, implicit fromParser: scales.xml.FromParser)java.lang.Object with scales.xml.NoNamespaceQName">NoNamespaceQName</a><a href="#95698" title="scales.xml.XmlVersion" class="delimiter">(</a><a href="#95697" title="String">local</a><span class="delimiter">)</span><span class="delimiter">)</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>

  <span class="comment">/* we don't know if its a CanHavePrefix and we don't care as the prefix we add will be ignored
  implicit val toAttrQ = (nons: QName) =&gt; 
    Attribute(PrefixedQName(nons.local, nons.namespace.prefixed(&quot;f&quot;)(Xml10,IsFromParser))(Xml10,IsFromParser), &quot;&quot;)
*/</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlTypesImplicits.toAttrKS : (local: String)(implicit ver: scales.xml.XmlVersion)scales.utils.Key[scales.xml.Attribute]" id="92300">toAttrKS</a><span class="delimiter">(</span><a title="String" id="95700">local</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.XmlVersion" id="95701">ver</a>: <a href="Namespaces.scala.html#13146" title="scales.xml.XmlVersion">XmlVersion</a><span class="delimiter">)</span>: <a href="../utils/MapSet.scala.html#10918" title="scales.utils.Key[scales.xml.Attribute]">Key</a><span class="delimiter">[</span>Attribute<span class="delimiter">]</span> = <span title="scales.xml.AttributeKey" class="keyword">new</span> <a href="#12129" title="scales.xml.AttributeKey">AttributeKey</a><span class="delimiter">(</span><a href="#95700" title="String">local</a>, <a href="Namespaces.scala.html#12295" title="object scales.xml.Default">Default</a>.<a href="Namespaces.scala.html#92117" title="=&gt; scales.xml.EmptyNamespace.type">noNamespace</a>.<a href="Namespaces.scala.html#92014" title="=&gt; java.lang.String(&quot;&quot;)">uri</a><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.XmlTypesImplicits.toAttrKQ : (q: scales.xml.QName)scales.utils.Key[scales.xml.Attribute]" id="92301">toAttrKQ</a><span class="delimiter">(</span><a title="scales.xml.QName" id="95703">q</a> : <a href="QName.scala.html#12720" title="scales.xml.QName">QName</a><span class="delimiter">)</span> : <a href="../utils/MapSet.scala.html#10918" title="scales.utils.Key[scales.xml.Attribute]">Key</a><span class="delimiter">[</span>Attribute<span class="delimiter">]</span> =
    <span title="scales.xml.AttributeKey" class="keyword">new</span> <a href="#12129" title="scales.xml.AttributeKey">AttributeKey</a><span class="delimiter">(</span><a href="#95703" title="scales.xml.QName">q</a>.<a href="QName.scala.html#91870" title="=&gt; String">local</a>, <a href="#95703" title="scales.xml.QName">q</a>.<a href="QName.scala.html#91871" title="=&gt; scales.xml.UnderlyingNamespace">namespace</a>.<a href="Namespaces.scala.html#91831" title="=&gt; String">uri</a><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scales.xml.Attribute =&gt; scales.xml.AttributeKey" id="92302">toAttrK</a> = <span class="delimiter">(</span>a : <a href="XmlTypes.scala.html#12126" title="scales.xml.Attribute">Attribute</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scales.xml.QName" id="96400">q</a> = <a href="#96399" title="scales.xml.Attribute">a</a>.<a href="#92287" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">name</a> : <a href="QName.scala.html#12720" title="scales.xml.QName">QName</a>
    <span title="scales.xml.AttributeKey" class="keyword">new</span> <a href="#12129" title="scales.xml.AttributeKey">AttributeKey</a><span class="delimiter">(</span><a href="#96400" title="scales.xml.QName">q</a>.<a href="QName.scala.html#91870" title="=&gt; String">local</a>, <a href="#96400" title="scales.xml.QName">q</a>.<a href="QName.scala.html#91871" title="=&gt; scales.xml.UnderlyingNamespace">namespace</a>.<a href="Namespaces.scala.html#91831" title="=&gt; String">uri</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">// localName to avoid implicits</span>
<span class="keyword">class</span> <a title="class AttributeKey extends java.lang.Object with scales.utils.Key[scales.xml.Attribute] with ScalaObject" id="12129">AttributeKey</a><a href="#12129" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="96513">localName</a> : <span title="String">String</span>, <span class="keyword">val</span> <a title="String" id="96514">ns</a> : <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../utils/MapSet.scala.html#10918" title="scales.utils.Key[scales.xml.Attribute]">Key</a><span class="delimiter">[</span>Attribute<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="96511">equals</a><span class="delimiter">(</span> <a title="Any" id="111731">other</a> : <span title="Any">Any</span> <span class="delimiter">)</span> = <a href="#111731" title="Any">other</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="Boolean" id="111734">o</a> : <a href="#12129" title="scales.xml.AttributeKey">AttributeKey</a> =&gt; 
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#111734" title="scales.xml.AttributeKey">o</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#12129" title="scales.xml.AttributeKey" class="keyword">this</a><span class="delimiter">)</span> <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">else</span>
      <span class="delimiter">(</span><a href="#96513" title="=&gt; String">localName</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#111734" title="scales.xml.AttributeKey">o</a>.<a href="#96513" title="=&gt; String">localName</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#96514" title="=&gt; String">ns</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#111734" title="scales.xml.AttributeKey">o</a>.<a href="#96514" title="=&gt; String">ns</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="96512">hashCode</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="Int">Int</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="111744">hs</a> = <span title="Int(1)" class="int">1</span>
    <a href="#111744" title="Int">hs</a> = <span class="delimiter">(</span><a href="#111744" title="Int">hs</a> <span title="(x: Int)Int">*</span> <span title="Int(31)" class="int">31</span><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <a href="#96513" title="=&gt; String">localName</a>.<span title="()Int">hashCode</span>
    <a href="#111744" title="Int">hs</a> = <span class="delimiter">(</span><a href="#111744" title="Int">hs</a> <span title="(x: Int)Int">*</span> <span title="Int(31)" class="int">31</span><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <a href="#96514" title="=&gt; String">ns</a>.<span title="()Int">hashCode</span>
    <a href="#111744" title="Int">hs</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object scales.xml.ExtraTypesImplicits" id="12475">ExtraTypesImplicits</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scales.xml.package.AttributeQName =&gt; scales.xml.Attribute" id="112130">toAttrN</a> = <span class="delimiter">(</span>nons: <a href="../utils/EitherLike.scala.html#10426" title="scales.xml.package.AttributeQName">AttributeQName</a><span class="delimiter">)</span> =&gt; <a href="XmlTypes.scala.html#92180" title="(name: scales.xml.package.AttributeQName, value: String)scales.xml.Attribute">Attribute</a><span class="delimiter">(</span><a href="#112135" title="scales.xml.package.AttributeQName">nons</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.ExtraTypesImplicits.toAttrKAQ : (aq: scales.xml.package.AttributeQName)scales.utils.Key[scales.xml.Attribute]" id="112132">toAttrKAQ</a><span class="delimiter">(</span><a title="scales.xml.package.AttributeQName" id="112136">aq</a> : <a href="../utils/EitherLike.scala.html#10426" title="scales.xml.package.AttributeQName">AttributeQName</a><span class="delimiter">)</span> : <a href="../utils/MapSet.scala.html#10918" title="scales.utils.Key[scales.xml.Attribute]">Key</a><span class="delimiter">[</span>Attribute<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scales.xml.QName" id="112138">q</a> = <a href="#112136" title="scales.xml.package.AttributeQName">aq</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scales.xml.QName" class="delimiter">[</span><a href="QName.scala.html#12720" title="scales.xml.QName">QName</a><span class="delimiter">]</span>
    <span title="scales.xml.AttributeKey" class="keyword">new</span> <a href="#12129" title="scales.xml.AttributeKey">AttributeKey</a><span class="delimiter">(</span><a href="#112138" title="scales.xml.QName">q</a>.<a href="QName.scala.html#91870" title="=&gt; String">local</a>, <a href="#112138" title="scales.xml.QName">q</a>.<a href="QName.scala.html#91871" title="=&gt; scales.xml.UnderlyingNamespace">namespace</a>.<a href="Namespaces.scala.html#91831" title="=&gt; String">uri</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * Simple constructor for Attributes
 */</span> 
<span class="keyword">object</span> <a title="object scales.xml.Attribs" id="12121">Attribs</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(attribs: scales.xml.Attribute*)scales.xml.package.Attributes" id="112140">apply</a><span class="delimiter">(</span> <a title="scales.xml.Attribute*" id="112142">attribs</a> : <span title="scales.xml.Attribute*">Attribute</span> * <span class="delimiter">)</span> : <a href="../utils/ListSet.scala.html#10948" title="scales.xml.package.Attributes">Attributes</a> = <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#12466" title="object scales.xml.EqualsHelpers">EqualsHelpers</a>._
    <a href="../utils/ListSet.scala.html#74029" title="[A](a: A*)(implicit evidence$2: scalaz.Equal[A])scales.utils.ListSet[A]">ListSet</a><span title="(a: scales.xml.Attribute*)(implicit evidence$2: scalaz.Equal[scales.xml.Attribute])scales.utils.ListSet[scales.xml.Attribute]" class="delimiter">[</span><a href="XmlTypes.scala.html#12126" title="scales.xml.Attribute">Attribute</a><span class="delimiter">]</span><a href="#91897" title="=&gt; scalaz.Equal[scales.xml.Attribute]" class="delimiter">(</a><a href="#112142" title="scales.xml.Attribute*">attribs</a> :_*<span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait FromParser extends java.lang.Object" id="12483">FromParser</a>

<span class="keyword">trait</span> <a title="trait XmlTypes extends java.lang.Object with ScalaObject" id="13113">XmlTypes</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="keyword">import</span> <a href="#12466" title="object scales.xml.EqualsHelpers">EqualsHelpers</a>._

  <span class="keyword">private</span><span class="delimiter">[</span>xml<span class="delimiter">]</span> case <span class="keyword">object</span> <a href="#112157" title="object XmlTypes.this.IsFromParser" id="112160">IsFromParser</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12483" title="scales.xml.FromParser">FromParser</a>

  <span class="keyword">private</span><span class="delimiter">[</span>xml<span class="delimiter">]</span> case <span class="keyword">object</span> <a href="#112168" title="object XmlTypes.this.NotFromParserO" id="112171">NotFromParserO</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12483" title="scales.xml.FromParser">FromParser</a>
  <span class="keyword">private</span><span class="delimiter">[</span>xml<span class="delimiter">]</span> <span class="keyword">val</span> <a title="XmlTypes.this.NotFromParserO.type" id="15201">NotFromParser</a> = <a href="#112171" title="object XmlTypes.this.NotFromParserO">NotFromParserO</a> 

  <span class="keyword">import</span> scales.utils.<span class="delimiter">{</span> Tree, ItemOrTree, subtree, item, top, noPath =&gt; fno, Path, TreeCBF, ImmutableArrayProxy <span class="delimiter">}</span>

  <span class="keyword">type</span> <a title="scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="15204">XmlCBF</a> = <span title="scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">TreeCBF</span><span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span>

  <span class="keyword">type</span> <a title="scales.utils.EitherLike[scales.xml.PrefixedQName,scales.xml.NoNamespaceQName]" id="15205">AttributeQName</a> = <a href="../utils/EitherLike.scala.html#10426" title="scales.utils.EitherLike[scales.xml.PrefixedQName,scales.xml.NoNamespaceQName]">EitherLike</a><span class="delimiter">[</span>PrefixedQName, NoNamespaceQName<span class="delimiter">]</span>

  <span class="keyword">type</span> <a title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="15206">XmlTree</a> = <a href="../utils/Trees.scala.html#11329" title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Tree</a><span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span>
  <span class="keyword">type</span> <a title="scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="15207">ItemOrElem</a> = <a href="../utils/EitherLike.scala.html#10426" title="scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">ItemOrTree</a><span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span>

  <span class="keyword">type</span> <a title="XmlTypes.this.XCC[XmlTypes.this.ItemOrElem]" id="15208">XmlChildren</a> = <a href="../utils/ImmutableArray.scala.html#10525" title="XmlTypes.this.XCC[XmlTypes.this.ItemOrElem]">XCC</a><span class="delimiter">[</span>ItemOrElem<span class="delimiter">]</span>

  <span class="keyword">type</span> <a title="[T]scales.utils.ImmutableArrayProxy[T]" id="15209">XCC</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="15210">T</a><span class="delimiter">]</span> = <a href="../utils/ImmutableArray.scala.html#10525" title="scales.utils.ImmutableArrayProxy[T]">ImmutableArrayProxy</a><span class="delimiter">[</span>T<span class="delimiter">]</span>

  <span class="keyword">type</span> <a title="Either[scales.xml.Comment,scales.xml.PI]" id="15211">Misc</a> = <span title="Either[scales.xml.Comment,scales.xml.PI]">Either</span><span class="delimiter">[</span>Comment, PI<span class="delimiter">]</span>
  <span class="keyword">type</span> <a title="Seq[XmlTypes.this.Misc]" id="15212">Miscs</a> = <span title="Seq[XmlTypes.this.Misc]">Seq</span><span class="delimiter">[</span>Misc<span class="delimiter">]</span>

  <span class="keyword">type</span> <a title="scales.utils.ListSet[scales.xml.Attribute]" id="15213">Attributes</a> = <a href="../utils/ListSet.scala.html#10948" title="scales.utils.ListSet[scales.xml.Attribute]">ListSet</a><span class="delimiter">[</span>Attribute<span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="List[Either[scales.xml.Comment,scales.xml.PI]]" id="15214">emptyMiscs</a> = List<span class="delimiter">[</span>Misc<span class="delimiter">]</span><span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="scales.utils.ListSet[scales.xml.Attribute]" id="15216">emptyAttributes</a> = <a href="../utils/ListSet.scala.html#10949" title="object scales.utils.ListSet">ListSet</a>.<a href="../utils/ListSet.scala.html#74026" title="[A](implicit evidence$1: scalaz.Equal[A])scales.utils.ListSet[A]">empty</a><a href="#91897" title="(implicit evidence$1: scalaz.Equal[scales.xml.Attribute])scales.utils.ListSet[scales.xml.Attribute]" class="delimiter">[</a><a href="XmlTypes.scala.html#12126" title="scales.xml.Attribute">Attribute</a><span class="delimiter">]</span>
  <span class="keyword">val</span> <a title="scala.collection.immutable.Map[String,String]" id="15218">emptyNamespaces</a>: <span title="scala.collection.immutable.Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (String, String)*)scala.collection.immutable.Map[String,String]" class="delimiter">[</span><span title="String">String</span>, <span title="String">String</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="Int" id="15220">emptyAttributesHash</a> = <a href="#15216" title="=&gt; scales.utils.ListSet[scales.xml.Attribute]">emptyAttributes</a>.<span title="()Int">hashCode</span>
  <span class="keyword">val</span> <a title="Int" id="15222">emptyNamespacesHash</a> = <a href="#15218" title="=&gt; scala.collection.immutable.Map[String,String]">emptyNamespaces</a>.<span title="()Int">hashCode</span>

  <span class="keyword">val</span> <a title="scales.utils.ImmutableArrayProxy[scales.utils.EitherLike[scales.xml.XmlItem,scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]" id="15224">emptyChildren</a> = <a href="../utils/ImmutableArray.scala.html#10526" title="[A](elems: A*)scales.utils.ImmutableArrayProxy[A]">ImmutableArrayProxy</a><span title="(elems: XmlTypes.this.ItemOrElem*)scales.utils.ImmutableArrayProxy[XmlTypes.this.ItemOrElem]" class="delimiter">[</span><a href="../utils/EitherLike.scala.html#10426" title="XmlTypes.this.ItemOrElem">ItemOrElem</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Use to signify a &quot;null object&quot;, tree/path shouldn't work like this its a smell
   */</span>
  <span class="keyword">val</span> <a title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="15226">noXmlPath</a> = <a href="../utils/PathFunctions.scala.html#14985" title="[Item &lt;: scales.utils.LeftLike[Item,scales.utils.Tree[Item,Section,CC]], Section, CC[X] &lt;: scala.collection.IndexedSeqLike[X,CC[X]]](implicit cbf: scales.utils.package.TreeCBF[Item,Section,CC])scales.utils.Path[Item,Section,CC]">fno</a><a href="../utils/ImmutableArray.scala.html#50284" title="(implicit cbf: scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" class="delimiter">[</a><a href="XmlTypes.scala.html#12912" title="scales.xml.XmlItem">XmlItem</a>, <a href="XmlTypes.scala.html#12423" title="scales.xml.Elem">Elem</a>, <a href="../utils/ImmutableArray.scala.html#10525" title="XmlTypes.this.XCC">XCC</a><span class="delimiter">]</span>

  <span class="keyword">type</span> <a title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="15228">XmlPath</a> = <a href="../utils/Paths.scala.html#11083" title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Path</a><span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span>

  <span class="comment">/**
   * Will match if the QNames are the same =:= and if the attributes are present (not requiring that these are the only attributes).
   * What is returned is either a Seq of attribute values or a simple boolean
   */</span>
  <span class="keyword">def</span> <a title="(name: scales.xml.QName, attributes: XmlTypes.this.AttributeQName*)java.lang.Object{def matchAttribs(elem: scales.xml.Elem): Seq[scales.xml.Attribute]; def unapply(elem: scales.xml.Elem): Option[(scales.xml.Elem, List[scales.xml.Attribute])]}" id="15229">ElemMatcher</a><span class="delimiter">(</span><a title="scales.xml.QName" id="112174">name</a>: <a href="QName.scala.html#12720" title="scales.xml.QName">QName</a>, <a title="XmlTypes.this.AttributeQName*" id="112175">attributes</a>: <span title="XmlTypes.this.AttributeQName*">AttributeQName</span>*<span class="delimiter">)</span> = <a href="#112178" title="java.lang.Object{def matchAttribs(elem: scales.xml.Elem): Seq[scales.xml.Attribute]; def unapply(elem: scales.xml.Elem): Option[(scales.xml.Elem, List[scales.xml.Attribute])]}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object" id="112178" class="delimiter">{</a>
    <span class="keyword">import</span> <a href="#12475" title="object scales.xml.ExtraTypesImplicits">ExtraTypesImplicits</a>._

    <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)Seq[scales.xml.Attribute]" id="112181">matchAttribs</a><span class="delimiter">(</span><a title="scales.xml.Elem" id="112183">elem</a>: <a href="XmlTypes.scala.html#12423" title="scales.xml.Elem">Elem</a><span class="delimiter">)</span> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="XmlTypes.this.AttributeQName" id="112200">attribute</a> &lt;- <a href="#112175" title="(f: XmlTypes.this.AttributeQName =&gt; scala.collection.GenTraversableOnce[scales.xml.Attribute])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[XmlTypes.this.AttributeQName],scales.xml.Attribute,Seq[scales.xml.Attribute]])Seq[scales.xml.Attribute]">attributes</a>; <a title="scales.xml.Attribute" id="112287">matches</a> &lt;- <a href="#112183" title="scales.xml.Elem">elem</a>.<a href="../utils/ListSet.scala.html#74057" title="(b: XmlTypes.this.AttributeQName)(implicit equiv: scales.utils.Equiv[scales.xml.QName], implicit viewA: scales.xml.Attribute =&gt; scales.xml.QName, implicit viewB: XmlTypes.this.AttributeQName =&gt; scales.xml.QName)Option[scales.xml.Attribute]">attributes</a><a href="#91901" title="(f: scales.xml.Attribute =&gt; scales.xml.Attribute)Option[scales.xml.Attribute]" class="delimiter">(</a><a href="#112200" title="XmlTypes.this.AttributeQName">attribute</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#112287" title="scales.xml.Attribute">matches</a>

    <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)Option[(scales.xml.Elem, List[scales.xml.Attribute])]" id="112182">unapply</a><span class="delimiter">(</span><a title="scales.xml.Elem" id="112372">elem</a>: <a href="XmlTypes.scala.html#12423" title="scales.xml.Elem">Elem</a><span class="delimiter">)</span>: <span title="Option[(scales.xml.Elem, List[scales.xml.Attribute])]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>Elem, List<span class="delimiter">[</span>Attribute<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Seq[scales.xml.Attribute]" id="112374">matched</a> = <a href="#112181" title="(elem: scales.xml.Elem)Seq[scales.xml.Attribute]">matchAttribs</a><span class="delimiter">(</span><a href="#112372" title="scales.xml.Elem">elem</a><span class="delimiter">)</span>
      <span title="Option[(scales.xml.Elem, List[scales.xml.Attribute])]" class="keyword">if</span> <span class="delimiter">(</span><a href="#112372" title="scales.xml.Elem">elem</a>.<a href="XmlTypes.scala.html#92250" title="=&gt; scales.xml.QName">name</a> <a href="QName.scala.html#91880" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#112174" title="scales.xml.QName">name</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#112374" title="Seq[scales.xml.Attribute]">matched</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#112175" title="XmlTypes.this.AttributeQName*">attributes</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
        <span title="(x: (scales.xml.Elem, List[scales.xml.Attribute]))Some[(scales.xml.Elem, List[scales.xml.Attribute])]">Some</span><span class="delimiter">(</span><span title="(_1: scales.xml.Elem, _2: List[scales.xml.Attribute])(scales.xml.Elem, List[scales.xml.Attribute])" class="delimiter">(</span><a href="#112372" title="scales.xml.Elem">elem</a>, <a href="#112374" title="Seq[scales.xml.Attribute]">matched</a>.<span title="=&gt; List[scales.xml.Attribute]">toList</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <span title="object None">None</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(path: XmlTypes.this.XmlPath, elem: scales.xml.Elem, dchildren: XmlTypes.this.XmlChildren)scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="15230">addAndFocus</a><span class="delimiter">(</span><a title="XmlTypes.this.XmlPath" id="93700">path</a>: <a href="../utils/Paths.scala.html#11083" title="XmlTypes.this.XmlPath">XmlPath</a>, <a title="scales.xml.Elem" id="93701">elem</a>: <a href="XmlTypes.scala.html#12423" title="scales.xml.Elem">Elem</a>, <a title="XmlTypes.this.XmlChildren" id="93705">dchildren</a> : <a href="../utils/ImmutableArray.scala.html#10525" title="XmlTypes.this.XmlChildren">XmlChildren</a> = <a href="#15224" title="=&gt; scales.utils.ImmutableArrayProxy[scales.utils.EitherLike[scales.xml.XmlItem,scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">emptyChildren</a><span class="delimiter">)</span> =
    <span class="comment">// start it off</span>
    <span title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" class="keyword">if</span> <span class="delimiter">(</span><a href="#93700" title="XmlTypes.this.XmlPath">path</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#15226" title="=&gt; scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">noXmlPath</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../utils/PathFunctions.scala.html#15069" title="(tree: scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])(implicit cbf: scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">top</a><a href="../utils/ImmutableArray.scala.html#50284" title="(implicit ma: ClassManifest[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]])scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[_],scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]]" class="delimiter">(</a><a href="../utils/Trees.scala.html#83335" title="(section: scales.xml.Elem, children: XmlTypes.this.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]])scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Tree</a><span class="delimiter">(</span>
        <a href="#93701" title="scales.xml.Elem">elem</a>, <a href="#93705" title="XmlTypes.this.XmlChildren">dchildren</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="comment">// using a Function1 causes 2% of the cost for init alone</span>
      
      <span class="comment">// cache it here as we are going to fudge the path</span>
      <span class="keyword">val</span> <a title="XmlTypes.this.ItemOrElem" id="93839">n</a> : <a href="../utils/EitherLike.scala.html#10426" title="XmlTypes.this.ItemOrElem">ItemOrElem</a> = <a href="../utils/package.scala.html#14835" title="(section: scales.xml.Elem, children: XmlTypes.this.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]])(implicit cbf: scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">subtree</a><a href="../utils/ImmutableArray.scala.html#50284" title="(implicit ma: ClassManifest[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]])scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[_],scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]]" class="delimiter">(</a><a href="#93701" title="scales.xml.Elem">elem</a>, <a href="#93705" title="XmlTypes.this.XmlChildren">dchildren</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="93840">size</a> = <span title="Int(0)" class="int">0</span>

      <span class="keyword">import</span> <a href="#93700" title="XmlTypes.this.XmlPath">path</a>.<a href="../utils/Paths.scala.html#43420" title="=&gt; scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">node</a>.focus
      <span class="keyword">val</span> <a title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="93842">parent</a> = <a href="../utils/Paths.scala.html#83177" title="=&gt; scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">focus</a>.<a href="../utils/EitherLike.scala.html#43469" title="=&gt; scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">getRight</a>
      <span class="keyword">val</span> <a title="XmlTypes.this.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]" id="93843">c</a> = <a href="#93842" title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">parent</a>.<a href="../utils/Trees.scala.html#83001" title="=&gt; XmlTypes.this.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]">children</a>
      <a href="#93840" title="Int">size</a> = <a href="#93843" title="XmlTypes.this.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]">c</a>.<span title="=&gt; Int">length</span>
      
      <span class="comment">// add a child, focus on it</span>
      <span class="keyword">val</span> <a title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="93844">tpath</a> = <a href="../utils/Paths.scala.html#83132" title="(top: scales.utils.EitherLike[scales.utils.Top[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]], node: scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])(implicit cbf: scala.collection.generic.CanBuildFrom[XmlTypes.this.XCC[_],scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],XmlTypes.this.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]])scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Path</a><a href="../utils/ImmutableArray.scala.html#50284" title="(implicit ma: ClassManifest[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]])scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[_],scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]]" class="delimiter">(</a> <a href="#93700" title="XmlTypes.this.XmlPath">path</a>.<a href="../utils/Paths.scala.html#43418" title="=&gt; scales.utils.EitherLike[scales.utils.Top[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]">top</a>, 
		       scales.utils.<a href="../utils/Paths.scala.html#83166" title="(index: Int, focus: scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Node</a><span class="delimiter">(</span> <a href="#93700" title="XmlTypes.this.XmlPath">path</a>.<a href="../utils/Paths.scala.html#43420" title="=&gt; scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">node</a>.<a href="../utils/Paths.scala.html#83175" title="=&gt; Int">index</a>, 
			    <a href="../utils/Trees.scala.html#83335" title="(section: scales.xml.Elem, children: XmlTypes.this.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]])scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Tree</a><span class="delimiter">(</span><a href="#93842" title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">parent</a>.<a href="../utils/Trees.scala.html#82999" title="=&gt; scales.xml.Elem">section</a>,
				       <a href="#93843" title="XmlTypes.this.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]">c</a> <a href="../utils/ImmutableArray.scala.html#50284" title="(elem: scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]],scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]])scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]">:+</a> <a href="#93839" title="XmlTypes.this.ItemOrElem">n</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span>

      <span class="comment">// drill down to last child</span>
      <a href="../utils/Paths.scala.html#83132" title="(top: scales.utils.EitherLike[scales.utils.Top[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]], node: scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])(implicit cbf: scala.collection.generic.CanBuildFrom[XmlTypes.this.XCC[_],scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],XmlTypes.this.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]])scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Path</a><a href="../utils/ImmutableArray.scala.html#50284" title="(implicit ma: ClassManifest[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]])scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[_],scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]]" class="delimiter">(</a><a href="#93844" title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">tpath</a>, scales.utils.<a href="../utils/Paths.scala.html#83166" title="(index: Int, focus: scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Node</a><span class="delimiter">(</span><a href="#93840" title="Int">size</a>, <a href="#93839" title="XmlTypes.this.ItemOrElem">n</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(path: XmlTypes.this.XmlPath, child: scales.xml.XmlItem)scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="15231">addChild</a><span class="delimiter">(</span><a title="XmlTypes.this.XmlPath" id="94458">path</a>: <a href="../utils/Paths.scala.html#11083" title="XmlTypes.this.XmlPath">XmlPath</a>, <a title="scales.xml.XmlItem" id="94459">child</a>: <a href="XmlTypes.scala.html#12912" title="scales.xml.XmlItem">XmlItem</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#94458" title="XmlTypes.this.XmlPath">path</a>.<a href="../utils/Paths.scala.html#43420" title="=&gt; scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">node</a>.focus
    <span class="keyword">val</span> <a title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" id="94463">parent</a> = <a href="../utils/Paths.scala.html#83177" title="=&gt; scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">focus</a>.<a href="../utils/EitherLike.scala.html#43469" title="=&gt; scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">getRight</a>
    <a href="../utils/Paths.scala.html#83132" title="(top: scales.utils.EitherLike[scales.utils.Top[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]], node: scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])(implicit cbf: scala.collection.generic.CanBuildFrom[XmlTypes.this.XCC[_],scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],XmlTypes.this.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]])scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Path</a><a href="../utils/ImmutableArray.scala.html#50284" title="(implicit ma: ClassManifest[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]])scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[_],scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]]" class="delimiter">(</a> <a href="#94458" title="XmlTypes.this.XmlPath">path</a>.<a href="../utils/Paths.scala.html#43418" title="=&gt; scales.utils.EitherLike[scales.utils.Top[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]">top</a>, 
	       scales.utils.<a href="../utils/Paths.scala.html#83166" title="(index: Int, focus: scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Node</a><span class="delimiter">(</span> <a href="#94458" title="XmlTypes.this.XmlPath">path</a>.<a href="../utils/Paths.scala.html#43420" title="=&gt; scales.utils.Node[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">node</a>.<a href="../utils/Paths.scala.html#83175" title="=&gt; Int">index</a>,
		     <a href="../utils/Trees.scala.html#83335" title="(section: scales.xml.Elem, children: XmlTypes.this.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]])scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">Tree</a><span class="delimiter">(</span><a href="#94463" title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">parent</a>.<a href="../utils/Trees.scala.html#82999" title="=&gt; scales.xml.Elem">section</a>,
        <a href="#94463" title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]">parent</a>.<a href="../utils/Trees.scala.html#83001" title="=&gt; XmlTypes.this.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]">children</a> <a href="../utils/ImmutableArray.scala.html#50284" title="(elem: scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC])(implicit bf: scala.collection.generic.CanBuildFrom[scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]],scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC],scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]])scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]]">:+</a> <a href="../utils/package.scala.html#14828" title="[Item &lt;: scales.utils.LeftLike[Item,scales.utils.Tree[Item,Section,CC]], Section, CC[X] &lt;: scala.collection.IndexedSeqLike[X,CC[X]]](item: Item)scales.utils.package.ItemOrTree[Item,Section,CC]">item</a><span title="(item: scales.xml.XmlItem)scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,XmlTypes.this.XCC]" class="delimiter">[</span><a href="XmlTypes.scala.html#12912" title="scales.xml.XmlItem">XmlItem</a>, <a href="XmlTypes.scala.html#12423" title="scales.xml.Elem">Elem</a>, <a href="../utils/ImmutableArray.scala.html#10525" title="XmlTypes.this.XCC">XCC</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#94459" title="scales.xml.XmlItem">child</a><span class="delimiter">)</span><span class="delimiter">)</span>
			       <span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>


        </pre>
    </body>
</html>