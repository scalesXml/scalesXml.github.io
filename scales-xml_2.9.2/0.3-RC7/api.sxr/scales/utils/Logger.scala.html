<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\utils\Logger.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scales.utils

<span class="comment">/**
 * Very simple logger, matches scala more.  Each function returns true if the message would be logged.
 * 
 * Each function takes an optional second parameter of a throwable.
 * 
 * Implementations need only implement the log function.
 */</span>
<span class="keyword">trait</span> <a title="trait Logger extends java.lang.Object with ScalaObject" id="11008">Logger</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(msg: =&gt; String, throwable: =&gt; Throwable)Boolean" id="82047">trace</a><span class="delimiter">(</span><a title="=&gt; String" id="82060">msg</a>: =&gt; String, <a title="=&gt; Throwable" id="82061">throwable</a>: =&gt; Throwable<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82057" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82464" title="object scales.utils.Trace">Trace</a>, <a href="#82060" title="=&gt; String">msg</a>, <span title="(x: Throwable)Some[Throwable]">Some</span><span class="delimiter">(</span><a href="#82061" title="=&gt; Throwable">throwable</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String, throwable: =&gt; Throwable)Boolean" id="82048">debug</a><span class="delimiter">(</span><a title="=&gt; String" id="82072">msg</a>: =&gt; String, <a title="=&gt; Throwable" id="82073">throwable</a>: =&gt; Throwable<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82057" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82476" title="object scales.utils.Debug">Debug</a>, <a href="#82072" title="=&gt; String">msg</a>, <span title="(x: Throwable)Some[Throwable]">Some</span><span class="delimiter">(</span><a href="#82073" title="=&gt; Throwable">throwable</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String, throwable: =&gt; Throwable)Boolean" id="82049">info</a><span class="delimiter">(</span><a title="=&gt; String" id="82079">msg</a>: =&gt; String, <a title="=&gt; Throwable" id="82080">throwable</a>: =&gt; Throwable<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82057" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82488" title="object scales.utils.Info">Info</a>, <a href="#82079" title="=&gt; String">msg</a>, <span title="(x: Throwable)Some[Throwable]">Some</span><span class="delimiter">(</span><a href="#82080" title="=&gt; Throwable">throwable</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String, throwable: =&gt; Throwable)Boolean" id="82050">warn</a><span class="delimiter">(</span><a title="=&gt; String" id="82086">msg</a>: =&gt; String, <a title="=&gt; Throwable" id="82087">throwable</a>: =&gt; Throwable<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82057" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82500" title="object scales.utils.Warn">Warn</a>, <a href="#82086" title="=&gt; String">msg</a>, <span title="(x: Throwable)Some[Throwable]">Some</span><span class="delimiter">(</span><a href="#82087" title="=&gt; Throwable">throwable</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String, throwable: =&gt; Throwable)Boolean" id="82051">error</a><span class="delimiter">(</span><a title="=&gt; String" id="82093">msg</a>: =&gt; String, <a title="=&gt; Throwable" id="82094">throwable</a>: =&gt; Throwable<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82057" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82512" title="object scales.utils.Error">Error</a>, <a href="#82093" title="=&gt; String">msg</a>, <span title="(x: Throwable)Some[Throwable]">Some</span><span class="delimiter">(</span><a href="#82094" title="=&gt; Throwable">throwable</a><span class="delimiter">)</span><span class="delimiter">)</span>
 
  <span class="keyword">def</span> <a title="(msg: =&gt; String)Boolean" id="82052">trace</a><span class="delimiter">(</span><a title="=&gt; String" id="82100">msg</a>: =&gt; String<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82057" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82464" title="object scales.utils.Trace">Trace</a>, <a href="#82100" title="=&gt; String">msg</a>, <span title="object None">None</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String)Boolean" id="82053">debug</a><span class="delimiter">(</span><a title="=&gt; String" id="82102">msg</a>: =&gt; String<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82057" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82476" title="object scales.utils.Debug">Debug</a>, <a href="#82102" title="=&gt; String">msg</a>, <span title="object None">None</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String)Boolean" id="82054">info</a><span class="delimiter">(</span><a title="=&gt; String" id="82104">msg</a>: =&gt; String<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82057" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82488" title="object scales.utils.Info">Info</a>, <a href="#82104" title="=&gt; String">msg</a>, <span title="object None">None</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String)Boolean" id="82055">warn</a><span class="delimiter">(</span><a title="=&gt; String" id="82106">msg</a>: =&gt; String<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82057" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82500" title="object scales.utils.Warn">Warn</a>, <a href="#82106" title="=&gt; String">msg</a>, <span title="object None">None</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String)Boolean" id="82056">error</a><span class="delimiter">(</span><a title="=&gt; String" id="82108">msg</a>: =&gt; String<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82057" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82512" title="object scales.utils.Error">Error</a>, <a href="#82108" title="=&gt; String">msg</a>, <span title="object None">None</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Special one, logs against some specific logging level.  Wouldn't recommend using it,
   * just use a special named logger instead.
   */</span>
  <span class="keyword">def</span> <a title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean" id="82057">log</a><span class="delimiter">(</span><a title="scales.utils.LogLevel" id="82063">level</a>: <a href="#11017" title="scales.utils.LogLevel">LogLevel</a>, <a title="=&gt; String" id="82064">msg</a>: =&gt; String, <a title="=&gt; Option[Throwable]" id="82067">throwable</a>: =&gt; <span title="Option[Throwable]">Option</span><span class="delimiter">[</span>Throwable<span class="delimiter">]</span> = <span title="object None">None</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Simple trait for logging.
 */</span>
<span class="keyword">trait</span> <a title="trait Logs extends java.lang.Object with ScalaObject" id="11023">Logs</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">protected</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scales.utils.Slf4jLogger" id="82113">log</a> = <a href="#11015" title="object scales.utils.Loggers">Loggers</a>.<a href="#82117" title="(clazz: Class[?0])scales.utils.Slf4jLogger">logger</a><span class="delimiter">(</span><a href="#11023" title="Logs.this.type" class="keyword">this</a>.<span title="()java.lang.Class[_]">getClass</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Simple loglevel marker trait
 */</span>
<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait LogLevel extends java.lang.Object" id="11017">LogLevel</a>
case <span class="keyword">object</span> <a href="#82459" title="object scales.utils.Trace" id="82464">Trace</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11017" title="scales.utils.LogLevel">LogLevel</a>
case <span class="keyword">object</span> <a href="#82471" title="object scales.utils.Debug" id="82476">Debug</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11017" title="scales.utils.LogLevel">LogLevel</a>
case <span class="keyword">object</span> <a href="#82483" title="object scales.utils.Info" id="82488">Info</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11017" title="scales.utils.LogLevel">LogLevel</a>
case <span class="keyword">object</span> <a href="#82495" title="object scales.utils.Warn" id="82500">Warn</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11017" title="scales.utils.LogLevel">LogLevel</a>
case <span class="keyword">object</span> <a href="#82507" title="object scales.utils.Error" id="82512">Error</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11017" title="scales.utils.LogLevel">LogLevel</a>

<span class="comment">/**
 * Default implementation of a logger, for some reaason if its not
 * excluded (via private) or we change the type to no longer inherit
 * from logger we get a java.lang.UnsupportedOperationException: Position.Point
 * exception
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>utils<span class="delimiter">]</span> <span class="keyword">class</span> <a title="class Slf4jLogger extends java.lang.Object with scales.utils.Logger with ScalaObject" id="11287">Slf4jLogger</a><a href="#11287" title="ScalaObject" class="delimiter">(</a><a title="org.slf4j.Logger" id="82132">logger</a> : org.slf4j.<span title="org.slf4j.Logger">Logger</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11008" title="scales.utils.Logger">Logger</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean" id="82131">log</a><span class="delimiter">(</span><a title="scales.utils.LogLevel" id="82515">level</a>: <a href="#11017" title="scales.utils.LogLevel">LogLevel</a>, <a title="=&gt; String" id="82516">msg</a>: =&gt; String, <a title="=&gt; Option[Throwable]" id="82517">throwable</a>: =&gt; Option<span class="delimiter">[</span>Throwable<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <a href="#82515" title="scales.utils.LogLevel">level</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#82464" title="Boolean">Trace</a> =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#82132" title="org.slf4j.Logger">logger</a>.<span title="()Boolean">isTraceEnabled</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span><span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#82517" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#82132" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">trace</span><span class="delimiter">(</span><a href="#82516" title="=&gt; String">msg</a>, <a href="#82517" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Throwable">get</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#82132" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">trace</span><span class="delimiter">(</span><a href="#82516" title="=&gt; String">msg</a><span class="delimiter">)</span>; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">}</span> <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">case</span> <a href="#82476" title="Boolean">Debug</a> =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#82132" title="org.slf4j.Logger">logger</a>.<span title="()Boolean">isDebugEnabled</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span><span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#82517" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#82132" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">debug</span><span class="delimiter">(</span><a href="#82516" title="=&gt; String">msg</a>, <a href="#82517" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Throwable">get</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#82132" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">debug</span><span class="delimiter">(</span><a href="#82516" title="=&gt; String">msg</a><span class="delimiter">)</span>; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">}</span> <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">case</span> <a href="#82488" title="Boolean">Info</a> =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#82132" title="org.slf4j.Logger">logger</a>.<span title="()Boolean">isInfoEnabled</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span><span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#82517" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#82132" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">info</span><span class="delimiter">(</span><a href="#82516" title="=&gt; String">msg</a>, <a href="#82517" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Throwable">get</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#82132" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">info</span><span class="delimiter">(</span><a href="#82516" title="=&gt; String">msg</a><span class="delimiter">)</span>; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">}</span> <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">case</span> <a href="#82500" title="Boolean">Warn</a> =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#82132" title="org.slf4j.Logger">logger</a>.<span title="()Boolean">isWarnEnabled</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span><span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#82517" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#82132" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">warn</span><span class="delimiter">(</span><a href="#82516" title="=&gt; String">msg</a>, <a href="#82517" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Throwable">get</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#82132" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">warn</span><span class="delimiter">(</span><a href="#82516" title="=&gt; String">msg</a><span class="delimiter">)</span>; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">}</span> <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">case</span> <a href="#82512" title="Boolean">Error</a> =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#82132" title="org.slf4j.Logger">logger</a>.<span title="()Boolean">isErrorEnabled</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span><span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#82517" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#82132" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">error</span><span class="delimiter">(</span><a href="#82516" title="=&gt; String">msg</a>, <a href="#82517" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Throwable">get</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#82132" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">error</span><span class="delimiter">(</span><a href="#82516" title="=&gt; String">msg</a><span class="delimiter">)</span>; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">}</span> <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Contains the logic for getting a logger
 */</span>
<span class="keyword">object</span> <a title="object scales.utils.Loggers" id="11015">Loggers</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[T](clazz: Class[T])scales.utils.Slf4jLogger" id="82117">logger</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="82119">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Class[T]" id="82428">clazz</a>: <span title="Class[T]">Class</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="scales.utils.Slf4jLogger" class="keyword">new</span> <a href="#11287" title="scales.utils.Slf4jLogger">Slf4jLogger</a><span class="delimiter">(</span>org.slf4j.<span title="object org.slf4j.LoggerFactory">LoggerFactory</span>.<span title="(x$1: java.lang.Class[_])org.slf4j.Logger">getLogger</span><span class="delimiter">(</span><a href="#82428" title="Class[T]">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[T](category: String)scales.utils.Slf4jLogger" id="82120">logger</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="82122">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="82125">category</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="scales.utils.Slf4jLogger" class="keyword">new</span> <a href="#11287" title="scales.utils.Slf4jLogger">Slf4jLogger</a><span class="delimiter">(</span>org.slf4j.<span title="object org.slf4j.LoggerFactory">LoggerFactory</span>.<span title="(x$1: java.lang.String)org.slf4j.Logger">getLogger</span><span class="delimiter">(</span><a href="#82125" title="String">category</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>