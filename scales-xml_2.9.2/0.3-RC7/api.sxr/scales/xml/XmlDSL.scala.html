<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\xml\XmlDSL.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scales.xml

<span class="keyword">import</span> scales.utils._

<span class="keyword">import</span> <a href="ScalesXml.scala.html#12815" title="object scales.xml.ScalesXml">ScalesXml</a>.xmlCBF

<span class="keyword">import</span> <a href="ScalesXml.scala.html#12815" title="object scales.xml.ScalesXml">ScalesXml</a>.fromParserDefault <span class="comment">// note cannot be in parser here</span>

<span class="keyword">trait</span> <a title="trait DslImplicits extends java.lang.Object with ScalaObject" id="12400">DslImplicits</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">import</span> <a href="ScalesXml.scala.html#12815" title="object scales.xml.ScalesXml">ScalesXml</a>._
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromElemToBuilder : (elem: scales.xml.Elem)scales.xml.DslBuilder" id="93021">fromElemToBuilder</a><span class="delimiter">(</span><a title="scales.xml.Elem" id="96880">elem</a> : <a href="XmlTypes.scala.html#12439" title="scales.xml.Elem">Elem</a><span class="delimiter">)</span> = <a href="#96812" title="(elem: scales.xml.Elem)scales.xml.DslBuilder">&lt;</a><span class="delimiter">(</span><a href="#96880" title="scales.xml.Elem">elem</a><span class="delimiter">)</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromQNamePairToAttribute : (pair: (scales.xml.PrefixedQName, String))scales.xml.Attribute" id="93022">fromQNamePairToAttribute</a><span class="delimiter">(</span><a title="(scales.xml.PrefixedQName, String)" id="96877">pair</a> : <span title="(scales.xml.PrefixedQName, String)" class="delimiter">(</span>PrefixedQName, String<span class="delimiter">)</span><span class="delimiter">)</span> = <a href="XmlTypes.scala.html#92874" title="(name: scales.xml.package.AttributeQName, value: String)scales.xml.Attribute">Attribute</a><span class="delimiter">(</span><a href="#96877" title="(scales.xml.PrefixedQName, String)">pair</a>.<span title="=&gt; scales.xml.PrefixedQName">_1</span>, <a href="#96877" title="(scales.xml.PrefixedQName, String)">pair</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromDslBuilderToTree : (dslB: scales.xml.DslBuilder)scales.xml.package.XmlTree" id="93023">fromDslBuilderToTree</a><span class="delimiter">(</span><a title="scales.xml.DslBuilder" id="96871">dslB</a> : <a href="#12382" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">)</span> = <a href="#96871" title="scales.xml.DslBuilder">dslB</a>.<a href="#96785" title="=&gt; scales.xml.package.XmlTree">toTree</a>
  
  <span class="comment">/**
   * Only works for elems, allows simpler definitions
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromQNameToTree : (qname: scales.xml.QName)scales.xml.package.XmlTree" id="93024">fromQNameToTree</a><span class="delimiter">(</span> <a title="scales.xml.QName" id="96859">qname</a> : <a href="QName.scala.html#12751" title="scales.xml.QName">QName</a><span class="delimiter">)</span> = <a href="#12383" title="object scales.xml.DslBuilder">DslBuilder</a>.<a href="#96755" title="(qname: scales.xml.QName)scales.xml.package.XmlTree">q2tree</a><span class="delimiter">(</span><a href="#96859" title="scales.xml.QName">qname</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Serialisation and other dsl friends benefit from this
   */</span> 
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromElemToTree : (elem: scales.xml.Elem)scales.xml.package.XmlTree" id="93025">fromElemToTree</a><span class="delimiter">(</span> <a title="scales.xml.Elem" id="96857">elem</a> : <a href="XmlTypes.scala.html#12439" title="scales.xml.Elem">Elem</a> <span class="delimiter">)</span> : <a href="../utils/Trees.scala.html#11329" title="scales.xml.package.XmlTree">XmlTree</a> = <a href="#12383" title="object scales.xml.DslBuilder">DslBuilder</a>.<a href="#96754" title="(elem: scales.xml.Elem)scales.xml.package.XmlTree">elem2tree</a><span class="delimiter">(</span><a href="#96857" title="scales.xml.Elem">elem</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Allows direct use of text where expected
   */</span> 
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromStringToText : (value: String)scales.xml.Text" id="93026">fromStringToText</a><span class="delimiter">(</span> <a title="String" id="96855">value</a> : <span title="String">String</span> <span class="delimiter">)</span>: <a href="XmlTypes.scala.html#12829" title="scales.xml.Text">Text</a> = <a href="XmlTypes.scala.html#98449" title="(value: String)scales.xml.Text">Text</a><span class="delimiter">(</span><a href="#96855" title="String">value</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Only works for elems, allows simpler definitions.  Not sure of its usefulness outside of tests though
  implicit def fromQNameToItemOrTree( qname : QName) : ItemOrElem = DslBuilder.q2tree(qname)//Right()
   */</span>

  <span class="comment">/**
   * Only works for elems, better looking than &lt;
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromQNameToBuilder : (qname: scales.xml.QName)scales.xml.DslBuilder" id="93027">fromQNameToBuilder</a><span class="delimiter">(</span> <a title="scales.xml.QName" id="96807">qname</a> : <a href="QName.scala.html#12751" title="scales.xml.QName">QName</a><span class="delimiter">)</span> = <a href="#96811" title="(qname: scales.xml.QName)scales.xml.DslBuilder">&lt;</a><span class="delimiter">(</span><a href="#96807" title="scales.xml.QName">qname</a><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class QNameMatcher extends java.lang.Object with ScalaObject" id="93028">QNameMatcher</a><a href="#93028" title="ScalaObject" class="delimiter">(</a><a title="scales.xml.QName" id="102684">qname</a> : <a href="QName.scala.html#12751" title="scales.xml.QName">QName</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="ScalesXml.scala.html#12815" title="object scales.xml.ScalesXml">ScalesXml</a>._
    <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)Option[scales.xml.Elem]" id="102680">unapply</a><span class="delimiter">(</span> <a title="scales.xml.Elem" id="102685">elem</a> : <a href="XmlTypes.scala.html#12439" title="scales.xml.Elem">Elem</a> <span class="delimiter">)</span> : <span title="Option[scales.xml.Elem]">Option</span><span class="delimiter">[</span>Elem<span class="delimiter">]</span> = <span title="Option[scales.xml.Elem]" class="keyword">if</span> <span class="delimiter">(</span><a href="#102685" title="scales.xml.Elem">elem</a>.<a href="XmlTypes.scala.html#92944" title="=&gt; scales.xml.QName">name</a> <a href="QName.scala.html#92543" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#102684" title="scales.xml.QName">qname</a><span class="delimiter">)</span> <span title="(x: scales.xml.Elem)Some[scales.xml.Elem]">Some</span><span class="delimiter">(</span><a href="#102685" title="scales.xml.Elem">elem</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="object None">None</span>
    <span class="keyword">def</span> <a title="(attrib: scales.xml.Attribute)Option[scales.xml.Attribute]" id="102681">unapply</a><span class="delimiter">(</span> <a title="scales.xml.Attribute" id="102690">attrib</a> : <a href="XmlTypes.scala.html#12136" title="scales.xml.Attribute">Attribute</a> <span class="delimiter">)</span> : <span title="Option[scales.xml.Attribute]">Option</span><span class="delimiter">[</span>Attribute<span class="delimiter">]</span> = <span title="Option[scales.xml.Attribute]" class="keyword">if</span> <span class="delimiter">(</span><a href="XmlTypesDefaults.scala.html#92978" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">toQName</a><span class="delimiter">(</span><a href="#102690" title="scales.xml.Attribute">attrib</a>.<a href="XmlTypes.scala.html#92862" title="=&gt; scales.xml.package.AttributeQName">name</a><span class="delimiter">)</span> <a href="QName.scala.html#92543" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#102684" title="scales.xml.QName">qname</a><span class="delimiter">)</span> <span title="(x: scales.xml.Attribute)Some[scales.xml.Attribute]">Some</span><span class="delimiter">(</span><a href="#102690" title="scales.xml.Attribute">attrib</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="object None">None</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class QNameMPimper extends java.lang.Object with ScalaObject" id="93029">QNameMPimper</a><a href="#93029" title="ScalaObject" class="delimiter">(</a> <a title="scales.xml.QName" id="96806">qname</a> : <a href="QName.scala.html#12751" title="scales.xml.QName">QName</a> <span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; DslImplicits.this.QNameMatcher" id="96804">m</a> = <span title="DslImplicits.this.QNameMatcher" class="keyword">new</span> <a href="#93028" title="DslImplicits.this.QNameMatcher">QNameMatcher</a><span class="delimiter">(</span><a href="#96806" title="scales.xml.QName">qname</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; DslImplicits.this.QNameMatcher" id="96805">matcher</a> = <a href="#96804" title="=&gt; DslImplicits.this.QNameMatcher">m</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * matches elements and attributes based on qname only
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromQNameToQNameMatcher : (qname: scales.xml.QName)DslImplicits.this.QNameMPimper" id="93030">fromQNameToQNameMatcher</a><span class="delimiter">(</span> <a title="scales.xml.QName" id="96798">qname</a> : <a href="QName.scala.html#12751" title="scales.xml.QName">QName</a><span class="delimiter">)</span> = <span title="DslImplicits.this.QNameMPimper" class="keyword">new</span> <a href="#93029" title="DslImplicits.this.QNameMPimper">QNameMPimper</a><span class="delimiter">(</span><a href="#96798" title="scales.xml.QName">qname</a><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromTreeToDsl : (tree: scales.xml.package.XmlTree)scales.xml.DslBuilder" id="93031">fromTreeToDsl</a><span class="delimiter">(</span> <a title="scales.xml.package.XmlTree" id="96750">tree</a>: <a href="../utils/Trees.scala.html#11329" title="scales.xml.package.XmlTree">XmlTree</a> <span class="delimiter">)</span> = <a href="#96757" title="(tree: scales.xml.package.XmlTree)scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#96750" title="scales.xml.package.XmlTree">tree</a><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class NamespaceMatcher extends java.lang.Object with ScalaObject" id="93032">NamespaceMatcher</a><a href="#93032" title="ScalaObject" class="delimiter">(</a><a title="scales.xml.Namespace" id="102711">ns</a> : <a href="Namespaces.scala.html#12520" title="scales.xml.Namespace">Namespace</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="ScalesXml.scala.html#12815" title="object scales.xml.ScalesXml">ScalesXml</a>._
    <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)Option[scales.xml.Elem]" id="102707">unapply</a><span class="delimiter">(</span> <a title="scales.xml.Elem" id="102712">elem</a> : <a href="XmlTypes.scala.html#12439" title="scales.xml.Elem">Elem</a> <span class="delimiter">)</span> : <span title="Option[scales.xml.Elem]">Option</span><span class="delimiter">[</span>Elem<span class="delimiter">]</span> = 
      <span title="Option[scales.xml.Elem]" class="keyword">if</span> <span class="delimiter">(</span><a href="#102712" title="scales.xml.Elem">elem</a>.<a href="XmlTypes.scala.html#92944" title="=&gt; scales.xml.QName">name</a>.<a href="QName.scala.html#92534" title="=&gt; scales.xml.UnderlyingNamespace">namespace</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#102711" title="scales.xml.Namespace">ns</a><span class="delimiter">)</span> <span title="(x: scales.xml.Elem)Some[scales.xml.Elem]">Some</span><span class="delimiter">(</span><a href="#102712" title="scales.xml.Elem">elem</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="object None">None</span>
    <span class="keyword">def</span> <a title="(attrib: scales.xml.Attribute)Option[scales.xml.Attribute]" id="102708">unapply</a><span class="delimiter">(</span> <a title="scales.xml.Attribute" id="102721">attrib</a> : <a href="XmlTypes.scala.html#12136" title="scales.xml.Attribute">Attribute</a> <span class="delimiter">)</span> : <span title="Option[scales.xml.Attribute]">Option</span><span class="delimiter">[</span>Attribute<span class="delimiter">]</span> = 
      <span title="Option[scales.xml.Attribute]" class="keyword">if</span> <span class="delimiter">(</span><a href="XmlTypesDefaults.scala.html#92978" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">toQName</a><span class="delimiter">(</span><a href="#102721" title="scales.xml.Attribute">attrib</a>.<a href="XmlTypes.scala.html#92862" title="=&gt; scales.xml.package.AttributeQName">name</a><span class="delimiter">)</span>.<a href="QName.scala.html#92534" title="=&gt; scales.xml.UnderlyingNamespace">namespace</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#102711" title="scales.xml.Namespace">ns</a><span class="delimiter">)</span> <span title="(x: scales.xml.Attribute)Some[scales.xml.Attribute]">Some</span><span class="delimiter">(</span><a href="#102721" title="scales.xml.Attribute">attrib</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="object None">None</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class NSMPimper extends java.lang.Object with ScalaObject" id="93033">NSMPimper</a><a href="#93033" title="ScalaObject" class="delimiter">(</a> <a title="scales.xml.Namespace" id="96749">ns</a> : <a href="Namespaces.scala.html#12520" title="scales.xml.Namespace">Namespace</a> <span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; DslImplicits.this.NamespaceMatcher" id="96747">m</a> = <span title="DslImplicits.this.NamespaceMatcher" class="keyword">new</span> <a href="#93032" title="DslImplicits.this.NamespaceMatcher">NamespaceMatcher</a><span class="delimiter">(</span><a href="#96749" title="scales.xml.Namespace">ns</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; DslImplicits.this.NamespaceMatcher" id="96748">matcher</a> = <a href="#96747" title="=&gt; DslImplicits.this.NamespaceMatcher">m</a>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromNSToNSMPimper : (ns: scales.xml.Namespace)DslImplicits.this.NSMPimper" id="93034">fromNSToNSMPimper</a><span class="delimiter">(</span> <a title="scales.xml.Namespace" id="96741">ns</a> : <a href="Namespaces.scala.html#12520" title="scales.xml.Namespace">Namespace</a> <span class="delimiter">)</span> = <span title="DslImplicits.this.NSMPimper" class="keyword">new</span> <a href="#93033" title="DslImplicits.this.NSMPimper">NSMPimper</a><span class="delimiter">(</span><a href="#96741" title="scales.xml.Namespace">ns</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait XPathMatcher extends java.lang.Object with ScalaObject" id="13195">XPathMatcher</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="comment">/**
   * Wrap xpaths into matches, gives back the resulting path if its non empty
   */</span> 
  <span class="keyword">def</span> <a title="[T](pathEval: scales.xml.package.XmlTree =&gt; T)(implicit evidence$1: T =&gt; Boolean)scales.utils.package.BooleanMatcher[scales.xml.package.XmlTree,T]" id="102742">pathMatcher</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="15921">T</a> : AsBoolean<span class="delimiter">]</span><span class="delimiter">(</span> <a title="scales.xml.package.XmlTree =&gt; T" id="102741">pathEval</a> : <span class="delimiter">(</span>XmlTree<span class="delimiter">)</span> =&gt; T <span class="delimiter">)</span> = <a href="../utils/AsBoolean.scala.html#15495" title="[X, T](eval: X =&gt; T)(implicit evidence$4: T =&gt; Boolean)scales.utils.package.BooleanMatcher[X,T]">booleanMatcher</a><span title="(eval: scales.xml.package.XmlTree =&gt; T)(implicit evidence$4: T =&gt; Boolean)scales.utils.package.BooleanMatcher[scales.xml.package.XmlTree,T]" class="delimiter">[</span><a href="../utils/Trees.scala.html#11329" title="scales.xml.package.XmlTree">XmlTree</a>, <a href="#15921" title="T">T</a><span class="delimiter">]</span><a href="#102742" title="T =&gt; Boolean" class="delimiter">(</a><a href="#102741" title="scales.xml.package.XmlTree =&gt; T">pathEval</a><span class="delimiter">)</span>

  
  <span class="comment">/**
   * Wrap xpaths into matches, gives back the resulting path if its non empty
   * and the tree that matched it (doesn't force the user to create a val name beforehand)
   */</span> 
  <span class="keyword">def</span> <a title="[T](pathEval: scales.xml.package.XmlTree =&gt; T)(implicit evidence$2: T =&gt; Boolean)scales.utils.package.BooleanAndTMatcher[scales.xml.package.XmlTree,T]" id="102754">pathAndTreeMatcher</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="15924">T</a> : AsBoolean<span class="delimiter">]</span><span class="delimiter">(</span> <a title="scales.xml.package.XmlTree =&gt; T" id="102753">pathEval</a> : <span class="delimiter">(</span>XmlTree<span class="delimiter">)</span> =&gt; T <span class="delimiter">)</span> = <a href="../utils/AsBoolean.scala.html#15500" title="[X, T](eval: X =&gt; T)(implicit evidence$5: T =&gt; Boolean)scales.utils.package.BooleanAndTMatcher[X,T]">booleanAndTMatcher</a><span title="(eval: scales.xml.package.XmlTree =&gt; T)(implicit evidence$5: T =&gt; Boolean)scales.utils.package.BooleanAndTMatcher[scales.xml.package.XmlTree,T]" class="delimiter">[</span><a href="../utils/Trees.scala.html#11329" title="scales.xml.package.XmlTree">XmlTree</a>, <a href="#15924" title="T">T</a><span class="delimiter">]</span><a href="#102754" title="T =&gt; Boolean" class="delimiter">(</a><a href="#102753" title="scales.xml.package.XmlTree =&gt; T">pathEval</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object scales.xml.&lt;" id="12119">&lt;</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(qname: scales.xml.QName)scales.xml.DslBuilder" id="96811">apply</a><span class="delimiter">(</span><a title="scales.xml.QName" id="96826">qname</a> : <a href="QName.scala.html#12751" title="scales.xml.QName">QName</a><span class="delimiter">)</span> = <a href="#96756" title="(elem: scales.xml.Elem)scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="XmlTypes.scala.html#92956" title="(namei: scales.xml.QName, attributesi: scales.xml.package.Attributes, namespacesi: scala.collection.immutable.Map[String,String])(implicit fromParser: scales.xml.FromParser)scales.xml.Elem">Elem</a><a href="XmlTypesDefaults.scala.html#92986" title="=&gt; scales.xml.FromParser" class="delimiter">(</a><a href="#96826" title="scales.xml.QName">qname</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)scales.xml.DslBuilder" id="96812">apply</a><span class="delimiter">(</span><a title="scales.xml.Elem" id="96815">elem</a> : <a href="XmlTypes.scala.html#12439" title="scales.xml.Elem">Elem</a><span class="delimiter">)</span> = <a href="#96756" title="(elem: scales.xml.Elem)scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#96815" title="scales.xml.Elem">elem</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">protected</span><span class="delimiter">[</span>xml<span class="delimiter">]</span> <span class="keyword">object</span> <a title="object scales.xml.DslBuilder" id="12383">DslBuilder</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)scales.xml.package.XmlTree" id="96754">elem2tree</a><span class="delimiter">(</span> <a title="scales.xml.Elem" id="96790">elem</a> : <a href="XmlTypes.scala.html#12439" title="scales.xml.Elem">Elem</a> <span class="delimiter">)</span> : <a href="../utils/Trees.scala.html#11329" title="scales.xml.package.XmlTree">XmlTree</a> = <a href="../utils/package.scala.html#15465" title="[Item &lt;: scales.utils.LeftLike[Item,scales.utils.Tree[Item,Section,CC]], Section, CC[A] &lt;: scala.collection.IndexedSeqLike[A,CC[A]]](section: Section, children: CC[scales.utils.package.ItemOrTree[Item,Section,CC]])(implicit cbf: scales.utils.package.TreeCBF[Item,Section,CC])scales.utils.package.ItemOrTree[Item,Section,CC]">subtree</a><span title="(section: scales.xml.Elem, children: scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]])(implicit cbf: scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" class="delimiter">[</span><a href="XmlTypes.scala.html#12949" title="scales.xml.XmlItem">XmlItem</a>, <a href="XmlTypes.scala.html#12439" title="scales.xml.Elem">Elem</a>, <a href="../utils/ImmutableArray.scala.html#10525" title="scales.xml.package.XCC">XCC</a><span class="delimiter">]</span><a href="XmlTypesDefaults.scala.html#92982" title="=&gt; scales.xml.package.XmlCBF" class="delimiter">(</a><a href="#96790" title="scales.xml.Elem">elem</a>,<a href="XmlTypesDefaults.scala.html#15863" title="=&gt; scales.utils.ImmutableArrayProxy[scales.utils.EitherLike[scales.xml.XmlItem,scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">emptyChildren</a><span class="delimiter">)</span>.<a href="../utils/EitherLike.scala.html#44123" title="=&gt; scales.utils.RightLikeProjection[scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">right</a>.<a href="../utils/EitherLike.scala.html#44103" title="=&gt; scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">get</a>
  <span class="keyword">def</span> <a title="(qname: scales.xml.QName)scales.xml.package.XmlTree" id="96755">q2tree</a><span class="delimiter">(</span> <a title="scales.xml.QName" id="96862">qname</a> : <a href="QName.scala.html#12751" title="scales.xml.QName">QName</a> <span class="delimiter">)</span> = <a href="#96754" title="(elem: scales.xml.Elem)scales.xml.package.XmlTree">elem2tree</a><span class="delimiter">(</span><a href="XmlTypes.scala.html#92956" title="(namei: scales.xml.QName, attributesi: scales.xml.package.Attributes, namespacesi: scala.collection.immutable.Map[String,String])(implicit fromParser: scales.xml.FromParser)scales.xml.Elem">Elem</a><a href="XmlTypesDefaults.scala.html#92986" title="=&gt; scales.xml.FromParser" class="delimiter">(</a><a href="#96862" title="scales.xml.QName">qname</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)scales.xml.DslBuilder" id="96756">apply</a><span class="delimiter">(</span> <a title="scales.xml.Elem" id="96787">elem</a> : <a href="XmlTypes.scala.html#12439" title="scales.xml.Elem">Elem</a> <span class="delimiter">)</span> = <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12382" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#96754" title="(elem: scales.xml.Elem)scales.xml.package.XmlTree">elem2tree</a><span class="delimiter">(</span><a href="#96787" title="scales.xml.Elem">elem</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(tree: scales.xml.package.XmlTree)scales.xml.DslBuilder" id="96757">apply</a><span class="delimiter">(</span> <a title="scales.xml.package.XmlTree" id="96760">tree</a> : <a href="../utils/Trees.scala.html#11329" title="scales.xml.package.XmlTree">XmlTree</a> <span class="delimiter">)</span> = <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12382" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#96760" title="scales.xml.package.XmlTree">tree</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Simple runtime Wrapper around folds
 */</span> 
case <span class="keyword">class</span> <a title="class FoldErrorException extends java.lang.RuntimeException with ScalaObject with Product with Serializable" id="103580">FoldErrorException</a><a href="#103580" title="ScalaObject" class="delimiter">(</a><a title="scales.utils.FoldError" id="103577">error</a> : <a href="../utils/PathFolds.scala.html#10456" title="scales.utils.FoldError">FoldError</a><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="java.lang.RuntimeException">RuntimeException</span>

<span class="comment">/*
 * Must have a starting element, modelled as tree as we need to keep the data around and trees must always have an elem
 */</span>
<span class="keyword">class</span> <a title="class DslBuilder extends java.lang.Object with ScalaObject" id="12382">DslBuilder</a> <a href="#12382" title="ScalaObject" class="keyword">private</a><span class="delimiter">(</span> <a title="scales.xml.package.XmlTree" id="96786">tree</a> : <a href="../utils/Trees.scala.html#11329" title="scales.xml.package.XmlTree">XmlTree</a> <span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="ScalesXml.scala.html#12815" title="object scales.xml.ScalesXml">ScalesXml</a>._
  <span class="comment">/**
   * Add attributes
  */</span> 
  <span class="keyword">def</span> <a title="(attribs: scales.xml.Attribute*)scales.xml.DslBuilder" id="96767">/@</a><span class="delimiter">(</span><a title="scales.xml.Attribute*" id="102834">attribs</a> : <span title="scales.xml.Attribute*">Attribute</span>*<span class="delimiter">)</span> = <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12382" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#96786" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83662" title="(section: scales.xml.Elem, children: scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]])scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">copy</a><span class="delimiter">(</span>section = <a href="#96786" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83654" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#102850" title="scales.xml.QName" id="102934">copy</a> <a href="XmlTypesDefaults.scala.html#92986" title="=&gt; scales.xml.FromParser" class="delimiter">(</a>attributes = <a href="#96786" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83654" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#92945" title="=&gt; scales.xml.package.Attributes">attributes</a> <a href="../utils/ListSet.scala.html#74696" title="scales.utils.ListSet[scales.xml.Attribute]" id="102932">++</a> <a href="#102834" title="scales.xml.Attribute*">attribs</a><span class="delimiter">)</span> <span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Remove attributes
   */</span>
  <span class="keyword">def</span> <a title="(attribs: scales.xml.QName*)scales.xml.DslBuilder" id="96768">-/@</a><span class="delimiter">(</span><a title="scales.xml.QName*" id="102956">attribs</a> : <span title="scales.xml.QName*">QName</span>*<span class="delimiter">)</span> = <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12382" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#96786" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83662" title="(section: scales.xml.Elem, children: scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]])scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">copy</a><span class="delimiter">(</span>section = <a href="#96786" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83654" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#102850" title="scales.xml.QName" id="103067">copy</a> <a href="XmlTypesDefaults.scala.html#92986" title="=&gt; scales.xml.FromParser" class="delimiter">(</a>attributes = <a href="#96786" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83654" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#92945" title="=&gt; scales.xml.package.Attributes">attributes</a> <a href="../utils/ListSet.scala.html#74698" title="scales.utils.ListSet[scales.xml.Attribute]" id="103065">--</a> <a href="#102956" title="scales.xml.QName*">attribs</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  
  <span class="comment">/**
   * Add a number of child elements (as trees).  Via the implicit DslBuilders can then be embedded
  def /( elems : XmlTree * ) : DslBuilder = 
    /(elems)

  def add( elems : XmlTree * ) = /( elems :_* )

  def /( elems : =&gt; Iterable[XmlTree] ) : DslBuilder =
    new DslBuilder( tree.copy( children = (tree.children ++ elems  )))
   */</span>

  <span class="keyword">def</span> <a title="(itemOrElems: scales.xml.package.ItemOrElem*)scales.xml.DslBuilder" id="96769">add</a><span class="delimiter">(</span> <a title="scales.xml.package.ItemOrElem*" id="103082">itemOrElems</a> : <span title="scales.xml.package.ItemOrElem*">ItemOrElem</span> * <span class="delimiter">)</span> = <a href="#96781" title="(itemOrElems: scales.xml.package.ItemOrElem*)scales.xml.DslBuilder">/</a><span class="delimiter">(</span> <a href="#103082" title="scales.xml.package.ItemOrElem*">itemOrElems</a> :_* <span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(itemOrElems: =&gt; Iterable[scales.xml.package.ItemOrElem])scales.xml.DslBuilder" id="96770">/</a><span class="delimiter">(</span> <a title="=&gt; Iterable[scales.xml.package.ItemOrElem]" id="103151">itemOrElems</a> : =&gt; Iterable<span class="delimiter">[</span>ItemOrElem<span class="delimiter">]</span> <span class="delimiter">)</span> : <a href="#12382" title="scales.xml.DslBuilder">DslBuilder</a> =
    <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12382" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#96786" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#91876" title="scales.xml.Elem" id="103208">copy</a><span class="delimiter">(</span> children = <span class="delimiter">(</span><a href="#96786" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83656" title="=&gt; scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">children</a> <a href="XmlTypesDefaults.scala.html#92982" title="scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" id="103207">++</a> <a href="#103151" title="=&gt; Iterable[scales.xml.package.ItemOrElem]">itemOrElems</a>  <span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Fold over the current tree, allows folding deep within a builder.  Either the fold works or `this` is returned with the FoldError.
   */</span> 
  <span class="keyword">def</span> <a title="[T &lt;: Iterable[scales.xml.package.XmlPath]](xpath: scales.xml.package.XmlPath =&gt; scales.xml.XPath[T])(folder: scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])Either[scales.xml.DslBuilder,(scales.xml.DslBuilder, scales.utils.FoldError)]" id="96771">fold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Iterable[scales.xml.package.XmlPath]" id="96773">T</a> &lt;: Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span> <a title="scales.xml.package.XmlPath =&gt; scales.xml.XPath[T]" id="103209">xpath</a> : XmlPath =&gt; XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span> <a title="scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="103210">folder</a>: <span class="delimiter">(</span>XmlPath<span class="delimiter">)</span> =&gt; FoldOperation<span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span> <span class="delimiter">)</span> : <span title="Either[scales.xml.DslBuilder,(scales.xml.DslBuilder, scales.utils.FoldError)]">Either</span><span class="delimiter">[</span>DslBuilder, <span class="delimiter">(</span>DslBuilder, FoldError<span class="delimiter">)</span><span class="delimiter">]</span> = 
    <span class="delimiter">(</span><a href="../utils/PathFunctions.scala.html#15653" title="(locations: Iterable[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]])(folder: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC] =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])(implicit cbf: scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], implicit cm: ClassManifest[(scales.utils.Position[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])])Paths.this.FoldR[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">foldPositions</a><span class="delimiter">(</span> <a href="XmlPaths.scala.html#15901" title="(xpath: scales.xml.XPath[T])Iterable[scales.xml.package.XmlPath]">raw</a><span class="delimiter">(</span> <a href="#103209" title="(v1: scales.xml.package.XmlPath)scales.xml.XPath[T]">xpath</a><span class="delimiter">(</span> <a href="../utils/PathFunctions.scala.html#15708" title="(tree: scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])(implicit cbf: scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">top</a><a href="XmlTypesDefaults.scala.html#92982" title="=&gt; scales.xml.package.XmlCBF" class="delimiter">(</a><a href="#96786" title="scales.xml.package.XmlTree">tree</a><span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">)</span><a href="XmlTypesDefaults.scala.html#92982" title="=&gt; scales.xml.package.XmlCBF" class="delimiter">(</a><a href="#103210" title="scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">folder</a><span class="delimiter">)</span><span class="delimiter">)</span>.
      <span title="(fa: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC] =&gt; Product with Serializable with Either[scales.xml.DslBuilder,(scales.xml.DslBuilder, scales.utils.FoldError)], fb: scales.utils.FoldError =&gt; Product with Serializable with Either[scales.xml.DslBuilder,(scales.xml.DslBuilder, scales.utils.FoldError)])Product with Serializable with Either[scales.xml.DslBuilder,(scales.xml.DslBuilder, scales.utils.FoldError)]">fold</span><span class="delimiter">(</span> <a title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="103328">x</a> =&gt; <span title="(a: scales.xml.DslBuilder)Left[scales.xml.DslBuilder,Nothing]">Left</span><span class="delimiter">(</span><span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12382" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#103328" title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">x</a>.<a href="../utils/Paths.scala.html#44091" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a> <span class="delimiter">)</span><span class="delimiter">)</span>, <a title="scales.utils.FoldError" id="103334">y</a> =&gt; <span title="(b: (scales.xml.DslBuilder, scales.utils.FoldError))Right[Nothing,(scales.xml.DslBuilder, scales.utils.FoldError)]">Right</span><span class="delimiter">(</span><span title="(_1: scales.xml.DslBuilder, _2: scales.utils.FoldError)(scales.xml.DslBuilder, scales.utils.FoldError)" class="delimiter">(</span><a href="#12382" title="scales.xml.DslBuilder" class="keyword">this</a>,<a href="#103334" title="scales.utils.FoldError">y</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span>

  <span class="comment">/**
   * fold_! calls fold but throws the error when its returning a root
   */</span>
  <span class="keyword">def</span> <a title="[T &lt;: Iterable[scales.xml.package.XmlPath]](xpath: scales.xml.package.XmlPath =&gt; scales.xml.XPath[T])(folder: scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])scales.xml.DslBuilder" id="96774">fold_!</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Iterable[scales.xml.package.XmlPath]" id="96776">T</a> &lt;: Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span> <a title="scales.xml.package.XmlPath =&gt; scales.xml.XPath[T]" id="103359">xpath</a> : XmlPath =&gt; XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span> <a title="scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="103360">folder</a>: <span class="delimiter">(</span>XmlPath<span class="delimiter">)</span> =&gt; FoldOperation<span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span> <span class="delimiter">)</span> : <a href="#12382" title="scales.xml.DslBuilder">DslBuilder</a> =
    <span class="delimiter">(</span><a href="#96771" title="(xpath: scales.xml.package.XmlPath =&gt; scales.xml.XPath[T])(folder: scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])Either[scales.xml.DslBuilder,(scales.xml.DslBuilder, scales.utils.FoldError)]">fold</a><span class="delimiter">(</span><a href="#103359" title="scales.xml.package.XmlPath =&gt; scales.xml.XPath[T]">xpath</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#103360" title="scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">folder</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(fa: scales.xml.DslBuilder =&gt; scales.xml.DslBuilder, fb: ((scales.xml.DslBuilder, scales.utils.FoldError)) =&gt; scales.xml.DslBuilder)scales.xml.DslBuilder">fold</span><span class="delimiter">(</span><a href="#103374" title="(x: scales.xml.DslBuilder)scales.xml.DslBuilder">identity</a>, <a title="(scales.xml.DslBuilder, scales.utils.FoldError)" id="103378">x</a> =&gt; <span title="Nothing" class="keyword">throw</span> <span title="scales.xml.FoldErrorException" class="keyword">new</span> <a href="#103580" title="scales.xml.FoldErrorException">FoldErrorException</a><span class="delimiter">(</span><a href="#103378" title="(scales.xml.DslBuilder, scales.utils.FoldError)">x</a>.<span title="=&gt; scales.utils.FoldError">_2</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Does not throw when NoPaths is returned, simply returning this
   */</span> 
  <span class="keyword">def</span> <a title="[T &lt;: Iterable[scales.xml.package.XmlPath]](xpath: scales.xml.package.XmlPath =&gt; scales.xml.XPath[T])(folder: scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])scales.xml.DslBuilder" id="96777">fold_?</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Iterable[scales.xml.package.XmlPath]" id="96779">T</a> &lt;: Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span> <a title="scales.xml.package.XmlPath =&gt; scales.xml.XPath[T]" id="103381">xpath</a> : XmlPath =&gt; XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span> <a title="scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="103382">folder</a>: <span class="delimiter">(</span>XmlPath<span class="delimiter">)</span> =&gt; FoldOperation<span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span> <span class="delimiter">)</span> : <a href="#12382" title="scales.xml.DslBuilder">DslBuilder</a> =
    <span class="delimiter">(</span><a href="#96771" title="(xpath: scales.xml.package.XmlPath =&gt; scales.xml.XPath[T])(folder: scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])Either[scales.xml.DslBuilder,(scales.xml.DslBuilder, scales.utils.FoldError)]">fold</a><span class="delimiter">(</span><a href="#103381" title="scales.xml.package.XmlPath =&gt; scales.xml.XPath[T]">xpath</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#103382" title="scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">folder</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(fa: scales.xml.DslBuilder =&gt; scales.xml.DslBuilder, fb: ((scales.xml.DslBuilder, scales.utils.FoldError)) =&gt; scales.xml.DslBuilder)scales.xml.DslBuilder">fold</span><span class="delimiter">(</span><a href="#103394" title="(x: scales.xml.DslBuilder)scales.xml.DslBuilder">identity</a>, <a title="(scales.xml.DslBuilder, scales.utils.FoldError)" id="103398">x</a> =&gt; 
      <span title="scales.xml.DslBuilder" class="keyword">if</span> <span class="delimiter">(</span><a href="#103398" title="(scales.xml.DslBuilder, scales.utils.FoldError)">x</a>.<span title="=&gt; scales.utils.FoldError">_2</span> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../utils/PathFolds.scala.html#11060" title="object scales.utils.NoPaths">NoPaths</a><span class="delimiter">)</span> 
	<a href="#12382" title="scales.xml.DslBuilder" class="keyword">this</a>
      <span class="keyword">else</span> <span title="Nothing" class="keyword">throw</span> <span title="scales.xml.FoldErrorException" class="keyword">new</span> <a href="#103580" title="scales.xml.FoldErrorException">FoldErrorException</a><span class="delimiter">(</span><a href="#103398" title="(scales.xml.DslBuilder, scales.utils.FoldError)">x</a>.<span title="=&gt; scales.utils.FoldError">_2</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * any qname will do given its elems
   */</span>
  <span class="keyword">def</span> <a title="(qname: scales.xml.QName)scales.xml.DslBuilder" id="96780">-/</a><span class="delimiter">(</span> <a title="scales.xml.QName" id="103401">qname</a> : <a href="QName.scala.html#12751" title="scales.xml.QName">QName</a> <span class="delimiter">)</span> = <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12382" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#96786" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#91876" title="scales.xml.Elem" id="103449">copy</a><span class="delimiter">(</span>children = <a href="#96786" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83656" title="=&gt; scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">children</a>.<span title="(p: scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC] =&gt; Boolean)scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">filterNot</span><a title="scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" id="103448" class="delimiter">{</a>
    <a title="scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="103419">either</a> =&gt;
      <a href="#103419" title="scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">either</a>.<a href="../utils/EitherLike.scala.html#44118" title="(fl: scales.xml.XmlItem =&gt; Boolean, fr: scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC] =&gt; Boolean)Boolean">fold</a><span class="delimiter">(</span> <a title="scales.xml.XmlItem" id="103426">item</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>, <a title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="103428">tree</a> =&gt; <a href="#103428" title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#83654" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#92944" title="=&gt; scales.xml.QName">name</a> <a href="QName.scala.html#92543" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#103401" title="scales.xml.QName">qname</a><span class="delimiter">)</span>
  <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Add a number of xmlITems, text, cdata, comments etc, the two params is to get around /(Seq) erasures.
   */</span>
  <span class="keyword">def</span> <a title="(itemOrElems: scales.xml.package.ItemOrElem*)scales.xml.DslBuilder" id="96781">/</a><span class="delimiter">(</span> <a title="scales.xml.package.ItemOrElem*" id="103089">itemOrElems</a> : <span title="scales.xml.package.ItemOrElem*">ItemOrElem</span> * <span class="delimiter">)</span> = 
    <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12382" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#96786" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#91876" title="scales.xml.Elem" id="103150">copy</a><span class="delimiter">(</span> children = <span class="delimiter">(</span><a href="#96786" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83656" title="=&gt; scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">children</a> <a href="XmlTypesDefaults.scala.html#92982" title="scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" id="103149">++</a> <a href="#103089" title="scales.xml.package.ItemOrElem*">itemOrElems</a> <span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * sets the tree to a single Text node child, replacing all others
   */</span>
  <span class="keyword">def</span> <a title="(value: String)scales.xml.DslBuilder" id="96782">~&gt;</a><span class="delimiter">(</span> <a title="String" id="103450">value</a> : <span title="String">String</span> <span class="delimiter">)</span> = <span class="comment">// note ~&gt; is used not -&gt; as it will then get in the way of the tupler</span>
    <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12382" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#96786" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#91876" title="scales.xml.Elem" id="103523">copy</a><span class="delimiter">(</span>children = <a href="XmlTypesDefaults.scala.html#15863" title="=&gt; scales.utils.ImmutableArrayProxy[scales.utils.EitherLike[scales.xml.XmlItem,scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">emptyChildren</a> <a href="XmlTypesDefaults.scala.html#92982" title="scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" id="103522">:+</a> <a href="../utils/package.scala.html#15458" title="[Item &lt;: scales.utils.LeftLike[Item,scales.utils.Tree[Item,Section,CC]], Section, CC[X] &lt;: scala.collection.IndexedSeqLike[X,CC[X]]](item: Item)scales.utils.package.ItemOrTree[Item,Section,CC]">item</a><span title="(item: scales.xml.XmlItem)scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" class="delimiter">[</span><a href="XmlTypes.scala.html#12949" title="scales.xml.XmlItem">XmlItem</a>, <a href="XmlTypes.scala.html#12439" title="scales.xml.Elem">Elem</a>, <a href="../utils/ImmutableArray.scala.html#10525" title="scales.xml.package.XCC">XCC</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="XmlTypes.scala.html#98449" title="(value: String)scales.xml.Text">Text</a><span class="delimiter">(</span><a href="#103450" title="String">value</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * see ~&gt;
   */</span> 
  <span class="keyword">def</span> <a title="(value: String)scales.xml.DslBuilder" id="96783">setValue</a><span class="delimiter">(</span> <a title="String" id="103524">value</a> : <span title="String">String</span> <span class="delimiter">)</span> = <a href="#96782" title="(value: String)scales.xml.DslBuilder">~&gt;</a><span class="delimiter">(</span><a href="#103524" title="String">value</a><span class="delimiter">)</span>
  
  <span class="comment">/**
   * Cleans out any child text nodes (comments, cdata etc) and just leaves child elements
   */</span>
  <span class="keyword">def</span> <a title="=&gt; scales.xml.DslBuilder" id="96784">elementsOnly</a> = <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12382" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#96786" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#91876" title="scales.xml.Elem" id="103570">copy</a><span class="delimiter">(</span>children = <a href="#96786" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83656" title="=&gt; scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">children</a>.<span title="(p: scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC] =&gt; Boolean)scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">filter</span><a title="scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" id="103569" class="delimiter">(</a> <a href="#103545" title="scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">_</a>.<a href="../utils/EitherLike.scala.html#44118" title="(fl: scales.xml.XmlItem =&gt; Boolean, fr: scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC] =&gt; Boolean)Boolean">fold</a><span class="delimiter">(</span> <a title="scales.xml.XmlItem" id="103552">_</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>, <a title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="103554">_</a> =&gt; <span title="Boolean(true)" class="keyword">true</span> <span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; scales.xml.package.XmlTree" id="96785">toTree</a> = <a href="#96786" title="scales.xml.package.XmlTree">tree</a>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>