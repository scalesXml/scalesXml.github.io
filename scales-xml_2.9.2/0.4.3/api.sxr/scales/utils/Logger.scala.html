<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\utils\Logger.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scales.utils

<span class="comment">/**
 * Very simple logger, matches scala more.  Each function returns true if the message would be logged.
 * 
 * Each function takes an optional second parameter of a throwable.
 * 
 * Implementations need only implement the log function.
 */</span>
<span class="keyword">trait</span> <a title="trait Logger extends java.lang.Object with ScalaObject" id="11013">Logger</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(msg: =&gt; String, throwable: =&gt; Throwable)Boolean" id="82063">trace</a><span class="delimiter">(</span><a title="=&gt; String" id="82076">msg</a>: =&gt; String, <a title="=&gt; Throwable" id="82077">throwable</a>: =&gt; Throwable<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82073" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82496" title="object scales.utils.Trace">Trace</a>, <a href="#82076" title="=&gt; String">msg</a>, <span title="(x: Throwable)Some[Throwable]">Some</span><span class="delimiter">(</span><a href="#82077" title="=&gt; Throwable">throwable</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String, throwable: =&gt; Throwable)Boolean" id="82064">debug</a><span class="delimiter">(</span><a title="=&gt; String" id="82088">msg</a>: =&gt; String, <a title="=&gt; Throwable" id="82089">throwable</a>: =&gt; Throwable<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82073" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82508" title="object scales.utils.Debug">Debug</a>, <a href="#82088" title="=&gt; String">msg</a>, <span title="(x: Throwable)Some[Throwable]">Some</span><span class="delimiter">(</span><a href="#82089" title="=&gt; Throwable">throwable</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String, throwable: =&gt; Throwable)Boolean" id="82065">info</a><span class="delimiter">(</span><a title="=&gt; String" id="82095">msg</a>: =&gt; String, <a title="=&gt; Throwable" id="82096">throwable</a>: =&gt; Throwable<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82073" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82520" title="object scales.utils.Info">Info</a>, <a href="#82095" title="=&gt; String">msg</a>, <span title="(x: Throwable)Some[Throwable]">Some</span><span class="delimiter">(</span><a href="#82096" title="=&gt; Throwable">throwable</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String, throwable: =&gt; Throwable)Boolean" id="82066">warn</a><span class="delimiter">(</span><a title="=&gt; String" id="82102">msg</a>: =&gt; String, <a title="=&gt; Throwable" id="82103">throwable</a>: =&gt; Throwable<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82073" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82532" title="object scales.utils.Warn">Warn</a>, <a href="#82102" title="=&gt; String">msg</a>, <span title="(x: Throwable)Some[Throwable]">Some</span><span class="delimiter">(</span><a href="#82103" title="=&gt; Throwable">throwable</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String, throwable: =&gt; Throwable)Boolean" id="82067">error</a><span class="delimiter">(</span><a title="=&gt; String" id="82109">msg</a>: =&gt; String, <a title="=&gt; Throwable" id="82110">throwable</a>: =&gt; Throwable<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82073" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82544" title="object scales.utils.Error">Error</a>, <a href="#82109" title="=&gt; String">msg</a>, <span title="(x: Throwable)Some[Throwable]">Some</span><span class="delimiter">(</span><a href="#82110" title="=&gt; Throwable">throwable</a><span class="delimiter">)</span><span class="delimiter">)</span>
 
  <span class="keyword">def</span> <a title="(msg: =&gt; String)Boolean" id="82068">trace</a><span class="delimiter">(</span><a title="=&gt; String" id="82116">msg</a>: =&gt; String<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82073" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82496" title="object scales.utils.Trace">Trace</a>, <a href="#82116" title="=&gt; String">msg</a>, <span title="object None">None</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String)Boolean" id="82069">debug</a><span class="delimiter">(</span><a title="=&gt; String" id="82118">msg</a>: =&gt; String<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82073" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82508" title="object scales.utils.Debug">Debug</a>, <a href="#82118" title="=&gt; String">msg</a>, <span title="object None">None</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String)Boolean" id="82070">info</a><span class="delimiter">(</span><a title="=&gt; String" id="82120">msg</a>: =&gt; String<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82073" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82520" title="object scales.utils.Info">Info</a>, <a href="#82120" title="=&gt; String">msg</a>, <span title="object None">None</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String)Boolean" id="82071">warn</a><span class="delimiter">(</span><a title="=&gt; String" id="82122">msg</a>: =&gt; String<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82073" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82532" title="object scales.utils.Warn">Warn</a>, <a href="#82122" title="=&gt; String">msg</a>, <span title="object None">None</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String)Boolean" id="82072">error</a><span class="delimiter">(</span><a title="=&gt; String" id="82124">msg</a>: =&gt; String<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82073" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82544" title="object scales.utils.Error">Error</a>, <a href="#82124" title="=&gt; String">msg</a>, <span title="object None">None</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Special one, logs against some specific logging level.  Wouldn't recommend using it,
   * just use a special named logger instead.
   */</span>
  <span class="keyword">def</span> <a title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean" id="82073">log</a><span class="delimiter">(</span><a title="scales.utils.LogLevel" id="82079">level</a>: <a href="#11022" title="scales.utils.LogLevel">LogLevel</a>, <a title="=&gt; String" id="82080">msg</a>: =&gt; String, <a title="=&gt; Option[Throwable]" id="82083">throwable</a>: =&gt; <span title="Option[Throwable]">Option</span><span class="delimiter">[</span>Throwable<span class="delimiter">]</span> = <span title="object None">None</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Simple trait for logging.
 */</span>
<span class="keyword">trait</span> <a title="trait Logs extends java.lang.Object with ScalaObject" id="11028">Logs</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">protected</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scales.utils.Slf4jLogger" id="82129">log</a> = <a href="#11020" title="object scales.utils.Loggers">Loggers</a>.<a href="#82133" title="(clazz: Class[?0])scales.utils.Slf4jLogger">logger</a><span class="delimiter">(</span><a href="#11028" title="Logs.this.type" class="keyword">this</a>.<span title="()java.lang.Class[_]">getClass</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Simple loglevel marker trait
 */</span>
<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait LogLevel extends java.lang.Object" id="11022">LogLevel</a>
case <span class="keyword">object</span> <a href="#82491" title="object scales.utils.Trace" id="82496">Trace</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11022" title="scales.utils.LogLevel">LogLevel</a>
case <span class="keyword">object</span> <a href="#82503" title="object scales.utils.Debug" id="82508">Debug</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11022" title="scales.utils.LogLevel">LogLevel</a>
case <span class="keyword">object</span> <a href="#82515" title="object scales.utils.Info" id="82520">Info</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11022" title="scales.utils.LogLevel">LogLevel</a>
case <span class="keyword">object</span> <a href="#82527" title="object scales.utils.Warn" id="82532">Warn</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11022" title="scales.utils.LogLevel">LogLevel</a>
case <span class="keyword">object</span> <a href="#82539" title="object scales.utils.Error" id="82544">Error</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11022" title="scales.utils.LogLevel">LogLevel</a>

<span class="comment">/**
 * Default implementation of a logger, for some reaason if its not
 * excluded (via private) or we change the type to no longer inherit
 * from logger we get a java.lang.UnsupportedOperationException: Position.Point
 * exception
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>utils<span class="delimiter">]</span> <span class="keyword">class</span> <a title="class Slf4jLogger extends java.lang.Object with scales.utils.Logger with ScalaObject" id="11280">Slf4jLogger</a><a href="#11280" title="ScalaObject" class="delimiter">(</a><a title="org.slf4j.Logger" id="82148">logger</a> : org.slf4j.<span title="org.slf4j.Logger">Logger</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11013" title="scales.utils.Logger">Logger</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean" id="82147">log</a><span class="delimiter">(</span><a title="scales.utils.LogLevel" id="82547">level</a>: <a href="#11022" title="scales.utils.LogLevel">LogLevel</a>, <a title="=&gt; String" id="82548">msg</a>: =&gt; String, <a title="=&gt; Option[Throwable]" id="82549">throwable</a>: =&gt; Option<span class="delimiter">[</span>Throwable<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <a href="#82547" title="scales.utils.LogLevel">level</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#82496" title="Boolean">Trace</a> =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#82148" title="org.slf4j.Logger">logger</a>.<span title="()Boolean">isTraceEnabled</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span><span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#82549" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#82148" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">trace</span><span class="delimiter">(</span><a href="#82548" title="=&gt; String">msg</a>, <a href="#82549" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Throwable">get</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#82148" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">trace</span><span class="delimiter">(</span><a href="#82548" title="=&gt; String">msg</a><span class="delimiter">)</span>; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">}</span> <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">case</span> <a href="#82508" title="Boolean">Debug</a> =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#82148" title="org.slf4j.Logger">logger</a>.<span title="()Boolean">isDebugEnabled</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span><span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#82549" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#82148" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">debug</span><span class="delimiter">(</span><a href="#82548" title="=&gt; String">msg</a>, <a href="#82549" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Throwable">get</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#82148" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">debug</span><span class="delimiter">(</span><a href="#82548" title="=&gt; String">msg</a><span class="delimiter">)</span>; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">}</span> <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">case</span> <a href="#82520" title="Boolean">Info</a> =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#82148" title="org.slf4j.Logger">logger</a>.<span title="()Boolean">isInfoEnabled</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span><span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#82549" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#82148" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">info</span><span class="delimiter">(</span><a href="#82548" title="=&gt; String">msg</a>, <a href="#82549" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Throwable">get</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#82148" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">info</span><span class="delimiter">(</span><a href="#82548" title="=&gt; String">msg</a><span class="delimiter">)</span>; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">}</span> <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">case</span> <a href="#82532" title="Boolean">Warn</a> =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#82148" title="org.slf4j.Logger">logger</a>.<span title="()Boolean">isWarnEnabled</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span><span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#82549" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#82148" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">warn</span><span class="delimiter">(</span><a href="#82548" title="=&gt; String">msg</a>, <a href="#82549" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Throwable">get</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#82148" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">warn</span><span class="delimiter">(</span><a href="#82548" title="=&gt; String">msg</a><span class="delimiter">)</span>; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">}</span> <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">case</span> <a href="#82544" title="Boolean">Error</a> =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#82148" title="org.slf4j.Logger">logger</a>.<span title="()Boolean">isErrorEnabled</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span><span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#82549" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#82148" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">error</span><span class="delimiter">(</span><a href="#82548" title="=&gt; String">msg</a>, <a href="#82549" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Throwable">get</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#82148" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">error</span><span class="delimiter">(</span><a href="#82548" title="=&gt; String">msg</a><span class="delimiter">)</span>; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">}</span> <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Contains the logic for getting a logger
 */</span>
<span class="keyword">object</span> <a title="object scales.utils.Loggers" id="11020">Loggers</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[T](clazz: Class[T])scales.utils.Slf4jLogger" id="82133">logger</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="82135">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Class[T]" id="82460">clazz</a>: <span title="Class[T]">Class</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="scales.utils.Slf4jLogger" class="keyword">new</span> <a href="#11280" title="scales.utils.Slf4jLogger">Slf4jLogger</a><span class="delimiter">(</span>org.slf4j.<span title="object org.slf4j.LoggerFactory">LoggerFactory</span>.<span title="(x$1: java.lang.Class[_])org.slf4j.Logger">getLogger</span><span class="delimiter">(</span><a href="#82460" title="Class[T]">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[T](category: String)scales.utils.Slf4jLogger" id="82136">logger</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="82138">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="82141">category</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="scales.utils.Slf4jLogger" class="keyword">new</span> <a href="#11280" title="scales.utils.Slf4jLogger">Slf4jLogger</a><span class="delimiter">(</span>org.slf4j.<span title="object org.slf4j.LoggerFactory">LoggerFactory</span>.<span title="(x$1: java.lang.String)org.slf4j.Logger">getLogger</span><span class="delimiter">(</span><a href="#82141" title="String">category</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>