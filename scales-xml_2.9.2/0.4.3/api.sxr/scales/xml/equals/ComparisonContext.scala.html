<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\xml\equals\ComparisonContext.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scales.xml.equals

<span class="keyword">import</span> scales.xml.<span class="delimiter">{</span>PullType, QName, Elem, Attribs, Attributes, Attribute, XmlItem, XmlPath, EndElem, XCC, NamespaceContext, Misc, Miscs<span class="delimiter">}</span>

<span class="keyword">import</span> scala.collection.immutable.<span class="delimiter">{</span> Stack, Map <span class="delimiter">}</span>

<span class="keyword">import</span> <a href="XmlEquals.scala.html#13214" title="object scales.xml.equals.BasicPaths">BasicPaths</a>._

<span class="comment">/**
 * ComparisonContext represents both the path to a given comparison and the namespace declarations which are relevant for it.
 *
 * @param streamPosition is incremented for each processed item in the stream, allowing a simple take to get the difference in terms of the stream, the developer can then use this with toDifferenceAsStream to capture the difference. It is only provided when a difference is found within a stream and not during the difference analysis.
 */</span>
<span class="keyword">class</span> <a title="class ComparisonContext extends java.lang.Object with ScalaObject" id="13222">ComparisonContext</a> <a href="#13222" title="ScalaObject" class="keyword">private</a> <span class="delimiter">(</span><span class="keyword">private</span> <span class="keyword">val</span> <a title="scales.xml.NamespaceContext" id="111779">lnc</a> : <a href="../XmlPrinterTypes.scala.html#12438" title="scales.xml.NamespaceContext">NamespaceContext</a> = <span title="Null(null)" class="keyword">null</span>, 
				 <span class="keyword">private</span> <span class="keyword">val</span> <a title="scales.xml.NamespaceContext" id="111780">rnc</a> : <a href="../XmlPrinterTypes.scala.html#12438" title="scales.xml.NamespaceContext">NamespaceContext</a> = <span title="Null(null)" class="keyword">null</span>, 
	 <span class="keyword">val</span> <a title="scales.xml.equals.BasicPaths.BasicPath" id="111768">path</a> : <span title="scales.xml.equals.BasicPaths.BasicPath">BasicPath</span>, <span class="keyword">private</span> <span class="keyword">val</span> <a title="scales.xml.equals.ComparisonContext" id="111781">parent</a> : <a href="#13222" title="scales.xml.equals.ComparisonContext">ComparisonContext</a> = <span title="Null(null)" class="keyword">null</span>, <span class="keyword">val</span> <a title="Int" id="111782">streamPosition</a> : <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(newStreamPosition: Int)scales.xml.equals.ComparisonContext" id="111749">withPosition</a><span class="delimiter">(</span> <a title="Int" id="111783">newStreamPosition</a> : <span title="Int">Int</span> <span class="delimiter">)</span> = 
    <span title="scales.xml.equals.ComparisonContext" class="keyword">new</span> <a href="#13222" title="scales.xml.equals.ComparisonContext">ComparisonContext</a><span class="delimiter">(</span><a href="#111779" title="=&gt; scales.xml.NamespaceContext">lnc</a>, <a href="#111780" title="=&gt; scales.xml.NamespaceContext">rnc</a>, <a href="#111768" title="=&gt; scales.xml.equals.BasicPaths.BasicPath">path</a>, <a href="#111781" title="=&gt; scales.xml.equals.ComparisonContext">parent</a>, <a href="#111783" title="Int">newStreamPosition</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Provides a stream for the given T up to the difference represented by this context.  Callers are responsible for handling any IO handles or capturing an original stream.
   */</span>
  <span class="keyword">def</span> <a title="[T](t: T, filter: Iterator[scales.xml.package.PullType] =&gt; Iterator[scales.xml.package.PullType])(implicit tv: T =&gt; scales.xml.equals.StreamComparable[T])Stream[scales.xml.package.PullType]" id="111750">toDifferenceAsStream</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="111792">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="111786">t</a> : <a href="#111792" title="T">T</a>, <a title="Iterator[scales.xml.package.PullType] =&gt; Iterator[scales.xml.package.PullType]" id="111790">filter</a> : Iterator<span class="delimiter">[</span>PullType<span class="delimiter">]</span> =&gt; Iterator<span class="delimiter">[</span>PullType<span class="delimiter">]</span> = <a href="LogicalComparisons.scala.html#13472" title="object scales.xml.equals.LogicalFilters">LogicalFilters</a>.<a href="LogicalComparisons.scala.html#111799" title="(it: Iterator[scales.xml.package.PullType])Iterator[scales.xml.package.PullType]">joinTextAndCData</a><span class="delimiter">(</span><a href="#111797" title="Iterator[scales.xml.package.PullType]">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="T =&gt; scales.xml.equals.StreamComparable[T]" id="111788">tv</a> : T =&gt; StreamComparable<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> : <span title="Stream[scales.xml.package.PullType]">Stream</span><span class="delimiter">[</span>PullType<span class="delimiter">]</span> = <a href="#111790" title="(v1: Iterator[scales.xml.package.PullType])Iterator[scales.xml.package.PullType]">filter</a><span class="delimiter">(</span> <a href="#111788" title="(v1: T)scales.xml.equals.StreamComparable[T]">tv</a><span class="delimiter">(</span><a href="#111786" title="T">t</a><span class="delimiter">)</span>.<a href="StreamAndDocComparisons.scala.html#94069" title="=&gt; Iterator[scales.xml.package.PullType]">underlyingIterator</a> <span class="delimiter">)</span>.<span title="(n: Int)Iterator[scales.xml.package.PullType]">take</span><span class="delimiter">(</span><a href="#111782" title="=&gt; Int">streamPosition</a><span class="delimiter">)</span>.<span title="=&gt; scala.collection.immutable.Stream[scales.xml.package.PullType]">toStream</span>

  <span class="keyword">import</span> <a href="#13223" title="object scales.xml.equals.ComparisonContext">ComparisonContext</a>.emptyWithDefault

  <span class="keyword">def</span> <a title="=&gt; Option[scales.xml.NamespaceContext]" id="111754">leftNamespaceContext</a> : <span title="Option[scales.xml.NamespaceContext]">Option</span><span class="delimiter">[</span>NamespaceContext<span class="delimiter">]</span> = 
    <span title="(x: scales.xml.NamespaceContext)Option[scales.xml.NamespaceContext]">Option</span><span class="delimiter">(</span><a href="#111779" title="=&gt; scales.xml.NamespaceContext">lnc</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; Option[scales.xml.NamespaceContext]" id="111755">rightNamespaceContext</a> : <span title="Option[scales.xml.NamespaceContext]">Option</span><span class="delimiter">[</span>NamespaceContext<span class="delimiter">]</span> = 
    <span title="(x: scales.xml.NamespaceContext)Option[scales.xml.NamespaceContext]">Option</span><span class="delimiter">(</span><a href="#111780" title="=&gt; scales.xml.NamespaceContext">rnc</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Pushes a new elem on the stack, modifying the parents counts as it goes
   */</span> 
  <span class="keyword">def</span> <a title="(leftElem: scales.xml.Elem, rightElem: scales.xml.Elem)scales.xml.equals.ComparisonContext" id="111756">startElems</a><span class="delimiter">(</span> <a title="scales.xml.Elem" id="111819">leftElem</a> : <a href="../XmlTypes.scala.html#12342" title="scales.xml.Elem">Elem</a>, <a title="scales.xml.Elem" id="111820">rightElem</a> : <a href="../XmlTypes.scala.html#12342" title="scales.xml.Elem">Elem</a> <span class="delimiter">)</span> : <a href="#13222" title="scales.xml.equals.ComparisonContext">ComparisonContext</a> = 
    <a href="#111782" title="scales.xml.equals.ComparisonContext" class="keyword">new</a> <a href="#13222" title="scales.xml.equals.ComparisonContext">ComparisonContext</a><span class="delimiter">(</span>
      <a href="../package.scala.html#12469" title="object scales.xml.package">scales</a>.xml.<a href="../XmlPrinter.scala.html#15870" title="(x: scales.xml.Elem, currentMappings: scala.collection.immutable.Map[String,String])scales.xml.NamespaceContext">doElement</a><span class="delimiter">(</span><a href="#111819" title="scales.xml.Elem">leftElem</a>, 
			   <span title="scala.collection.immutable.Map[String,String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#111779" title="=&gt; scales.xml.NamespaceContext">lnc</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> 
			     <a href="#111772" title="=&gt; scala.collection.immutable.Map[java.lang.String,java.lang.String]">emptyWithDefault</a>
			   <span class="keyword">else</span>
			     <a href="#111779" title="=&gt; scales.xml.NamespaceContext">lnc</a>.<a href="../XmlPrinterTypes.scala.html#104895" title="=&gt; scala.collection.immutable.Map[String,String]">mappings</a><span class="delimiter">)</span>
    , <a href="../package.scala.html#12469" title="object scales.xml.package">scales</a>.xml.<a href="../XmlPrinter.scala.html#15870" title="(x: scales.xml.Elem, currentMappings: scala.collection.immutable.Map[String,String])scales.xml.NamespaceContext">doElement</a><span class="delimiter">(</span><a href="#111820" title="scales.xml.Elem">rightElem</a>, 
			   <span title="scala.collection.immutable.Map[String,String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#111780" title="=&gt; scales.xml.NamespaceContext">rnc</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> 
			     <a href="#111772" title="=&gt; scala.collection.immutable.Map[java.lang.String,java.lang.String]">emptyWithDefault</a>
			   <span class="keyword">else</span>
			     <a href="#111780" title="=&gt; scales.xml.NamespaceContext">rnc</a>.<a href="../XmlPrinterTypes.scala.html#104895" title="=&gt; scala.collection.immutable.Map[String,String]">mappings</a><span class="delimiter">)</span>
    , <span title="scales.xml.equals.BasicPaths.BasicPath" class="keyword">if</span> <span class="delimiter">(</span><a href="#111768" title="=&gt; scales.xml.equals.BasicPaths.BasicPath">path</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
	<a href="../../utils/package.scala.html#11065" title="object scales.utils.package">scales</a>.utils.<a href="../../utils/package.scala.html#15409" title="(i: (scales.xml.QName, scala.collection.immutable.Map[String,Int]))List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]">one</a><span class="delimiter">(</span><span title="(_1: scales.xml.QName, _2: scala.collection.immutable.Map[String,Int])(scales.xml.QName, scala.collection.immutable.Map[String,Int])" class="delimiter">(</span><a href="#111819" title="scales.xml.Elem">leftElem</a>.<a href="../XmlTypes.scala.html#90846" title="=&gt; scales.xml.QName">name</a>, <span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (String, Int)*)scala.collection.immutable.Map[String,Int]" class="delimiter">[</span><span title="String">String</span>, <span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
	<span class="keyword">val</span> <a title="scales.xml.QName" id="111859">qname</a> = <a href="#111819" title="scales.xml.Elem">leftElem</a>.<a href="../XmlTypes.scala.html#90846" title="=&gt; scales.xml.QName">name</a>

	<span class="keyword">val</span> <span class="delimiter">(</span><a href="#111860" title="(scales.xml.QName, scala.collection.immutable.Map[String,Int])" id="111861">h</a> <a href="#111861" title="((scales.xml.QName, scala.collection.immutable.Map[String,Int]), List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])])">::</a> <a href="#111860" title="List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]" id="111862">r</a><span class="delimiter">)</span> = <a href="#111768" title="=&gt; scales.xml.equals.BasicPaths.BasicPath">path</a>
	<span class="keyword">val</span> <a title="java.lang.String" id="111863">qn</a> = <a href="#111859" title="scales.xml.QName">qname</a>.<a href="../QName.scala.html#90441" title="=&gt; java.lang.String">qualifiedName</a>
	<span class="keyword">val</span> <a title="Int" id="111864">count</a> = <a href="#111861" title="(scales.xml.QName, scala.collection.immutable.Map[String,Int])">h</a>.<span title="=&gt; scala.collection.immutable.Map[String,Int]">_2</span>.<span title="(key: String)Option[Int]">get</span><span class="delimiter">(</span><a href="#111863" title="java.lang.String">qn</a><span class="delimiter">)</span>.<span title="(default: =&gt; Int)Int">getOrElse</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
	<span title="(_1: scales.xml.QName, _2: scala.collection.immutable.Map[String,Int])(scales.xml.QName, scala.collection.immutable.Map[String,Int])" class="delimiter">(</span><a href="#111859" title="scales.xml.QName">qname</a>, <span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (String, Int)*)scala.collection.immutable.Map[String,Int]" class="delimiter">[</span><span title="String">String</span>, <span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#111943" title="(x: (scales.xml.QName, scala.collection.immutable.Map[String,Int]))List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]">::</a> 
	<span title="(_1: scales.xml.QName, _2: scala.collection.immutable.Map[String,Int])(scales.xml.QName, scala.collection.immutable.Map[String,Int])" class="delimiter">(</span><a href="#111861" title="(scales.xml.QName, scala.collection.immutable.Map[String,Int])">h</a>.<span title="=&gt; scales.xml.QName">_1</span>, <a href="#111861" title="(scales.xml.QName, scala.collection.immutable.Map[String,Int])">h</a>.<span title="=&gt; scala.collection.immutable.Map[String,Int]">_2</span>.<span title="(key: String, value: Int)scala.collection.immutable.Map[String,Int]">updated</span><span class="delimiter">(</span><a href="#111863" title="java.lang.String">qn</a>, <a href="#111864" title="Int">count</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#111951" title="(x: (scales.xml.QName, scala.collection.immutable.Map[String,Int]))List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]">::</a> <a href="#111862" title="List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]">r</a>
      <span class="delimiter">}</span>
    , <a href="#13222" title="scales.xml.equals.ComparisonContext" class="keyword">this</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Produces an XPath like string.  Make this a full one?
   */</span> 
  <span class="keyword">def</span> <a title="=&gt; String" id="111757">pathString</a> : <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="java.lang.String" id="112000">str</a> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
    <span class="keyword">var</span> <a title="scales.xml.equals.BasicPaths.BasicPath" id="112001">l</a> = <a href="#111768" title="=&gt; scales.xml.equals.BasicPaths.BasicPath">path</a><span class="comment">//.reverse</span>
    <span title="Unit" class="keyword">while</span><span class="delimiter">(</span> <span title="=&gt; Boolean">!</span> <a href="#112001" title="scales.xml.equals.BasicPaths.BasicPath">l</a>.<span title="=&gt; Boolean">isEmpty</span> <span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#112007" title="(scales.xml.QName, scala.collection.immutable.Map[String,Int])" id="112008">head</a> <a href="#112008" title="((scales.xml.QName, scala.collection.immutable.Map[String,Int]), List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])])">::</a> <a href="#112007" title="List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]" id="112009">tail</a> = <a href="#112001" title="scales.xml.equals.BasicPaths.BasicPath">l</a>
      <a href="#112001" title="scales.xml.equals.BasicPaths.BasicPath">l</a> = <a href="#112009" title="List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]">tail</a>

      <span class="keyword">val</span> <a title="java.lang.String" id="112010">qn</a> = <a href="#112008" title="(scales.xml.QName, scala.collection.immutable.Map[String,Int])">head</a>.<span title="=&gt; scales.xml.QName">_1</span>.<a href="../QName.scala.html#90441" title="=&gt; java.lang.String">qualifiedName</a>
      <span class="keyword">val</span> <a title="Int" id="112011">count</a> =
	<span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#112009" title="List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]">tail</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> 
	<span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a href="#112024" title="(scales.xml.QName, scala.collection.immutable.Map[String,Int])" id="112025">nhead</a> <a href="#112025" title="((scales.xml.QName, scala.collection.immutable.Map[String,Int]), List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])])">::</a> <a href="#112024" title="List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]" id="112026">rest</a> = <a href="#112009" title="List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]">tail</a>
	  <a href="#112025" title="(scales.xml.QName, scala.collection.immutable.Map[String,Int])">nhead</a>.<span title="(key: String)Int">_2</span><span class="delimiter">(</span><a href="#112010" title="java.lang.String">qn</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
      
      <a href="#112000" title="java.lang.String">str</a> = <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#112010" title="java.lang.String">qn</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#112011" title="Int">count</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#112000" title="java.lang.String">str</a>
    <span class="delimiter">}</span>
    <a href="#112000" title="java.lang.String">str</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * path.tail, pops the head off as it moves up, counts are not changed
   */</span> 
  <span class="keyword">def</span> <a title="=&gt; scales.xml.equals.ComparisonContext" id="111758">endElem</a> : <a href="#13222" title="scales.xml.equals.ComparisonContext">ComparisonContext</a> = 
    <span title="scales.xml.equals.ComparisonContext" class="keyword">if</span> <span class="delimiter">(</span><a href="#111781" title="=&gt; scales.xml.equals.ComparisonContext">parent</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> 
      <span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot call endElem on a root context&quot;)" class="string">&quot;Cannot call endElem on a root context&quot;</span><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <span class="comment">// the path's count must be kept, everything else should come from the </span>
      <span class="comment">// parent</span>
      <a href="#111782" title="scales.xml.equals.ComparisonContext" class="keyword">new</a> <a href="#13222" title="scales.xml.equals.ComparisonContext">ComparisonContext</a><span class="delimiter">(</span><a href="#111781" title="=&gt; scales.xml.equals.ComparisonContext">parent</a>.<a href="#111779" title="=&gt; scales.xml.NamespaceContext">lnc</a>, <a href="#111781" title="=&gt; scales.xml.equals.ComparisonContext">parent</a>.<a href="#111780" title="=&gt; scales.xml.NamespaceContext">rnc</a>, <a href="#111768" title="=&gt; scales.xml.equals.BasicPaths.BasicPath">path</a>.<span title="=&gt; List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]">tail</span>, <a href="#111781" title="=&gt; scales.xml.equals.ComparisonContext">parent</a>.<a href="#111781" title="=&gt; scales.xml.equals.ComparisonContext">parent</a><span class="delimiter">)</span>
  
  <span class="keyword">def</span> <a title="=&gt; Option[scales.xml.equals.ComparisonContext]" id="111759">parentContext</a> : <span title="Option[scales.xml.equals.ComparisonContext]">Option</span><span class="delimiter">[</span>ComparisonContext<span class="delimiter">]</span> = 
    <span title="(x: scales.xml.equals.ComparisonContext)Option[scales.xml.equals.ComparisonContext]">Option</span><span class="delimiter">(</span><a href="#111781" title="=&gt; scales.xml.equals.ComparisonContext">parent</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object scales.xml.equals.ComparisonContext" id="13223">ComparisonContext</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">protected</span><span class="delimiter">[</span>xml<span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Map[java.lang.String,java.lang.String]" id="111772">emptyWithDefault</a> = <span title="(elems: (java.lang.String, java.lang.String)*)scala.collection.immutable.Map[java.lang.String,java.lang.String]">Map</span><span class="delimiter">(</span><span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;&quot;</span><span title="(y: java.lang.String)(java.lang.String, java.lang.String)">-&gt;</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Creates a new context with the given starting path
   */</span> 
  <span class="keyword">def</span> <a title="(path: scales.xml.equals.BasicPaths.BasicPath)scales.xml.equals.ComparisonContext" id="111774">apply</a><span class="delimiter">(</span><a title="scales.xml.equals.BasicPaths.BasicPath" id="112075">path</a> : <span title="scales.xml.equals.BasicPaths.BasicPath">BasicPath</span><span class="delimiter">)</span> : <a href="#13222" title="scales.xml.equals.ComparisonContext">ComparisonContext</a> =
    <a href="#111782" title="scales.xml.equals.ComparisonContext" class="keyword">new</a> <a href="#13222" title="scales.xml.equals.ComparisonContext">ComparisonContext</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span>, <a href="#112075" title="scales.xml.equals.BasicPaths.BasicPath">path</a>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="()scales.xml.equals.ComparisonContext" id="111775">apply</a><span class="delimiter">(</span><span class="delimiter">)</span> : <a href="#13222" title="scales.xml.equals.ComparisonContext">ComparisonContext</a> =
    <a href="#111782" title="scales.xml.equals.ComparisonContext" class="keyword">new</a> <a href="#13222" title="scales.xml.equals.ComparisonContext">ComparisonContext</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span>, <span title="object Nil">Nil</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="scales.xml.equals.ComparisonContext" id="111776">empty</a> = <a href="#111775" title="()scales.xml.equals.ComparisonContext">apply</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(c: scales.xml.equals.ComparisonContext)Option[(Option[scales.xml.NamespaceContext], Option[scales.xml.NamespaceContext], scales.xml.equals.BasicPaths.BasicPath, Option[scales.xml.equals.ComparisonContext])]" id="111778">unapply</a><span class="delimiter">(</span> <a title="scales.xml.equals.ComparisonContext" id="112077">c</a> : <a href="#13222" title="scales.xml.equals.ComparisonContext">ComparisonContext</a> <span class="delimiter">)</span> : <span title="Option[(Option[scales.xml.NamespaceContext], Option[scales.xml.NamespaceContext], scales.xml.equals.BasicPaths.BasicPath, Option[scales.xml.equals.ComparisonContext])]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>Option<span class="delimiter">[</span>NamespaceContext<span class="delimiter">]</span>, Option<span class="delimiter">[</span>NamespaceContext<span class="delimiter">]</span>, BasicPath, Option<span class="delimiter">[</span>ComparisonContext<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = 
    <span title="(x: (Option[scales.xml.NamespaceContext], Option[scales.xml.NamespaceContext], scales.xml.equals.BasicPaths.BasicPath, Option[scales.xml.equals.ComparisonContext]))Some[(Option[scales.xml.NamespaceContext], Option[scales.xml.NamespaceContext], scales.xml.equals.BasicPaths.BasicPath, Option[scales.xml.equals.ComparisonContext])]">Some</span><span title="(_1: Option[scales.xml.NamespaceContext], _2: Option[scales.xml.NamespaceContext], _3: scales.xml.equals.BasicPaths.BasicPath, _4: Option[scales.xml.equals.ComparisonContext])(Option[scales.xml.NamespaceContext], Option[scales.xml.NamespaceContext], scales.xml.equals.BasicPaths.BasicPath, Option[scales.xml.equals.ComparisonContext])" class="delimiter">(</span><a href="#112077" title="scales.xml.equals.ComparisonContext">c</a>.<a href="#111754" title="=&gt; Option[scales.xml.NamespaceContext]">leftNamespaceContext</a>, <a href="#112077" title="scales.xml.equals.ComparisonContext">c</a>.<a href="#111755" title="=&gt; Option[scales.xml.NamespaceContext]">rightNamespaceContext</a>, <a href="#112077" title="scales.xml.equals.ComparisonContext">c</a>.<a href="#111768" title="=&gt; scales.xml.equals.BasicPaths.BasicPath">path</a>,
	 <a href="#112077" title="scales.xml.equals.ComparisonContext">c</a>.<a href="#111759" title="=&gt; Option[scales.xml.equals.ComparisonContext]">parentContext</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Provides an immplicit to easily access the head QName in a path
 */</span> 
<span class="keyword">trait</span> <a title="trait ComparisonContextImplicits extends java.lang.Object with ScalaObject" id="13234">ComparisonContextImplicits</a> <span title="ScalaObject" class="delimiter">{</span>
  
  <span class="keyword">implicit</span> <span class="keyword">object</span> <a title="object ComparisonContextImplicits.this.BasicPathNames" id="91072">BasicPathNames</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../xpath/Functions.scala.html#15029" title="scales.xml.xpath.Names[scales.xml.equals.BasicPaths.BasicPath]">scales</a>.xml.xpath.Names<span class="delimiter">[</span>BasicPath<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(implicit t: scales.xml.equals.BasicPaths.BasicPath)Option[scales.xml.QName]" id="94045">name</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.equals.BasicPaths.BasicPath" id="112121">t</a> : <span title="scales.xml.equals.BasicPaths.BasicPath">BasicPath</span><span class="delimiter">)</span> : <span title="Option[scales.xml.QName]">Option</span><span class="delimiter">[</span>scales.xml.QName<span class="delimiter">]</span> = 
      <a href="#112121" title="scales.xml.equals.BasicPaths.BasicPath">t</a>.<span title="=&gt; Option[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]">headOption</span>.<span title="(f: ((scales.xml.QName, scala.collection.immutable.Map[String,Int])) =&gt; scales.xml.QName)Option[scales.xml.QName]">map</span><span class="delimiter">(</span> <a href="#112130" title="(scales.xml.QName, scala.collection.immutable.Map[String,Int])">_</a>.<span title="=&gt; scales.xml.QName">_1</span> <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">object</span> <a title="object ComparisonContextImplicits.this.ComparisonContextNames" id="91074">ComparisonContextNames</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../xpath/Functions.scala.html#15029" title="scales.xml.xpath.Names[scales.xml.equals.ComparisonContext]">scales</a>.xml.xpath.Names<span class="delimiter">[</span>ComparisonContext<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(implicit t: scales.xml.equals.ComparisonContext)Option[scales.xml.QName]" id="94043">name</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.equals.ComparisonContext" id="112133">t</a> : <a href="#13222" title="scales.xml.equals.ComparisonContext">ComparisonContext</a><span class="delimiter">)</span> : <span title="Option[scales.xml.QName]">Option</span><span class="delimiter">[</span>scales.xml.QName<span class="delimiter">]</span> = 
      <a href="#112133" title="scales.xml.equals.ComparisonContext">t</a>.<a href="#111768" title="=&gt; scales.xml.equals.BasicPaths.BasicPath">path</a>.<span title="=&gt; Option[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]">headOption</span>.<span title="(f: ((scales.xml.QName, scala.collection.immutable.Map[String,Int])) =&gt; scales.xml.QName)Option[scales.xml.QName]">map</span><span class="delimiter">(</span> <a href="#112139" title="(scales.xml.QName, scala.collection.immutable.Map[String,Int])">_</a>.<span title="=&gt; scales.xml.QName">_1</span> <span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>