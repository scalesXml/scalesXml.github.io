<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\utils\Logger.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scales.utils

<span class="comment">/**
 * Very simple logger, matches scala more.  Each function returns true if the message would be logged.
 * 
 * Each function takes an optional second parameter of a throwable.
 * 
 * Implementations need only implement the log function.
 */</span>
<span class="keyword">trait</span> <a title="trait Logger extends java.lang.Object with ScalaObject" id="11013">Logger</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(msg: =&gt; String, throwable: =&gt; Throwable)Boolean" id="82496">trace</a><span class="delimiter">(</span><a title="=&gt; String" id="82509">msg</a>: =&gt; String, <a title="=&gt; Throwable" id="82510">throwable</a>: =&gt; Throwable<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82506" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82929" title="object scales.utils.Trace">Trace</a>, <a href="#82509" title="=&gt; String">msg</a>, <span title="(x: Throwable)Some[Throwable]">Some</span><span class="delimiter">(</span><a href="#82510" title="=&gt; Throwable">throwable</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String, throwable: =&gt; Throwable)Boolean" id="82497">debug</a><span class="delimiter">(</span><a title="=&gt; String" id="82521">msg</a>: =&gt; String, <a title="=&gt; Throwable" id="82522">throwable</a>: =&gt; Throwable<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82506" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82941" title="object scales.utils.Debug">Debug</a>, <a href="#82521" title="=&gt; String">msg</a>, <span title="(x: Throwable)Some[Throwable]">Some</span><span class="delimiter">(</span><a href="#82522" title="=&gt; Throwable">throwable</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String, throwable: =&gt; Throwable)Boolean" id="82498">info</a><span class="delimiter">(</span><a title="=&gt; String" id="82528">msg</a>: =&gt; String, <a title="=&gt; Throwable" id="82529">throwable</a>: =&gt; Throwable<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82506" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82953" title="object scales.utils.Info">Info</a>, <a href="#82528" title="=&gt; String">msg</a>, <span title="(x: Throwable)Some[Throwable]">Some</span><span class="delimiter">(</span><a href="#82529" title="=&gt; Throwable">throwable</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String, throwable: =&gt; Throwable)Boolean" id="82499">warn</a><span class="delimiter">(</span><a title="=&gt; String" id="82535">msg</a>: =&gt; String, <a title="=&gt; Throwable" id="82536">throwable</a>: =&gt; Throwable<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82506" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82965" title="object scales.utils.Warn">Warn</a>, <a href="#82535" title="=&gt; String">msg</a>, <span title="(x: Throwable)Some[Throwable]">Some</span><span class="delimiter">(</span><a href="#82536" title="=&gt; Throwable">throwable</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String, throwable: =&gt; Throwable)Boolean" id="82500">error</a><span class="delimiter">(</span><a title="=&gt; String" id="82542">msg</a>: =&gt; String, <a title="=&gt; Throwable" id="82543">throwable</a>: =&gt; Throwable<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82506" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82977" title="object scales.utils.Error">Error</a>, <a href="#82542" title="=&gt; String">msg</a>, <span title="(x: Throwable)Some[Throwable]">Some</span><span class="delimiter">(</span><a href="#82543" title="=&gt; Throwable">throwable</a><span class="delimiter">)</span><span class="delimiter">)</span>
 
  <span class="keyword">def</span> <a title="(msg: =&gt; String)Boolean" id="82501">trace</a><span class="delimiter">(</span><a title="=&gt; String" id="82549">msg</a>: =&gt; String<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82506" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82929" title="object scales.utils.Trace">Trace</a>, <a href="#82549" title="=&gt; String">msg</a>, <span title="object None">None</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String)Boolean" id="82502">debug</a><span class="delimiter">(</span><a title="=&gt; String" id="82551">msg</a>: =&gt; String<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82506" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82941" title="object scales.utils.Debug">Debug</a>, <a href="#82551" title="=&gt; String">msg</a>, <span title="object None">None</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String)Boolean" id="82503">info</a><span class="delimiter">(</span><a title="=&gt; String" id="82553">msg</a>: =&gt; String<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82506" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82953" title="object scales.utils.Info">Info</a>, <a href="#82553" title="=&gt; String">msg</a>, <span title="object None">None</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String)Boolean" id="82504">warn</a><span class="delimiter">(</span><a title="=&gt; String" id="82555">msg</a>: =&gt; String<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82506" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82965" title="object scales.utils.Warn">Warn</a>, <a href="#82555" title="=&gt; String">msg</a>, <span title="object None">None</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; String)Boolean" id="82505">error</a><span class="delimiter">(</span><a title="=&gt; String" id="82557">msg</a>: =&gt; String<span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#82506" title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean">log</a><span class="delimiter">(</span><a href="#82977" title="object scales.utils.Error">Error</a>, <a href="#82557" title="=&gt; String">msg</a>, <span title="object None">None</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Special one, logs against some specific logging level.  Wouldn't recommend using it,
   * just use a special named logger instead.
   */</span>
  <span class="keyword">def</span> <a title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean" id="82506">log</a><span class="delimiter">(</span><a title="scales.utils.LogLevel" id="82512">level</a>: <a href="#11022" title="scales.utils.LogLevel">LogLevel</a>, <a title="=&gt; String" id="82513">msg</a>: =&gt; String, <a title="=&gt; Option[Throwable]" id="82516">throwable</a>: =&gt; <span title="Option[Throwable]">Option</span><span class="delimiter">[</span>Throwable<span class="delimiter">]</span> = <span title="object None">None</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Simple trait for logging.
 */</span>
<span class="keyword">trait</span> <a title="trait Logs extends java.lang.Object with ScalaObject" id="11028">Logs</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">protected</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scales.utils.Slf4jLogger" id="82562">log</a> = <a href="#11020" title="object scales.utils.Loggers">Loggers</a>.<a href="#82566" title="(clazz: Class[?0])scales.utils.Slf4jLogger">logger</a><span class="delimiter">(</span><a href="#11028" title="Logs.this.type" class="keyword">this</a>.<span title="()java.lang.Class[_]">getClass</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Simple loglevel marker trait
 */</span>
<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait LogLevel extends java.lang.Object" id="11022">LogLevel</a>
case <span class="keyword">object</span> <a href="#82924" title="object scales.utils.Trace" id="82929">Trace</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11022" title="scales.utils.LogLevel">LogLevel</a>
case <span class="keyword">object</span> <a href="#82936" title="object scales.utils.Debug" id="82941">Debug</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11022" title="scales.utils.LogLevel">LogLevel</a>
case <span class="keyword">object</span> <a href="#82948" title="object scales.utils.Info" id="82953">Info</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11022" title="scales.utils.LogLevel">LogLevel</a>
case <span class="keyword">object</span> <a href="#82960" title="object scales.utils.Warn" id="82965">Warn</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11022" title="scales.utils.LogLevel">LogLevel</a>
case <span class="keyword">object</span> <a href="#82972" title="object scales.utils.Error" id="82977">Error</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#11022" title="scales.utils.LogLevel">LogLevel</a>

<span class="comment">/**
 * Default implementation of a logger, for some reaason if its not
 * excluded (via private) or we change the type to no longer inherit
 * from logger we get a java.lang.UnsupportedOperationException: Position.Point
 * exception
 */</span>
<span class="keyword">private</span><span class="delimiter">[</span>utils<span class="delimiter">]</span> <span class="keyword">class</span> <a title="class Slf4jLogger extends java.lang.Object with scales.utils.Logger with ScalaObject" id="11280">Slf4jLogger</a><a href="#11280" title="ScalaObject" class="delimiter">(</a><a title="org.slf4j.Logger" id="82581">logger</a> : org.slf4j.<span title="org.slf4j.Logger">Logger</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11013" title="scales.utils.Logger">Logger</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(level: scales.utils.LogLevel, msg: =&gt; String, throwable: =&gt; Option[Throwable])Boolean" id="82580">log</a><span class="delimiter">(</span><a title="scales.utils.LogLevel" id="82980">level</a>: <a href="#11022" title="scales.utils.LogLevel">LogLevel</a>, <a title="=&gt; String" id="82981">msg</a>: =&gt; String, <a title="=&gt; Option[Throwable]" id="82982">throwable</a>: =&gt; Option<span class="delimiter">[</span>Throwable<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <a href="#82980" title="scales.utils.LogLevel">level</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#82929" title="Boolean">Trace</a> =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#82581" title="org.slf4j.Logger">logger</a>.<span title="()Boolean">isTraceEnabled</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span><span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#82982" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#82581" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">trace</span><span class="delimiter">(</span><a href="#82981" title="=&gt; String">msg</a>, <a href="#82982" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Throwable">get</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#82581" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">trace</span><span class="delimiter">(</span><a href="#82981" title="=&gt; String">msg</a><span class="delimiter">)</span>; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">}</span> <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">case</span> <a href="#82941" title="Boolean">Debug</a> =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#82581" title="org.slf4j.Logger">logger</a>.<span title="()Boolean">isDebugEnabled</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span><span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#82982" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#82581" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">debug</span><span class="delimiter">(</span><a href="#82981" title="=&gt; String">msg</a>, <a href="#82982" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Throwable">get</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#82581" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">debug</span><span class="delimiter">(</span><a href="#82981" title="=&gt; String">msg</a><span class="delimiter">)</span>; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">}</span> <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">case</span> <a href="#82953" title="Boolean">Info</a> =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#82581" title="org.slf4j.Logger">logger</a>.<span title="()Boolean">isInfoEnabled</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span><span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#82982" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#82581" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">info</span><span class="delimiter">(</span><a href="#82981" title="=&gt; String">msg</a>, <a href="#82982" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Throwable">get</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#82581" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">info</span><span class="delimiter">(</span><a href="#82981" title="=&gt; String">msg</a><span class="delimiter">)</span>; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">}</span> <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">case</span> <a href="#82965" title="Boolean">Warn</a> =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#82581" title="org.slf4j.Logger">logger</a>.<span title="()Boolean">isWarnEnabled</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span><span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#82982" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#82581" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">warn</span><span class="delimiter">(</span><a href="#82981" title="=&gt; String">msg</a>, <a href="#82982" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Throwable">get</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#82581" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">warn</span><span class="delimiter">(</span><a href="#82981" title="=&gt; String">msg</a><span class="delimiter">)</span>; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">}</span> <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">case</span> <a href="#82977" title="Boolean">Error</a> =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#82581" title="org.slf4j.Logger">logger</a>.<span title="()Boolean">isErrorEnabled</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span><span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#82982" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#82581" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">error</span><span class="delimiter">(</span><a href="#82981" title="=&gt; String">msg</a>, <a href="#82982" title="=&gt; Option[Throwable]">throwable</a>.<span title="=&gt; Throwable">get</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#82581" title="org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">error</span><span class="delimiter">(</span><a href="#82981" title="=&gt; String">msg</a><span class="delimiter">)</span>; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">}</span> <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Contains the logic for getting a logger
 */</span>
<span class="keyword">object</span> <a title="object scales.utils.Loggers" id="11020">Loggers</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[T](clazz: Class[T])scales.utils.Slf4jLogger" id="82566">logger</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="82568">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Class[T]" id="82893">clazz</a>: <span title="Class[T]">Class</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="scales.utils.Slf4jLogger" class="keyword">new</span> <a href="#11280" title="scales.utils.Slf4jLogger">Slf4jLogger</a><span class="delimiter">(</span>org.slf4j.<span title="object org.slf4j.LoggerFactory">LoggerFactory</span>.<span title="(x$1: java.lang.Class[_])org.slf4j.Logger">getLogger</span><span class="delimiter">(</span><a href="#82893" title="Class[T]">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[T](category: String)scales.utils.Slf4jLogger" id="82569">logger</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="82571">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="82574">category</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="scales.utils.Slf4jLogger" class="keyword">new</span> <a href="#11280" title="scales.utils.Slf4jLogger">Slf4jLogger</a><span class="delimiter">(</span>org.slf4j.<span title="object org.slf4j.LoggerFactory">LoggerFactory</span>.<span title="(x$1: java.lang.String)org.slf4j.Logger">getLogger</span><span class="delimiter">(</span><a href="#82574" title="String">category</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>