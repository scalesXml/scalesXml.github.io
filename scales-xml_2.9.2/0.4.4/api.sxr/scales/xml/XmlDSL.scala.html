<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\xml\XmlDSL.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scales.xml

<span class="keyword">import</span> scales.utils._

<span class="keyword">import</span> <a href="ScalesXml.scala.html#12739" title="object scales.xml.ScalesXml">ScalesXml</a>.xmlCBF

<span class="keyword">import</span> <a href="ScalesXml.scala.html#12739" title="object scales.xml.ScalesXml">ScalesXml</a>.fromParserDefault <span class="comment">// note cannot be in parser here</span>

<span class="keyword">trait</span> <a title="trait DslImplicits extends java.lang.Object with ScalaObject" id="12303">DslImplicits</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">import</span> <a href="ScalesXml.scala.html#12739" title="object scales.xml.ScalesXml">ScalesXml</a>._
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromElemToBuilder : (elem: scales.xml.Elem)scales.xml.DslBuilder" id="91358">fromElemToBuilder</a><span class="delimiter">(</span><a title="scales.xml.Elem" id="94801">elem</a> : <a href="XmlTypes.scala.html#12342" title="scales.xml.Elem">Elem</a><span class="delimiter">)</span> = <a href="#94733" title="(elem: scales.xml.Elem)scales.xml.DslBuilder">&lt;</a><span class="delimiter">(</span><a href="#94801" title="scales.xml.Elem">elem</a><span class="delimiter">)</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromQNamePairToAttribute : (pair: (scales.xml.PrefixedQName, String))scales.xml.Attribute" id="91359">fromQNamePairToAttribute</a><span class="delimiter">(</span><a title="(scales.xml.PrefixedQName, String)" id="94798">pair</a> : <span title="(scales.xml.PrefixedQName, String)" class="delimiter">(</span>PrefixedQName, String<span class="delimiter">)</span><span class="delimiter">)</span> = <a href="XmlTypes.scala.html#91215" title="(name: scales.xml.package.AttributeQName, value: String)scales.xml.Attribute">Attribute</a><span class="delimiter">(</span><a href="#94798" title="(scales.xml.PrefixedQName, String)">pair</a>.<span title="=&gt; scales.xml.PrefixedQName">_1</span>, <a href="#94798" title="(scales.xml.PrefixedQName, String)">pair</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromDslBuilderToTree : (dslB: scales.xml.DslBuilder)scales.xml.package.XmlTree" id="91360">fromDslBuilderToTree</a><span class="delimiter">(</span><a title="scales.xml.DslBuilder" id="94792">dslB</a> : <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">)</span> = <a href="#94792" title="scales.xml.DslBuilder">dslB</a>.<a href="#94706" title="=&gt; scales.xml.package.XmlTree">toTree</a>
  
  <span class="comment">/**
   * Only works for elems, allows simpler definitions
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromQNameToTree : (qname: scales.xml.QName)scales.xml.package.XmlTree" id="91361">fromQNameToTree</a><span class="delimiter">(</span> <a title="scales.xml.QName" id="94780">qname</a> : <a href="QName.scala.html#12672" title="scales.xml.QName">QName</a><span class="delimiter">)</span> = <a href="#12286" title="object scales.xml.DslBuilder">DslBuilder</a>.<a href="#94671" title="(qname: scales.xml.QName)scales.xml.package.XmlTree">q2tree</a><span class="delimiter">(</span><a href="#94780" title="scales.xml.QName">qname</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Serialisation and other dsl friends benefit from this
   */</span> 
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromElemToTree : (elem: scales.xml.Elem)scales.xml.package.XmlTree" id="91362">fromElemToTree</a><span class="delimiter">(</span> <a title="scales.xml.Elem" id="94778">elem</a> : <a href="XmlTypes.scala.html#12342" title="scales.xml.Elem">Elem</a> <span class="delimiter">)</span> : <a href="../utils/Trees.scala.html#11328" title="scales.xml.package.XmlTree">XmlTree</a> = <a href="#12286" title="object scales.xml.DslBuilder">DslBuilder</a>.<a href="#94670" title="(elem: scales.xml.Elem)scales.xml.package.XmlTree">elem2tree</a><span class="delimiter">(</span><a href="#94778" title="scales.xml.Elem">elem</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Allows direct use of text where expected
   */</span> 
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromStringToText : (value: String)scales.xml.Text" id="91363">fromStringToText</a><span class="delimiter">(</span> <a title="String" id="94776">value</a> : <span title="String">String</span> <span class="delimiter">)</span>: <a href="XmlTypes.scala.html#12753" title="scales.xml.Text">Text</a> = <a href="XmlTypes.scala.html#96668" title="(value: String)scales.xml.Text">Text</a><span class="delimiter">(</span><a href="#94776" title="String">value</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Only works for elems, allows simpler definitions.  Not sure of its usefulness outside of tests though
  implicit def fromQNameToItemOrTree( qname : QName) : ItemOrElem = DslBuilder.q2tree(qname)//Right()
   */</span>

  <span class="comment">/**
   * Only works for elems, better looking than &lt;
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromQNameToBuilder : (qname: scales.xml.QName)scales.xml.DslBuilder" id="91364">fromQNameToBuilder</a><span class="delimiter">(</span> <a title="scales.xml.QName" id="94728">qname</a> : <a href="QName.scala.html#12672" title="scales.xml.QName">QName</a><span class="delimiter">)</span> = <a href="#94732" title="(qname: scales.xml.QName)scales.xml.DslBuilder">&lt;</a><span class="delimiter">(</span><a href="#94728" title="scales.xml.QName">qname</a><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class QNameMatcher extends java.lang.Object with ScalaObject" id="91365">QNameMatcher</a><a href="#91365" title="ScalaObject" class="delimiter">(</a><a title="scales.xml.QName" id="100807">qname</a> : <a href="QName.scala.html#12672" title="scales.xml.QName">QName</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="ScalesXml.scala.html#12739" title="object scales.xml.ScalesXml">ScalesXml</a>._
    <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)Option[scales.xml.Elem]" id="100803">unapply</a><span class="delimiter">(</span> <a title="scales.xml.Elem" id="100808">elem</a> : <a href="XmlTypes.scala.html#12342" title="scales.xml.Elem">Elem</a> <span class="delimiter">)</span> : <span title="Option[scales.xml.Elem]">Option</span><span class="delimiter">[</span>Elem<span class="delimiter">]</span> = <span title="Option[scales.xml.Elem]" class="keyword">if</span> <span class="delimiter">(</span><a href="#100808" title="scales.xml.Elem">elem</a>.<a href="XmlTypes.scala.html#91283" title="=&gt; scales.xml.QName">name</a> <a href="QName.scala.html#90877" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#100807" title="scales.xml.QName">qname</a><span class="delimiter">)</span> <span title="(x: scales.xml.Elem)Some[scales.xml.Elem]">Some</span><span class="delimiter">(</span><a href="#100808" title="scales.xml.Elem">elem</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="object None">None</span>
    <span class="keyword">def</span> <a title="(attrib: scales.xml.Attribute)Option[scales.xml.Attribute]" id="100804">unapply</a><span class="delimiter">(</span> <a title="scales.xml.Attribute" id="100813">attrib</a> : <a href="XmlTypes.scala.html#12036" title="scales.xml.Attribute">Attribute</a> <span class="delimiter">)</span> : <span title="Option[scales.xml.Attribute]">Option</span><span class="delimiter">[</span>Attribute<span class="delimiter">]</span> = <span title="Option[scales.xml.Attribute]" class="keyword">if</span> <span class="delimiter">(</span><a href="XmlTypesDefaults.scala.html#91321" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">toQName</a><span class="delimiter">(</span><a href="#100813" title="scales.xml.Attribute">attrib</a>.<a href="XmlTypes.scala.html#91203" title="=&gt; scales.xml.package.AttributeQName">name</a><span class="delimiter">)</span> <a href="QName.scala.html#90877" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#100807" title="scales.xml.QName">qname</a><span class="delimiter">)</span> <span title="(x: scales.xml.Attribute)Some[scales.xml.Attribute]">Some</span><span class="delimiter">(</span><a href="#100813" title="scales.xml.Attribute">attrib</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="object None">None</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class QNameMPimper extends java.lang.Object with ScalaObject" id="91366">QNameMPimper</a><a href="#91366" title="ScalaObject" class="delimiter">(</a> <a title="scales.xml.QName" id="94727">qname</a> : <a href="QName.scala.html#12672" title="scales.xml.QName">QName</a> <span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; DslImplicits.this.QNameMatcher" id="94725">m</a> = <span title="DslImplicits.this.QNameMatcher" class="keyword">new</span> <a href="#91365" title="DslImplicits.this.QNameMatcher">QNameMatcher</a><span class="delimiter">(</span><a href="#94727" title="scales.xml.QName">qname</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; DslImplicits.this.QNameMatcher" id="94726">matcher</a> = <a href="#94725" title="=&gt; DslImplicits.this.QNameMatcher">m</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * matches elements and attributes based on qname only
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromQNameToQNameMatcher : (qname: scales.xml.QName)DslImplicits.this.QNameMPimper" id="91367">fromQNameToQNameMatcher</a><span class="delimiter">(</span> <a title="scales.xml.QName" id="94719">qname</a> : <a href="QName.scala.html#12672" title="scales.xml.QName">QName</a><span class="delimiter">)</span> = <span title="DslImplicits.this.QNameMPimper" class="keyword">new</span> <a href="#91366" title="DslImplicits.this.QNameMPimper">QNameMPimper</a><span class="delimiter">(</span><a href="#94719" title="scales.xml.QName">qname</a><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromTreeToDsl : (tree: scales.xml.package.XmlTree)scales.xml.DslBuilder" id="91368">fromTreeToDsl</a><span class="delimiter">(</span> <a title="scales.xml.package.XmlTree" id="94666">tree</a>: <a href="../utils/Trees.scala.html#11328" title="scales.xml.package.XmlTree">XmlTree</a> <span class="delimiter">)</span> = <a href="#94673" title="(tree: scales.xml.package.XmlTree)scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#94666" title="scales.xml.package.XmlTree">tree</a><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class NamespaceMatcher extends java.lang.Object with ScalaObject" id="91369">NamespaceMatcher</a><a href="#91369" title="ScalaObject" class="delimiter">(</a><a title="scales.xml.Namespace" id="100834">ns</a> : <a href="Namespaces.scala.html#12432" title="scales.xml.Namespace">Namespace</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="ScalesXml.scala.html#12739" title="object scales.xml.ScalesXml">ScalesXml</a>._
    <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)Option[scales.xml.Elem]" id="100830">unapply</a><span class="delimiter">(</span> <a title="scales.xml.Elem" id="100835">elem</a> : <a href="XmlTypes.scala.html#12342" title="scales.xml.Elem">Elem</a> <span class="delimiter">)</span> : <span title="Option[scales.xml.Elem]">Option</span><span class="delimiter">[</span>Elem<span class="delimiter">]</span> = 
      <span title="Option[scales.xml.Elem]" class="keyword">if</span> <span class="delimiter">(</span><a href="#100835" title="scales.xml.Elem">elem</a>.<a href="XmlTypes.scala.html#91283" title="=&gt; scales.xml.QName">name</a>.<a href="QName.scala.html#90868" title="=&gt; scales.xml.UnderlyingNamespace">namespace</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#100834" title="scales.xml.Namespace">ns</a><span class="delimiter">)</span> <span title="(x: scales.xml.Elem)Some[scales.xml.Elem]">Some</span><span class="delimiter">(</span><a href="#100835" title="scales.xml.Elem">elem</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="object None">None</span>
    <span class="keyword">def</span> <a title="(attrib: scales.xml.Attribute)Option[scales.xml.Attribute]" id="100831">unapply</a><span class="delimiter">(</span> <a title="scales.xml.Attribute" id="100845">attrib</a> : <a href="XmlTypes.scala.html#12036" title="scales.xml.Attribute">Attribute</a> <span class="delimiter">)</span> : <span title="Option[scales.xml.Attribute]">Option</span><span class="delimiter">[</span>Attribute<span class="delimiter">]</span> = 
      <span title="Option[scales.xml.Attribute]" class="keyword">if</span> <span class="delimiter">(</span><a href="XmlTypesDefaults.scala.html#91321" title="implicit scales.xml.XmlTypesImplicits.toQName : (attribQName: scales.xml.package.AttributeQName)scales.xml.QName">toQName</a><span class="delimiter">(</span><a href="#100845" title="scales.xml.Attribute">attrib</a>.<a href="XmlTypes.scala.html#91203" title="=&gt; scales.xml.package.AttributeQName">name</a><span class="delimiter">)</span>.<a href="QName.scala.html#90868" title="=&gt; scales.xml.UnderlyingNamespace">namespace</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#100834" title="scales.xml.Namespace">ns</a><span class="delimiter">)</span> <span title="(x: scales.xml.Attribute)Some[scales.xml.Attribute]">Some</span><span class="delimiter">(</span><a href="#100845" title="scales.xml.Attribute">attrib</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="object None">None</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class NSMPimper extends java.lang.Object with ScalaObject" id="91370">NSMPimper</a><a href="#91370" title="ScalaObject" class="delimiter">(</a> <a title="scales.xml.Namespace" id="94665">ns</a> : <a href="Namespaces.scala.html#12432" title="scales.xml.Namespace">Namespace</a> <span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; DslImplicits.this.NamespaceMatcher" id="94663">m</a> = <span title="DslImplicits.this.NamespaceMatcher" class="keyword">new</span> <a href="#91369" title="DslImplicits.this.NamespaceMatcher">NamespaceMatcher</a><span class="delimiter">(</span><a href="#94665" title="scales.xml.Namespace">ns</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; DslImplicits.this.NamespaceMatcher" id="94664">matcher</a> = <a href="#94663" title="=&gt; DslImplicits.this.NamespaceMatcher">m</a>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scales.xml.DslImplicits.fromNSToNSMPimper : (ns: scales.xml.Namespace)DslImplicits.this.NSMPimper" id="91371">fromNSToNSMPimper</a><span class="delimiter">(</span> <a title="scales.xml.Namespace" id="94657">ns</a> : <a href="Namespaces.scala.html#12432" title="scales.xml.Namespace">Namespace</a> <span class="delimiter">)</span> = <span title="DslImplicits.this.NSMPimper" class="keyword">new</span> <a href="#91370" title="DslImplicits.this.NSMPimper">NSMPimper</a><span class="delimiter">(</span><a href="#94657" title="scales.xml.Namespace">ns</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait XPathMatcher extends java.lang.Object with ScalaObject" id="13110">XPathMatcher</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="comment">/**
   * Wrap xpaths into matches, gives back the resulting path if its non empty
   */</span> 
  <span class="keyword">def</span> <a title="[T](pathEval: scales.xml.package.XmlTree =&gt; T)(implicit evidence$1: T =&gt; Boolean)scales.utils.package.BooleanMatcher[scales.xml.package.XmlTree,T]" id="100866">pathMatcher</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="15904">T</a> : AsBoolean<span class="delimiter">]</span><span class="delimiter">(</span> <a title="scales.xml.package.XmlTree =&gt; T" id="100865">pathEval</a> : <span class="delimiter">(</span>XmlTree<span class="delimiter">)</span> =&gt; T <span class="delimiter">)</span> = <a href="../utils/AsBoolean.scala.html#15472" title="[X, T](eval: X =&gt; T)(implicit evidence$4: T =&gt; Boolean)scales.utils.package.BooleanMatcher[X,T]">booleanMatcher</a><span title="(eval: scales.xml.package.XmlTree =&gt; T)(implicit evidence$4: T =&gt; Boolean)scales.utils.package.BooleanMatcher[scales.xml.package.XmlTree,T]" class="delimiter">[</span><a href="../utils/Trees.scala.html#11328" title="scales.xml.package.XmlTree">XmlTree</a>, <a href="#15904" title="T">T</a><span class="delimiter">]</span><a href="#100866" title="T =&gt; Boolean" class="delimiter">(</a><a href="#100865" title="scales.xml.package.XmlTree =&gt; T">pathEval</a><span class="delimiter">)</span>

  
  <span class="comment">/**
   * Wrap xpaths into matches, gives back the resulting path if its non empty
   * and the tree that matched it (doesn't force the user to create a val name beforehand)
   */</span> 
  <span class="keyword">def</span> <a title="[T](pathEval: scales.xml.package.XmlTree =&gt; T)(implicit evidence$2: T =&gt; Boolean)scales.utils.package.BooleanAndTMatcher[scales.xml.package.XmlTree,T]" id="100878">pathAndTreeMatcher</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="15907">T</a> : AsBoolean<span class="delimiter">]</span><span class="delimiter">(</span> <a title="scales.xml.package.XmlTree =&gt; T" id="100877">pathEval</a> : <span class="delimiter">(</span>XmlTree<span class="delimiter">)</span> =&gt; T <span class="delimiter">)</span> = <a href="../utils/AsBoolean.scala.html#15477" title="[X, T](eval: X =&gt; T)(implicit evidence$5: T =&gt; Boolean)scales.utils.package.BooleanAndTMatcher[X,T]">booleanAndTMatcher</a><span title="(eval: scales.xml.package.XmlTree =&gt; T)(implicit evidence$5: T =&gt; Boolean)scales.utils.package.BooleanAndTMatcher[scales.xml.package.XmlTree,T]" class="delimiter">[</span><a href="../utils/Trees.scala.html#11328" title="scales.xml.package.XmlTree">XmlTree</a>, <a href="#15907" title="T">T</a><span class="delimiter">]</span><a href="#100878" title="T =&gt; Boolean" class="delimiter">(</a><a href="#100877" title="scales.xml.package.XmlTree =&gt; T">pathEval</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object scales.xml.&lt;" id="12019">&lt;</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(qname: scales.xml.QName)scales.xml.DslBuilder" id="94732">apply</a><span class="delimiter">(</span><a title="scales.xml.QName" id="94747">qname</a> : <a href="QName.scala.html#12672" title="scales.xml.QName">QName</a><span class="delimiter">)</span> = <a href="#94672" title="(elem: scales.xml.Elem)scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="XmlTypes.scala.html#91299" title="(namei: scales.xml.QName, attributesi: scales.xml.package.Attributes, namespacesi: scala.collection.immutable.Map[String,String])(implicit fromParser: scales.xml.FromParser)scales.xml.Elem">Elem</a><a href="XmlTypesDefaults.scala.html#91329" title="=&gt; scales.xml.FromParser" class="delimiter">(</a><a href="#94747" title="scales.xml.QName">qname</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)scales.xml.DslBuilder" id="94733">apply</a><span class="delimiter">(</span><a title="scales.xml.Elem" id="94736">elem</a> : <a href="XmlTypes.scala.html#12342" title="scales.xml.Elem">Elem</a><span class="delimiter">)</span> = <a href="#94672" title="(elem: scales.xml.Elem)scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#94736" title="scales.xml.Elem">elem</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">protected</span><span class="delimiter">[</span>xml<span class="delimiter">]</span> <span class="keyword">object</span> <a title="object scales.xml.DslBuilder" id="12286">DslBuilder</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)scales.xml.package.XmlTree" id="94670">elem2tree</a><span class="delimiter">(</span> <a title="scales.xml.Elem" id="94711">elem</a> : <a href="XmlTypes.scala.html#12342" title="scales.xml.Elem">Elem</a> <span class="delimiter">)</span> : <a href="../utils/Trees.scala.html#11328" title="scales.xml.package.XmlTree">XmlTree</a> = <a href="../utils/package.scala.html#15442" title="[Item &lt;: scales.utils.LeftLike[Item,scales.utils.Tree[Item,Section,CC]], Section, CC[A] &lt;: scala.collection.IndexedSeqLike[A,CC[A]]](section: Section, children: CC[scales.utils.package.ItemOrTree[Item,Section,CC]])(implicit cbf: scales.utils.package.TreeCBF[Item,Section,CC])scales.utils.package.ItemOrTree[Item,Section,CC]">subtree</a><span title="(section: scales.xml.Elem, children: scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]])(implicit cbf: scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" class="delimiter">[</span><a href="XmlTypes.scala.html#12876" title="scales.xml.XmlItem">XmlItem</a>, <a href="XmlTypes.scala.html#12342" title="scales.xml.Elem">Elem</a>, <a href="../utils/ImmutableArray.scala.html#10533" title="scales.xml.package.XCC">XCC</a><span class="delimiter">]</span><a href="XmlTypesDefaults.scala.html#91325" title="=&gt; scales.xml.package.XmlCBF" class="delimiter">(</a><a href="#94711" title="scales.xml.Elem">elem</a>,<a href="XmlTypesDefaults.scala.html#15842" title="=&gt; scales.utils.ImmutableArrayProxy[scales.utils.EitherLike[scales.xml.XmlItem,scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">emptyChildren</a><span class="delimiter">)</span>.<a href="../utils/EitherLike.scala.html#44397" title="=&gt; scales.utils.RightLikeProjection[scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">right</a>.<a href="../utils/EitherLike.scala.html#44377" title="=&gt; scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">get</a>
  <span class="keyword">def</span> <a title="(qname: scales.xml.QName)scales.xml.package.XmlTree" id="94671">q2tree</a><span class="delimiter">(</span> <a title="scales.xml.QName" id="94783">qname</a> : <a href="QName.scala.html#12672" title="scales.xml.QName">QName</a> <span class="delimiter">)</span> = <a href="#94670" title="(elem: scales.xml.Elem)scales.xml.package.XmlTree">elem2tree</a><span class="delimiter">(</span><a href="XmlTypes.scala.html#91299" title="(namei: scales.xml.QName, attributesi: scales.xml.package.Attributes, namespacesi: scala.collection.immutable.Map[String,String])(implicit fromParser: scales.xml.FromParser)scales.xml.Elem">Elem</a><a href="XmlTypesDefaults.scala.html#91329" title="=&gt; scales.xml.FromParser" class="delimiter">(</a><a href="#94783" title="scales.xml.QName">qname</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(elem: scales.xml.Elem)scales.xml.DslBuilder" id="94672">apply</a><span class="delimiter">(</span> <a title="scales.xml.Elem" id="94708">elem</a> : <a href="XmlTypes.scala.html#12342" title="scales.xml.Elem">Elem</a> <span class="delimiter">)</span> = <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#94670" title="(elem: scales.xml.Elem)scales.xml.package.XmlTree">elem2tree</a><span class="delimiter">(</span><a href="#94708" title="scales.xml.Elem">elem</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(tree: scales.xml.package.XmlTree)scales.xml.DslBuilder" id="94673">apply</a><span class="delimiter">(</span> <a title="scales.xml.package.XmlTree" id="94676">tree</a> : <a href="../utils/Trees.scala.html#11328" title="scales.xml.package.XmlTree">XmlTree</a> <span class="delimiter">)</span> = <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#94676" title="scales.xml.package.XmlTree">tree</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Simple runtime Wrapper around folds
 */</span> 
case <span class="keyword">class</span> <a title="class FoldErrorException extends java.lang.RuntimeException with ScalaObject with Product with Serializable" id="101803">FoldErrorException</a><a href="#101803" title="ScalaObject" class="delimiter">(</a><a title="scales.utils.FoldError" id="101800">error</a> : <a href="../utils/PathFolds.scala.html#10464" title="scales.utils.FoldError">FoldError</a><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="java.lang.RuntimeException">RuntimeException</span>

<span class="comment">/*
 * Must have a starting element, modelled as tree as we need to keep the data around and trees must always have an elem
 */</span>
<span class="keyword">class</span> <a title="class DslBuilder extends java.lang.Object with ScalaObject" id="12285">DslBuilder</a> <a href="#12285" title="ScalaObject" class="keyword">private</a><span class="delimiter">(</span> <a title="scales.xml.package.XmlTree" id="94707">tree</a> : <a href="../utils/Trees.scala.html#11328" title="scales.xml.package.XmlTree">XmlTree</a> <span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="ScalesXml.scala.html#12739" title="object scales.xml.ScalesXml">ScalesXml</a>._
  <span class="comment">/**
   * Add attributes
   */</span> 
  <span class="keyword">def</span> <a title="(attribs: scales.xml.Attribute*)scales.xml.DslBuilder" id="94683">/@</a><span class="delimiter">(</span><a title="scales.xml.Attribute*" id="100958">attribs</a> : <span title="scales.xml.Attribute*">Attribute</span>*<span class="delimiter">)</span> = <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83054" title="(section: scales.xml.Elem, children: scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]])scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">copy</a><span class="delimiter">(</span>section = <a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83052" title="scales.xml.Elem" id="100971">section</a>.<a href="XmlTypes.scala.html#100968" title="scales.xml.QName" id="101063">copy</a> <a href="XmlTypesDefaults.scala.html#91329" title="=&gt; scales.xml.FromParser" class="delimiter">(</a>attributes = <a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83052" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#91284" title="=&gt; scales.xml.package.Attributes">attributes</a> <a href="../utils/ListSet.scala.html#75143" title="scales.utils.ListSet[scales.xml.Attribute]" id="101061">++</a> <a href="#100958" title="scales.xml.Attribute*">attribs</a><span class="delimiter">)</span> <span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Add attributes
   */</span> 
  <span class="keyword">def</span> <a title="(attribs: =&gt; Iterable[scales.xml.Attribute])scales.xml.DslBuilder" id="94684">/@</a><span class="delimiter">(</span><a title="=&gt; Iterable[scales.xml.Attribute]" id="101064">attribs</a> : =&gt; Iterable<span class="delimiter">[</span>Attribute<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a> = <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83054" title="(section: scales.xml.Elem, children: scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]])scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">copy</a><span class="delimiter">(</span>section = <a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83052" title="scales.xml.Elem" id="101066">section</a>.<a href="XmlTypes.scala.html#100968" title="scales.xml.QName" id="101142">copy</a> <a href="XmlTypesDefaults.scala.html#91329" title="=&gt; scales.xml.FromParser" class="delimiter">(</a>attributes = <a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83052" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#91284" title="=&gt; scales.xml.package.Attributes">attributes</a> <a href="../utils/ListSet.scala.html#75143" title="scales.utils.ListSet[scales.xml.Attribute]" id="101140">++</a> <a href="#101064" title="=&gt; Iterable[scales.xml.Attribute]">attribs</a><span class="delimiter">)</span> <span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Optionally add a single attribute, when None no attribute will be added
   */</span>
  <span class="keyword">def</span> <a title="(attrib: Option[scales.xml.Attribute])scales.xml.DslBuilder" id="94685">/@</a><span class="delimiter">(</span><a title="Option[scales.xml.Attribute]" id="101143">attrib</a> : <span title="Option[scales.xml.Attribute]">Option</span><span class="delimiter">[</span>Attribute<span class="delimiter">]</span><span class="delimiter">)</span> = 
    <a href="#101143" title="Option[scales.xml.Attribute]">attrib</a>.<span title="(f: scales.xml.Attribute =&gt; scales.xml.DslBuilder)Option[scales.xml.DslBuilder]">map</span><span class="delimiter">{</span> <a title="scales.xml.Attribute" id="101150">a</a> =&gt; 
      <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83054" title="(section: scales.xml.Elem, children: scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]])scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">copy</a><span class="delimiter">(</span>section = <a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83052" title="scales.xml.Elem" id="101151">section</a>.<a href="XmlTypes.scala.html#100968" title="scales.xml.QName" id="101164">copy</a> <a href="XmlTypesDefaults.scala.html#91329" title="=&gt; scales.xml.FromParser" class="delimiter">(</a>attributes = <a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83052" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#91284" title="=&gt; scales.xml.package.Attributes">attributes</a> <a href="../utils/ListSet.scala.html#75164" title="scales.utils.ListSet[scales.xml.Attribute]" id="101162">+</a> <a href="#101150" title="scales.xml.Attribute">a</a><span class="delimiter">)</span> <span class="delimiter">)</span><span class="delimiter">)</span>
	     <span class="delimiter">}</span>.<span title="(default: =&gt; scales.xml.DslBuilder)scales.xml.DslBuilder">getOrElse</span><span class="delimiter">{</span><a href="#12285" title="scales.xml.DslBuilder" class="keyword">this</a><span class="delimiter">}</span>

  <span class="comment">/**
   * Remove attributes
   */</span>
  <span class="keyword">def</span> <a title="(attribs: scales.xml.QName*)scales.xml.DslBuilder" id="94686">-/@</a><span class="delimiter">(</span><a title="scales.xml.QName*" id="101171">attribs</a> : <span title="scales.xml.QName*">QName</span>*<span class="delimiter">)</span> = <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83054" title="(section: scales.xml.Elem, children: scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]])scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">copy</a><span class="delimiter">(</span>section = <a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83052" title="scales.xml.Elem" id="101174">section</a>.<a href="XmlTypes.scala.html#100968" title="scales.xml.QName" id="101275">copy</a> <a href="XmlTypesDefaults.scala.html#91329" title="=&gt; scales.xml.FromParser" class="delimiter">(</a>attributes = <a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83052" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#91284" title="=&gt; scales.xml.package.Attributes">attributes</a> <a href="../utils/ListSet.scala.html#75145" title="scales.utils.ListSet[scales.xml.Attribute]" id="101273">--</a> <a href="#101171" title="scales.xml.QName*">attribs</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  
  <span class="keyword">def</span> <a title="(itemOrElems: scales.xml.package.ItemOrElem*)scales.xml.DslBuilder" id="94687">add</a><span class="delimiter">(</span> <a title="scales.xml.package.ItemOrElem*" id="101276">itemOrElems</a> : <span title="scales.xml.package.ItemOrElem*">ItemOrElem</span> * <span class="delimiter">)</span> = <a href="#94700" title="(itemOrElems: scales.xml.package.ItemOrElem*)scales.xml.DslBuilder">/</a><span class="delimiter">(</span> <a href="#101276" title="scales.xml.package.ItemOrElem*">itemOrElems</a> :_* <span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(itemOrElems: =&gt; Iterable[scales.xml.package.ItemOrElem])scales.xml.DslBuilder" id="94688">/</a><span class="delimiter">(</span> <a title="=&gt; Iterable[scales.xml.package.ItemOrElem]" id="101394">itemOrElems</a> : =&gt; Iterable<span class="delimiter">[</span>ItemOrElem<span class="delimiter">]</span> <span class="delimiter">)</span> : <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a> =
    <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#90074" title="scales.xml.Elem" id="101439">copy</a><span class="delimiter">(</span> children = <span class="delimiter">(</span><a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83053" title="=&gt; scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">children</a> <a href="XmlTypesDefaults.scala.html#91325" title="scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" id="101438">++</a> <a href="#101394" title="=&gt; Iterable[scales.xml.package.ItemOrElem]">itemOrElems</a>  <span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Optionally add a child, when None no child we be added
   */</span>
  <span class="keyword">def</span> <a title="(itemOrElem: Option[scales.xml.package.ItemOrElem])scales.xml.DslBuilder" id="94689">/</a><span class="delimiter">(</span> <a title="Option[scales.xml.package.ItemOrElem]" id="101346">itemOrElem</a> : <span title="Option[scales.xml.package.ItemOrElem]">Option</span><span class="delimiter">[</span>ItemOrElem<span class="delimiter">]</span> <span class="delimiter">)</span> = 
    <a href="#101346" title="Option[scales.xml.package.ItemOrElem]">itemOrElem</a>.<span title="(f: scales.xml.package.ItemOrElem =&gt; scales.xml.DslBuilder)Option[scales.xml.DslBuilder]">map</span><span class="delimiter">{</span> <a title="scales.xml.package.ItemOrElem" id="101353">i</a> =&gt; 
      <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#90074" title="scales.xml.Elem" id="101389">copy</a><span class="delimiter">(</span> children = <span class="delimiter">(</span><a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83053" title="=&gt; scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">children</a> <a href="XmlTypesDefaults.scala.html#91325" title="scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" id="101388">:+</a> <a href="#101353" title="scales.xml.package.ItemOrElem">i</a>  <span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
		 <span class="delimiter">}</span>.<span title="(default: =&gt; scales.xml.DslBuilder)scales.xml.DslBuilder">getOrElse</span><span class="delimiter">{</span><a href="#12285" title="scales.xml.DslBuilder" class="keyword">this</a><span class="delimiter">}</span>

  <span class="comment">/**
   * Fold over the current tree, allows folding deep within a builder.  Either the fold works or `this` is returned with the FoldError.
   */</span> 
  <span class="keyword">def</span> <a title="[T &lt;: Iterable[scales.xml.package.XmlPath]](xpath: scales.xml.package.XmlPath =&gt; scales.xml.XPath[T])(folder: scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])Either[scales.xml.DslBuilder,(scales.xml.DslBuilder, scales.utils.FoldError)]" id="94690">fold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Iterable[scales.xml.package.XmlPath]" id="94692">T</a> &lt;: Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span> <a title="scales.xml.package.XmlPath =&gt; scales.xml.XPath[T]" id="101440">xpath</a> : XmlPath =&gt; XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span> <a title="scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="101441">folder</a>: <span class="delimiter">(</span>XmlPath<span class="delimiter">)</span> =&gt; FoldOperation<span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span> <span class="delimiter">)</span> : <span title="Either[scales.xml.DslBuilder,(scales.xml.DslBuilder, scales.utils.FoldError)]">Either</span><span class="delimiter">[</span>DslBuilder, <span class="delimiter">(</span>DslBuilder, FoldError<span class="delimiter">)</span><span class="delimiter">]</span> = 
    <span class="delimiter">(</span><a href="../utils/PathFunctions.scala.html#15630" title="(locations: Iterable[scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]])(folder: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC] =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])(implicit cbf: scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], implicit cm: ClassManifest[(scales.utils.Position[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC], scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])])Paths.this.FoldR[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">foldPositions</a><span class="delimiter">(</span> <a href="XmlPaths.scala.html#15884" title="(xpath: scales.xml.XPath[T])Iterable[scales.xml.package.XmlPath]">raw</a><span class="delimiter">(</span> <a href="#101440" title="(v1: scales.xml.package.XmlPath)scales.xml.XPath[T]">xpath</a><span class="delimiter">(</span> <a href="../utils/PathFunctions.scala.html#15685" title="(tree: scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])(implicit cbf: scales.utils.package.TreeCBF[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">top</a><a href="XmlTypesDefaults.scala.html#91325" title="=&gt; scales.xml.package.XmlCBF" class="delimiter">(</a><a href="#94707" title="scales.xml.package.XmlTree">tree</a><span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">)</span><a href="XmlTypesDefaults.scala.html#91325" title="=&gt; scales.xml.package.XmlCBF" class="delimiter">(</a><a href="#101441" title="scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">folder</a><span class="delimiter">)</span><span class="delimiter">)</span>.
      <span title="(fa: scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC] =&gt; Product with Serializable with Either[scales.xml.DslBuilder,(scales.xml.DslBuilder, scales.utils.FoldError)], fb: scales.utils.FoldError =&gt; Product with Serializable with Either[scales.xml.DslBuilder,(scales.xml.DslBuilder, scales.utils.FoldError)])Product with Serializable with Either[scales.xml.DslBuilder,(scales.xml.DslBuilder, scales.utils.FoldError)]">fold</span><span class="delimiter">(</span> <a title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="101559">x</a> =&gt; <span title="(a: scales.xml.DslBuilder)Left[scales.xml.DslBuilder,Nothing]">Left</span><span class="delimiter">(</span><span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#101559" title="scales.utils.Path[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">x</a>.<a href="../utils/Paths.scala.html#44365" title="()scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a> <span class="delimiter">)</span><span class="delimiter">)</span>, <a title="scales.utils.FoldError" id="101565">y</a> =&gt; <span title="(b: (scales.xml.DslBuilder, scales.utils.FoldError))Right[Nothing,(scales.xml.DslBuilder, scales.utils.FoldError)]">Right</span><span class="delimiter">(</span><span title="(_1: scales.xml.DslBuilder, _2: scales.utils.FoldError)(scales.xml.DslBuilder, scales.utils.FoldError)" class="delimiter">(</span><a href="#12285" title="scales.xml.DslBuilder" class="keyword">this</a>,<a href="#101565" title="scales.utils.FoldError">y</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span>

  <span class="comment">/**
   * fold_! calls fold but throws the error when its returning a root
   */</span>
  <span class="keyword">def</span> <a title="[T &lt;: Iterable[scales.xml.package.XmlPath]](xpath: scales.xml.package.XmlPath =&gt; scales.xml.XPath[T])(folder: scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])scales.xml.DslBuilder" id="94693">fold_!</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Iterable[scales.xml.package.XmlPath]" id="94695">T</a> &lt;: Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span> <a title="scales.xml.package.XmlPath =&gt; scales.xml.XPath[T]" id="101590">xpath</a> : XmlPath =&gt; XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span> <a title="scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="101591">folder</a>: <span class="delimiter">(</span>XmlPath<span class="delimiter">)</span> =&gt; FoldOperation<span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span> <span class="delimiter">)</span> : <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a> =
    <span class="delimiter">(</span><a href="#94690" title="(xpath: scales.xml.package.XmlPath =&gt; scales.xml.XPath[T])(folder: scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])Either[scales.xml.DslBuilder,(scales.xml.DslBuilder, scales.utils.FoldError)]">fold</a><span class="delimiter">(</span><a href="#101590" title="scales.xml.package.XmlPath =&gt; scales.xml.XPath[T]">xpath</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#101591" title="scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">folder</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(fa: scales.xml.DslBuilder =&gt; scales.xml.DslBuilder, fb: ((scales.xml.DslBuilder, scales.utils.FoldError)) =&gt; scales.xml.DslBuilder)scales.xml.DslBuilder">fold</span><span class="delimiter">(</span><a href="#101605" title="(x: scales.xml.DslBuilder)scales.xml.DslBuilder">identity</a>, <a title="(scales.xml.DslBuilder, scales.utils.FoldError)" id="101609">x</a> =&gt; <span title="Nothing" class="keyword">throw</span> <span title="scales.xml.FoldErrorException" class="keyword">new</span> <a href="#101803" title="scales.xml.FoldErrorException">FoldErrorException</a><span class="delimiter">(</span><a href="#101609" title="(scales.xml.DslBuilder, scales.utils.FoldError)">x</a>.<span title="=&gt; scales.utils.FoldError">_2</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Does not throw when NoPaths is returned, simply returning this
   */</span> 
  <span class="keyword">def</span> <a title="[T &lt;: Iterable[scales.xml.package.XmlPath]](xpath: scales.xml.package.XmlPath =&gt; scales.xml.XPath[T])(folder: scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])scales.xml.DslBuilder" id="94696">fold_?</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Iterable[scales.xml.package.XmlPath]" id="94698">T</a> &lt;: Iterable<span class="delimiter">[</span>XmlPath<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span> <a title="scales.xml.package.XmlPath =&gt; scales.xml.XPath[T]" id="101612">xpath</a> : XmlPath =&gt; XPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span> <a title="scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="101613">folder</a>: <span class="delimiter">(</span>XmlPath<span class="delimiter">)</span> =&gt; FoldOperation<span class="delimiter">[</span>XmlItem, Elem, XCC<span class="delimiter">]</span> <span class="delimiter">)</span> : <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a> =
    <span class="delimiter">(</span><a href="#94690" title="(xpath: scales.xml.package.XmlPath =&gt; scales.xml.XPath[T])(folder: scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC])Either[scales.xml.DslBuilder,(scales.xml.DslBuilder, scales.utils.FoldError)]">fold</a><span class="delimiter">(</span><a href="#101612" title="scales.xml.package.XmlPath =&gt; scales.xml.XPath[T]">xpath</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#101613" title="scales.xml.package.XmlPath =&gt; scales.utils.FoldOperation[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">folder</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(fa: scales.xml.DslBuilder =&gt; scales.xml.DslBuilder, fb: ((scales.xml.DslBuilder, scales.utils.FoldError)) =&gt; scales.xml.DslBuilder)scales.xml.DslBuilder">fold</span><span class="delimiter">(</span><a href="#101625" title="(x: scales.xml.DslBuilder)scales.xml.DslBuilder">identity</a>, <a title="(scales.xml.DslBuilder, scales.utils.FoldError)" id="101629">x</a> =&gt; 
      <span title="scales.xml.DslBuilder" class="keyword">if</span> <span class="delimiter">(</span><a href="#101629" title="(scales.xml.DslBuilder, scales.utils.FoldError)">x</a>.<span title="=&gt; scales.utils.FoldError">_2</span> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../utils/PathFolds.scala.html#11053" title="object scales.utils.NoPaths">NoPaths</a><span class="delimiter">)</span> 
	<a href="#12285" title="scales.xml.DslBuilder" class="keyword">this</a>
      <span class="keyword">else</span> <span title="Nothing" class="keyword">throw</span> <span title="scales.xml.FoldErrorException" class="keyword">new</span> <a href="#101803" title="scales.xml.FoldErrorException">FoldErrorException</a><span class="delimiter">(</span><a href="#101629" title="(scales.xml.DslBuilder, scales.utils.FoldError)">x</a>.<span title="=&gt; scales.utils.FoldError">_2</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * any qname will do given its elems
   */</span>
  <span class="keyword">def</span> <a title="(qname: scales.xml.QName)scales.xml.DslBuilder" id="94699">-/</a><span class="delimiter">(</span> <a title="scales.xml.QName" id="101632">qname</a> : <a href="QName.scala.html#12672" title="scales.xml.QName">QName</a> <span class="delimiter">)</span> = <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#90074" title="scales.xml.Elem" id="101653">copy</a><span class="delimiter">(</span>children = <a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83053" title="=&gt; scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">children</a>.<span title="(p: scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC] =&gt; Boolean)scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">filterNot</span><a title="scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" id="101652" class="delimiter">{</a>
    <a title="scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="101640">either</a> =&gt;
      <a href="#101640" title="scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">either</a>.<a href="../utils/EitherLike.scala.html#44392" title="(fl: scales.xml.XmlItem =&gt; Boolean, fr: scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC] =&gt; Boolean)Boolean">fold</a><span class="delimiter">(</span> <a title="scales.xml.XmlItem" id="101647">item</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>, <a title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="101649">tree</a> =&gt; <a href="#101649" title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">tree</a>.<a href="../utils/Trees.scala.html#83052" title="=&gt; scales.xml.Elem">section</a>.<a href="XmlTypes.scala.html#91283" title="=&gt; scales.xml.QName">name</a> <a href="QName.scala.html#90877" title="(other: scales.xml.QName)Boolean">=:=</a> <a href="#101632" title="scales.xml.QName">qname</a><span class="delimiter">)</span>
  <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Add a number of xmlITems, text, cdata, comments etc, the two params is to get around /(Seq) erasures.
   */</span>
  <span class="keyword">def</span> <a title="(itemOrElems: scales.xml.package.ItemOrElem*)scales.xml.DslBuilder" id="94700">/</a><span class="delimiter">(</span> <a title="scales.xml.package.ItemOrElem*" id="101283">itemOrElems</a> : <span title="scales.xml.package.ItemOrElem*">ItemOrElem</span> * <span class="delimiter">)</span> = 
    <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#90074" title="scales.xml.Elem" id="101345">copy</a><span class="delimiter">(</span> children = <span class="delimiter">(</span><a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83053" title="=&gt; scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">children</a> <a href="XmlTypesDefaults.scala.html#91325" title="scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" id="101344">++</a> <a href="#101283" title="scales.xml.package.ItemOrElem*">itemOrElems</a> <span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * sets the tree to a single Text node child, replacing all others
   */</span>
  <span class="keyword">def</span> <a title="(value: String)scales.xml.DslBuilder" id="94701">~&gt;</a><span class="delimiter">(</span> <a title="String" id="101654">value</a> : <span title="String">String</span> <span class="delimiter">)</span> : <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a> = <span class="comment">// note ~&gt; is used not -&gt; as it will then get in the way of the tupler</span>
    <span title="scales.xml.DslBuilder" class="keyword">if</span> <span class="delimiter">(</span><a href="#101654" title="String">value</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
      <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#90074" title="scales.xml.Elem" id="101704">copy</a><span class="delimiter">(</span>children = <a href="XmlTypesDefaults.scala.html#15842" title="=&gt; scales.utils.ImmutableArrayProxy[scales.utils.EitherLike[scales.xml.XmlItem,scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">emptyChildren</a> <a href="XmlTypesDefaults.scala.html#91325" title="scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" id="101703">:+</a> <a href="../utils/package.scala.html#15435" title="[Item &lt;: scales.utils.LeftLike[Item,scales.utils.Tree[Item,Section,CC]], Section, CC[X] &lt;: scala.collection.IndexedSeqLike[X,CC[X]]](item: Item)scales.utils.package.ItemOrTree[Item,Section,CC]">item</a><span title="(item: scales.xml.XmlItem)scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" class="delimiter">[</span><a href="XmlTypes.scala.html#12876" title="scales.xml.XmlItem">XmlItem</a>, <a href="XmlTypes.scala.html#12342" title="scales.xml.Elem">Elem</a>, <a href="../utils/ImmutableArray.scala.html#10533" title="scales.xml.package.XCC">XCC</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="XmlTypes.scala.html#96668" title="(value: String)scales.xml.Text">Text</a><span class="delimiter">(</span><a href="#101654" title="String">value</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#12285" title="scales.xml.DslBuilder" class="keyword">this</a>
    
  <span class="comment">/**
   * see ~&gt;
   */</span> 
  <span class="keyword">def</span> <a title="(value: String)scales.xml.DslBuilder" id="94702">setValue</a><span class="delimiter">(</span> <a title="String" id="101705">value</a> : <span title="String">String</span> <span class="delimiter">)</span> = <a href="#94701" title="(value: String)scales.xml.DslBuilder">~&gt;</a><span class="delimiter">(</span><a href="#101705" title="String">value</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Optionally sets the tree to a single Text node child, replacing all others, None will not change the current node.
   * 
   * {{{
   *    &lt;(Elem(&quot;root&quot;l)) ~&gt; None
   * }}}
   *
   * would leave an empty &lt;root/&gt;
   */</span>
  <span class="keyword">def</span> <a title="(value: Option[String])scales.xml.DslBuilder" id="94703">~&gt;</a><span class="delimiter">(</span> <a title="Option[String]" id="101712">value</a> : <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> <span class="delimiter">)</span> : <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a> = 
    <a href="#101712" title="Option[String]">value</a>.<span title="(f: String =&gt; scales.xml.DslBuilder)Option[scales.xml.DslBuilder]">map</span><span class="delimiter">{</span> <a title="String" id="101720">v</a> =&gt;
      <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span> <a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#90074" title="scales.xml.Elem" id="101758">copy</a><span class="delimiter">(</span>children = <a href="XmlTypesDefaults.scala.html#15842" title="=&gt; scales.utils.ImmutableArrayProxy[scales.utils.EitherLike[scales.xml.XmlItem,scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,[T]scales.utils.ImmutableArrayProxy[T]]]]">emptyChildren</a> <a href="XmlTypesDefaults.scala.html#91325" title="scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" id="101757">:+</a> <a href="../utils/package.scala.html#15435" title="[Item &lt;: scales.utils.LeftLike[Item,scales.utils.Tree[Item,Section,CC]], Section, CC[X] &lt;: scala.collection.IndexedSeqLike[X,CC[X]]](item: Item)scales.utils.package.ItemOrTree[Item,Section,CC]">item</a><span title="(item: scales.xml.XmlItem)scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" class="delimiter">[</span><a href="XmlTypes.scala.html#12876" title="scales.xml.XmlItem">XmlItem</a>, <a href="XmlTypes.scala.html#12342" title="scales.xml.Elem">Elem</a>, <a href="../utils/ImmutableArray.scala.html#10533" title="scales.xml.package.XCC">XCC</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="XmlTypes.scala.html#96668" title="(value: String)scales.xml.Text">Text</a><span class="delimiter">(</span><a href="#101720" title="String">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
	    <span class="delimiter">}</span>.<span title="(default: =&gt; scales.xml.DslBuilder)scales.xml.DslBuilder">getOrElse</span><span class="delimiter">{</span><a href="#12285" title="scales.xml.DslBuilder" class="keyword">this</a><span class="delimiter">}</span>

  <span class="comment">/**
   * see ~&gt; Option[String]
   */</span>
  <span class="keyword">def</span> <a title="(value: Option[String])scales.xml.DslBuilder" id="94704">setValue</a><span class="delimiter">(</span> <a title="Option[String]" id="101763">value</a> : <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> <span class="delimiter">)</span> = <a href="#94703" title="(value: Option[String])scales.xml.DslBuilder">~&gt;</a><span class="delimiter">(</span><a href="#101763" title="Option[String]">value</a><span class="delimiter">)</span>
  
  <span class="comment">/**
   * Cleans out any child text nodes (comments, cdata etc) and just leaves child elements
   */</span>
  <span class="keyword">def</span> <a title="=&gt; scales.xml.DslBuilder" id="94705">elementsOnly</a> = <span title="scales.xml.DslBuilder" class="keyword">new</span> <a href="#12285" title="scales.xml.DslBuilder">DslBuilder</a><span class="delimiter">(</span><a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#90074" title="scales.xml.Elem" id="101793">copy</a><span class="delimiter">(</span>children = <a href="#94707" title="scales.xml.package.XmlTree">tree</a>.<a href="../utils/Trees.scala.html#83053" title="=&gt; scales.xml.package.XCC[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">children</a>.<span title="(p: scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC] =&gt; Boolean)scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]">filter</span><a title="scales.utils.ImmutableArrayProxy[scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]]" id="101792" class="delimiter">(</a> <a href="#101780" title="scales.utils.package.ItemOrTree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]">_</a>.<a href="../utils/EitherLike.scala.html#44392" title="(fl: scales.xml.XmlItem =&gt; Boolean, fr: scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC] =&gt; Boolean)Boolean">fold</a><span class="delimiter">(</span> <a title="scales.xml.XmlItem" id="101787">_</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>, <a title="scales.utils.Tree[scales.xml.XmlItem,scales.xml.Elem,scales.xml.package.XCC]" id="101789">_</a> =&gt; <span title="Boolean(true)" class="keyword">true</span> <span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; scales.xml.package.XmlTree" id="94706">toTree</a> = <a href="#94707" title="scales.xml.package.XmlTree">tree</a>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>