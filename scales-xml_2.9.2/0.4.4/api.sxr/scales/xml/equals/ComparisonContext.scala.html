<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scales\xml\equals\ComparisonContext.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scales.xml.equals

<span class="keyword">import</span> scales.xml.<span class="delimiter">{</span>PullType, QName, Elem, Attribs, Attributes, Attribute, XmlItem, XmlPath, EndElem, XCC, NamespaceContext, Misc, Miscs<span class="delimiter">}</span>

<span class="keyword">import</span> scala.collection.immutable.<span class="delimiter">{</span> Stack, Map <span class="delimiter">}</span>

<span class="keyword">import</span> <a href="XmlEquals.scala.html#13223" title="object scales.xml.equals.BasicPaths">BasicPaths</a>._

<span class="comment">/**
 * ComparisonContext represents both the path to a given comparison and the namespace declarations which are relevant for it.
 *
 * @param streamPosition is incremented for each processed item in the stream, allowing a simple take to get the difference in terms of the stream, the developer can then use this with toDifferenceAsStream to capture the difference. It is only provided when a difference is found within a stream and not during the difference analysis.
 */</span>
<span class="keyword">class</span> <a title="class ComparisonContext extends java.lang.Object with ScalaObject" id="13231">ComparisonContext</a> <a href="#13231" title="ScalaObject" class="keyword">private</a> <span class="delimiter">(</span><span class="keyword">private</span> <span class="keyword">val</span> <a title="scales.xml.NamespaceContext" id="112235">lnc</a> : <a href="../XmlPrinterTypes.scala.html#12438" title="scales.xml.NamespaceContext">NamespaceContext</a> = <span title="Null(null)" class="keyword">null</span>, 
				 <span class="keyword">private</span> <span class="keyword">val</span> <a title="scales.xml.NamespaceContext" id="112236">rnc</a> : <a href="../XmlPrinterTypes.scala.html#12438" title="scales.xml.NamespaceContext">NamespaceContext</a> = <span title="Null(null)" class="keyword">null</span>, 
	 <span class="keyword">val</span> <a title="scales.xml.equals.BasicPaths.BasicPath" id="112224">path</a> : <span title="scales.xml.equals.BasicPaths.BasicPath">BasicPath</span>, <span class="keyword">private</span> <span class="keyword">val</span> <a title="scales.xml.equals.ComparisonContext" id="112237">parent</a> : <a href="#13231" title="scales.xml.equals.ComparisonContext">ComparisonContext</a> = <span title="Null(null)" class="keyword">null</span>, <span class="keyword">val</span> <a title="Int" id="112238">streamPosition</a> : <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(newStreamPosition: Int)scales.xml.equals.ComparisonContext" id="112205">withPosition</a><span class="delimiter">(</span> <a title="Int" id="112239">newStreamPosition</a> : <span title="Int">Int</span> <span class="delimiter">)</span> = 
    <span title="scales.xml.equals.ComparisonContext" class="keyword">new</span> <a href="#13231" title="scales.xml.equals.ComparisonContext">ComparisonContext</a><span class="delimiter">(</span><a href="#112235" title="=&gt; scales.xml.NamespaceContext">lnc</a>, <a href="#112236" title="=&gt; scales.xml.NamespaceContext">rnc</a>, <a href="#112224" title="=&gt; scales.xml.equals.BasicPaths.BasicPath">path</a>, <a href="#112237" title="=&gt; scales.xml.equals.ComparisonContext">parent</a>, <a href="#112239" title="Int">newStreamPosition</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Provides a stream for the given T up to the difference represented by this context.  Callers are responsible for handling any IO handles or capturing an original stream.
   */</span>
  <span class="keyword">def</span> <a title="[T](t: T, filter: Iterator[scales.xml.package.PullType] =&gt; Iterator[scales.xml.package.PullType])(implicit tv: T =&gt; scales.xml.equals.StreamComparable[T])Stream[scales.xml.package.PullType]" id="112206">toDifferenceAsStream</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="112248">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="112242">t</a> : <a href="#112248" title="T">T</a>, <a title="Iterator[scales.xml.package.PullType] =&gt; Iterator[scales.xml.package.PullType]" id="112246">filter</a> : Iterator<span class="delimiter">[</span>PullType<span class="delimiter">]</span> =&gt; Iterator<span class="delimiter">[</span>PullType<span class="delimiter">]</span> = <a href="LogicalComparisons.scala.html#13484" title="object scales.xml.equals.LogicalFilters">LogicalFilters</a>.<a href="LogicalComparisons.scala.html#112255" title="(it: Iterator[scales.xml.package.PullType])Iterator[scales.xml.package.PullType]">joinTextAndCData</a><span class="delimiter">(</span><a href="#112253" title="Iterator[scales.xml.package.PullType]">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="T =&gt; scales.xml.equals.StreamComparable[T]" id="112244">tv</a> : T =&gt; StreamComparable<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> : <span title="Stream[scales.xml.package.PullType]">Stream</span><span class="delimiter">[</span>PullType<span class="delimiter">]</span> = <a href="#112246" title="(v1: Iterator[scales.xml.package.PullType])Iterator[scales.xml.package.PullType]">filter</a><span class="delimiter">(</span> <a href="#112244" title="(v1: T)scales.xml.equals.StreamComparable[T]">tv</a><span class="delimiter">(</span><a href="#112242" title="T">t</a><span class="delimiter">)</span>.<a href="StreamAndDocComparisons.scala.html#94201" title="=&gt; Iterator[scales.xml.package.PullType]">underlyingIterator</a> <span class="delimiter">)</span>.<span title="(n: Int)Iterator[scales.xml.package.PullType]">take</span><span class="delimiter">(</span><a href="#112238" title="=&gt; Int">streamPosition</a><span class="delimiter">)</span>.<span title="=&gt; scala.collection.immutable.Stream[scales.xml.package.PullType]">toStream</span>

  <span class="keyword">import</span> <a href="#13232" title="object scales.xml.equals.ComparisonContext">ComparisonContext</a>.emptyWithDefault

  <span class="keyword">def</span> <a title="=&gt; Option[scales.xml.NamespaceContext]" id="112210">leftNamespaceContext</a> : <span title="Option[scales.xml.NamespaceContext]">Option</span><span class="delimiter">[</span>NamespaceContext<span class="delimiter">]</span> = 
    <span title="(x: scales.xml.NamespaceContext)Option[scales.xml.NamespaceContext]">Option</span><span class="delimiter">(</span><a href="#112235" title="=&gt; scales.xml.NamespaceContext">lnc</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; Option[scales.xml.NamespaceContext]" id="112211">rightNamespaceContext</a> : <span title="Option[scales.xml.NamespaceContext]">Option</span><span class="delimiter">[</span>NamespaceContext<span class="delimiter">]</span> = 
    <span title="(x: scales.xml.NamespaceContext)Option[scales.xml.NamespaceContext]">Option</span><span class="delimiter">(</span><a href="#112236" title="=&gt; scales.xml.NamespaceContext">rnc</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Pushes a new elem on the stack, modifying the parents counts as it goes
   */</span> 
  <span class="keyword">def</span> <a title="(leftElem: scales.xml.Elem, rightElem: scales.xml.Elem)scales.xml.equals.ComparisonContext" id="112212">startElems</a><span class="delimiter">(</span> <a title="scales.xml.Elem" id="112275">leftElem</a> : <a href="../XmlTypes.scala.html#12342" title="scales.xml.Elem">Elem</a>, <a title="scales.xml.Elem" id="112276">rightElem</a> : <a href="../XmlTypes.scala.html#12342" title="scales.xml.Elem">Elem</a> <span class="delimiter">)</span> : <a href="#13231" title="scales.xml.equals.ComparisonContext">ComparisonContext</a> = 
    <a href="#112238" title="scales.xml.equals.ComparisonContext" class="keyword">new</a> <a href="#13231" title="scales.xml.equals.ComparisonContext">ComparisonContext</a><span class="delimiter">(</span>
      <a href="../package.scala.html#12469" title="object scales.xml.package">scales</a>.xml.<a href="../XmlPrinter.scala.html#15910" title="(x: scales.xml.Elem, currentMappings: scala.collection.immutable.Map[String,String])scales.xml.NamespaceContext">doElement</a><span class="delimiter">(</span><a href="#112275" title="scales.xml.Elem">leftElem</a>, 
			   <span title="scala.collection.immutable.Map[String,String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#112235" title="=&gt; scales.xml.NamespaceContext">lnc</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> 
			     <a href="#112228" title="=&gt; scala.collection.immutable.Map[java.lang.String,java.lang.String]">emptyWithDefault</a>
			   <span class="keyword">else</span>
			     <a href="#112235" title="=&gt; scales.xml.NamespaceContext">lnc</a>.<a href="../XmlPrinterTypes.scala.html#105335" title="=&gt; scala.collection.immutable.Map[String,String]">mappings</a><span class="delimiter">)</span>
    , <a href="../package.scala.html#12469" title="object scales.xml.package">scales</a>.xml.<a href="../XmlPrinter.scala.html#15910" title="(x: scales.xml.Elem, currentMappings: scala.collection.immutable.Map[String,String])scales.xml.NamespaceContext">doElement</a><span class="delimiter">(</span><a href="#112276" title="scales.xml.Elem">rightElem</a>, 
			   <span title="scala.collection.immutable.Map[String,String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#112236" title="=&gt; scales.xml.NamespaceContext">rnc</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> 
			     <a href="#112228" title="=&gt; scala.collection.immutable.Map[java.lang.String,java.lang.String]">emptyWithDefault</a>
			   <span class="keyword">else</span>
			     <a href="#112236" title="=&gt; scales.xml.NamespaceContext">rnc</a>.<a href="../XmlPrinterTypes.scala.html#105335" title="=&gt; scala.collection.immutable.Map[String,String]">mappings</a><span class="delimiter">)</span>
    , <span title="scales.xml.equals.BasicPaths.BasicPath" class="keyword">if</span> <span class="delimiter">(</span><a href="#112224" title="=&gt; scales.xml.equals.BasicPaths.BasicPath">path</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
	<a href="../../utils/package.scala.html#11065" title="object scales.utils.package">scales</a>.utils.<a href="../../utils/package.scala.html#15449" title="(i: (scales.xml.QName, scala.collection.immutable.Map[String,Int]))List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]">one</a><span class="delimiter">(</span><span title="(_1: scales.xml.QName, _2: scala.collection.immutable.Map[String,Int])(scales.xml.QName, scala.collection.immutable.Map[String,Int])" class="delimiter">(</span><a href="#112275" title="scales.xml.Elem">leftElem</a>.<a href="../XmlTypes.scala.html#91283" title="=&gt; scales.xml.QName">name</a>, <span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (String, Int)*)scala.collection.immutable.Map[String,Int]" class="delimiter">[</span><span title="String">String</span>, <span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
	<span class="keyword">val</span> <a title="scales.xml.QName" id="112315">qname</a> = <a href="#112275" title="scales.xml.Elem">leftElem</a>.<a href="../XmlTypes.scala.html#91283" title="=&gt; scales.xml.QName">name</a>

	<span class="keyword">val</span> <span class="delimiter">(</span><a href="#112316" title="(scales.xml.QName, scala.collection.immutable.Map[String,Int])" id="112317">h</a> <a href="#112317" title="((scales.xml.QName, scala.collection.immutable.Map[String,Int]), List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])])">::</a> <a href="#112316" title="List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]" id="112318">r</a><span class="delimiter">)</span> = <a href="#112224" title="=&gt; scales.xml.equals.BasicPaths.BasicPath">path</a>
	<span class="keyword">val</span> <a title="java.lang.String" id="112319">qn</a> = <a href="#112315" title="scales.xml.QName">qname</a>.<a href="../QName.scala.html#90874" title="=&gt; java.lang.String">qualifiedName</a>
	<span class="keyword">val</span> <a title="Int" id="112320">count</a> = <a href="#112317" title="(scales.xml.QName, scala.collection.immutable.Map[String,Int])">h</a>.<span title="=&gt; scala.collection.immutable.Map[String,Int]">_2</span>.<span title="(key: String)Option[Int]">get</span><span class="delimiter">(</span><a href="#112319" title="java.lang.String">qn</a><span class="delimiter">)</span>.<span title="(default: =&gt; Int)Int">getOrElse</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
	<span title="(_1: scales.xml.QName, _2: scala.collection.immutable.Map[String,Int])(scales.xml.QName, scala.collection.immutable.Map[String,Int])" class="delimiter">(</span><a href="#112315" title="scales.xml.QName">qname</a>, <span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (String, Int)*)scala.collection.immutable.Map[String,Int]" class="delimiter">[</span><span title="String">String</span>, <span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#112399" title="(x: (scales.xml.QName, scala.collection.immutable.Map[String,Int]))List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]">::</a> 
	<span title="(_1: scales.xml.QName, _2: scala.collection.immutable.Map[String,Int])(scales.xml.QName, scala.collection.immutable.Map[String,Int])" class="delimiter">(</span><a href="#112317" title="(scales.xml.QName, scala.collection.immutable.Map[String,Int])">h</a>.<span title="=&gt; scales.xml.QName">_1</span>, <a href="#112317" title="(scales.xml.QName, scala.collection.immutable.Map[String,Int])">h</a>.<span title="=&gt; scala.collection.immutable.Map[String,Int]">_2</span>.<span title="(key: String, value: Int)scala.collection.immutable.Map[String,Int]">updated</span><span class="delimiter">(</span><a href="#112319" title="java.lang.String">qn</a>, <a href="#112320" title="Int">count</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#112407" title="(x: (scales.xml.QName, scala.collection.immutable.Map[String,Int]))List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]">::</a> <a href="#112318" title="List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]">r</a>
      <span class="delimiter">}</span>
    , <a href="#13231" title="scales.xml.equals.ComparisonContext" class="keyword">this</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Produces an XPath like string.  Make this a full one?
   */</span> 
  <span class="keyword">def</span> <a title="=&gt; String" id="112213">pathString</a> : <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="java.lang.String" id="112456">str</a> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
    <span class="keyword">var</span> <a title="scales.xml.equals.BasicPaths.BasicPath" id="112457">l</a> = <a href="#112224" title="=&gt; scales.xml.equals.BasicPaths.BasicPath">path</a><span class="comment">//.reverse</span>
    <span title="Unit" class="keyword">while</span><span class="delimiter">(</span> <span title="=&gt; Boolean">!</span> <a href="#112457" title="scales.xml.equals.BasicPaths.BasicPath">l</a>.<span title="=&gt; Boolean">isEmpty</span> <span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#112463" title="(scales.xml.QName, scala.collection.immutable.Map[String,Int])" id="112464">head</a> <a href="#112464" title="((scales.xml.QName, scala.collection.immutable.Map[String,Int]), List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])])">::</a> <a href="#112463" title="List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]" id="112465">tail</a> = <a href="#112457" title="scales.xml.equals.BasicPaths.BasicPath">l</a>
      <a href="#112457" title="scales.xml.equals.BasicPaths.BasicPath">l</a> = <a href="#112465" title="List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]">tail</a>

      <span class="keyword">val</span> <a title="java.lang.String" id="112466">qn</a> = <a href="#112464" title="(scales.xml.QName, scala.collection.immutable.Map[String,Int])">head</a>.<span title="=&gt; scales.xml.QName">_1</span>.<a href="../QName.scala.html#90874" title="=&gt; java.lang.String">qualifiedName</a>
      <span class="keyword">val</span> <a title="Int" id="112467">count</a> =
	<span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#112465" title="List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]">tail</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> 
	<span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a href="#112480" title="(scales.xml.QName, scala.collection.immutable.Map[String,Int])" id="112481">nhead</a> <a href="#112481" title="((scales.xml.QName, scala.collection.immutable.Map[String,Int]), List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])])">::</a> <a href="#112480" title="List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]" id="112482">rest</a> = <a href="#112465" title="List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]">tail</a>
	  <a href="#112481" title="(scales.xml.QName, scala.collection.immutable.Map[String,Int])">nhead</a>.<span title="(key: String)Int">_2</span><span class="delimiter">(</span><a href="#112466" title="java.lang.String">qn</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
      
      <a href="#112456" title="java.lang.String">str</a> = <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#112466" title="java.lang.String">qn</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#112467" title="Int">count</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#112456" title="java.lang.String">str</a>
    <span class="delimiter">}</span>
    <a href="#112456" title="java.lang.String">str</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * path.tail, pops the head off as it moves up, counts are not changed
   */</span> 
  <span class="keyword">def</span> <a title="=&gt; scales.xml.equals.ComparisonContext" id="112214">endElem</a> : <a href="#13231" title="scales.xml.equals.ComparisonContext">ComparisonContext</a> = 
    <span title="scales.xml.equals.ComparisonContext" class="keyword">if</span> <span class="delimiter">(</span><a href="#112237" title="=&gt; scales.xml.equals.ComparisonContext">parent</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> 
      <span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot call endElem on a root context&quot;)" class="string">&quot;Cannot call endElem on a root context&quot;</span><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <span class="comment">// the path's count must be kept, everything else should come from the </span>
      <span class="comment">// parent</span>
      <a href="#112238" title="scales.xml.equals.ComparisonContext" class="keyword">new</a> <a href="#13231" title="scales.xml.equals.ComparisonContext">ComparisonContext</a><span class="delimiter">(</span><a href="#112237" title="=&gt; scales.xml.equals.ComparisonContext">parent</a>.<a href="#112235" title="=&gt; scales.xml.NamespaceContext">lnc</a>, <a href="#112237" title="=&gt; scales.xml.equals.ComparisonContext">parent</a>.<a href="#112236" title="=&gt; scales.xml.NamespaceContext">rnc</a>, <a href="#112224" title="=&gt; scales.xml.equals.BasicPaths.BasicPath">path</a>.<span title="=&gt; List[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]">tail</span>, <a href="#112237" title="=&gt; scales.xml.equals.ComparisonContext">parent</a>.<a href="#112237" title="=&gt; scales.xml.equals.ComparisonContext">parent</a><span class="delimiter">)</span>
  
  <span class="keyword">def</span> <a title="=&gt; Option[scales.xml.equals.ComparisonContext]" id="112215">parentContext</a> : <span title="Option[scales.xml.equals.ComparisonContext]">Option</span><span class="delimiter">[</span>ComparisonContext<span class="delimiter">]</span> = 
    <span title="(x: scales.xml.equals.ComparisonContext)Option[scales.xml.equals.ComparisonContext]">Option</span><span class="delimiter">(</span><a href="#112237" title="=&gt; scales.xml.equals.ComparisonContext">parent</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object scales.xml.equals.ComparisonContext" id="13232">ComparisonContext</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">protected</span><span class="delimiter">[</span>xml<span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Map[java.lang.String,java.lang.String]" id="112228">emptyWithDefault</a> = <span title="(elems: (java.lang.String, java.lang.String)*)scala.collection.immutable.Map[java.lang.String,java.lang.String]">Map</span><span class="delimiter">(</span><span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;&quot;</span><span title="(y: java.lang.String)(java.lang.String, java.lang.String)">-&gt;</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Creates a new context with the given starting path
   */</span> 
  <span class="keyword">def</span> <a title="(path: scales.xml.equals.BasicPaths.BasicPath)scales.xml.equals.ComparisonContext" id="112230">apply</a><span class="delimiter">(</span><a title="scales.xml.equals.BasicPaths.BasicPath" id="112531">path</a> : <span title="scales.xml.equals.BasicPaths.BasicPath">BasicPath</span><span class="delimiter">)</span> : <a href="#13231" title="scales.xml.equals.ComparisonContext">ComparisonContext</a> =
    <a href="#112238" title="scales.xml.equals.ComparisonContext" class="keyword">new</a> <a href="#13231" title="scales.xml.equals.ComparisonContext">ComparisonContext</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span>, <a href="#112531" title="scales.xml.equals.BasicPaths.BasicPath">path</a>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="()scales.xml.equals.ComparisonContext" id="112231">apply</a><span class="delimiter">(</span><span class="delimiter">)</span> : <a href="#13231" title="scales.xml.equals.ComparisonContext">ComparisonContext</a> =
    <a href="#112238" title="scales.xml.equals.ComparisonContext" class="keyword">new</a> <a href="#13231" title="scales.xml.equals.ComparisonContext">ComparisonContext</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span>, <span title="object Nil">Nil</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="scales.xml.equals.ComparisonContext" id="112232">empty</a> = <a href="#112231" title="()scales.xml.equals.ComparisonContext">apply</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(c: scales.xml.equals.ComparisonContext)Option[(Option[scales.xml.NamespaceContext], Option[scales.xml.NamespaceContext], scales.xml.equals.BasicPaths.BasicPath, Option[scales.xml.equals.ComparisonContext])]" id="112234">unapply</a><span class="delimiter">(</span> <a title="scales.xml.equals.ComparisonContext" id="112533">c</a> : <a href="#13231" title="scales.xml.equals.ComparisonContext">ComparisonContext</a> <span class="delimiter">)</span> : <span title="Option[(Option[scales.xml.NamespaceContext], Option[scales.xml.NamespaceContext], scales.xml.equals.BasicPaths.BasicPath, Option[scales.xml.equals.ComparisonContext])]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>Option<span class="delimiter">[</span>NamespaceContext<span class="delimiter">]</span>, Option<span class="delimiter">[</span>NamespaceContext<span class="delimiter">]</span>, BasicPath, Option<span class="delimiter">[</span>ComparisonContext<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = 
    <span title="(x: (Option[scales.xml.NamespaceContext], Option[scales.xml.NamespaceContext], scales.xml.equals.BasicPaths.BasicPath, Option[scales.xml.equals.ComparisonContext]))Some[(Option[scales.xml.NamespaceContext], Option[scales.xml.NamespaceContext], scales.xml.equals.BasicPaths.BasicPath, Option[scales.xml.equals.ComparisonContext])]">Some</span><span title="(_1: Option[scales.xml.NamespaceContext], _2: Option[scales.xml.NamespaceContext], _3: scales.xml.equals.BasicPaths.BasicPath, _4: Option[scales.xml.equals.ComparisonContext])(Option[scales.xml.NamespaceContext], Option[scales.xml.NamespaceContext], scales.xml.equals.BasicPaths.BasicPath, Option[scales.xml.equals.ComparisonContext])" class="delimiter">(</span><a href="#112533" title="scales.xml.equals.ComparisonContext">c</a>.<a href="#112210" title="=&gt; Option[scales.xml.NamespaceContext]">leftNamespaceContext</a>, <a href="#112533" title="scales.xml.equals.ComparisonContext">c</a>.<a href="#112211" title="=&gt; Option[scales.xml.NamespaceContext]">rightNamespaceContext</a>, <a href="#112533" title="scales.xml.equals.ComparisonContext">c</a>.<a href="#112224" title="=&gt; scales.xml.equals.BasicPaths.BasicPath">path</a>,
	 <a href="#112533" title="scales.xml.equals.ComparisonContext">c</a>.<a href="#112215" title="=&gt; Option[scales.xml.equals.ComparisonContext]">parentContext</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Provides an immplicit to easily access the head QName in a path
 */</span> 
<span class="keyword">trait</span> <a title="trait ComparisonContextImplicits extends java.lang.Object with ScalaObject" id="13243">ComparisonContextImplicits</a> <span title="ScalaObject" class="delimiter">{</span>
  
  <span class="keyword">implicit</span> <span class="keyword">object</span> <a title="object ComparisonContextImplicits.this.BasicPathNames" id="91509">BasicPathNames</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../xpath/Functions.scala.html#15069" title="scales.xml.xpath.Names[scales.xml.equals.BasicPaths.BasicPath]">scales</a>.xml.xpath.Names<span class="delimiter">[</span>BasicPath<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(implicit t: scales.xml.equals.BasicPaths.BasicPath)Option[scales.xml.QName]" id="94177">name</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.equals.BasicPaths.BasicPath" id="112577">t</a> : <span title="scales.xml.equals.BasicPaths.BasicPath">BasicPath</span><span class="delimiter">)</span> : <span title="Option[scales.xml.QName]">Option</span><span class="delimiter">[</span>scales.xml.QName<span class="delimiter">]</span> = 
      <a href="#112577" title="scales.xml.equals.BasicPaths.BasicPath">t</a>.<span title="=&gt; Option[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]">headOption</span>.<span title="(f: ((scales.xml.QName, scala.collection.immutable.Map[String,Int])) =&gt; scales.xml.QName)Option[scales.xml.QName]">map</span><span class="delimiter">(</span> <a href="#112586" title="(scales.xml.QName, scala.collection.immutable.Map[String,Int])">_</a>.<span title="=&gt; scales.xml.QName">_1</span> <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">object</span> <a title="object ComparisonContextImplicits.this.ComparisonContextNames" id="91511">ComparisonContextNames</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../xpath/Functions.scala.html#15069" title="scales.xml.xpath.Names[scales.xml.equals.ComparisonContext]">scales</a>.xml.xpath.Names<span class="delimiter">[</span>ComparisonContext<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(implicit t: scales.xml.equals.ComparisonContext)Option[scales.xml.QName]" id="94175">name</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scales.xml.equals.ComparisonContext" id="112589">t</a> : <a href="#13231" title="scales.xml.equals.ComparisonContext">ComparisonContext</a><span class="delimiter">)</span> : <span title="Option[scales.xml.QName]">Option</span><span class="delimiter">[</span>scales.xml.QName<span class="delimiter">]</span> = 
      <a href="#112589" title="scales.xml.equals.ComparisonContext">t</a>.<a href="#112224" title="=&gt; scales.xml.equals.BasicPaths.BasicPath">path</a>.<span title="=&gt; Option[(scales.xml.QName, scala.collection.immutable.Map[String,Int])]">headOption</span>.<span title="(f: ((scales.xml.QName, scala.collection.immutable.Map[String,Int])) =&gt; scales.xml.QName)Option[scales.xml.QName]">map</span><span class="delimiter">(</span> <a href="#112595" title="(scales.xml.QName, scala.collection.immutable.Map[String,Int])">_</a>.<span title="=&gt; scales.xml.QName">_1</span> <span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>